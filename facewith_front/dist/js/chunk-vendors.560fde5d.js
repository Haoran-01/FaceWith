(self["webpackChunkfacewith_front"]=self["webpackChunkfacewith_front"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),i=n(6330),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},5787:function(e,t,n){var r=n(7976),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,i,o,a=n(3013),l=n(9781),u=n(7854),c=n(614),s=n(111),d=n(2597),f=n(648),p=n(6330),v=n(8880),h=n(8052),m=n(3070).f,g=n(7976),y=n(9518),b=n(7674),_=n(5112),w=n(9711),S=n(9909),O=S.enforce,k=S.get,C=u.Int8Array,x=C&&C.prototype,P=u.Uint8ClampedArray,E=P&&P.prototype,T=C&&y(C),I=x&&y(x),D=Object.prototype,j=u.TypeError,R=_("toStringTag"),A=w("TYPED_ARRAY_TAG"),F="TypedArrayConstructor",M=a&&!!b&&"Opera"!==f(u.opera),N=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},V=function(e){if(!s(e))return!1;var t=f(e);return"DataView"===t||d(L,t)||d(W,t)},B=function(e){var t=y(e);if(s(t)){var n=k(t);return n&&d(n,F)?n[F]:B(t)}},U=function(e){if(!s(e))return!1;var t=f(e);return d(L,t)||d(W,t)},H=function(e){if(U(e))return e;throw j("Target is not a typed array")},z=function(e){if(c(e)&&(!b||g(T,e)))return e;throw j(p(e)+" is not a typed array constructor")},Z=function(e,t,n,r){if(l){if(n)for(var i in L){var o=u[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(c){}}}I[e]&&!n||h(I,e,n?t:M&&x[e]||t,r)}},K=function(e,t,n){var r,i;if(l){if(b){if(n)for(r in L)if(i=u[r],i&&d(i,e))try{delete i[e]}catch(o){}if(T[e]&&!n)return;try{return h(T,e,n?t:M&&T[e]||t)}catch(o){}}for(r in L)i=u[r],!i||i[e]&&!n||h(i,e,t)}};for(r in L)i=u[r],o=i&&i.prototype,o?O(o)[F]=i:M=!1;for(r in W)i=u[r],o=i&&i.prototype,o&&(O(o)[F]=i);if((!M||!c(T)||T===Function.prototype)&&(T=function(){throw j("Incorrect invocation")},M))for(r in L)u[r]&&b(u[r],T);if((!M||!I||I===D)&&(I=T.prototype,M))for(r in L)u[r]&&b(u[r].prototype,I);if(M&&y(E)!==I&&b(E,I),l&&!d(I,R))for(r in N=!0,m(I,R,{get:function(){return s(this)?this[A]:void 0}}),L)u[r]&&v(u[r],A,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:N&&A,aTypedArray:H,aTypedArrayConstructor:z,exportTypedArrayMethod:Z,exportTypedArrayStaticMethod:K,getTypedArrayConstructor:B,isView:V,isTypedArray:U,TypedArray:T,TypedArrayPrototype:I}},1318:function(e,t,n){var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var l,u=r(t),c=o(u),s=i(a,c);if(e&&n!=n){while(c>s)if(l=u[s++],l!=l)return!0}else for(;c>s;s++)if((e||s in u)&&u[s]===n)return e||s||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9671:function(e,t,n){var r=n(9974),i=n(8361),o=n(7908),a=n(6244),l=function(e){var t=1==e;return function(n,l,u){var c,s,d=o(n),f=i(d),p=r(l,u),v=a(f);while(v-- >0)if(c=f[v],s=p(c,v,d),s)switch(e){case 0:return c;case 1:return v}return t?-1:void 0}};e.exports={findLast:l(0),findLastIndex:l(1)}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:function(e,t,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112),l=a("toStringTag"),u=Object,c="Arguments"==o(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=u(e),l))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},9920:function(e,t,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var l=i(t),u=a.f,c=o.f,s=0;s<l.length;s++){var d=l[s];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var r=n(6339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},8052:function(e,t,n){var r=n(614),i=n(3070),o=n(6339),a=n(3072);e.exports=function(e,t,n,l){l||(l={});var u=l.enumerable,c=void 0!==l.name?l.name:t;if(r(n)&&o(n,c,l),l.global)u?e[t]=n:a(t,n);else{try{l.unsafe?e[t]&&(u=!0):delete e[t]}catch(s){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,o=n(7854),a=n(8113),l=o.process,u=o.Deno,c=l&&l.versions||u&&u.version,s=c&&c.v8;s&&(r=s.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,n){var r=n(1702),i=Error,o=r("".replace),a=function(e){return String(i(e).stack)}("zxcasd"),l=/\n\s*at [^:]*:[^\n]*/,u=l.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,l,"");return e}},2914:function(e,t,n){var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),l=n(3072),u=n(9920),c=n(4705);e.exports=function(e,t){var n,s,d,f,p,v,h=e.target,m=e.global,g=e.stat;if(s=m?r:g?r[h]||l(h,{}):(r[h]||{}).prototype,s)for(d in t){if(p=t[d],e.dontCallGetSet?(v=i(s,d),f=v&&v.value):f=s[d],n=c(m?d:h+(g?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),a(s,d,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(e,t,n){var r=n(1702),i=n(9662),o=n(4374),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,l=i(o,"name"),u=l&&"something"===function(){}.name,c=l&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:l,PROPER:u,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,l=r&&o.bind(a,a);e.exports=r?function(e){return e&&l(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662),i=n(8554);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,n){var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,l=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?l(e,""):a(e)}:a},9587:function(e,t,n){var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,l;return o&&r(a=t.constructor)&&a!==n&&i(l=a.prototype)&&l!==n.prototype&&o(e,l),e}},2788:function(e,t,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},8340:function(e,t,n){var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:function(e,t,n){var r,i,o,a=n(4811),l=n(7854),u=n(1702),c=n(111),s=n(8880),d=n(2597),f=n(5465),p=n(6200),v=n(3501),h="Object already initialized",m=l.TypeError,g=l.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(a||f.state){var _=f.state||(f.state=new g),w=u(_.get),S=u(_.has),O=u(_.set);r=function(e,t){if(S(_,e))throw m(h);return t.facade=e,O(_,e,t),t},i=function(e){return w(_,e)||{}},o=function(e){return S(_,e)}}else{var k=p("state");v[k]=!0,r=function(e,t){if(d(e,k))throw m(h);return t.facade=e,s(e,k,t),t},i=function(e){return d(e,k)?e[k]:{}},o=function(e){return d(e,k)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=u[l(e)];return n==s||n!=c&&(i(t)?r(t):!!t)},l=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",s=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var r=n(614),i="object"==typeof document&&document.all,o="undefined"==typeof i&&void 0!==i;e.exports=o?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),i=n(614),o=n(7976),a=n(4774),l=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,l(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),i=n(614),o=n(2597),a=n(9781),l=n(6530).CONFIGURABLE,u=n(2788),c=n(9909),s=c.enforce,d=c.get,f=Object.defineProperty,p=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),h=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&o(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=s(e);return o(r,"source")||(r.source=v.join("string"==typeof t?t:"")),e};Function.prototype.toString=h((function(){return i(this)&&d(this).source||u(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3070:function(e,t,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),l=n(4948),u=TypeError,c=Object.defineProperty,s=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?o?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=s(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=l(t),a(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),l=n(5656),u=n(4948),c=n(2597),s=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=l(e),t=u(t),s)try{return d(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),l=n(8544),u=a("IE_PROTO"),c=Object,s=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?s:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,l=n(3501),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,s=[];for(n in r)!i(l,n)&&i(r,n)&&u(s,n);while(t.length>c)i(r,n=t[c++])&&(~a(s,n)||u(s,n));return s}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;e.exports=function(e,t){var n,l;if("string"===t&&i(n=e.toString)&&!o(l=r(n,e)))return l;if(i(n=e.valueOf)&&!o(l=r(n,e)))return l;if("string"!==t&&i(n=e.toString)&&!o(l=r(n,e)))return l;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),l=n(9670),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(l(e)),n=a.f;return n?u(t,n(e)):t}},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4488:function(e,t,n){var r=n(8554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.0",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(e,t,n){var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},7593:function(e,t,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),l=n(2140),u=n(5112),c=TypeError,s=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,s);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},1340:function(e,t,n){var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},4774:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,n){var r=n(7854),i=n(614),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5112:function(e,t,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),l=n(6293),u=n(4774),c=i("wks"),s=r.Symbol,d=s&&s["for"],f=u?s:s&&s.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!l&&"string"!=typeof c[e]){var t="Symbol."+e;l&&o(s,e)?c[e]=s[e]:c[e]=u&&d?d(t):f(t)}return c[e]}},9191:function(e,t,n){"use strict";var r=n(5005),i=n(2597),o=n(8880),a=n(7976),l=n(7674),u=n(9920),c=n(2626),s=n(9587),d=n(6277),f=n(8340),p=n(1060),v=n(2914),h=n(9781),m=n(1913);e.exports=function(e,t,n,g){var y="stackTraceLimit",b=g?2:1,_=e.split("."),w=_[_.length-1],S=r.apply(null,_);if(S){var O=S.prototype;if(!m&&i(O,"cause")&&delete O.cause,!n)return S;var k=r("Error"),C=t((function(e,t){var n=d(g?t:e,void 0),r=g?new S(e):new S;return void 0!==n&&o(r,"message",n),v&&o(r,"stack",p(r.stack,2)),this&&a(O,this)&&s(r,this,C),arguments.length>b&&f(r,arguments[b]),r}));if(C.prototype=O,"Error"!==w?l?l(C,k):u(C,k,{name:!0}):h&&y in S&&(c(C,S,y),c(C,S,"prepareStackTrace")),u(C,S),!m)try{O.name!==w&&o(O,"name",w),O.constructor=C}catch(x){}return C}}},1703:function(e,t,n){var r=n(2109),i=n(7854),o=n(2104),a=n(9191),l="WebAssembly",u=i[l],c=7!==Error("e",{cause:7}).cause,s=function(e,t){var n={};n[e]=a(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(u&&u[e]){var n={};n[e]=a(l+"."+e,t,c),r({target:l,stat:!0,constructor:!0,arity:1,forced:c},n)}};s("Error",(function(e){return function(t){return o(e,this,arguments)}})),s("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),s("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),s("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),s("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),s("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),s("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},6314:function(e,t,n){var r=n(2109),i=n(2597);r({target:"Object",stat:!0},{hasOwn:i})},438:function(e,t,n){var r=n(7854),i=n(9781),o=n(7045),a=n(7066),l=n(7293),u=r.RegExp,c=u.prototype,s=i&&l((function(){var e=!0;try{u(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);var l=Object.getOwnPropertyDescriptor(c,"flags").get.call(t);return l!==r||n!==r}));s&&o(c,"flags",{configurable:!0,get:a})},8675:function(e,t,n){"use strict";var r=n(260),i=n(6244),o=n(9303),a=r.aTypedArray,l=r.exportTypedArrayMethod;l("at",(function(e){var t=a(this),n=i(t),r=o(e),l=r>=0?r:n+r;return l<0||l>=n?void 0:t[l]}))},4590:function(e,t,n){"use strict";var r=n(260),i=n(9671).findLastIndex,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3408:function(e,t,n){"use strict";var r=n(260),i=n(9671).findLast,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1118:function(e,t,n){n(4590)},7380:function(e,t,n){n(3408)},2801:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),a=n(9114),l=n(3070).f,u=n(2597),c=n(5787),s=n(9587),d=n(6277),f=n(3678),p=n(1060),v=n(9781),h=n(1913),m="DOMException",g=o("Error"),y=o(m),b=function(){c(this,_);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=g(t);return i.name=m,l(r,"stack",a(1,p(i.stack,1))),s(r,this,b),r},_=b.prototype=y.prototype,w="stack"in g(m),S="stack"in new y(1,2),O=y&&v&&Object.getOwnPropertyDescriptor(i,m),k=!!O&&!(O.writable&&O.configurable),C=w&&!k&&!S;r({global:!0,constructor:!0,forced:h||C},{DOMException:C?b:y});var x=o(m),P=x.prototype;if(P.constructor!==x)for(var E in h||l(P,"constructor",a(1,x)),f)if(u(f,E)){var T=f[E],I=T.s;u(x,I)||l(x,I,a(6,T.c))}},385:function(){},2277:function(){},3588:function(e,t,n){"use strict";n.d(t,{m:function(){return c}});n(1703),"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function i(e,t,n){return n={path:t,exports:{},require:function(e,t){return o(e,void 0===t||null===t?n.path:t)}},e(n,n.exports),n.exports}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var a=i((function(e,t){
/*!
   * clipboard.js v2.0.6
   * https://clipboardjs.com/
   * 
   * Licensed MIT © Zeno Rocha
   */
(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=n},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),i=n(4);function o(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return a(e,t,n);if(r.nodeList(e))return l(e,t,n);if(r.string(e))return u(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function l(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}function u(e,t,n){return i(document.body,e,t,n)}e.exports=o},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},function(e,t,n){var r=n(5);function i(e,t,n,r,i){var o=a.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}function o(e,t,n,r,o){return"function"===typeof e.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}function a(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=o},function(e,t){var n=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}function i(e,t){while(e&&e.nodeType!==n){if("function"===typeof e.matches&&e.matches(t))return e;e=e.parentNode}}e.exports=i},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){l(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"===typeof e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),c=u,s=n(1),d=n.n(s),f=n(2),p=n.n(f),v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e,n){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return y(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===v(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=p()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return _("action",e)}},{key:"defaultTarget",value:function(e){var t=_("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return _("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(d.a);function _(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t["default"]=b}])["default"]}))})),l=r(a);const u={autoSetContainer:!1,appendToBody:!0},c=(e,t="copy")=>new Promise(((n,r)=>{const i=document.createElement("button"),o=new l(i,{text:()=>e,action:()=>t});o.on("success",(e=>{o.destroy(),n(e)})),o.on("error",(e=>{o.destroy(),r(e)})),u.appendToBody&&document.body.appendChild(i),i.click(),u.appendToBody&&document.body.removeChild(i)}))},4870:function(e,t,n){"use strict";n.d(t,{B:function(){return a},BK:function(){return Ze},Bj:function(){return o},EB:function(){return c},Fl:function(){return Je},IU:function(){return De},Jd:function(){return x},PG:function(){return Pe},SU:function(){return Ue},Um:function(){return ke},WL:function(){return ze},X$:function(){return I},X3:function(){return Ie},XI:function(){return We},Xl:function(){return je},dq:function(){return Ne},iH:function(){return Le},j:function(){return E},lk:function(){return P},nZ:function(){return u},qj:function(){return Oe},qq:function(){return S},yT:function(){return Te}});var r=n(7139);let i;class o{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function a(e){return new o(e)}function l(e,t=i){t&&t.active&&t.effects.push(e)}function u(){return i}function c(e){i&&i.cleanups.push(e)}const s=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&g)>0,f=e=>(e.n&g)>0,p=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=g},v=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];d(i)&&!f(i)?i.delete(e):t[n++]=i,i.w&=~g,i.n&=~g}t.length=n}},h=new WeakMap;let m=0,g=1;const y=30;let b;const _=Symbol(""),w=Symbol("");class S{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,l(this,n)}run(){if(!this.active)return this.fn();let e=b,t=k;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,k=!0,g=1<<++m,m<=y?p(this):O(this),this.fn()}finally{m<=y&&v(this),g=1<<--m,b=this.parent,k=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(O(this),this.onStop&&this.onStop(),this.active=!1)}}function O(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let k=!0;const C=[];function x(){C.push(k),k=!1}function P(){const e=C.pop();k=void 0===e||e}function E(e,t,n){if(k&&b){let t=h.get(e);t||h.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=s());const i=void 0;T(r,i)}}function T(e,t){let n=!1;m<=y?f(e)||(e.n|=g,n=!d(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function I(e,t,n,i,o,a){const l=h.get(e);if(!l)return;let u=[];if("clear"===t)u=[...l.values()];else if("length"===n&&(0,r.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=i)&&u.push(e)}));else switch(void 0!==n&&u.push(l.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&u.push(l.get("length")):(u.push(l.get(_)),(0,r._N)(e)&&u.push(l.get(w)));break;case"delete":(0,r.kJ)(e)||(u.push(l.get(_)),(0,r._N)(e)&&u.push(l.get(w)));break;case"set":(0,r._N)(e)&&u.push(l.get(_));break}if(1===u.length)u[0]&&D(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);D(s(e))}}function D(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&j(r,t);for(const r of n)r.computed||j(r,t)}function j(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const R=(0,r.fY)("__proto__,__v_isRef,__isVue"),A=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),F=V(),M=V(!1,!0),N=V(!0),L=W();function W(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=De(this);for(let t=0,i=this.length;t<i;t++)E(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(De)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){x();const n=De(this)[t].apply(this,e);return P(),n}})),e}function V(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&o===(e?t?_e:be:t?ye:ge).get(n))return n;const a=(0,r.kJ)(n);if(!e&&a&&(0,r.RI)(L,i))return Reflect.get(L,i,o);const l=Reflect.get(n,i,o);return((0,r.yk)(i)?A.has(i):R(i))?l:(e||E(n,"get",i),t?l:Ne(l)?a&&(0,r.S0)(i)?l:l.value:(0,r.Kn)(l)?e?Ce(l):Oe(l):l)}}const B=H(),U=H(!0);function H(e=!1){return function(t,n,i,o){let a=t[n];if(Ee(a)&&Ne(a)&&!Ne(i))return!1;if(!e&&(Te(i)||Ee(i)||(a=De(a),i=De(i)),!(0,r.kJ)(t)&&Ne(a)&&!Ne(i)))return a.value=i,!0;const l=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),u=Reflect.set(t,n,i,o);return t===De(o)&&(l?(0,r.aU)(i,a)&&I(t,"set",n,i,a):I(t,"add",n,i)),u}}function z(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&I(e,"delete",t,void 0,i),o}function Z(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&A.has(t)||E(e,"has",t),n}function K(e){return E(e,"iterate",(0,r.kJ)(e)?"length":_),Reflect.ownKeys(e)}const Y={get:F,set:B,deleteProperty:z,has:Z,ownKeys:K},G={get:N,set(e,t){return!0},deleteProperty(e,t){return!0}},$=(0,r.l7)({},Y,{get:M,set:U}),J=e=>e,q=e=>Reflect.getPrototypeOf(e);function X(e,t,n=!1,r=!1){e=e["__v_raw"];const i=De(e),o=De(t);n||(t!==o&&E(i,"get",t),E(i,"get",o));const{has:a}=q(i),l=r?J:n?Ae:Re;return a.call(i,t)?l(e.get(t)):a.call(i,o)?l(e.get(o)):void(e!==i&&e.get(t))}function Q(e,t=!1){const n=this["__v_raw"],r=De(n),i=De(e);return t||(e!==i&&E(r,"has",e),E(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ee(e,t=!1){return e=e["__v_raw"],!t&&E(De(e),"iterate",_),Reflect.get(e,"size",e)}function te(e){e=De(e);const t=De(this),n=q(t),r=n.has.call(t,e);return r||(t.add(e),I(t,"add",e,e)),this}function ne(e,t){t=De(t);const n=De(this),{has:i,get:o}=q(n);let a=i.call(n,e);a||(e=De(e),a=i.call(n,e));const l=o.call(n,e);return n.set(e,t),a?(0,r.aU)(t,l)&&I(n,"set",e,t,l):I(n,"add",e,t),this}function re(e){const t=De(this),{has:n,get:r}=q(t);let i=n.call(t,e);i||(e=De(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,a=t.delete(e);return i&&I(t,"delete",e,void 0,o),a}function ie(){const e=De(this),t=0!==e.size,n=void 0,r=e.clear();return t&&I(e,"clear",void 0,void 0,n),r}function oe(e,t){return function(n,r){const i=this,o=i["__v_raw"],a=De(o),l=t?J:e?Ae:Re;return!e&&E(a,"iterate",_),o.forEach(((e,t)=>n.call(r,l(e),l(t),i)))}}function ae(e,t,n){return function(...i){const o=this["__v_raw"],a=De(o),l=(0,r._N)(a),u="entries"===e||e===Symbol.iterator&&l,c="keys"===e&&l,s=o[e](...i),d=n?J:t?Ae:Re;return!t&&E(a,"iterate",c?w:_),{next(){const{value:e,done:t}=s.next();return t?{value:e,done:t}:{value:u?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function le(e){return function(...t){return"delete"!==e&&this}}function ue(){const e={get(e){return X(this,e)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!1)},t={get(e){return X(this,e,!1,!0)},get size(){return ee(this)},has:Q,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!0)},n={get(e){return X(this,e,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:oe(!0,!1)},r={get(e){return X(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return Q.call(this,e,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:oe(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=ae(i,!1,!1),n[i]=ae(i,!0,!1),t[i]=ae(i,!1,!0),r[i]=ae(i,!0,!0)})),[e,n,t,r]}const[ce,se,de,fe]=ue();function pe(e,t){const n=t?e?fe:de:e?se:ce;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const ve={get:pe(!1,!1)},he={get:pe(!1,!0)},me={get:pe(!0,!1)};const ge=new WeakMap,ye=new WeakMap,be=new WeakMap,_e=new WeakMap;function we(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Se(e){return e["__v_skip"]||!Object.isExtensible(e)?0:we((0,r.W7)(e))}function Oe(e){return Ee(e)?e:xe(e,!1,Y,ve,ge)}function ke(e){return xe(e,!1,$,he,ye)}function Ce(e){return xe(e,!0,G,me,be)}function xe(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const l=Se(e);if(0===l)return e;const u=new Proxy(e,2===l?i:n);return o.set(e,u),u}function Pe(e){return Ee(e)?Pe(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ee(e){return!(!e||!e["__v_isReadonly"])}function Te(e){return!(!e||!e["__v_isShallow"])}function Ie(e){return Pe(e)||Ee(e)}function De(e){const t=e&&e["__v_raw"];return t?De(t):e}function je(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Re=e=>(0,r.Kn)(e)?Oe(e):e,Ae=e=>(0,r.Kn)(e)?Ce(e):e;function Fe(e){k&&b&&(e=De(e),T(e.dep||(e.dep=s())))}function Me(e,t){e=De(e),e.dep&&D(e.dep)}function Ne(e){return!(!e||!0!==e.__v_isRef)}function Le(e){return Ve(e,!1)}function We(e){return Ve(e,!0)}function Ve(e,t){return Ne(e)?e:new Be(e,t)}class Be{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:De(e),this._value=t?e:Re(e)}get value(){return Fe(this),this._value}set value(e){const t=this.__v_isShallow||Te(e)||Ee(e);e=t?e:De(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Re(e),Me(this,e))}}function Ue(e){return Ne(e)?e.value:e}const He={get:(e,t,n)=>Ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ne(i)&&!Ne(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ze(e){return Pe(e)?e:new Proxy(e,He)}function Ze(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=Ye(e,n);return t}class Ke{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ye(e,t,n){const r=e[t];return Ne(r)?r:new Ke(e,t,n)}var Ge;class $e{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Ge]=!1,this._dirty=!0,this.effect=new S(e,(()=>{this._dirty||(this._dirty=!0,Me(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=De(this);return Fe(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Je(e,t,n=!1){let i,o;const a=(0,r.mf)(e);a?(i=e,o=r.dG):(i=e.get,o=e.set);const l=new $e(i,o,a||!o,n);return l}Ge="__v_isReadonly"},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return a},Ah:function(){return We},Cn:function(){return M},F4:function(){return _n},FN:function(){return Rn},Fl:function(){return $n},HY:function(){return Xt},Ho:function(){return wn},JJ:function(){return re},Jd:function(){return Le},Ko:function(){return Qe},P$:function(){return he},Q2:function(){return Je},Q6:function(){return we},U2:function(){return ge},Uk:function(){return Sn},Us:function(){return Wt},Wm:function(){return yn},Xn:function(){return Me},Y3:function(){return y},Y8:function(){return fe},YP:function(){return le},_:function(){return gn},aZ:function(){return Se},bv:function(){return Fe},dD:function(){return F},dG:function(){return Pn},dl:function(){return xe},f3:function(){return ie},h:function(){return Jn},iD:function(){return sn},ic:function(){return Ne},j4:function(){return dn},kq:function(){return On},lA:function(){return fn},lR:function(){return qt},m0:function(){return oe},n4:function(){return Y},nK:function(){return _e},se:function(){return Pe},sv:function(){return en},up:function(){return Ge},w5:function(){return N},wF:function(){return Ae},wg:function(){return on},wy:function(){return ze},xv:function(){return Qt}});n(1703);var r=n(4870),i=n(7139);function o(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){l(o,t,n)}return i}function a(e,t,n,r){if((0,i.mf)(e)){const a=o(e,t,n,r);return a&&(0,i.tI)(a)&&a.catch((e=>{l(e,t,n)})),a}const u=[];for(let i=0;i<e.length;i++)u.push(a(e[i],t,n,r));return u}function l(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}const l=t.appContext.config.errorHandler;if(l)return void o(l,null,10,[e,i,a])}u(e,n,i,r)}function u(e,t,n,r=!0){console.error(e)}let c=!1,s=!1;const d=[];let f=0;const p=[];let v=null,h=0;const m=Promise.resolve();let g=null;function y(e){const t=g||m;return e?t.then(this?e.bind(this):e):t}function b(e){let t=f+1,n=d.length;while(t<n){const r=t+n>>>1,i=x(d[r]);i<e?t=r+1:n=r}return t}function _(e){d.length&&d.includes(e,c&&e.allowRecurse?f+1:f)||(null==e.id?d.push(e):d.splice(b(e.id),0,e),w())}function w(){c||s||(s=!0,g=m.then(E))}function S(e){const t=d.indexOf(e);t>f&&d.splice(t,1)}function O(e){(0,i.kJ)(e)?p.push(...e):v&&v.includes(e,e.allowRecurse?h+1:h)||p.push(e),w()}function k(e,t=f){for(0;t<d.length;t++){const e=d[t];e&&e.pre&&(d.splice(t,1),t--,e())}}function C(e){if(p.length){const e=[...new Set(p)];if(p.length=0,v)return void v.push(...e);for(v=e,v.sort(((e,t)=>x(e)-x(t))),h=0;h<v.length;h++)v[h]();v=null,h=0}}const x=e=>null==e.id?1/0:e.id,P=(e,t)=>{const n=x(e)-x(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function E(e){s=!1,c=!0,d.sort(P);i.dG;try{for(f=0;f<d.length;f++){const e=d[f];e&&!1!==e.active&&o(e,null,14)}}finally{f=0,d.length=0,C(e),c=!1,g=null,(d.length||p.length)&&E(e)}}new Set;new Map;function T(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let o=n;const l=t.startsWith("update:"),u=l&&t.slice(7);if(u&&u in r){const e=`${"modelValue"===u?"model":u}Modifiers`,{number:t,trim:a}=r[e]||i.kT;a&&(o=n.map((e=>e.trim()))),t&&(o=n.map(i.He))}let c;let s=r[c=(0,i.hR)(t)]||r[c=(0,i.hR)((0,i._A)(t))];!s&&l&&(s=r[c=(0,i.hR)((0,i.rs)(t))]),s&&a(s,e,6,o);const d=r[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,a(d,e,6,o)}}function I(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const a=e.emits;let l={},u=!1;if(!(0,i.mf)(e)){const r=e=>{const n=I(e,t,!0);n&&(u=!0,(0,i.l7)(l,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||u?((0,i.kJ)(a)?a.forEach((e=>l[e]=null)):(0,i.l7)(l,a),(0,i.Kn)(e)&&r.set(e,l),l):((0,i.Kn)(e)&&r.set(e,null),null)}function D(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let j=null,R=null;function A(e){const t=j;return j=e,R=e&&e.type.__scopeId||null,t}function F(e){R=e}function M(){R=null}function N(e,t=j,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&un(-1);const i=A(t),o=e(...n);return A(i),r._d&&un(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function L(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[u],slots:c,attrs:s,emit:d,render:f,renderCache:p,data:v,setupState:h,ctx:m,inheritAttrs:g}=e;let y,b;const _=A(e);try{if(4&n.shapeFlag){const e=o||r;y=kn(f.call(e,e,p,a,h,v,m)),b=s}else{const e=t;0,y=kn(e.length>1?e(a,{attrs:s,slots:c,emit:d}):e(a,null)),b=t.props?s:V(s)}}catch(S){nn.length=0,l(S,e,1),y=yn(en)}let w=y;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(u&&e.some(i.tR)&&(b=B(b,u)),w=wn(w,b))}return n.dirs&&(w=wn(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,A(_),y}function W(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!fn(r))return;if(r.type!==en||"v-if"===r.children){if(t)return;t=r}}return t}const V=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},B=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function U(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:l,patchFlag:u}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!l||l&&l.$stable)||r!==a&&(r?!a||H(r,a,c):!!a);if(1024&u)return!0;if(16&u)return r?H(r,a,c):!!a;if(8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!D(c,n))return!0}}return!1}function H(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!D(n,o))return!0}return!1}function z({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const Z=e=>e.__isSuspense,K={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,a,l,u,c){null==e?$(t,n,r,i,o,a,l,u,c):J(e,t,n,r,i,a,l,u,c)},hydrate:X,create:q,normalize:Q},Y=K;function G(e,t){const n=e.props&&e.props[t];(0,i.mf)(n)&&n()}function $(e,t,n,r,i,o,a,l,u){const{p:c,o:{createElement:s}}=u,d=s("div"),f=e.suspense=q(e,i,r,t,d,n,o,a,l,u);c(null,f.pendingBranch=e.ssContent,d,null,r,f,o,a),f.deps>0?(G(e,"onPending"),G(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,a),ne(f,e.ssFallback)):f.resolve()}function J(e,t,n,r,i,o,a,l,{p:u,um:c,o:{createElement:s}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:v,pendingBranch:h,isInFallback:m,isHydrating:g}=d;if(h)d.pendingBranch=f,pn(f,h)?(u(h,f,d.hiddenContainer,null,i,d,o,a,l),d.deps<=0?d.resolve():m&&(u(v,p,n,r,i,null,o,a,l),ne(d,p))):(d.pendingId++,g?(d.isHydrating=!1,d.activeBranch=h):c(h,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=s("div"),m?(u(null,f,d.hiddenContainer,null,i,d,o,a,l),d.deps<=0?d.resolve():(u(v,p,n,r,i,null,o,a,l),ne(d,p))):v&&pn(f,v)?(u(v,f,n,r,i,d,o,a,l),d.resolve(!0)):(u(null,f,d.hiddenContainer,null,i,d,o,a,l),d.deps<=0&&d.resolve()));else if(v&&pn(f,v))u(v,f,n,r,i,d,o,a,l),ne(d,f);else if(G(t,"onPending"),d.pendingBranch=f,d.pendingId++,u(null,f,d.hiddenContainer,null,i,d,o,a,l),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(p)}),e):0===e&&d.fallback(p)}}function q(e,t,n,r,o,a,u,c,s,d,f=!1){const{p:p,m:v,um:h,n:m,o:{parentNode:g,remove:y}}=d,b=(0,i.He)(e.props&&e.props.timeout),_={vnode:e,parent:t,parentComponent:n,isSVG:u,container:r,hiddenContainer:o,anchor:a,deps:0,pendingId:0,timeout:"number"===typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:f,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:r,pendingId:i,effects:o,parentComponent:a,container:l}=_;if(_.isHydrating)_.isHydrating=!1;else if(!e){const e=n&&r.transition&&"out-in"===r.transition.mode;e&&(n.transition.afterLeave=()=>{i===_.pendingId&&v(r,l,t,0)});let{anchor:t}=_;n&&(t=m(n),h(n,a,_,!0)),e||v(r,l,t,0)}ne(_,r),_.pendingBranch=null,_.isInFallback=!1;let u=_.parent,c=!1;while(u){if(u.pendingBranch){u.effects.push(...o),c=!0;break}u=u.parent}c||O(o),_.effects=[],G(t,"onResolve")},fallback(e){if(!_.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,isSVG:o}=_;G(t,"onFallback");const a=m(n),l=()=>{_.isInFallback&&(p(null,e,i,a,r,null,o,c,s),ne(_,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=l),_.isInFallback=!0,h(n,r,null,!0),u||l()},move(e,t,n){_.activeBranch&&v(_.activeBranch,e,t,n),_.container=e},next(){return _.activeBranch&&m(_.activeBranch)},registerDep(e,t){const n=!!_.pendingBranch;n&&_.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{l(t,e,0)})).then((i=>{if(e.isUnmounted||_.isUnmounted||_.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;Un(e,i,!1),r&&(o.el=r);const a=!r&&e.subTree.el;t(e,o,g(r||e.subTree.el),r?null:m(e.subTree),_,u,s),a&&y(a),z(e,o.el),n&&0===--_.deps&&_.resolve()}))},unmount(e,t){_.isUnmounted=!0,_.activeBranch&&h(_.activeBranch,n,e,t),_.pendingBranch&&h(_.pendingBranch,n,e,t)}};return _}function X(e,t,n,r,i,o,a,l,u){const c=t.suspense=q(t,r,n,e.parentNode,document.createElement("div"),null,i,o,a,l,!0),s=u(e,c.pendingBranch=t.ssContent,n,c,o,a);return 0===c.deps&&c.resolve(),s}function Q(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=ee(r?n.default:n),e.ssFallback=r?ee(n.fallback):yn(en)}function ee(e){let t;if((0,i.mf)(e)){const n=ln&&e._c;n&&(e._d=!1,on()),e=e(),n&&(e._d=!0,t=rn,an())}if((0,i.kJ)(e)){const t=W(e);0,e=t}return e=kn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function te(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):O(e)}function ne(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,z(r,i))}function re(e,t){if(jn){let n=jn.provides;const r=jn.parent&&jn.parent.provides;r===n&&(n=jn.provides=Object.create(r)),n[e]=t}else 0}function ie(e,t,n=!1){const r=jn||j;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}function oe(e,t){return ue(e,null,t)}const ae={};function le(e,t,n){return ue(e,t,n)}function ue(e,t,{immediate:n,deep:l,flush:u,onTrack:c,onTrigger:s}=i.kT){const d=jn;let f,p,v=!1,h=!1;if((0,r.dq)(e)?(f=()=>e.value,v=(0,r.yT)(e)):(0,r.PG)(e)?(f=()=>e,l=!0):(0,i.kJ)(e)?(h=!0,v=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),f=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?de(e):(0,i.mf)(e)?o(e,d,2):void 0))):f=(0,i.mf)(e)?t?()=>o(e,d,2):()=>{if(!d||!d.isUnmounted)return p&&p(),a(e,d,3,[m])}:i.dG,t&&l){const e=f;f=()=>de(e())}let m=e=>{p=w.onStop=()=>{o(e,d,4)}};if(Wn)return m=i.dG,t?n&&a(t,d,3,[f(),h?[]:void 0,m]):f(),i.dG;let g=h?[]:ae;const y=()=>{if(w.active)if(t){const e=w.run();(l||v||(h?e.some(((e,t)=>(0,i.aU)(e,g[t]))):(0,i.aU)(e,g)))&&(p&&p(),a(t,d,3,[e,g===ae?void 0:g,m]),g=e)}else w.run()};let b;y.allowRecurse=!!t,"sync"===u?b=y:"post"===u?b=()=>Lt(y,d&&d.suspense):(y.pre=!0,d&&(y.id=d.uid),b=()=>_(y));const w=new r.qq(f,b);return t?n?y():g=w.run():"post"===u?Lt(w.run.bind(w),d&&d.suspense):w.run(),()=>{w.stop(),d&&d.scope&&(0,i.Od)(d.scope.effects,w)}}function ce(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?se(r,e):()=>r[e]:e.bind(r,r);let a;(0,i.mf)(t)?a=t:(a=t.handler,n=t);const l=jn;An(this);const u=ue(o,a.bind(r),n);return l?An(l):Fn(),u}function se(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function de(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))de(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)de(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{de(e,t)}));else if((0,i.PO)(e))for(const n in e)de(e[n],t);return e}function fe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fe((()=>{e.isMounted=!0})),Le((()=>{e.isUnmounting=!0})),e}const pe=[Function,Array],ve={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pe,onEnter:pe,onAfterEnter:pe,onEnterCancelled:pe,onBeforeLeave:pe,onLeave:pe,onAfterLeave:pe,onLeaveCancelled:pe,onBeforeAppear:pe,onAppear:pe,onAfterAppear:pe,onAppearCancelled:pe},setup(e,{slots:t}){const n=Rn(),i=fe();let o;return()=>{const a=t.default&&we(t.default(),!0);if(!a||!a.length)return;let l=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==en){0,l=t,e=!0;break}}const u=(0,r.IU)(e),{mode:c}=u;if(i.isLeaving)return ye(l);const s=be(l);if(!s)return ye(l);const d=ge(s,u,i,n);_e(s,d);const f=n.subTree,p=f&&be(f);let v=!1;const{getTransitionKey:h}=s.type;if(h){const e=h();void 0===o?o=e:e!==o&&(o=e,v=!0)}if(p&&p.type!==en&&(!pn(s,p)||v)){const e=ge(p,u,i,n);if(_e(p,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},ye(l);"in-out"===c&&s.type!==en&&(e.delayLeave=(e,t,n)=>{const r=me(i,p);r[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return l}}},he=ve;function me(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ge(e,t,n,r){const{appear:o,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:s,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:p,onLeave:v,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:g,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=t,w=String(e.key),S=me(n,e),O=(e,t)=>{e&&a(e,r,9,t)},k=(e,t)=>{const n=t[1];O(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:l,persisted:u,beforeEnter(t){let r=c;if(!n.isMounted){if(!o)return;r=g||c}t._leaveCb&&t._leaveCb(!0);const i=S[w];i&&pn(e,i)&&i.el._leaveCb&&i.el._leaveCb(),O(r,[t])},enter(e){let t=s,r=d,i=f;if(!n.isMounted){if(!o)return;t=y||s,r=b||d,i=_||f}let a=!1;const l=e._enterCb=t=>{a||(a=!0,O(t?i:r,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,l]):l()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();O(p,[t]);let o=!1;const a=t._leaveCb=n=>{o||(o=!0,r(),O(n?m:h,[t]),t._leaveCb=void 0,S[i]===e&&delete S[i])};S[i]=e,v?k(v,[t,a]):a()},clone(e){return ge(e,t,n,r)}};return C}function ye(e){if(ke(e))return e=wn(e),e.children=null,e}function be(e){return ke(e)?e.children?e.children[0]:void 0:e}function _e(e,t){6&e.shapeFlag&&e.component?_e(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function we(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const l=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===Xt?(128&a.patchFlag&&i++,r=r.concat(we(a.children,t,l))):(t||a.type!==en)&&r.push(null!=l?wn(a,{key:l}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Se(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const Oe=e=>!!e.type.__asyncLoader;const ke=e=>e.type.__isKeepAlive;RegExp,RegExp;function Ce(e,t){return(0,i.kJ)(e)?e.some((e=>Ce(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function xe(e,t){Ee(e,"a",t)}function Pe(e,t){Ee(e,"da",t)}function Ee(e,t,n=jn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(je(t,r,n),n){let e=n.parent;while(e&&e.parent)ke(e.parent.vnode)&&Te(r,t,n,e),e=e.parent}}function Te(e,t,n,r){const o=je(t,e,r,!0);We((()=>{(0,i.Od)(r[t],o)}),n)}function Ie(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function De(e){return 128&e.shapeFlag?e.ssContent:e}function je(e,t,n=jn,i=!1){if(n){const o=n[e]||(n[e]=[]),l=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),An(n);const o=a(t,n,e,i);return Fn(),(0,r.lk)(),o});return i?o.unshift(l):o.push(l),l}}const Re=e=>(t,n=jn)=>(!Wn||"sp"===e)&&je(e,t,n),Ae=Re("bm"),Fe=Re("m"),Me=Re("bu"),Ne=Re("u"),Le=Re("bum"),We=Re("um"),Ve=Re("sp"),Be=Re("rtg"),Ue=Re("rtc");function He(e,t=jn){je("ec",e,t)}function ze(e,t){const n=j;if(null===n)return e;const r=Kn(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,l,u=i.kT]=t[a];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&de(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:l,modifiers:u})}return e}function Ze(e,t,n,i){const o=e.dirs,l=t&&t.dirs;for(let u=0;u<o.length;u++){const c=o[u];l&&(c.oldValue=l[u].value);let s=c.dir[i];s&&((0,r.Jd)(),a(s,n,8,[e.el,c,e,t]),(0,r.lk)())}}const Ke="components",Ye="directives";function Ge(e,t){return qe(Ke,e,!0,t)||e}const $e=Symbol();function Je(e){return qe(Ye,e)}function qe(e,t,n=!0,r=!1){const o=j||jn;if(o){const n=o.type;if(e===Ke){const e=Yn(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const a=Xe(o[e]||n[e],t)||Xe(o.appContext[e],t);return!a&&r?n:a}}function Xe(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function Qe(e,t,n,r){let o;const a=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,a&&a[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,a&&a[r])}}else o=[];return n&&(n[r]=o),o}const et=e=>e?Mn(e)?Kn(e)||e.proxy:et(e.parent):null,tt=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>et(e.parent),$root:e=>et(e.root),$emit:e=>e.emit,$options:e=>ut(e),$forceUpdate:e=>e.f||(e.f=()=>_(e.update)),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>ce.bind(e)}),nt={get({_:e},t){const{ctx:n,setupState:o,data:a,props:l,accessCache:u,type:c,appContext:s}=e;let d;if("$"!==t[0]){const r=u[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return l[t]}else{if(o!==i.kT&&(0,i.RI)(o,t))return u[t]=1,o[t];if(a!==i.kT&&(0,i.RI)(a,t))return u[t]=2,a[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return u[t]=3,l[t];if(n!==i.kT&&(0,i.RI)(n,t))return u[t]=4,n[t];rt&&(u[t]=0)}}const f=tt[t];let p,v;return f?("$attrs"===t&&(0,r.j)(e,"get",t),f(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==i.kT&&(0,i.RI)(n,t)?(u[t]=4,n[t]):(v=s.config.globalProperties,(0,i.RI)(v,t)?v[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return o!==i.kT&&(0,i.RI)(o,t)?(o[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a}},l){let u;return!!n[l]||e!==i.kT&&(0,i.RI)(e,l)||t!==i.kT&&(0,i.RI)(t,l)||(u=a[0])&&(0,i.RI)(u,l)||(0,i.RI)(r,l)||(0,i.RI)(tt,l)||(0,i.RI)(o.config.globalProperties,l)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let rt=!0;function it(e){const t=ut(e),n=e.proxy,o=e.ctx;rt=!1,t.beforeCreate&&at(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:u,watch:c,provide:s,inject:d,created:f,beforeMount:p,mounted:v,beforeUpdate:h,updated:m,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:S,render:O,renderTracked:k,renderTriggered:C,errorCaptured:x,serverPrefetch:P,expose:E,inheritAttrs:T,components:I,directives:D,filters:j}=t,R=null;if(d&&ot(d,o,R,e.appContext.config.unwrapInjectedRef),u)for(const r in u){const e=u[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(rt=!0,l)for(const r in l){const e=l[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const a=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,u=$n({get:t,set:a});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:e=>u.value=e})}if(c)for(const r in c)lt(c[r],o,n,r);if(s){const e=(0,i.mf)(s)?s.call(n):s;Reflect.ownKeys(e).forEach((t=>{re(t,e[t])}))}function A(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(f&&at(f,e,"c"),A(Ae,p),A(Fe,v),A(Me,h),A(Ne,m),A(xe,g),A(Pe,y),A(He,x),A(Ue,k),A(Be,C),A(Le,_),A(We,S),A(Ve,P),(0,i.kJ)(E))if(E.length){const t=e.exposed||(e.exposed={});E.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});O&&e.render===i.dG&&(e.render=O),null!=T&&(e.inheritAttrs=T),I&&(e.components=I),D&&(e.directives=D)}function ot(e,t,n=i.dG,o=!1){(0,i.kJ)(e)&&(e=pt(e));for(const a in e){const n=e[a];let l;l=(0,i.Kn)(n)?"default"in n?ie(n.from||a,n.default,!0):ie(n.from||a):ie(n),(0,r.dq)(l)&&o?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e}):t[a]=l}}function at(e,t,n){a((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function lt(e,t,n,r){const o=r.includes(".")?se(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&le(o,n)}else if((0,i.mf)(e))le(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>lt(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&le(o,r,e)}else 0}function ut(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let c;return u?c=u:o.length||n||r?(c={},o.length&&o.forEach((e=>ct(c,e,l,!0))),ct(c,t,l)):c=t,(0,i.Kn)(t)&&a.set(t,c),c}function ct(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ct(e,o,n,!0),i&&i.forEach((t=>ct(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=st[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const st={data:dt,props:ht,emits:ht,methods:ht,computed:ht,beforeCreate:vt,created:vt,beforeMount:vt,mounted:vt,beforeUpdate:vt,updated:vt,beforeDestroy:vt,beforeUnmount:vt,destroyed:vt,unmounted:vt,activated:vt,deactivated:vt,errorCaptured:vt,serverPrefetch:vt,components:ht,directives:ht,watch:mt,provide:dt,inject:ft};function dt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function ft(e,t){return ht(pt(e),pt(t))}function pt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vt(e,t){return e?[...new Set([].concat(e,t))]:t}function ht(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function mt(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=vt(e[r],t[r]);return n}function gt(e,t,n,o=!1){const a={},l={};(0,i.Nj)(l,vn,1),e.propsDefaults=Object.create(null),bt(e,t,a,l);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:(0,r.Um)(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function yt(e,t,n,o){const{props:a,attrs:l,vnode:{patchFlag:u}}=e,c=(0,r.IU)(a),[s]=e.propsOptions;let d=!1;if(!(o||u>0)||16&u){let r;bt(e,t,a,l)&&(d=!0);for(const o in c)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(s?!n||void 0===n[o]&&void 0===n[r]||(a[o]=_t(s,c,o,void 0,e,!0)):delete a[o]);if(l!==c)for(const e in l)t&&(0,i.RI)(t,e)||(delete l[e],d=!0)}else if(8&u){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(D(e.emitsOptions,o))continue;const u=t[o];if(s)if((0,i.RI)(l,o))u!==l[o]&&(l[o]=u,d=!0);else{const t=(0,i._A)(o);a[t]=_t(s,c,t,u,e,!1)}else u!==l[o]&&(l[o]=u,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function bt(e,t,n,o){const[a,l]=e.propsOptions;let u,c=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const s=t[r];let d;a&&(0,i.RI)(a,d=(0,i._A)(r))?l&&l.includes(d)?(u||(u={}))[d]=s:n[d]=s:D(e.emitsOptions,r)||r in o&&s===o[r]||(o[r]=s,c=!0)}if(l){const t=(0,r.IU)(n),o=u||i.kT;for(let r=0;r<l.length;r++){const u=l[r];n[u]=_t(a,t,u,o[u],e,!(0,i.RI)(o,u))}}return c}function _t(e,t,n,r,o,a){const l=e[n];if(null!=l){const e=(0,i.RI)(l,"default");if(e&&void 0===r){const e=l.default;if(l.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(An(o),r=i[n]=e.call(null,t),Fn())}else r=e}l[0]&&(a&&!e?r=!1:!l[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function wt(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const a=e.props,l={},u=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=wt(e,t,!0);(0,i.l7)(l,n),r&&u.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,i._A)(a[d]);St(e)&&(l[e]=i.kT)}else if(a){0;for(const e in a){const t=(0,i._A)(e);if(St(t)){const n=a[e],r=l[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=Ct(Boolean,r.type),n=Ct(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&u.push(t)}}}}const s=[l,u];return(0,i.Kn)(e)&&r.set(e,s),s}function St(e){return"$"!==e[0]}function Ot(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function kt(e,t){return Ot(e)===Ot(t)}function Ct(e,t){return(0,i.kJ)(t)?t.findIndex((t=>kt(t,e))):(0,i.mf)(t)&&kt(t,e)?0:-1}const xt=e=>"_"===e[0]||"$stable"===e,Pt=e=>(0,i.kJ)(e)?e.map(kn):[kn(e)],Et=(e,t,n)=>{if(t._n)return t;const r=N(((...e)=>Pt(t(...e))),n);return r._c=!1,r},Tt=(e,t,n)=>{const r=e._ctx;for(const o in e){if(xt(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=Et(o,n,r);else if(null!=n){0;const e=Pt(n);t[o]=()=>e}}},It=(e,t)=>{const n=Pt(t);e.slots.default=()=>n},Dt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):Tt(t,e.slots={})}else e.slots={},t&&It(e,t);(0,i.Nj)(e.slots,vn,1)},jt=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,l=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(a=!t.$stable,Tt(t,o)),l=t}else t&&(It(e,t),l={default:1});if(a)for(const i in o)xt(i)||i in l||delete o[i]};function Rt(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let At=0;function Ft(e,t){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=Rt(),a=new Set;let l=!1;const u=o.app={_uid:At++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:qn,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,i.mf)(e.install)?(a.add(e),e.install(u,...t)):(0,i.mf)(e)&&(a.add(e),e(u,...t))),u},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),u},component(e,t){return t?(o.components[e]=t,u):o.components[e]},directive(e,t){return t?(o.directives[e]=t,u):o.directives[e]},mount(i,a,c){if(!l){0;const s=yn(n,r);return s.appContext=o,a&&t?t(s,i):e(s,i,c),l=!0,u._container=i,i.__vue_app__=u,Kn(s.component)||s.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(e,t){return o.provides[e]=t,u}};return u}}function Mt(e,t,n,a,l=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>Mt(e,t&&((0,i.kJ)(t)?t[r]:t),n,a,l)));if(Oe(a)&&!l)return;const u=4&a.shapeFlag?Kn(a.component)||a.component.proxy:a.el,c=l?null:u,{i:s,r:d}=e;const f=t&&t.r,p=s.refs===i.kT?s.refs={}:s.refs,v=s.setupState;if(null!=f&&f!==d&&((0,i.HD)(f)?(p[f]=null,(0,i.RI)(v,f)&&(v[f]=null)):(0,r.dq)(f)&&(f.value=null)),(0,i.mf)(d))o(d,s,12,[c,p]);else{const t=(0,i.HD)(d),o=(0,r.dq)(d);if(t||o){const r=()=>{if(e.f){const n=t?p[d]:d.value;l?(0,i.kJ)(n)&&(0,i.Od)(n,u):(0,i.kJ)(n)?n.includes(u)||n.push(u):t?(p[d]=[u],(0,i.RI)(v,d)&&(v[d]=p[d])):(d.value=[u],e.k&&(p[e.k]=d.value))}else t?(p[d]=c,(0,i.RI)(v,d)&&(v[d]=c)):o&&(d.value=c,e.k&&(p[e.k]=c))};c?(r.id=-1,Lt(r,n)):r()}else 0}}function Nt(){}const Lt=te;function Wt(e){return Vt(e)}function Vt(e,t){Nt();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:a,patchProp:l,createElement:u,createText:c,createComment:s,setText:d,setElementText:f,parentNode:p,nextSibling:v,setScopeId:h=i.dG,cloneNode:m,insertStaticContent:g}=e,y=(e,t,n,r=null,i=null,o=null,a=!1,l=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!pn(e,t)&&(r=Q(e),G(e,i,o,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:s,shapeFlag:d}=t;switch(c){case Qt:b(e,t,n,r);break;case en:w(e,t,n,r);break;case tn:null==e&&O(t,n,r,a);break;case Xt:F(e,t,n,r,i,o,a,l,u);break;default:1&d?E(e,t,n,r,i,o,a,l,u):6&d?M(e,t,n,r,i,o,a,l,u):(64&d||128&d)&&c.process(e,t,n,r,i,o,a,l,u,te)}null!=s&&i&&Mt(s,e&&e.ref,o,t||e,!t)},b=(e,t,n,r)=>{if(null==e)o(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},w=(e,t,n,r)=>{null==e?o(t.el=s(t.children||""),n,r):t.el=e.el},O=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},x=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=v(e),o(e,n,r),e=i;o(t,n,r)},P=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=v(e),a(e),e=n;a(t)},E=(e,t,n,r,i,o,a,l,u)=>{a=a||"svg"===t.type,null==e?T(t,n,r,i,o,a,l,u):j(e,t,i,o,a,l,u)},T=(e,t,n,r,a,c,s,d)=>{let p,v;const{type:h,props:g,shapeFlag:y,transition:b,patchFlag:_,dirs:w}=e;if(e.el&&void 0!==m&&-1===_)p=e.el=m(e.el);else{if(p=e.el=u(e.type,c,g&&g.is,g),8&y?f(p,e.children):16&y&&D(e.children,p,null,r,a,c&&"foreignObject"!==h,s,d),w&&Ze(e,null,r,"created"),g){for(const t in g)"value"===t||(0,i.Gg)(t)||l(p,t,null,g[t],c,e.children,r,a,X);"value"in g&&l(p,"value",null,g.value),(v=g.onVnodeBeforeMount)&&En(v,r,e)}I(p,e,e.scopeId,s,r)}w&&Ze(e,null,r,"beforeMount");const S=(!a||a&&!a.pendingBranch)&&b&&!b.persisted;S&&b.beforeEnter(p),o(p,t,n),((v=g&&g.onVnodeMounted)||S||w)&&Lt((()=>{v&&En(v,r,e),S&&b.enter(p),w&&Ze(e,null,r,"mounted")}),a)},I=(e,t,n,r,i)=>{if(n&&h(e,n),r)for(let o=0;o<r.length;o++)h(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;I(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,r,i,o,a,l,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=l?Cn(e[c]):kn(e[c]);y(null,u,t,n,r,i,o,a,l)}},j=(e,t,n,r,o,a,u)=>{const c=t.el=e.el;let{patchFlag:s,dynamicChildren:d,dirs:p}=t;s|=16&e.patchFlag;const v=e.props||i.kT,h=t.props||i.kT;let m;n&&Bt(n,!1),(m=h.onVnodeBeforeUpdate)&&En(m,n,t,e),p&&Ze(t,e,n,"beforeUpdate"),n&&Bt(n,!0);const g=o&&"foreignObject"!==t.type;if(d?R(e.dynamicChildren,d,c,n,r,g,a):u||H(e,t,c,null,n,r,g,a,!1),s>0){if(16&s)A(c,t,v,h,n,r,o);else if(2&s&&v.class!==h.class&&l(c,"class",null,h.class,o),4&s&&l(c,"style",v.style,h.style,o),8&s){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],u=v[a],s=h[a];s===u&&"value"!==a||l(c,a,u,s,o,e.children,n,r,X)}}1&s&&e.children!==t.children&&f(c,t.children)}else u||null!=d||A(c,t,v,h,n,r,o);((m=h.onVnodeUpdated)||p)&&Lt((()=>{m&&En(m,n,t,e),p&&Ze(t,e,n,"updated")}),r)},R=(e,t,n,r,i,o,a)=>{for(let l=0;l<t.length;l++){const u=e[l],c=t[l],s=u.el&&(u.type===Xt||!pn(u,c)||70&u.shapeFlag)?p(u.el):n;y(u,c,s,null,r,i,o,a,!0)}},A=(e,t,n,r,o,a,u)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const s=r[c],d=n[c];s!==d&&"value"!==c&&l(e,c,d,s,u,t.children,o,a,X)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||l(e,c,n[c],null,u,t.children,o,a,X);"value"in r&&l(e,"value",n.value,r.value)}},F=(e,t,n,r,i,a,l,u,s)=>{const d=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:v,slotScopeIds:h}=t;h&&(u=u?u.concat(h):h),null==e?(o(d,n,r),o(f,n,r),D(t.children,n,f,i,a,l,u,s)):p>0&&64&p&&v&&e.dynamicChildren?(R(e.dynamicChildren,v,n,i,a,l,u),(null!=t.key||i&&t===i.subTree)&&Ut(e,t,!0)):H(e,t,n,f,i,a,l,u,s)},M=(e,t,n,r,i,o,a,l,u)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,u):N(t,n,r,i,o,a,u):W(e,t,u)},N=(e,t,n,r,i,o,a)=>{const l=e.component=Dn(e,r,i);if(ke(e)&&(l.ctx.renderer=te),Vn(l),l.asyncDep){if(i&&i.registerDep(l,V),!e.el){const e=l.subTree=yn(en);w(null,e,t,n)}}else V(l,e,t,n,i,o,a)},W=(e,t,n)=>{const r=t.component=e.component;if(U(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,S(r.update),r.update()}else t.el=e.el,r.vnode=t},V=(e,t,n,o,a,l,u)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:c,vnode:s}=e,d=n;0,Bt(e,!1),n?(n.el=s.el,B(e,n,u)):n=s,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&En(t,c,n,s),Bt(e,!0);const f=L(e);0;const v=e.subTree;e.subTree=f,y(v,f,p(v.el),Q(v),e,a,l),n.el=f.el,null===d&&z(e,f.el),o&&Lt(o,a),(t=n.props&&n.props.onVnodeUpdated)&&Lt((()=>En(t,c,n,s)),a)}else{let r;const{el:u,props:c}=t,{bm:s,m:d,parent:f}=e,p=Oe(t);if(Bt(e,!1),s&&(0,i.ir)(s),!p&&(r=c&&c.onVnodeBeforeMount)&&En(r,f,t),Bt(e,!0),u&&re){const n=()=>{e.subTree=L(e),re(u,e.subTree,e,a,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=L(e);0,y(null,r,n,o,e,a,l),t.el=r.el}if(d&&Lt(d,a),!p&&(r=c&&c.onVnodeMounted)){const e=t;Lt((()=>En(r,f,e)),a)}(256&t.shapeFlag||f&&Oe(f.vnode)&&256&f.vnode.shapeFlag)&&e.a&&Lt(e.a,a),e.isMounted=!0,t=n=o=null}},s=e.effect=new r.qq(c,(()=>_(d)),e.scope),d=e.update=()=>s.run();d.id=e.uid,Bt(e,!0),d()},B=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,yt(e,t.props,i,n),jt(e,t.children,n),(0,r.Jd)(),k(),(0,r.lk)()},H=(e,t,n,r,i,o,a,l,u=!1)=>{const c=e&&e.children,s=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:v}=t;if(p>0){if(128&p)return void K(c,d,n,r,i,o,a,l,u);if(256&p)return void Z(c,d,n,r,i,o,a,l,u)}8&v?(16&s&&X(c,i,o),d!==c&&f(n,d)):16&s?16&v?K(c,d,n,r,i,o,a,l,u):X(c,i,o,!0):(8&s&&f(n,""),16&v&&D(d,n,r,i,o,a,l,u))},Z=(e,t,n,r,o,a,l,u,c)=>{e=e||i.Z6,t=t||i.Z6;const s=e.length,d=t.length,f=Math.min(s,d);let p;for(p=0;p<f;p++){const r=t[p]=c?Cn(t[p]):kn(t[p]);y(e[p],r,n,null,o,a,l,u,c)}s>d?X(e,o,a,!0,!1,f):D(t,n,r,o,a,l,u,c,f)},K=(e,t,n,r,o,a,l,u,c)=>{let s=0;const d=t.length;let f=e.length-1,p=d-1;while(s<=f&&s<=p){const r=e[s],i=t[s]=c?Cn(t[s]):kn(t[s]);if(!pn(r,i))break;y(r,i,n,null,o,a,l,u,c),s++}while(s<=f&&s<=p){const r=e[f],i=t[p]=c?Cn(t[p]):kn(t[p]);if(!pn(r,i))break;y(r,i,n,null,o,a,l,u,c),f--,p--}if(s>f){if(s<=p){const e=p+1,i=e<d?t[e].el:r;while(s<=p)y(null,t[s]=c?Cn(t[s]):kn(t[s]),n,i,o,a,l,u,c),s++}}else if(s>p)while(s<=f)G(e[s],o,a,!0),s++;else{const v=s,h=s,m=new Map;for(s=h;s<=p;s++){const e=t[s]=c?Cn(t[s]):kn(t[s]);null!=e.key&&m.set(e.key,s)}let g,b=0;const _=p-h+1;let w=!1,S=0;const O=new Array(_);for(s=0;s<_;s++)O[s]=0;for(s=v;s<=f;s++){const r=e[s];if(b>=_){G(r,o,a,!0);continue}let i;if(null!=r.key)i=m.get(r.key);else for(g=h;g<=p;g++)if(0===O[g-h]&&pn(r,t[g])){i=g;break}void 0===i?G(r,o,a,!0):(O[i-h]=s+1,i>=S?S=i:w=!0,y(r,t[i],n,null,o,a,l,u,c),b++)}const k=w?Ht(O):i.Z6;for(g=k.length-1,s=_-1;s>=0;s--){const e=h+s,i=t[e],f=e+1<d?t[e+1].el:r;0===O[s]?y(null,i,n,f,o,a,l,u,c):w&&(g<0||s!==k[g]?Y(i,n,f,2):g--)}}},Y=(e,t,n,r,i=null)=>{const{el:a,type:l,transition:u,children:c,shapeFlag:s}=e;if(6&s)return void Y(e.component.subTree,t,n,r);if(128&s)return void e.suspense.move(t,n,r);if(64&s)return void l.move(e,t,n,te);if(l===Xt){o(a,t,n);for(let e=0;e<c.length;e++)Y(c[e],t,n,r);return void o(e.anchor,t,n)}if(l===tn)return void x(e,t,n);const d=2!==r&&1&s&&u;if(d)if(0===r)u.beforeEnter(a),o(a,t,n),Lt((()=>u.enter(a)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=u,l=()=>o(a,t,n),c=()=>{e(a,(()=>{l(),i&&i()}))};r?r(a,l,c):c()}else o(a,t,n)},G=(e,t,n,r=!1,i=!1)=>{const{type:o,props:a,ref:l,children:u,dynamicChildren:c,shapeFlag:s,patchFlag:d,dirs:f}=e;if(null!=l&&Mt(l,null,n,e,!0),256&s)return void t.ctx.deactivate(e);const p=1&s&&f,v=!Oe(e);let h;if(v&&(h=a&&a.onVnodeBeforeUnmount)&&En(h,t,e),6&s)q(e.component,n,r);else{if(128&s)return void e.suspense.unmount(n,r);p&&Ze(e,null,t,"beforeUnmount"),64&s?e.type.remove(e,t,n,i,te,r):c&&(o!==Xt||d>0&&64&d)?X(c,t,n,!1,!0):(o===Xt&&384&d||!i&&16&s)&&X(u,t,n),r&&$(e)}(v&&(h=a&&a.onVnodeUnmounted)||p)&&Lt((()=>{h&&En(h,t,e),p&&Ze(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Xt)return void J(n,r);if(t===tn)return void P(e);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,o);r?r(e.el,o,a):a()}else o()},J=(e,t)=>{let n;while(e!==t)n=v(e),a(e),e=n;a(t)},q=(e,t,n)=>{const{bum:r,scope:o,update:a,subTree:l,um:u}=e;r&&(0,i.ir)(r),o.stop(),a&&(a.active=!1,G(l,e,t,n)),u&&Lt(u,t),Lt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,n,r=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)G(e[a],t,n,r,i)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():v(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),k(),C(),t._vnode=e},te={p:y,um:G,m:Y,r:$,mt:N,mc:D,pc:H,pbc:R,n:Q,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:Ft(ee,ne)}}function Bt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Ut(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Cn(o[i]),t.el=e.el),n||Ut(e,t))}}function Ht(e){const t=e.slice(),n=[0];let r,i,o,a,l;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}o=0,a=n.length-1;while(o<a)l=o+a>>1,e[n[l]]<u?o=l+1:a=l;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=t[a];return n}const zt=e=>e.__isTeleport,Zt=e=>e&&(e.disabled||""===e.disabled),Kt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Yt=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},Gt={__isTeleport:!0,process(e,t,n,r,i,o,a,l,u,c){const{mc:s,pc:d,pbc:f,o:{insert:p,querySelector:v,createText:h,createComment:m}}=c,g=Zt(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=h(""),c=t.anchor=h("");p(e,n,r),p(c,n,r);const d=t.target=Yt(t.props,v),f=t.targetAnchor=h("");d&&(p(f,d),a=a||Kt(d));const m=(e,t)=>{16&y&&s(b,e,t,i,o,a,l,u)};g?m(n,c):d&&m(d,f)}else{t.el=e.el;const r=t.anchor=e.anchor,s=t.target=e.target,p=t.targetAnchor=e.targetAnchor,h=Zt(e.props),m=h?n:s,y=h?r:p;if(a=a||Kt(s),_?(f(e.dynamicChildren,_,m,i,o,a,l),Ut(e,t,!0)):u||d(e,t,m,y,i,o,a,l,!1),g)h||$t(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Yt(t.props,v);e&&$t(t,e,null,c,0)}else h&&$t(t,s,p,c,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:l,children:u,anchor:c,targetAnchor:s,target:d,props:f}=e;if(d&&o(s),(a||!Zt(f))&&(o(c),16&l))for(let p=0;p<u.length;p++){const e=u[p];i(e,t,n,!0,!!e.dynamicChildren)}},move:$t,hydrate:Jt};function $t(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:u,children:c,props:s}=e,d=2===o;if(d&&r(a,t,n),(!d||Zt(s))&&16&u)for(let f=0;f<c.length;f++)i(c[f],t,n,2);d&&r(l,t,n)}function Jt(e,t,n,r,i,o,{o:{nextSibling:a,parentNode:l,querySelector:u}},c){const s=t.target=Yt(t.props,u);if(s){const u=s._lpa||s.firstChild;if(16&t.shapeFlag)if(Zt(t.props))t.anchor=c(a(e),t,l(e),n,r,i,o),t.targetAnchor=u;else{t.anchor=a(e);let l=u;while(l)if(l=a(l),l&&8===l.nodeType&&"teleport anchor"===l.data){t.targetAnchor=l,s._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(u,t,s,n,r,i,o)}}return t.anchor&&a(t.anchor)}const qt=Gt,Xt=Symbol(void 0),Qt=Symbol(void 0),en=Symbol(void 0),tn=Symbol(void 0),nn=[];let rn=null;function on(e=!1){nn.push(rn=e?null:[])}function an(){nn.pop(),rn=nn[nn.length-1]||null}let ln=1;function un(e){ln+=e}function cn(e){return e.dynamicChildren=ln>0?rn||i.Z6:null,an(),ln>0&&rn&&rn.push(e),e}function sn(e,t,n,r,i,o){return cn(gn(e,t,n,r,i,o,!0))}function dn(e,t,n,r,i){return cn(yn(e,t,n,r,i,!0))}function fn(e){return!!e&&!0===e.__v_isVNode}function pn(e,t){return e.type===t.type&&e.key===t.key}const vn="__vInternal",hn=({key:e})=>null!=e?e:null,mn=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:j,r:e,k:t,f:!!n}:e:null;function gn(e,t=null,n=null,r=0,o=null,a=(e===Xt?0:1),l=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hn(t),ref:t&&mn(t),scopeId:R,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return u?(xn(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),ln>0&&!l&&rn&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&rn.push(c),c}const yn=bn;function bn(e,t=null,n=null,o=0,a=null,l=!1){if(e&&e!==$e||(e=en),fn(e)){const r=wn(e,t,!0);return n&&xn(r,n),ln>0&&!l&&rn&&(6&r.shapeFlag?rn[rn.indexOf(e)]=r:rn.push(r)),r.patchFlag|=-2,r}if(Gn(e)&&(e=e.__vccOpts),t){t=_n(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const u=(0,i.HD)(e)?1:Z(e)?128:zt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return gn(e,t,n,o,a,u,l,!0)}function _n(e){return e?(0,r.X3)(e)||vn in e?(0,i.l7)({},e):e:null}function wn(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:l}=e,u=t?Pn(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&hn(u),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(mn(t)):[o,mn(t)]:mn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xt?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wn(e.ssContent),ssFallback:e.ssFallback&&wn(e.ssFallback),el:e.el,anchor:e.anchor};return c}function Sn(e=" ",t=0){return yn(Qt,null,e,t)}function On(e="",t=!1){return t?(on(),dn(en,null,e)):yn(en,null,e)}function kn(e){return null==e||"boolean"===typeof e?yn(en):(0,i.kJ)(e)?yn(Xt,null,e.slice()):"object"===typeof e?Cn(e):yn(Qt,null,String(e))}function Cn(e){return null===e.el||e.memo?e:wn(e)}function xn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),xn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||vn in t?3===r&&j&&(1===j.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=j}}else(0,i.mf)(t)?(t={default:t,_ctx:j},n=32):(t=String(t),64&r?(n=16,t=[Sn(t)]):n=8);e.children=t,e.shapeFlag|=n}function Pn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],o=r[e];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function En(e,t,n,r=null){a(e,t,7,[n,r])}const Tn=Rt();let In=0;function Dn(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Tn,l={uid:In++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wt(o,a),emitsOptions:I(o,a),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=T.bind(null,l),e.ce&&e.ce(l),l}let jn=null;const Rn=()=>jn||j,An=e=>{jn=e,e.scope.on()},Fn=()=>{jn&&jn.scope.off(),jn=null};function Mn(e){return 4&e.vnode.shapeFlag}let Nn,Ln,Wn=!1;function Vn(e,t=!1){Wn=t;const{props:n,children:r}=e.vnode,i=Mn(e);gt(e,n,i,t),Dt(e,r);const o=i?Bn(e,t):void 0;return Wn=!1,o}function Bn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,nt));const{setup:a}=n;if(a){const n=e.setupContext=a.length>1?Zn(e):null;An(e),(0,r.Jd)();const u=o(a,e,0,[e.props,n]);if((0,r.lk)(),Fn(),(0,i.tI)(u)){if(u.then(Fn,Fn),t)return u.then((n=>{Un(e,n,t)})).catch((t=>{l(t,e,0)}));e.asyncDep=u}else Un(e,u,t)}else Hn(e,t)}function Un(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Hn(e,n)}function Hn(e,t,n){const o=e.type;if(!e.render){if(!t&&Nn&&!o.render){const t=o.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=o,u=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:a},r),l);o.render=Nn(t,u)}}e.render=o.render||i.dG,Ln&&Ln(e)}An(e),(0,r.Jd)(),it(e),(0,r.lk)(),Fn()}function zn(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Zn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=zn(e))},slots:e.slots,emit:e.emit,expose:t}}function Kn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in tt?tt[n](e):void 0}}))}function Yn(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Gn(e){return(0,i.mf)(e)&&"__vccOpts"in e}const $n=(e,t)=>(0,r.Fl)(e,t,Wn);function Jn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?fn(t)?yn(e,null,[t]):yn(e,t):yn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&fn(n)&&(n=[n]),yn(e,t,n))}Symbol("");const qn="3.2.38"},9242:function(e,t,n){"use strict";n.d(t,{F8:function(){return ce},W3:function(){return ie},ri:function(){return ve},uT:function(){return L}});var r=n(7139),i=n(3396),o=n(4870);const a="http://www.w3.org/2000/svg",l="undefined"!==typeof document?document:null,u=l&&l.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?l.createElementNS(a,e):l.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{u.innerHTML=r?`<svg>${e}</svg>`:e;const i=u.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function s(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const i=e.style,o=(0,r.HD)(n);if(n&&!o){for(const e in n)p(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&p(i,e,"")}else{const r=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const f=/\s*!important$/;function p(e,t,n){if((0,r.kJ)(n))n.forEach((n=>p(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=m(e,t);f.test(n)?e.setProperty((0,r.rs)(i),n.replace(f,""),"important"):e[i]=n}}const v=["Webkit","Moz","ms"],h={};function m(e,t){const n=h[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return h[t]=i;i=(0,r.kC)(i);for(let r=0;r<v.length;r++){const n=v[r]+i;if(n in e)return h[t]=n}return t}const g="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function b(e,t,n,i,o,a,l){if("innerHTML"===t||"textContent"===t)return i&&l(i,o,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let u=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",u=!0):"number"===i&&(n=0,u=!0)}try{e[t]=n}catch(c){0}u&&e.removeAttribute(t)}const[_,w]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let S=0;const O=Promise.resolve(),k=()=>{S=0},C=()=>S||(O.then(k),S=_());function x(e,t,n,r){e.addEventListener(t,n,r)}function P(e,t,n,r){e.removeEventListener(t,n,r)}function E(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[n,l]=I(t);if(r){const a=o[t]=D(r,i);x(e,n,a,l)}else a&&(P(e,n,a,l),o[t]=void 0)}}const T=/(?:Once|Passive|Capture)$/;function I(e){let t;if(T.test(e)){let n;t={};while(n=e.match(T))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2));return[n,t]}function D(e,t){const n=e=>{const r=e.timeStamp||_();(w||r>=n.attached-1)&&(0,i.$d)(j(e,n.value),t,5,[e])};return n.value=e,n.attached=C(),n}function j(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const R=/^on[a-z]/,A=(e,t,n,i,o=!1,a,l,u,c)=>{"class"===t?s(e,i,o):"style"===t?d(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||E(e,t,n,i,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):F(e,t,i,o))?b(e,t,i,a,l,u,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function F(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&R.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!R.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const M="transition",N="animation",L=(e,{slots:t})=>(0,i.h)(i.P$,H(e),t);L.displayName="Transition";const W={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},V=L.props=(0,r.l7)({},i.P$.props,W),B=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},U=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function H(e){const t={};for(const r in e)r in W||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:s=l,appearToClass:d=u,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,h=z(o),m=h&&h[0],g=h&&h[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:S,onBeforeAppear:O=y,onAppear:k=b,onAppearCancelled:C=_}=t,x=(e,t,n)=>{Y(e,t?d:u),Y(e,t?s:l),n&&n()},P=(e,t)=>{e._isLeaving=!1,Y(e,f),Y(e,v),Y(e,p),t&&t()},E=e=>(t,n)=>{const r=e?k:b,o=()=>x(t,e,n);B(r,[t,o]),G((()=>{Y(t,e?c:a),K(t,e?d:u),U(r)||J(t,i,m,o)}))};return(0,r.l7)(t,{onBeforeEnter(e){B(y,[e]),K(e,a),K(e,l)},onBeforeAppear(e){B(O,[e]),K(e,c),K(e,s)},onEnter:E(!1),onAppear:E(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>P(e,t);K(e,f),ee(),K(e,p),G((()=>{e._isLeaving&&(Y(e,f),K(e,v),U(w)||J(e,i,g,n))})),B(w,[e,n])},onEnterCancelled(e){x(e,!1),B(_,[e])},onAppearCancelled(e){x(e,!0),B(C,[e])},onLeaveCancelled(e){P(e),B(S,[e])}})}function z(e){if(null==e)return null;if((0,r.Kn)(e))return[Z(e.enter),Z(e.leave)];{const t=Z(e);return[t,t]}}function Z(e){const t=(0,r.He)(e);return t}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Y(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function G(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let $=0;function J(e,t,n,r){const i=e._endId=++$,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:l,propCount:u}=q(e,t);if(!a)return r();const c=a+"end";let s=0;const d=()=>{e.removeEventListener(c,f),o()},f=t=>{t.target===e&&++s>=u&&d()};setTimeout((()=>{s<u&&d()}),l+1),e.addEventListener(c,f)}function q(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(M+"Delay"),o=r(M+"Duration"),a=X(i,o),l=r(N+"Delay"),u=r(N+"Duration"),c=X(l,u);let s=null,d=0,f=0;t===M?a>0&&(s=M,d=a,f=o.length):t===N?c>0&&(s=N,d=c,f=u.length):(d=Math.max(a,c),s=d>0?a>c?M:N:null,f=s?s===M?o.length:u.length:0);const p=s===M&&/\b(transform|all)(,|$)/.test(n[M+"Property"]);return{type:s,timeout:d,propCount:f,hasTransform:p}}function X(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>Q(t)+Q(e[n]))))}function Q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},V,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let a,l;return(0,i.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ue(a[0].el,n.vnode.el,t))return;a.forEach(oe),a.forEach(ae);const r=a.filter(le);ee(),r.forEach((e=>{const n=e.el,r=n.style;K(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,Y(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const u=(0,o.IU)(e),c=H(u);let s=u.tag||i.HY;a=l,l=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<l.length;e++){const t=l[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,r,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.nK)(t,(0,i.U2)(t,c,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(s,null,l)}}},ie=re;function oe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ae(e){ne.set(e,e.el.getBoundingClientRect())}function le(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function ue(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=q(r);return i.removeChild(r),o}const ce={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):se(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),se(e,!0),r.enter(e)):r.leave(e,(()=>{se(e,!1)})):se(e,t))},beforeUnmount(e,{value:t}){se(e,t)}};function se(e,t){e.style.display=t?e._vod:"none"}const de=(0,r.l7)({patchProp:A},c);let fe;function pe(){return fe||(fe=(0,i.Us)(de))}const ve=(...e)=>{const t=pe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=he(e);if(!i)return;const o=t._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function he(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:function(){return p},DM:function(){return R},E9:function(){return ie},F7:function(){return C},Gg:function(){return Z},HD:function(){return M},He:function(){return ne},Kn:function(){return L},NO:function(){return O},Nj:function(){return te},Od:function(){return E},PO:function(){return H},Pq:function(){return l},RI:function(){return I},S0:function(){return z},W7:function(){return U},WV:function(){return m},Z6:function(){return w},_A:function(){return G},_N:function(){return j},aU:function(){return Q},dG:function(){return S},e1:function(){return o},fY:function(){return r},hR:function(){return X},hq:function(){return g},ir:function(){return ee},j5:function(){return c},kC:function(){return q},kJ:function(){return D},kT:function(){return _},l7:function(){return P},mf:function(){return F},rs:function(){return J},tI:function(){return W},tR:function(){return x},vs:function(){return v},yA:function(){return u},yk:function(){return N},zw:function(){return y}});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",l=r(a);function u(e){return!!e||""===e}function c(e){if(D(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=M(r)?f(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return M(e)||L(e)?e:void 0}const s=/;(?![^(]*\))/g,d=/:(.+)/;function f(e){const t={};return e.split(s).forEach((e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function p(e){let t="";if(M(e))t=e;else if(D(e))for(let n=0;n<e.length;n++){const r=p(e[n]);r&&(t+=r+" ")}else if(L(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function v(e){if(!e)return null;let{class:t,style:n}=e;return t&&!M(t)&&(e.class=p(t)),n&&(e.style=c(n)),e}function h(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=m(e[r],t[r]);return n}function m(e,t){if(e===t)return!0;let n=A(e),r=A(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=N(e),r=N(t),n||r)return e===t;if(n=D(e),r=D(t),n||r)return!(!n||!r)&&h(e,t);if(n=L(e),r=L(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!m(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>m(e,t)))}const y=e=>M(e)?e:null==e?"":D(e)||L(e)&&(e.toString===V||!F(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):j(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:R(t)?{[`Set(${t.size})`]:[...t.values()]}:!L(t)||D(t)||H(t)?t:String(t),_={},w=[],S=()=>{},O=()=>!1,k=/^on[^a-z]/,C=e=>k.test(e),x=e=>e.startsWith("onUpdate:"),P=Object.assign,E=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},T=Object.prototype.hasOwnProperty,I=(e,t)=>T.call(e,t),D=Array.isArray,j=e=>"[object Map]"===B(e),R=e=>"[object Set]"===B(e),A=e=>"[object Date]"===B(e),F=e=>"function"===typeof e,M=e=>"string"===typeof e,N=e=>"symbol"===typeof e,L=e=>null!==e&&"object"===typeof e,W=e=>L(e)&&F(e.then)&&F(e.catch),V=Object.prototype.toString,B=e=>V.call(e),U=e=>B(e).slice(8,-1),H=e=>"[object Object]"===B(e),z=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,Z=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),K=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},Y=/-(\w)/g,G=K((e=>e.replace(Y,((e,t)=>t?t.toUpperCase():"")))),$=/\B([A-Z])/g,J=K((e=>e.replace($,"-$1").toLowerCase())),q=K((e=>e.charAt(0).toUpperCase()+e.slice(1))),X=K((e=>e?`on${q(e)}`:"")),Q=(e,t)=>!Object.is(e,t),ee=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},te=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},6265:function(e,t,n){e.exports=n(9435)},4951:function(e,t,n){"use strict";n(2801);var r=n(6642),i=n(6806),o=n(3833),a=n(4360),l=n(5047),u=n(5976),c=n(9896),s=n(8507),d=n(3303),f=n(6090),p=n(1874);e.exports=function(e){return new Promise((function(t,n){var v,h=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(v),e.signal&&e.signal.removeEventListener("abort",v)}r.isFormData(h)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+w)}var S=l(e.baseURL,e.url);function O(){if(b){var r="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,o=g&&"text"!==g&&"json"!==g?b.response:b.responseText,a={data:o,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),b=null}}if(b.open(e.method.toUpperCase(),a(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=O:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(O)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||s;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||c(S))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(v=function(e){b&&(n(!e||e&&e.type?new f:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(v),e.signal&&(e.signal.aborted?v():e.signal.addEventListener("abort",v))),h||(h=null);var C=p(S);C&&-1===["http","https","file"].indexOf(C)?n(new d("Unsupported protocol "+C+":",d.ERR_BAD_REQUEST,e)):b.send(h)}))}},9435:function(e,t,n){"use strict";var r=n(6642),i=n(5955),o=n(7104),a=n(8186),l=n(7);function u(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n.create=function(t){return u(a(e,t))},n}var c=u(l);c.Axios=o,c.CanceledError=n(6090),c.CancelToken=n(6016),c.isCancel=n(5936),c.VERSION=n(4679).version,c.toFormData=n(8994),c.AxiosError=n(3303),c.Cancel=c.CanceledError,c.all=function(e){return Promise.all(e)},c.spread=n(5431),c.isAxiosError=n(786),e.exports=c,e.exports["default"]=c},6016:function(e,t,n){"use strict";n(1703);var r=n(6090);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},6090:function(e,t,n){"use strict";var r=n(3303),i=n(6642);function o(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}i.inherits(o,r,{__CANCEL__:!0}),e.exports=o},5936:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},7104:function(e,t,n){"use strict";var r=n(6642),i=n(4360),o=n(999),a=n(6559),l=n(8186),u=n(5047),c=n(6298),s=c.validators;function d(e){this.defaults=e,this.interceptors={request:new o,response:new o}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=l(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:s.transitional(s.boolean),forcedJSONParsing:s.transitional(s.boolean),clarifyTimeoutError:s.transitional(s.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var d=[a,void 0];Array.prototype.unshift.apply(d,r),d=d.concat(u),o=Promise.resolve(t);while(d.length)o=o.then(d.shift(),d.shift());return o}var f=t;while(r.length){var p=r.shift(),v=r.shift();try{f=p(f)}catch(h){v(h);break}}try{o=a(f)}catch(h){return Promise.reject(h)}while(u.length)o=o.then(u.shift(),u.shift());return o},d.prototype.getUri=function(e){e=l(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(l(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(l(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},3303:function(e,t,n){"use strict";n(1703);var r=n(6642);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,l,u){var c=Object.create(o);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,a,l),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},999:function(e,t,n){"use strict";var r=n(6642);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},5047:function(e,t,n){"use strict";var r=n(4777),i=n(2381);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6559:function(e,t,n){"use strict";var r=n(6642),i=n(3756),o=n(5936),a=n(7),l=n(6090);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l}e.exports=function(e){u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},8186:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function l(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},6806:function(e,t,n){"use strict";var r=n(3303);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},3756:function(e,t,n){"use strict";var r=n(6642),i=n(7);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},7:function(e,t,n){"use strict";var r=n(6642),i=n(1446),o=n(3303),a=n(8507),l=n(8994),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(4951)),e}function d(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var f={transitional:a,adapter:s(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||o&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return l(n?{"files[]":e}:e,u&&new u)}return o||"application/json"===a?(c(t,"application/json"),d(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(a){if("SyntaxError"===l.name)throw o.from(l,o.ERR_BAD_RESPONSE,this,null,this.response);throw l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1051)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){f.headers[e]=r.merge(u)})),e.exports=f},8507:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},4679:function(e){e.exports={version:"0.27.2"}},5955:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},4360:function(e,t,n){"use strict";var r=n(6642);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},2381:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3833:function(e,t,n){"use strict";var r=n(6642);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(i)&&l.push("path="+i),r.isString(o)&&l.push("domain="+o),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},4777:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},786:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},9896:function(e,t,n){"use strict";var r=n(6642);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},1446:function(e,t,n){"use strict";var r=n(6642);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},1051:function(e){e.exports=null},5976:function(e,t,n){"use strict";var r=n(6642),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},1874:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},5431:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8994:function(e,t,n){"use strict";n(1703);var r=n(6642);function i(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function o(e,a){if(r.isPlainObject(e)||r.isArray(e)){if(-1!==n.indexOf(e))throw Error("Circular reference detected in "+a);n.push(e),r.forEach(e,(function(e,n){if(!r.isUndefined(e)){var l,u=a?a+"."+n:n;if(e&&!a&&"object"===typeof e)if(r.endsWith(n,"{}"))e=JSON.stringify(e);else if(r.endsWith(n,"[]")&&(l=r.toArray(e)))return void l.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));o(e,u)}})),n.pop()}else t.append(a,i(e))}return o(e),t}e.exports=i},6298:function(e,t,n){"use strict";var r=n(4679).version,i=n(3303),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};function l(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);var r=Object.keys(e),o=r.length;while(o-- >0){var a=r[o],l=t[a];if(l){var u=e[a],c=void 0===u||l(u,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}}o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,l){if(!1===e)throw new i(o(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,l)}},e.exports={assertOptions:l,validators:o}},6642:function(e,t,n){"use strict";n(8675),n(7380),n(1118);var r=n(5955),i=Object.prototype.toString,o=function(e){return function(t){var n=i.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function a(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function l(e){return Array.isArray(e)}function u(e){return"undefined"===typeof e}function c(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var s=a("ArrayBuffer");function d(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer),t}function f(e){return"string"===typeof e}function p(e){return"number"===typeof e}function v(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var m=a("Date"),g=a("File"),y=a("Blob"),b=a("FileList");function _(e){return"[object Function]"===i.call(e)}function w(e){return v(e)&&_(e.pipe)}function S(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||i.call(e)===t||_(e.toString)&&e.toString()===t)}var O=a("URLSearchParams");function k(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function P(){var e={};function t(t,n){h(e[n])&&h(t)?e[n]=P(e[n],t):h(t)?e[n]=P({},t):l(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)x(arguments[n],t);return e}function E(e,t,n){return x(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function T(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function I(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function D(e,t,n){var r,i,o,a={};t=t||{};do{r=Object.getOwnPropertyNames(e),i=r.length;while(i-- >0)o=r[i],a[o]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function j(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function R(e){if(!e)return null;var t=e.length;if(u(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n}var A=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));e.exports={isArray:l,isArrayBuffer:s,isBuffer:c,isFormData:S,isArrayBufferView:d,isString:f,isNumber:p,isObject:v,isPlainObject:h,isUndefined:u,isDate:m,isFile:g,isBlob:y,isFunction:_,isStream:w,isURLSearchParams:O,isStandardBrowserEnv:C,forEach:x,merge:P,extend:E,trim:k,stripBOM:T,inherits:I,toFlatObject:D,kindOf:o,kindOfTest:a,endsWith:j,toArray:R,isTypedArray:A,isFileList:b}},5623:function(e,t,n){var r=n(3301),i=n(3992),o=n(2762),a=n(3584),l=n(5745);function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,e.exports=u},5094:function(e,t,n){var r=n(4209),i=n(6326),o=n(4697),a=n(556),l=n(2405);function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,e.exports=u},9014:function(e,t,n){var r=n(6213),i=n(9159),o=r(i,"Map");e.exports=o},8082:function(e,t,n){var r=n(1052),i=n(9240),o=n(8843),a=n(27),l=n(9154);function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,e.exports=u},4614:function(e,t,n){var r=n(5094),i=n(846),o=n(1353),a=n(2334),l=n(252),u=n(1538);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype["delete"]=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=u,e.exports=c},9016:function(e,t,n){var r=n(9159),i=r.Symbol;e.exports=i},6522:function(e,t,n){var r=n(9159),i=r.Uint8Array;e.exports=i},9707:function(e){function t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=t},7498:function(e,t,n){var r=n(2802),i=n(8804),o=n(6602),a=n(1976),l=n(8286),u=n(6965),c=Object.prototype,s=c.hasOwnProperty;function d(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),f=!n&&!c&&!d&&u(e),p=n||c||d||f,v=p?r(e.length,String):[],h=v.length;for(var m in e)!t&&!s.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,h))||v.push(m);return v}e.exports=d},5234:function(e,t,n){var r=n(3883),i=n(3307);function o(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=o},1767:function(e,t,n){var r=n(3883),i=n(3307),o=Object.prototype,a=o.hasOwnProperty;function l(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=l},6637:function(e,t,n){var r=n(3307);function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},3883:function(e,t,n){var r=n(6105);function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},1262:function(e,t,n){var r=n(150),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},4427:function(e,t,n){var r=n(1686),i=r();e.exports=i},6423:function(e,t,n){var r=n(9016),i=n(2366),o=n(2886),a="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;function c(e){return null==e?void 0===e?l:a:u&&u in Object(e)?i(e):o(e)}e.exports=c},9986:function(e,t,n){var r=n(6423),i=n(4430),o="[object Arguments]";function a(e){return i(e)&&r(e)==o}e.exports=a},6853:function(e,t,n){var r=n(9314),i=n(2604),o=n(150),a=n(627),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,d=c.toString,f=s.hasOwnProperty,p=RegExp("^"+d.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(e){if(!o(e)||i(e))return!1;var t=r(e)?p:u;return t.test(a(e))}e.exports=v},6930:function(e,t,n){var r=n(6423),i=n(4629),o=n(4430),a="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",s="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",v="[object Object]",h="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",I={};function D(e){return o(e)&&i(e.length)&&!!I[r(e)]}I[w]=I[S]=I[O]=I[k]=I[C]=I[x]=I[P]=I[E]=I[T]=!0,I[a]=I[l]=I[b]=I[u]=I[_]=I[c]=I[s]=I[d]=I[f]=I[p]=I[v]=I[h]=I[m]=I[g]=I[y]=!1,e.exports=D},6101:function(e,t,n){var r=n(150),i=n(9192),o=n(5083),a=Object.prototype,l=a.hasOwnProperty;function u(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&l.call(e,a))&&n.push(a);return n}e.exports=u},1720:function(e,t,n){var r=n(4614),i=n(5234),o=n(4427),a=n(9661),l=n(150),u=n(4494),c=n(6334);function s(e,t,n,d,f){e!==t&&o(t,(function(o,u){if(f||(f=new r),l(o))a(e,t,u,n,s,d,f);else{var p=d?d(c(e,u),o,u+"",e,t,f):void 0;void 0===p&&(p=o),i(e,u,p)}}),u)}e.exports=s},9661:function(e,t,n){var r=n(5234),i=n(9097),o=n(2385),a=n(1548),l=n(8895),u=n(8804),c=n(6602),s=n(8306),d=n(1976),f=n(9314),p=n(150),v=n(1012),h=n(6965),m=n(6334),g=n(5791);function y(e,t,n,y,b,_,w){var S=m(e,n),O=m(t,n),k=w.get(O);if(k)r(e,n,k);else{var C=_?_(S,O,n+"",e,t,w):void 0,x=void 0===C;if(x){var P=c(O),E=!P&&d(O),T=!P&&!E&&h(O);C=O,P||E||T?c(S)?C=S:s(S)?C=a(S):E?(x=!1,C=i(O,!0)):T?(x=!1,C=o(O,!0)):C=[]:v(O)||u(O)?(C=S,u(S)?C=g(S):p(S)&&!f(S)||(C=l(O))):x=!1}x&&(w.set(O,C),b(C,O,y,_,w),w["delete"](O)),r(e,n,C)}}e.exports=y},7628:function(e,t,n){var r=n(9761),i=n(2187),o=n(4396);function a(e,t){return o(i(e,t,r),e+"")}e.exports=a},8795:function(e,t,n){var r=n(9483),i=n(6105),o=n(9761),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},2802:function(e){function t(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=t},7362:function(e){function t(e){return function(t){return e(t)}}e.exports=t},2635:function(e,t,n){var r=n(6522);function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},9097:function(e,t,n){e=n.nmd(e);var r=n(9159),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i,l=a?r.Buffer:void 0,u=l?l.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}e.exports=c},2385:function(e,t,n){var r=n(2635);function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},1548:function(e){function t(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=t},6877:function(e,t,n){var r=n(1767),i=n(3883);function o(e,t,n,o){var a=!n;n||(n={});var l=-1,u=t.length;while(++l<u){var c=t[l],s=o?o(n[c],e[c],c,n,e):void 0;void 0===s&&(s=e[c]),a?i(n,c,s):r(n,c,s)}return n}e.exports=o},9749:function(e,t,n){var r=n(9159),i=r["__core-js_shared__"];e.exports=i},5882:function(e,t,n){var r=n(7628),i=n(5875);function o(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,l=o>2?n[2]:void 0;a=e.length>3&&"function"==typeof a?(o--,a):void 0,l&&i(n[0],n[1],l)&&(a=o<3?void 0:a,o=1),t=Object(t);while(++r<o){var u=n[r];u&&e(t,u,r,a)}return t}))}e.exports=o},1686:function(e){function t(e){return function(t,n,r){var i=-1,o=Object(t),a=r(t),l=a.length;while(l--){var u=a[e?l:++i];if(!1===n(o[u],u,o))break}return t}}e.exports=t},6105:function(e,t,n){var r=n(6213),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},791:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},3582:function(e,t,n){var r=n(5462);function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},6213:function(e,t,n){var r=n(6853),i=n(8474);function o(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=o},4677:function(e,t,n){var r=n(1867),i=r(Object.getPrototypeOf,Object);e.exports=i},2366:function(e,t,n){var r=n(9016),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;function u(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[l]=n:delete e[l]),i}e.exports=u},8474:function(e){function t(e,t){return null==e?void 0:e[t]}e.exports=t},3301:function(e,t,n){var r=n(988);function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},3992:function(e){function t(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=t},2762:function(e,t,n){var r=n(988),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function l(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}e.exports=l},3584:function(e,t,n){var r=n(988),i=Object.prototype,o=i.hasOwnProperty;function a(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}e.exports=a},5745:function(e,t,n){var r=n(988),i="__lodash_hash_undefined__";function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=o},8895:function(e,t,n){var r=n(1262),i=n(4677),o=n(9192);function a(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}e.exports=a},8286:function(e){var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(e,r){var i=typeof e;return r=null==r?t:r,!!r&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<r}e.exports=r},5875:function(e,t,n){var r=n(3307),i=n(5372),o=n(8286),a=n(150);function l(e,t,n){if(!a(n))return!1;var l=typeof t;return!!("number"==l?i(n)&&o(t,n.length):"string"==l&&t in n)&&r(n[t],e)}e.exports=l},5462:function(e){function t(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=t},2604:function(e,t,n){var r=n(9749),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},9192:function(e){var t=Object.prototype;function n(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||t;return e===r}e.exports=n},4209:function(e){function t(){this.__data__=[],this.size=0}e.exports=t},6326:function(e,t,n){var r=n(6637),i=Array.prototype,o=i.splice;function a(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():o.call(t,n,1),--this.size,!0}e.exports=a},4697:function(e,t,n){var r=n(6637);function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},556:function(e,t,n){var r=n(6637);function i(e){return r(this.__data__,e)>-1}e.exports=i},2405:function(e,t,n){var r=n(6637);function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},1052:function(e,t,n){var r=n(5623),i=n(5094),o=n(9014);function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}e.exports=a},9240:function(e,t,n){var r=n(3582);function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},8843:function(e,t,n){var r=n(3582);function i(e){return r(this,e).get(e)}e.exports=i},27:function(e,t,n){var r=n(3582);function i(e){return r(this,e).has(e)}e.exports=i},9154:function(e,t,n){var r=n(3582);function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},988:function(e,t,n){var r=n(6213),i=r(Object,"create");e.exports=i},5083:function(e){function t(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=t},1330:function(e,t,n){e=n.nmd(e);var r=n(791),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i,l=a&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=u},2886:function(e){var t=Object.prototype,n=t.toString;function r(e){return n.call(e)}e.exports=r},1867:function(e){function t(e,t){return function(n){return e(t(n))}}e.exports=t},2187:function(e,t,n){var r=n(9707),i=Math.max;function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var o=arguments,a=-1,l=i(o.length-t,0),u=Array(l);while(++a<l)u[a]=o[t+a];a=-1;var c=Array(t+1);while(++a<t)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}e.exports=o},9159:function(e,t,n){var r=n(791),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6334:function(e){function t(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=t},4396:function(e,t,n){var r=n(8795),i=n(2499),o=i(r);e.exports=o},2499:function(e){var t=800,n=16,r=Date.now;function i(e){var i=0,o=0;return function(){var a=r(),l=n-(a-o);if(o=a,l>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}e.exports=i},846:function(e,t,n){var r=n(5094);function i(){this.__data__=new r,this.size=0}e.exports=i},1353:function(e){function t(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=t},2334:function(e){function t(e){return this.__data__.get(e)}e.exports=t},252:function(e){function t(e){return this.__data__.has(e)}e.exports=t},1538:function(e,t,n){var r=n(5094),i=n(9014),o=n(8082),a=200;function l(e,t){var n=this.__data__;if(n instanceof r){var l=n.__data__;if(!i||l.length<a-1)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(l)}return n.set(e,t),this.size=n.size,this}e.exports=l},627:function(e){var t=Function.prototype,n=t.toString;function r(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=r},9483:function(e){function t(e){return function(){return e}}e.exports=t},3307:function(e){function t(e,t){return e===t||e!==e&&t!==t}e.exports=t},9761:function(e){function t(e){return e}e.exports=t},8804:function(e,t,n){var r=n(9986),i=n(4430),o=Object.prototype,a=o.hasOwnProperty,l=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=u},6602:function(e){var t=Array.isArray;e.exports=t},5372:function(e,t,n){var r=n(9314),i=n(4629);function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},8306:function(e,t,n){var r=n(5372),i=n(4430);function o(e){return i(e)&&r(e)}e.exports=o},1976:function(e,t,n){e=n.nmd(e);var r=n(9159),i=n(2225),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,l=a&&a.exports===o,u=l?r.Buffer:void 0,c=u?u.isBuffer:void 0,s=c||i;e.exports=s},9314:function(e,t,n){var r=n(6423),i=n(150),o="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function c(e){if(!i(e))return!1;var t=r(e);return t==a||t==l||t==o||t==u}e.exports=c},4629:function(e){var t=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}e.exports=n},150:function(e){function t(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=t},4430:function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},1012:function(e,t,n){var r=n(6423),i=n(4677),o=n(4430),a="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,s=u.hasOwnProperty,d=c.call(Object);function f(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}e.exports=f},6965:function(e,t,n){var r=n(6930),i=n(7362),o=n(1330),a=o&&o.isTypedArray,l=a?i(a):r;e.exports=l},4494:function(e,t,n){var r=n(7498),i=n(6101),o=n(5372);function a(e){return o(e)?r(e,!0):i(e)}e.exports=a},1823:function(e,t,n){var r=n(1720),i=n(5882),o=i((function(e,t,n){r(e,t,n)}));e.exports=o},2225:function(e){function t(){return!1}e.exports=t},5791:function(e,t,n){var r=n(6877),i=n(4494);function o(e){return r(e,i(e))}e.exports=o},6370:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:function(){return r}})},6254:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.88 8a2.88 2.88 0 11-5.76 0 2.88 2.88 0 015.76 0zm-1 0a1.88 1.88 0 10-3.76 0 1.88 1.88 0 003.76 0z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M1.12 8.23A7.72 7.72 0 008 12.5c2.9 0 5.54-1.63 6.88-4.27L15 8l-.12-.23A7.73 7.73 0 008 3.5a7.74 7.74 0 00-6.88 4.27L1 8l.12.23zM8 11.5A6.73 6.73 0 012.11 8 6.73 6.73 0 0113.9 8 6.74 6.74 0 018 11.5z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"BrowseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-browse",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},7173:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-check-circle-filled",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},6652:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.54 6.46l.92-.92L8 9.08l3.54-3.54.92.92L8 10.92 3.54 6.46z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-chevron-down",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},5273:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.54 3.54l.92.92L6.92 8l3.54 3.54-.92.92L5.08 8l4.46-4.46z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-chevron-left",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},742:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.46 12.46l-.92-.92L9.08 8 5.54 4.46l.92-.92L10.92 8l-4.46 4.46z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-chevron-right",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},3585:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.46 9.54l-.92.92L8 6.92l-3.54 3.54-.92-.92L8 5.08l4.46 4.46z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-chevron-up",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},8420:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.67 4.95L8 7.29l2.33-2.34.7.7L8.7 8l2.34 2.35-.71.7L8 8.71l-2.33 2.34-.7-.7L7.3 8 4.96 5.65l.71-.7z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-close-circle-filled",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},4270:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 8.92L11.08 12l.92-.92L8.92 8 12 4.92 11.08 4 8 7.08 4.92 4 4 4.92 7.08 8 4 11.08l.92.92L8 8.92z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-close",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},2596:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM8.5 4v5.5h-1V4h1zm-1.1 7h1.2v1.2H7.4V11z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-error-circle-filled",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},61:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 101 8a7 7 0 0014 0zM5.8 6.63a2.2 2.2 0 014.39 0c0 .97-.75 1.72-1.49 2.02a.34.34 0 00-.2.32v.8h-1v-.8c0-.56.33-1.04.82-1.24.5-.2.87-.66.87-1.1a1.2 1.2 0 00-2.39 0h-1zm1.67 4.54a.53.53 0 111.05 0 .53.53 0 01-1.05 0z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"HelpCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-help-circle-filled",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},7168:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(6370),i=n(3396),o=n(2215),a=n(4344);n(3727);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM7.4 4h1.2v1.2H7.4V4zm.1 2.5h1V12h-1V6.5z",fillOpacity:.9}}]},s=(0,i.aZ)({name:"InfoCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:l,style:s}=(0,a.Z)(r),d=(0,i.Fl)((()=>["t-icon","t-icon-info-circle-filled",l.value])),f=(0,i.Fl)((()=>u(u({},s.value),n.style))),p=(0,i.Fl)((()=>({class:d.value,style:f.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.Z)(c,p.value)}})},3727:function(){},7149:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var r="t",i="zh-CN",o={classPrefix:r,locale:i}},2215:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(6370),i=n(3396);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){var t=["fillOpacity","fillRule","clipRule"];return t.includes(e)?e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():e}function u(e,t){var n=Object.keys(e.attrs).reduce(((t,n)=>(t[l(n)]=e.attrs[n],t)),{});return(0,i.h)(e.tag,a(a({},n),t),(e.children||[]).map((e=>u(e,{}))))}},4344:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3396),i=n(7149);function o(){var{classPrefix:e}=i.ZP;return{SIZE:{default:"",xs:"".concat(e,"-size-xs"),small:"".concat(e,"-size-s"),medium:"".concat(e,"-size-m"),large:"".concat(e,"-size-l"),xl:"".concat(e,"-size-xl"),block:"".concat(e,"-size-full-width")},STATUS:{loading:"".concat(e,"-is-loading"),disabled:"".concat(e,"-is-disabled"),focused:"".concat(e,"-is-focused"),success:"".concat(e,"-is-success"),error:"".concat(e,"-is-error"),warning:"".concat(e,"-is-warning"),selected:"".concat(e,"-is-selected"),active:"".concat(e,"-is-active"),checked:"".concat(e,"-is-checked"),current:"".concat(e,"-is-current"),hidden:"".concat(e,"-is-hidden"),visible:"".concat(e,"-is-visible"),expanded:"".concat(e,"-is-expanded"),indeterminate:"".concat(e,"-is-indeterminate")}}}function a(e){var t=o().SIZE,n=(0,r.Fl)((()=>e.value in t?t[e.value]:"")),i=(0,r.Fl)((()=>void 0===e.value||e.value in t?{}:{fontSize:e.value}));return{style:i,className:n}}},2741:function(e,t,n){n(1703),n(6314),n(438),n(2801),n(8675),n(7380),n(1118),function(t,n){e.exports=n()}(0,(function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=w(a,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=c;var d={};function f(){}function p(){}function v(){}var h={};u(h,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var y=v.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,o,a,l){var u=s(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=v,u(y,"constructor",v),u(v,"constructor",p),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new _(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),u(y,l,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,u,"next",e)}function u(e){o(a,r,i,l,u,"throw",e)}l(void 0)}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,n){return h=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i},h.apply(null,arguments)}function m(e){var t="function"==typeof Map?new Map:void 0;return m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)},m(e)}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){var t=v();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function b(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=b(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_.apply(this,arguments)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function x(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{},E=function(e){return e&&e.Math==Math&&e},T=E("object"==typeof globalThis&&globalThis)||E("object"==typeof window&&window)||E("object"==typeof self&&self)||E("object"==typeof P&&P)||function(){return this}()||Function("return this")(),I={},D=function(e){try{return!!e()}catch(t){return!0}},j=!D((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),R=!D((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),A=R,F=Function.prototype.call,M=A?F.bind(F):function(){return F.apply(F,arguments)},N={},L={}.propertyIsEnumerable,W=Object.getOwnPropertyDescriptor,V=W&&!L.call({1:2},1);N.f=V?function(e){var t=W(this,e);return!!t&&t.enumerable}:L;var B,U,H=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},z=R,Z=Function.prototype,K=Z.bind,Y=Z.call,G=z&&K.bind(Y,Y),$=z?function(e){return e&&G(e)}:function(e){return e&&function(){return Y.apply(e,arguments)}},J=$,q=J({}.toString),X=J("".slice),Q=function(e){return X(q(e),8,-1)},ee=D,te=Q,ne=Object,re=$("".split),ie=ee((function(){return!ne("z").propertyIsEnumerable(0)}))?function(e){return"String"==te(e)?re(e,""):ne(e)}:ne,oe=function(e){return null==e},ae=oe,le=TypeError,ue=function(e){if(ae(e))throw le("Can't call method on "+e);return e},ce=ie,se=ue,de=function(e){return ce(se(e))},fe=function(e){return"function"==typeof e},pe=fe,ve="object"==typeof document&&document.all,he=void 0===ve&&void 0!==ve?function(e){return"object"==typeof e?null!==e:pe(e)||e===ve}:function(e){return"object"==typeof e?null!==e:pe(e)},me=T,ge=fe,ye=function(e){return ge(e)?e:void 0},be=function(e,t){return arguments.length<2?ye(me[e]):me[e]&&me[e][t]},_e=$({}.isPrototypeOf),we=be("navigator","userAgent")||"",Se=T,Oe=we,ke=Se.process,Ce=Se.Deno,xe=ke&&ke.versions||Ce&&Ce.version,Pe=xe&&xe.v8;Pe&&(U=(B=Pe.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!U&&Oe&&(!(B=Oe.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=Oe.match(/Chrome\/(\d+)/))&&(U=+B[1]);var Ee=U,Te=Ee,Ie=D,De=!!Object.getOwnPropertySymbols&&!Ie((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Te&&Te<41})),je=De&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Re=be,Ae=fe,Fe=_e,Me=Object,Ne=je?function(e){return"symbol"==typeof e}:function(e){var t=Re("Symbol");return Ae(t)&&Fe(t.prototype,Me(e))},Le=String,We=function(e){try{return Le(e)}catch(t){return"Object"}},Ve=fe,Be=We,Ue=TypeError,He=function(e){if(Ve(e))return e;throw Ue(Be(e)+" is not a function")},ze=He,Ze=oe,Ke=function(e,t){var n=e[t];return Ze(n)?void 0:ze(n)},Ye=M,Ge=fe,$e=he,Je=TypeError,qe={exports:{}},Xe=T,Qe=Object.defineProperty,et=function(e,t){try{Qe(Xe,e,{value:t,configurable:!0,writable:!0})}catch(r){Xe[e]=t}return t},tt=et,nt="__core-js_shared__",rt=T[nt]||tt(nt,{}),it=rt;(qe.exports=function(e,t){return it[e]||(it[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"});var ot=ue,at=Object,lt=function(e){return at(ot(e))},ut=lt,ct=$({}.hasOwnProperty),st=Object.hasOwn||function(e,t){return ct(ut(e),t)},dt=$,ft=0,pt=Math.random(),vt=dt(1..toString),ht=function(e){return"Symbol("+(void 0===e?"":e)+")_"+vt(++ft+pt,36)},mt=T,gt=qe.exports,yt=st,bt=ht,_t=De,wt=je,St=gt("wks"),Ot=mt.Symbol,kt=Ot&&Ot.for,Ct=wt?Ot:Ot&&Ot.withoutSetter||bt,xt=function(e){if(!yt(St,e)||!_t&&"string"!=typeof St[e]){var t="Symbol."+e;_t&&yt(Ot,e)?St[e]=Ot[e]:St[e]=wt&&kt?kt(t):Ct(t)}return St[e]},Pt=M,Et=he,Tt=Ne,It=Ke,Dt=function(e,t){var n,r;if("string"===t&&Ge(n=e.toString)&&!$e(r=Ye(n,e)))return r;if(Ge(n=e.valueOf)&&!$e(r=Ye(n,e)))return r;if("string"!==t&&Ge(n=e.toString)&&!$e(r=Ye(n,e)))return r;throw Je("Can't convert object to primitive value")},jt=TypeError,Rt=xt("toPrimitive"),At=function(e,t){if(!Et(e)||Tt(e))return e;var n,r=It(e,Rt);if(r){if(void 0===t&&(t="default"),n=Pt(r,e,t),!Et(n)||Tt(n))return n;throw jt("Can't convert object to primitive value")}return void 0===t&&(t="number"),Dt(e,t)},Ft=At,Mt=Ne,Nt=function(e){var t=Ft(e,"string");return Mt(t)?t:t+""},Lt=he,Wt=T.document,Vt=Lt(Wt)&&Lt(Wt.createElement),Bt=function(e){return Vt?Wt.createElement(e):{}},Ut=Bt,Ht=!j&&!D((function(){return 7!=Object.defineProperty(Ut("div"),"a",{get:function(){return 7}}).a})),zt=j,Zt=M,Kt=N,Yt=H,Gt=de,$t=Nt,Jt=st,qt=Ht,Xt=Object.getOwnPropertyDescriptor;I.f=zt?Xt:function(e,t){if(e=Gt(e),t=$t(t),qt)try{return Xt(e,t)}catch(r){}if(Jt(e,t))return Yt(!Zt(Kt.f,e,t),e[t])};var Qt={},en=j&&D((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),tn=he,nn=String,rn=TypeError,on=function(e){if(tn(e))return e;throw rn(nn(e)+" is not an object")},an=j,ln=Ht,un=en,cn=on,sn=Nt,dn=TypeError,fn=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,vn="enumerable",hn="configurable",mn="writable";Qt.f=an?un?function(e,t,n){if(cn(e),t=sn(t),cn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&mn in n&&!n.writable){var r=pn(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:hn in n?n.configurable:r.configurable,enumerable:vn in n?n.enumerable:r.enumerable,writable:!1})}return fn(e,t,n)}:fn:function(e,t,n){if(cn(e),t=sn(t),cn(n),ln)try{return fn(e,t,n)}catch(i){}if("get"in n||"set"in n)throw dn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var gn=Qt,yn=H,bn=j?function(e,t,n){return gn.f(e,t,yn(1,n))}:function(e,t,n){return e[t]=n,e},_n={exports:{}},wn=j,Sn=st,On=Function.prototype,kn=wn&&Object.getOwnPropertyDescriptor,Cn=Sn(On,"name"),xn={EXISTS:Cn,PROPER:Cn&&"something"===function(){}.name,CONFIGURABLE:Cn&&(!wn||wn&&kn(On,"name").configurable)},Pn=fe,En=rt,Tn=$(Function.toString);Pn(En.inspectSource)||(En.inspectSource=function(e){return Tn(e)});var In,Dn,jn,Rn=En.inspectSource,An=fe,Fn=T.WeakMap,Mn=An(Fn)&&/native code/.test(String(Fn)),Nn=qe.exports,Ln=ht,Wn=Nn("keys"),Vn=function(e){return Wn[e]||(Wn[e]=Ln(e))},Bn={},Un=Mn,Hn=T,zn=$,Zn=he,Kn=bn,Yn=st,Gn=rt,$n=Vn,Jn=Bn,qn="Object already initialized",Xn=Hn.TypeError,Qn=Hn.WeakMap;if(Un||Gn.state){var er=Gn.state||(Gn.state=new Qn),tr=zn(er.get),nr=zn(er.has),rr=zn(er.set);In=function(e,t){if(nr(er,e))throw Xn(qn);return t.facade=e,rr(er,e,t),t},Dn=function(e){return tr(er,e)||{}},jn=function(e){return nr(er,e)}}else{var ir=$n("state");Jn[ir]=!0,In=function(e,t){if(Yn(e,ir))throw Xn(qn);return t.facade=e,Kn(e,ir,t),t},Dn=function(e){return Yn(e,ir)?e[ir]:{}},jn=function(e){return Yn(e,ir)}}var or={set:In,get:Dn,has:jn,enforce:function(e){return jn(e)?Dn(e):In(e,{})},getterFor:function(e){return function(t){var n;if(!Zn(t)||(n=Dn(t)).type!==e)throw Xn("Incompatible receiver, "+e+" required");return n}}},ar=D,lr=fe,ur=st,cr=j,sr=xn.CONFIGURABLE,dr=Rn,fr=or.enforce,pr=or.get,vr=Object.defineProperty,hr=cr&&!ar((function(){return 8!==vr((function(){}),"length",{value:8}).length})),mr=String(String).split("String"),gr=_n.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!ur(e,"name")||sr&&e.name!==t)&&(cr?vr(e,"name",{value:t,configurable:!0}):e.name=t),hr&&n&&ur(n,"arity")&&e.length!==n.arity&&vr(e,"length",{value:n.arity});try{n&&ur(n,"constructor")&&n.constructor?cr&&vr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=fr(e);return ur(r,"source")||(r.source=mr.join("string"==typeof t?t:"")),e};Function.prototype.toString=gr((function(){return lr(this)&&pr(this).source||dr(this)}),"toString");var yr=fe,br=Qt,_r=_n.exports,wr=et,Sr=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(yr(n)&&_r(n,o,r),r.global)i?e[t]=n:wr(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(l){}i?e[t]=n:br.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Or={},kr=Math.ceil,Cr=Math.floor,xr=Math.trunc||function(e){var t=+e;return(t>0?Cr:kr)(t)},Pr=function(e){var t=+e;return t!=t||0===t?0:xr(t)},Er=Pr,Tr=Math.max,Ir=Math.min,Dr=function(e,t){var n=Er(e);return n<0?Tr(n+t,0):Ir(n,t)},jr=Pr,Rr=Math.min,Ar=function(e){return e>0?Rr(jr(e),9007199254740991):0},Fr=Ar,Mr=function(e){return Fr(e.length)},Nr=de,Lr=Dr,Wr=Mr,Vr=function(e){return function(t,n,r){var i,o=Nr(t),a=Wr(o),l=Lr(r,a);if(e&&n!=n){for(;a>l;)if((i=o[l++])!=i)return!0}else for(;a>l;l++)if((e||l in o)&&o[l]===n)return e||l||0;return!e&&-1}},Br={includes:Vr(!0),indexOf:Vr(!1)},Ur=st,Hr=de,zr=Br.indexOf,Zr=Bn,Kr=$([].push),Yr=function(e,t){var n,r=Hr(e),i=0,o=[];for(n in r)!Ur(Zr,n)&&Ur(r,n)&&Kr(o,n);for(;t.length>i;)Ur(r,n=t[i++])&&(~zr(o,n)||Kr(o,n));return o},Gr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$r=Yr,Jr=Gr.concat("length","prototype");Or.f=Object.getOwnPropertyNames||function(e){return $r(e,Jr)};var qr={};qr.f=Object.getOwnPropertySymbols;var Xr=be,Qr=Or,ei=qr,ti=on,ni=$([].concat),ri=Xr("Reflect","ownKeys")||function(e){var t=Qr.f(ti(e)),n=ei.f;return n?ni(t,n(e)):t},ii=st,oi=ri,ai=I,li=Qt,ui=D,ci=fe,si=/#|\.prototype\./,di=function(e,t){var n=pi[fi(e)];return n==hi||n!=vi&&(ci(t)?ui(t):!!t)},fi=di.normalize=function(e){return String(e).replace(si,".").toLowerCase()},pi=di.data={},vi=di.NATIVE="N",hi=di.POLYFILL="P",mi=di,gi=T,yi=I.f,bi=bn,_i=Sr,wi=et,Si=function(e,t,n){for(var r=oi(t),i=li.f,o=ai.f,a=0;a<r.length;a++){var l=r[a];ii(e,l)||n&&ii(n,l)||i(e,l,o(t,l))}},Oi=mi,ki=function(e,t){var n,r,i,o,a,l=e.target,u=e.global,c=e.stat;if(n=u?gi:c?gi[l]||wi(l,{}):(gi[l]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=yi(n,r))&&a.value:n[r],!Oi(u?r:l+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Si(o,i)}(e.sham||i&&i.sham)&&bi(o,"sham",!0),_i(n,r,o,e)}},Ci=He,xi=R,Pi=$($.bind),Ei=function(e,t){return Ci(e),void 0===t?e:xi?Pi(e,t):function(){return e.apply(t,arguments)}},Ti=Q,Ii=Array.isArray||function(e){return"Array"==Ti(e)},Di={};Di[xt("toStringTag")]="z";var ji="[object z]"===String(Di),Ri=ji,Ai=fe,Fi=Q,Mi=xt("toStringTag"),Ni=Object,Li="Arguments"==Fi(function(){return arguments}()),Wi=Ri?Fi:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Ni(e),Mi))?n:Li?Fi(t):"Object"==(r=Fi(t))&&Ai(t.callee)?"Arguments":r},Vi=$,Bi=D,Ui=fe,Hi=Wi,zi=Rn,Zi=function(){},Ki=[],Yi=be("Reflect","construct"),Gi=/^\s*(?:class|function)\b/,$i=Vi(Gi.exec),Ji=!Gi.exec(Zi),qi=function(e){if(!Ui(e))return!1;try{return Yi(Zi,Ki,e),!0}catch(t){return!1}},Xi=function(e){if(!Ui(e))return!1;switch(Hi(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ji||!!$i(Gi,zi(e))}catch(t){return!0}};Xi.sham=!0;var Qi=!Yi||Bi((function(){var e;return qi(qi.call)||!qi(Object)||!qi((function(){e=!0}))||e}))?Xi:qi,eo=Ii,to=Qi,no=he,ro=xt("species"),io=Array,oo=function(e){var t;return eo(e)&&(t=e.constructor,(to(t)&&(t===io||eo(t.prototype))||no(t)&&null===(t=t[ro]))&&(t=void 0)),void 0===t?io:t},ao=function(e,t){return new(oo(e))(0===t?0:t)},lo=Ei,uo=ie,co=lt,so=Mr,fo=ao,po=$([].push),vo=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,l=5==e||o;return function(u,c,s,d){for(var f,p,v=co(u),h=uo(v),m=lo(c,s),g=so(h),y=0,b=d||fo,_=t?b(u,g):n||a?b(u,0):void 0;g>y;y++)if((l||y in h)&&(p=m(f=h[y],y,v),e))if(t)_[y]=p;else if(p)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:po(_,f)}else switch(e){case 4:return!1;case 7:po(_,f)}return o?-1:r||i?i:_}},ho={forEach:vo(0),map:vo(1),filter:vo(2),some:vo(3),every:vo(4),find:vo(5),findIndex:vo(6),filterReject:vo(7)},mo=D,go=Ee,yo=xt("species"),bo=function(e){return go>=51||!mo((function(){var t=[];return(t.constructor={})[yo]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},_o=ho.map;ki({target:"Array",proto:!0,forced:!bo("map")},{map:function(e){return _o(this,e,arguments.length>1?arguments[1]:void 0)}});var wo=ho.filter;ki({target:"Array",proto:!0,forced:!bo("filter")},{filter:function(e){return wo(this,e,arguments.length>1?arguments[1]:void 0)}});var So=Wi,Oo=ji?{}.toString:function(){return"[object "+So(this)+"]"};ji||Sr(Object.prototype,"toString",Oo,{unsafe:!0});var ko=ki,Co=D,xo=de,Po=I.f,Eo=j,To=Co((function(){Po(1)}));ko({target:"Object",stat:!0,forced:!Eo||To,sham:!Eo},{getOwnPropertyDescriptor:function(e,t){return Po(xo(e),t)}});var Io=Wi,Do=String,jo=function(e){if("Symbol"===Io(e))throw TypeError("Cannot convert a Symbol value to a string");return Do(e)},Ro=on,Ao=function(){var e=Ro(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Fo=D,Mo=T.RegExp,No=Fo((function(){var e=Mo("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Lo=No||Fo((function(){return!Mo("a","y").sticky})),Wo={BROKEN_CARET:No||Fo((function(){var e=Mo("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Lo,UNSUPPORTED_Y:No},Vo={},Bo=Yr,Uo=Gr,Ho=Object.keys||function(e){return Bo(e,Uo)},zo=j,Zo=en,Ko=Qt,Yo=on,Go=de,$o=Ho;Vo.f=zo&&!Zo?Object.defineProperties:function(e,t){Yo(e);for(var n,r=Go(t),i=$o(t),o=i.length,a=0;o>a;)Ko.f(e,n=i[a++],r[n]);return e};var Jo,qo=be("document","documentElement"),Xo=on,Qo=Vo,ea=Gr,ta=Bn,na=qo,ra=Bt,ia=Vn("IE_PROTO"),oa=function(){},aa=function(e){return"<script>"+e+"<\/script>"},la=function(e){e.write(aa("")),e.close();var t=e.parentWindow.Object;return e=null,t},ua=function(){try{Jo=new ActiveXObject("htmlfile")}catch(i){}var e,t;ua="undefined"!=typeof document?document.domain&&Jo?la(Jo):((t=ra("iframe")).style.display="none",na.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(aa("document.F=Object")),e.close(),e.F):la(Jo);for(var n=ea.length;n--;)delete ua.prototype[ea[n]];return ua()};ta[ia]=!0;var ca=Object.create||function(e,t){var n;return null!==e?(oa.prototype=Xo(e),n=new oa,oa.prototype=null,n[ia]=e):n=ua(),void 0===t?n:Qo.f(n,t)},sa=D,da=T.RegExp,fa=sa((function(){var e=da(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),pa=D,va=T.RegExp,ha=pa((function(){var e=va("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),ma=M,ga=$,ya=jo,ba=Ao,_a=Wo,wa=qe.exports,Sa=ca,Oa=or.get,ka=fa,Ca=ha,xa=wa("native-string-replace",String.prototype.replace),Pa=RegExp.prototype.exec,Ea=Pa,Ta=ga("".charAt),Ia=ga("".indexOf),Da=ga("".replace),ja=ga("".slice),Ra=function(){var e=/a/,t=/b*/g;return ma(Pa,e,"a"),ma(Pa,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Aa=_a.BROKEN_CARET,Fa=void 0!==/()??/.exec("")[1];(Ra||Fa||Aa||ka||Ca)&&(Ea=function(e){var t,n,r,i,o,a,l,u=this,c=Oa(u),s=ya(e),d=c.raw;if(d)return d.lastIndex=u.lastIndex,t=ma(Ea,d,s),u.lastIndex=d.lastIndex,t;var f=c.groups,p=Aa&&u.sticky,v=ma(ba,u),h=u.source,m=0,g=s;if(p&&(v=Da(v,"y",""),-1===Ia(v,"g")&&(v+="g"),g=ja(s,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==Ta(s,u.lastIndex-1))&&(h="(?: "+h+")",g=" "+g,m++),n=new RegExp("^(?:"+h+")",v)),Fa&&(n=new RegExp("^"+h+"$(?!\\s)",v)),Ra&&(r=u.lastIndex),i=ma(Pa,p?n:u,g),p?i?(i.input=ja(i.input,m),i[0]=ja(i[0],m),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Ra&&i&&(u.lastIndex=u.global?i.index+i[0].length:r),Fa&&i&&i.length>1&&ma(xa,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=a=Sa(null),o=0;o<f.length;o++)a[(l=f[o])[0]]=i[l[1]];return i});var Ma=Ea;ki({target:"RegExp",proto:!0,forced:/./.exec!==Ma},{exec:Ma});var Na=$,La=Sr,Wa=Ma,Va=D,Ba=xt,Ua=bn,Ha=Ba("species"),za=RegExp.prototype,Za=function(e,t,n,r){var i=Ba(e),o=!Va((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!Va((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Ha]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var l=Na(/./[i]),u=t(i,""[e],(function(e,t,n,r,i){var a=Na(e),u=t.exec;return u===Wa||u===za.exec?o&&!i?{done:!0,value:l(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));La(String.prototype,e,u[0]),La(za,i,u[1])}r&&Ua(za[i],"sham",!0)},Ka=$,Ya=Pr,Ga=jo,$a=ue,Ja=Ka("".charAt),qa=Ka("".charCodeAt),Xa=Ka("".slice),Qa=function(e){return function(t,n){var r,i,o=Ga($a(t)),a=Ya(n),l=o.length;return a<0||a>=l?e?"":void 0:(r=qa(o,a))<55296||r>56319||a+1===l||(i=qa(o,a+1))<56320||i>57343?e?Ja(o,a):r:e?Xa(o,a,a+2):i-56320+(r-55296<<10)+65536}},el={codeAt:Qa(!1),charAt:Qa(!0)},tl=el.charAt,nl=function(e,t,n){return t+(n?tl(e,t).length:1)},rl=M,il=on,ol=fe,al=Q,ll=Ma,ul=TypeError,cl=function(e,t){var n=e.exec;if(ol(n)){var r=rl(n,e,t);return null!==r&&il(r),r}if("RegExp"===al(e))return rl(ll,e,t);throw ul("RegExp#exec called on incompatible receiver")},sl=M,dl=on,fl=oe,pl=Ar,vl=jo,hl=ue,ml=Ke,gl=nl,yl=cl;Za("match",(function(e,t,n){return[function(t){var n=hl(this),r=fl(t)?void 0:ml(t,e);return r?sl(r,t,n):new RegExp(t)[e](vl(n))},function(e){var r=dl(this),i=vl(e),o=n(t,r,i);if(o.done)return o.value;if(!r.global)return yl(r,i);var a=r.unicode;r.lastIndex=0;for(var l,u=[],c=0;null!==(l=yl(r,i));){var s=vl(l[0]);u[c]=s,""===s&&(r.lastIndex=gl(i,pl(r.lastIndex),a)),c++}return 0===c?null:u}]}));var bl="\t\n\v\f\r                　\u2028\u2029\ufeff",_l=ue,wl=jo,Sl=$("".replace),Ol="[\t\n\v\f\r                　\u2028\u2029\ufeff]",kl=RegExp("^"+Ol+Ol+"*"),Cl=RegExp(Ol+Ol+"*$"),xl=function(e){return function(t){var n=wl(_l(t));return 1&e&&(n=Sl(n,kl,"")),2&e&&(n=Sl(n,Cl,"")),n}},Pl={start:xl(1),end:xl(2),trim:xl(3)},El=T,Tl=D,Il=$,Dl=jo,jl=Pl.trim,Rl=bl,Al=El.parseInt,Fl=El.Symbol,Ml=Fl&&Fl.iterator,Nl=/^[+-]?0x/i,Ll=Il(Nl.exec),Wl=8!==Al(Rl+"08")||22!==Al(Rl+"0x16")||Ml&&!Tl((function(){Al(Object(Ml))}))?function(e,t){var n=jl(Dl(e));return Al(n,t>>>0||(Ll(Nl,n)?16:10))}:Al;ki({global:!0,forced:parseInt!=Wl},{parseInt:Wl});var Vl=xt,Bl=ca,Ul=Qt.f,Hl=Vl("unscopables"),zl=Array.prototype;null==zl[Hl]&&Ul(zl,Hl,{configurable:!0,value:Bl(null)});var Zl,Kl,Yl,Gl=function(e){zl[Hl][e]=!0},$l={},Jl=!D((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ql=st,Xl=fe,Ql=lt,eu=Jl,tu=Vn("IE_PROTO"),nu=Object,ru=nu.prototype,iu=eu?nu.getPrototypeOf:function(e){var t=Ql(e);if(ql(t,tu))return t[tu];var n=t.constructor;return Xl(n)&&t instanceof n?n.prototype:t instanceof nu?ru:null},ou=D,au=fe,lu=he,uu=iu,cu=Sr,su=xt("iterator"),du=!1;[].keys&&("next"in(Yl=[].keys())?(Kl=uu(uu(Yl)))!==Object.prototype&&(Zl=Kl):du=!0);var fu=!lu(Zl)||ou((function(){var e={};return Zl[su].call(e)!==e}));fu&&(Zl={}),au(Zl[su])||cu(Zl,su,(function(){return this}));var pu={IteratorPrototype:Zl,BUGGY_SAFARI_ITERATORS:du},vu=Qt.f,hu=st,mu=xt("toStringTag"),gu=function(e,t,n){e&&!n&&(e=e.prototype),e&&!hu(e,mu)&&vu(e,mu,{configurable:!0,value:t})},yu=pu.IteratorPrototype,bu=ca,_u=H,wu=gu,Su=$l,Ou=function(){return this},ku=function(e,t,n,r){var i=t+" Iterator";return e.prototype=bu(yu,{next:_u(+!r,n)}),wu(e,i,!1),Su[i]=Ou,e},Cu=fe,xu=String,Pu=TypeError,Eu=$,Tu=on,Iu=function(e){if("object"==typeof e||Cu(e))return e;throw Pu("Can't set "+xu(e)+" as a prototype")},Du=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Eu(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(i){}return function(n,r){return Tu(n),Iu(r),t?e(n,r):n.__proto__=r,n}}():void 0),ju=ki,Ru=M,Au=fe,Fu=ku,Mu=iu,Nu=Du,Lu=gu,Wu=bn,Vu=Sr,Bu=$l,Uu=xn.PROPER,Hu=xn.CONFIGURABLE,zu=pu.IteratorPrototype,Zu=pu.BUGGY_SAFARI_ITERATORS,Ku=xt("iterator"),Yu="keys",Gu="values",$u="entries",Ju=function(){return this},qu=function(e,t,n,r,i,o,a){Fu(n,t,r);var l,u,c,s=function(e){if(e===i&&h)return h;if(!Zu&&e in p)return p[e];switch(e){case Yu:case Gu:case $u:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,v=p[Ku]||p["@@iterator"]||i&&p[i],h=!Zu&&v||s(i),m="Array"==t&&p.entries||v;if(m&&(l=Mu(m.call(new e)))!==Object.prototype&&l.next&&(Mu(l)!==zu&&(Nu?Nu(l,zu):Au(l[Ku])||Vu(l,Ku,Ju)),Lu(l,d,!0)),Uu&&i==Gu&&v&&v.name!==Gu&&(Hu?Wu(p,"name",Gu):(f=!0,h=function(){return Ru(v,this)})),i)if(u={values:s(Gu),keys:o?h:s(Yu),entries:s($u)},a)for(c in u)(Zu||f||!(c in p))&&Vu(p,c,u[c]);else ju({target:t,proto:!0,forced:Zu||f},u);return p[Ku]!==h&&Vu(p,Ku,h,{name:i}),Bu[t]=h,u},Xu=function(e,t){return{value:e,done:t}},Qu=de,ec=Gl,tc=$l,nc=or,rc=Qt.f,ic=qu,oc=Xu,ac=j,lc="Array Iterator",uc=nc.set,cc=nc.getterFor(lc),sc=ic(Array,"Array",(function(e,t){uc(this,{type:lc,target:Qu(e),index:0,kind:t})}),(function(){var e=cc(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,oc(void 0,!0)):oc("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),dc=tc.Arguments=tc.Array;if(ec("keys"),ec("values"),ec("entries"),ac&&"values"!==dc.name)try{rc(dc,"name",{value:"values"})}catch(aY){}var fc={exports:{}},pc={},vc=Nt,hc=Qt,mc=H,gc=function(e,t,n){var r=vc(t);r in e?hc.f(e,r,mc(0,n)):e[r]=n},yc=Dr,bc=Mr,_c=gc,wc=Array,Sc=Math.max,Oc=function(e,t,n){for(var r=bc(e),i=yc(t,r),o=yc(void 0===n?r:n,r),a=wc(Sc(o-i,0)),l=0;i<o;i++,l++)_c(a,l,e[i]);return a.length=l,a},kc=Q,Cc=de,xc=Or.f,Pc=Oc,Ec="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];pc.f=function(e){return Ec&&"Window"==kc(e)?function(e){try{return xc(e)}catch(aY){return Pc(Ec)}}(e):xc(Cc(e))};var Tc=D((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),Ic=D,Dc=he,jc=Q,Rc=Tc,Ac=Object.isExtensible,Fc=Ic((function(){Ac(1)}))||Rc?function(e){return!!Dc(e)&&(!Rc||"ArrayBuffer"!=jc(e))&&(!Ac||Ac(e))}:Ac,Mc=!D((function(){return Object.isExtensible(Object.preventExtensions({}))})),Nc=ki,Lc=$,Wc=Bn,Vc=he,Bc=st,Uc=Qt.f,Hc=Or,zc=pc,Zc=Fc,Kc=Mc,Yc=!1,Gc=ht("meta"),$c=0,Jc=function(e){Uc(e,Gc,{value:{objectID:"O"+$c++,weakData:{}}})},qc=fc.exports={enable:function(){qc.enable=function(){},Yc=!0;var e=Hc.f,t=Lc([].splice),n={};n[Gc]=1,e(n).length&&(Hc.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===Gc){t(r,i,1);break}return r},Nc({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:zc.f}))},fastKey:function(e,t){if(!Vc(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Bc(e,Gc)){if(!Zc(e))return"F";if(!t)return"E";Jc(e)}return e[Gc].objectID},getWeakData:function(e,t){if(!Bc(e,Gc)){if(!Zc(e))return!0;if(!t)return!1;Jc(e)}return e[Gc].weakData},onFreeze:function(e){return Kc&&Yc&&Zc(e)&&!Bc(e,Gc)&&Jc(e),e}};Wc[Gc]=!0;var Xc=$l,Qc=xt("iterator"),es=Array.prototype,ts=function(e){return void 0!==e&&(Xc.Array===e||es[Qc]===e)},ns=Wi,rs=Ke,is=oe,os=$l,as=xt("iterator"),ls=function(e){if(!is(e))return rs(e,as)||rs(e,"@@iterator")||os[ns(e)]},us=M,cs=He,ss=on,ds=We,fs=ls,ps=TypeError,vs=function(e,t){var n=arguments.length<2?fs(e):t;if(cs(n))return ss(us(n,e));throw ps(ds(e)+" is not iterable")},hs=M,ms=on,gs=Ke,ys=function(e,t,n){var r,i;ms(e);try{if(!(r=gs(e,"return"))){if("throw"===t)throw n;return n}r=hs(r,e)}catch(aY){i=!0,r=aY}if("throw"===t)throw n;if(i)throw r;return ms(r),n},bs=Ei,_s=M,ws=on,Ss=We,Os=ts,ks=Mr,Cs=_e,xs=vs,Ps=ls,Es=ys,Ts=TypeError,Is=function(e,t){this.stopped=e,this.result=t},Ds=Is.prototype,js=function(e,t,n){var r,i,o,a,l,u,c,s=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),h=bs(t,s),m=function(e){return r&&Es(r,"normal",e),new Is(!0,e)},g=function(e){return d?(ws(e),v?h(e[0],e[1],m):h(e[0],e[1])):v?h(e,m):h(e)};if(f)r=e.iterator;else if(p)r=e;else{if(!(i=Ps(e)))throw Ts(Ss(e)+" is not iterable");if(Os(i)){for(o=0,a=ks(e);a>o;o++)if((l=g(e[o]))&&Cs(Ds,l))return l;return new Is(!1)}r=xs(e,i)}for(u=f?e.next:r.next;!(c=_s(u,r)).done;){try{l=g(c.value)}catch(aY){Es(r,"throw",aY)}if("object"==typeof l&&l&&Cs(Ds,l))return l}return new Is(!1)},Rs=_e,As=TypeError,Fs=function(e,t){if(Rs(t,e))return e;throw As("Incorrect invocation")},Ms=xt("iterator"),Ns=!1;try{var Ls=0,Ws={next:function(){return{done:!!Ls++}},return:function(){Ns=!0}};Ws[Ms]=function(){return this},Array.from(Ws,(function(){throw 2}))}catch(aY){}var Vs=function(e,t){if(!t&&!Ns)return!1;var n=!1;try{var r={};r[Ms]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(aY){}return n},Bs=fe,Us=he,Hs=Du,zs=function(e,t,n){var r,i;return Hs&&Bs(r=t.constructor)&&r!==n&&Us(i=r.prototype)&&i!==n.prototype&&Hs(e,i),e},Zs=ki,Ks=T,Ys=$,Gs=mi,$s=Sr,Js=fc.exports,qs=js,Xs=Fs,Qs=fe,ed=oe,td=he,nd=D,rd=Vs,id=gu,od=zs,ad=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Ks[e],l=a&&a.prototype,u=a,c={},s=function(e){var t=Ys(l[e]);$s(l,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!td(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return i&&!td(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!td(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(Gs(e,!Qs(a)||!(i||l.forEach&&!nd((function(){(new a).entries().next()})))))u=n.getConstructor(t,e,r,o),Js.enable();else if(Gs(e,!0)){var d=new u,f=d[o](i?{}:-0,1)!=d,p=nd((function(){d.has(1)})),v=rd((function(e){new a(e)})),h=!i&&nd((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));v||((u=t((function(e,t){Xs(e,l);var n=od(new a,e,u);return ed(t)||qs(t,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=l,l.constructor=u),(p||h)&&(s("delete"),s("has"),r&&s("get")),(h||f)&&s(o),i&&l.clear&&delete l.clear}return c[e]=u,Zs({global:!0,constructor:!0,forced:u!=a},c),id(u,e),i||n.setStrong(u,e,r),u},ld=Sr,ud=function(e,t,n){for(var r in t)ld(e,r,t[r],n);return e},cd=be,sd=Qt,dd=j,fd=xt("species"),pd=function(e){var t=cd(e),n=sd.f;dd&&t&&!t[fd]&&n(t,fd,{configurable:!0,get:function(){return this}})},vd=Qt.f,hd=ca,md=ud,gd=Ei,yd=Fs,bd=oe,_d=js,wd=qu,Sd=Xu,Od=pd,kd=j,Cd=fc.exports.fastKey,xd=or.set,Pd=or.getterFor,Ed={getConstructor:function(e,t,n,r){var i=e((function(e,i){yd(e,o),xd(e,{type:t,index:hd(null),first:void 0,last:void 0,size:0}),kd||(e.size=0),bd(i)||_d(i,e[r],{that:e,AS_ENTRIES:n})})),o=i.prototype,a=Pd(t),l=function(e,t,n){var r,i,o=a(e),l=u(e,t);return l?l.value=n:(o.last=l={index:i=Cd(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=l),r&&(r.next=l),kd?o.size++:e.size++,"F"!==i&&(o.index[i]=l)),e},u=function(e,t){var n,r=a(e),i=Cd(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return md(o,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,kd?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),r=u(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),kd?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=a(this),r=gd(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!u(this,e)}}),md(o,n?{get:function(e){var t=u(this,e);return t&&t.value},set:function(e,t){return l(this,0===e?0:e,t)}}:{add:function(e){return l(this,e=0===e?0:e,e)}}),kd&&vd(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=Pd(t),o=Pd(r);wd(e,t,(function(e,t){xd(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?Sd("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,Sd(void 0,!0))}),n?"entries":"values",!n,!0),Od(t)}};ad("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Ed);var Td=el.charAt,Id=jo,Dd=or,jd=qu,Rd=Xu,Ad="String Iterator",Fd=Dd.set,Md=Dd.getterFor(Ad);jd(String,"String",(function(e){Fd(this,{type:Ad,string:Id(e),index:0})}),(function(){var e,t=Md(this),n=t.string,r=t.index;return r>=n.length?Rd(void 0,!0):(e=Td(n,r),t.index+=e.length,Rd(e,!1))}));var Nd={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ld=Bt("span").classList,Wd=Ld&&Ld.constructor&&Ld.constructor.prototype,Vd=Wd===Object.prototype?void 0:Wd,Bd=T,Ud=Nd,Hd=Vd,zd=sc,Zd=bn,Kd=xt,Yd=Kd("iterator"),Gd=Kd("toStringTag"),$d=zd.values,Jd=function(e,t){if(e){if(e[Yd]!==$d)try{Zd(e,Yd,$d)}catch(aY){e[Yd]=$d}if(e[Gd]||Zd(e,Gd,t),Ud[t])for(var n in zd)if(e[n]!==zd[n])try{Zd(e,n,zd[n])}catch(aY){e[n]=zd[n]}}};for(var qd in Ud)Jd(Bd[qd]&&Bd[qd].prototype,qd);Jd(Hd,"DOMTokenList");var Xd=lt,Qd=Ho;ki({target:"Object",stat:!0,forced:D((function(){Qd(1)}))},{keys:function(e){return Qd(Xd(e))}});var ef=ki,tf=j,nf=Qt.f;ef({target:"Object",stat:!0,forced:Object.defineProperty!==nf,sham:!tf},{defineProperty:nf});var rf=He,of=lt,af=ie,lf=Mr,uf=TypeError,cf=function(e){return function(t,n,r,i){rf(n);var o=of(t),a=af(o),l=lf(o),u=e?l-1:0,c=e?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=c;break}if(u+=c,e?u<0:l<=u)throw uf("Reduce of empty array with no initial value")}for(;e?u>=0:l>u;u+=c)u in a&&(i=n(i,a[u],u,o));return i}},sf={left:cf(!1),right:cf(!0)},df=D,ff=function(e,t){var n=[][e];return!!n&&df((function(){n.call(null,t||function(){return 1},1)}))},pf="process"==Q(T.process),vf=sf.left,hf=Ee,mf=pf;ki({target:"Array",proto:!0,forced:!ff("reduce")||!mf&&hf>79&&hf<83},{reduce:function(e){var t=arguments.length;return vf(this,e,t,t>1?arguments[1]:void 0)}});var gf=j,yf=$,bf=M,_f=D,wf=Ho,Sf=qr,Of=N,kf=lt,Cf=ie,xf=Object.assign,Pf=Object.defineProperty,Ef=yf([].concat),Tf=!xf||_f((function(){if(gf&&1!==xf({b:1},xf(Pf({},"a",{enumerable:!0,get:function(){Pf(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=xf({},e)[n]||wf(xf({},t)).join("")!=r}))?function(e,t){for(var n=kf(e),r=arguments.length,i=1,o=Sf.f,a=Of.f;r>i;)for(var l,u=Cf(arguments[i++]),c=o?Ef(wf(u),o(u)):wf(u),s=c.length,d=0;s>d;)l=c[d++],gf&&!bf(a,u,l)||(n[l]=u[l]);return n}:xf,If=Tf;ki({target:"Object",stat:!0,arity:2,forced:Object.assign!==If},{assign:If});var Df=ho.forEach,jf=ff("forEach")?[].forEach:function(e){return Df(this,e,arguments.length>1?arguments[1]:void 0)};ki({target:"Array",proto:!0,forced:[].forEach!=jf},{forEach:jf});var Rf=T,Af=Nd,Ff=Vd,Mf=jf,Nf=bn,Lf=function(e){if(e&&e.forEach!==Mf)try{Nf(e,"forEach",Mf)}catch(aY){e.forEach=Mf}};for(var Wf in Af)Af[Wf]&&Lf(Rf[Wf]&&Rf[Wf].prototype);Lf(Ff);var Vf,Bf=he,Uf=Q,Hf=xt("match"),zf=function(e){var t;return Bf(e)&&(void 0!==(t=e[Hf])?!!t:"RegExp"==Uf(e))},Zf=zf,Kf=TypeError,Yf=function(e){if(Zf(e))throw Kf("The method doesn't accept regular expressions");return e},Gf=xt("match"),$f=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[Gf]=!1,"/./"[e](t)}catch(i){}}return!1},Jf=ki,qf=$,Xf=I.f,Qf=Ar,ep=jo,tp=Yf,np=ue,rp=$f,ip=qf("".endsWith),op=qf("".slice),ap=Math.min,lp=rp("endsWith");Jf({target:"String",proto:!0,forced:!(!lp&&(Vf=Xf(String.prototype,"endsWith"),Vf&&!Vf.writable))&&!lp},{endsWith:function(e){var t=ep(np(this));tp(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:ap(Qf(n),r),o=ep(e);return ip?ip(t,o,i):op(t,i-o.length,i)===o}});var up=!0,cp=!0;function sp(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function dp(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};var o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function fp(e){return"boolean"!=typeof e?new Error("Argument type: "+i(e)+". Please use a boolean."):(up=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function pp(e){return"boolean"!=typeof e?new Error("Argument type: "+i(e)+". Please use a boolean."):(cp=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function vp(){if("object"===("undefined"==typeof window?"undefined":i(window))){if(up)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function hp(e,t){cp&&console.warn(e+" is deprecated, please use "+t+" instead.")}function mp(e){var t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=sp(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=sp(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=sp(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=sp(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function gp(e){return"[object Object]"===Object.prototype.toString.call(e)}function yp(e){return gp(e)?Object.keys(e).reduce((function(t,n){var r=gp(e[n]),i=r?yp(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,s({},n,i))}),{}):e}function bp(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?bp(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){bp(e,e.get(t),n)}))})))}function _p(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&bp(e,n,i)}))})),i}var wp=ki,Sp=ho.find,Op=Gl,kp="find",Cp=!0;kp in[]&&Array(1).find((function(){Cp=!1})),wp({target:"Array",proto:!0,forced:Cp},{find:function(e){return Sp(this,e,arguments.length>1?arguments[1]:void 0)}}),Op(kp);var xp=$([].slice),Pp=ki,Ep=Ii,Tp=Qi,Ip=he,Dp=Dr,jp=Mr,Rp=de,Ap=gc,Fp=xt,Mp=xp,Np=bo("slice"),Lp=Fp("species"),Wp=Array,Vp=Math.max;Pp({target:"Array",proto:!0,forced:!Np},{slice:function(e,t){var n,r,i,o=Rp(this),a=jp(o),l=Dp(e,a),u=Dp(void 0===t?a:t,a);if(Ep(o)&&(n=o.constructor,(Tp(n)&&(n===Wp||Ep(n.prototype))||Ip(n)&&null===(n=n[Lp]))&&(n=void 0),n===Wp||void 0===n))return Mp(o,l,u);for(r=new(void 0===n?Wp:n)(Vp(u-l,0)),i=0;l<u;l++,i++)l in o&&Ap(r,i,o[l]);return r.length=i,r}});var Bp=ki,Up=Br.indexOf,Hp=ff,zp=$([].indexOf),Zp=!!zp&&1/zp([1],1,-0)<0,Kp=Hp("indexOf");Bp({target:"Array",proto:!0,forced:Zp||!Kp},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Zp?zp(this,e,t)||0:Up(this,e,t)}});var Yp=j,Gp=Ii,$p=TypeError,Jp=Object.getOwnPropertyDescriptor,qp=Yp&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(aY){return aY instanceof TypeError}}(),Xp=TypeError,Qp=function(e){if(e>9007199254740991)throw Xp("Maximum allowed index exceeded");return e},ev=We,tv=TypeError,nv=function(e,t){if(!delete e[t])throw tv("Cannot delete property "+ev(t)+" of "+ev(e))},rv=ki,iv=lt,ov=Dr,av=Pr,lv=Mr,uv=qp?function(e,t){if(Gp(e)&&!Jp(e,"length").writable)throw $p("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},cv=Qp,sv=ao,dv=gc,fv=nv,pv=bo("splice"),vv=Math.max,hv=Math.min;rv({target:"Array",proto:!0,forced:!pv},{splice:function(e,t){var n,r,i,o,a,l,u=iv(this),c=lv(u),s=ov(e,c),d=arguments.length;for(0===d?n=r=0:1===d?(n=0,r=c-s):(n=d-2,r=hv(vv(av(t),0),c-s)),cv(c+n-r),i=sv(u,r),o=0;o<r;o++)(a=s+o)in u&&dv(i,o,u[a]);if(i.length=r,n<r){for(o=s;o<c-r;o++)l=o+n,(a=o+r)in u?u[l]=u[a]:fv(u,l);for(o=c;o>c-r+n;o--)fv(u,o-1)}else if(n>r)for(o=c-r;o>s;o--)l=o+n-1,(a=o+r-1)in u?u[l]=u[a]:fv(u,l);for(o=0;o<n;o++)u[o+s]=arguments[o+2];return uv(u,c-r+n),i}});var mv,gv,yv,bv,_v=Qi,wv=We,Sv=TypeError,Ov=function(e){if(_v(e))return e;throw Sv(wv(e)+" is not a constructor")},kv=on,Cv=Ov,xv=oe,Pv=xt("species"),Ev=function(e,t){var n,r=kv(e).constructor;return void 0===r||xv(n=kv(r)[Pv])?t:Cv(n)},Tv=R,Iv=Function.prototype,Dv=Iv.apply,jv=Iv.call,Rv="object"==typeof Reflect&&Reflect.apply||(Tv?jv.bind(Dv):function(){return jv.apply(Dv,arguments)}),Av=TypeError,Fv=function(e,t){if(e<t)throw Av("Not enough arguments");return e},Mv=/(?:ipad|iphone|ipod).*applewebkit/i.test(we),Nv=T,Lv=Rv,Wv=Ei,Vv=fe,Bv=st,Uv=D,Hv=qo,zv=xp,Zv=Bt,Kv=Fv,Yv=Mv,Gv=pf,$v=Nv.setImmediate,Jv=Nv.clearImmediate,qv=Nv.process,Xv=Nv.Dispatch,Qv=Nv.Function,eh=Nv.MessageChannel,th=Nv.String,nh=0,rh={},ih="onreadystatechange";try{mv=Nv.location}catch(aY){}var oh=function(e){if(Bv(rh,e)){var t=rh[e];delete rh[e],t()}},ah=function(e){return function(){oh(e)}},lh=function(e){oh(e.data)},uh=function(e){Nv.postMessage(th(e),mv.protocol+"//"+mv.host)};$v&&Jv||($v=function(e){Kv(arguments.length,1);var t=Vv(e)?e:Qv(e),n=zv(arguments,1);return rh[++nh]=function(){Lv(t,void 0,n)},gv(nh),nh},Jv=function(e){delete rh[e]},Gv?gv=function(e){qv.nextTick(ah(e))}:Xv&&Xv.now?gv=function(e){Xv.now(ah(e))}:eh&&!Yv?(bv=(yv=new eh).port2,yv.port1.onmessage=lh,gv=Wv(bv.postMessage,bv)):Nv.addEventListener&&Vv(Nv.postMessage)&&!Nv.importScripts&&mv&&"file:"!==mv.protocol&&!Uv(uh)?(gv=uh,Nv.addEventListener("message",lh,!1)):gv=ih in Zv("script")?function(e){Hv.appendChild(Zv("script")).onreadystatechange=function(){Hv.removeChild(this),oh(e)}}:function(e){setTimeout(ah(e),0)});var ch,sh,dh,fh,ph,vh,hh,mh,gh={set:$v,clear:Jv},yh=T,bh=/ipad|iphone|ipod/i.test(we)&&void 0!==yh.Pebble,_h=/web0s(?!.*chrome)/i.test(we),wh=T,Sh=Ei,Oh=I.f,kh=gh.set,Ch=Mv,xh=bh,Ph=_h,Eh=pf,Th=wh.MutationObserver||wh.WebKitMutationObserver,Ih=wh.document,Dh=wh.process,jh=wh.Promise,Rh=Oh(wh,"queueMicrotask"),Ah=Rh&&Rh.value;Ah||(ch=function(){var e,t;for(Eh&&(e=Dh.domain)&&e.exit();sh;){t=sh.fn,sh=sh.next;try{t()}catch(aY){throw sh?fh():dh=void 0,aY}}dh=void 0,e&&e.enter()},Ch||Eh||Ph||!Th||!Ih?!xh&&jh&&jh.resolve?((hh=jh.resolve(void 0)).constructor=jh,mh=Sh(hh.then,hh),fh=function(){mh(ch)}):Eh?fh=function(){Dh.nextTick(ch)}:(kh=Sh(kh,wh),fh=function(){kh(ch)}):(ph=!0,vh=Ih.createTextNode(""),new Th(ch).observe(vh,{characterData:!0}),fh=function(){vh.data=ph=!ph}));var Fh=Ah||function(e){var t={fn:e,next:void 0};dh&&(dh.next=t),sh||(sh=t,fh()),dh=t},Mh=T,Nh=function(e){try{return{error:!1,value:e()}}catch(aY){return{error:!0,value:aY}}},Lh=function(){this.head=null,this.tail=null};Lh.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Wh=Lh,Vh=T.Promise,Bh="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Uh=!Bh&&!pf&&"object"==typeof window&&"object"==typeof document,Hh=T,zh=Vh,Zh=fe,Kh=mi,Yh=Rn,Gh=xt,$h=Uh,Jh=Bh,qh=Ee;zh&&zh.prototype;var Xh=Gh("species"),Qh=!1,em=Zh(Hh.PromiseRejectionEvent),tm=Kh("Promise",(function(){var e=Yh(zh),t=e!==String(zh);if(!t&&66===qh)return!0;if(!qh||qh<51||!/native code/.test(e)){var n=new zh((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[Xh]=r,!(Qh=n.then((function(){}))instanceof r))return!0}return!t&&($h||Jh)&&!em})),nm={CONSTRUCTOR:tm,REJECTION_EVENT:em,SUBCLASSING:Qh},rm={},im=He,om=TypeError,am=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw om("Bad Promise constructor");t=e,n=r})),this.resolve=im(t),this.reject=im(n)};rm.f=function(e){return new am(e)};var lm,um,cm,sm=ki,dm=pf,fm=T,pm=M,vm=Sr,hm=Du,mm=gu,gm=pd,ym=He,bm=fe,_m=he,wm=Fs,Sm=Ev,Om=gh.set,km=Fh,Cm=function(e,t){var n=Mh.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},xm=Nh,Pm=Wh,Em=or,Tm=Vh,Im=rm,Dm="Promise",jm=nm.CONSTRUCTOR,Rm=nm.REJECTION_EVENT,Am=nm.SUBCLASSING,Fm=Em.getterFor(Dm),Mm=Em.set,Nm=Tm&&Tm.prototype,Lm=Tm,Wm=Nm,Vm=fm.TypeError,Bm=fm.document,Um=fm.process,Hm=Im.f,zm=Hm,Zm=!!(Bm&&Bm.createEvent&&fm.dispatchEvent),Km="unhandledrejection",Ym=function(e){var t;return!(!_m(e)||!bm(t=e.then))&&t},Gm=function(e,t){var n,r,i,o=t.value,a=1==t.state,l=a?e.ok:e.fail,u=e.resolve,c=e.reject,s=e.domain;try{l?(a||(2===t.rejection&&Qm(t),t.rejection=1),!0===l?n=o:(s&&s.enter(),n=l(o),s&&(s.exit(),i=!0)),n===e.promise?c(Vm("Promise-chain cycle")):(r=Ym(n))?pm(r,n,u,c):u(n)):c(o)}catch(aY){s&&!i&&s.exit(),c(aY)}},$m=function(e,t){e.notified||(e.notified=!0,km((function(){for(var n,r=e.reactions;n=r.get();)Gm(n,e);e.notified=!1,t&&!e.rejection&&qm(e)})))},Jm=function(e,t,n){var r,i;Zm?((r=Bm.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),fm.dispatchEvent(r)):r={promise:t,reason:n},!Rm&&(i=fm["on"+e])?i(r):e===Km&&Cm("Unhandled promise rejection",n)},qm=function(e){pm(Om,fm,(function(){var t,n=e.facade,r=e.value;if(Xm(e)&&(t=xm((function(){dm?Um.emit("unhandledRejection",r,n):Jm(Km,n,r)})),e.rejection=dm||Xm(e)?2:1,t.error))throw t.value}))},Xm=function(e){return 1!==e.rejection&&!e.parent},Qm=function(e){pm(Om,fm,(function(){var t=e.facade;dm?Um.emit("rejectionHandled",t):Jm("rejectionhandled",t,e.value)}))},eg=function(e,t,n){return function(r){e(t,r,n)}},tg=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,$m(e,!0))},ng=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Vm("Promise can't be resolved itself");var r=Ym(t);r?km((function(){var n={done:!1};try{pm(r,t,eg(ng,n,e),eg(tg,n,e))}catch(aY){tg(n,aY,e)}})):(e.value=t,e.state=1,$m(e,!1))}catch(aY){tg({done:!1},aY,e)}}};if(jm&&(Wm=(Lm=function(e){wm(this,Wm),ym(e),pm(lm,this);var t=Fm(this);try{e(eg(ng,t),eg(tg,t))}catch(aY){tg(t,aY)}}).prototype,(lm=function(e){Mm(this,{type:Dm,done:!1,notified:!1,parent:!1,reactions:new Pm,rejection:!1,state:0,value:void 0})}).prototype=vm(Wm,"then",(function(e,t){var n=Fm(this),r=Hm(Sm(this,Lm));return n.parent=!0,r.ok=!bm(e)||e,r.fail=bm(t)&&t,r.domain=dm?Um.domain:void 0,0==n.state?n.reactions.add(r):km((function(){Gm(r,n)})),r.promise})),um=function(){var e=new lm,t=Fm(e);this.promise=e,this.resolve=eg(ng,t),this.reject=eg(tg,t)},Im.f=Hm=function(e){return e===Lm||void 0===e?new um(e):zm(e)},bm(Tm)&&Nm!==Object.prototype)){cm=Nm.then,Am||vm(Nm,"then",(function(e,t){var n=this;return new Lm((function(e,t){pm(cm,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete Nm.constructor}catch(aY){}hm&&hm(Nm,Wm)}sm({global:!0,constructor:!0,wrap:!0,forced:jm},{Promise:Lm}),mm(Lm,Dm,!1),gm(Dm);var rg=Vh,ig=nm.CONSTRUCTOR||!Vs((function(e){rg.all(e).then(void 0,(function(){}))})),og=M,ag=He,lg=rm,ug=Nh,cg=js;ki({target:"Promise",stat:!0,forced:ig},{all:function(e){var t=this,n=lg.f(t),r=n.resolve,i=n.reject,o=ug((function(){var n=ag(t.resolve),o=[],a=0,l=1;cg(e,(function(e){var u=a++,c=!1;l++,og(n,t,e).then((function(e){c||(c=!0,o[u]=e,--l||r(o))}),i)})),--l||r(o)}));return o.error&&i(o.value),n.promise}});var sg=ki,dg=nm.CONSTRUCTOR,fg=Vh,pg=be,vg=fe,hg=Sr,mg=fg&&fg.prototype;if(sg({target:"Promise",proto:!0,forced:dg,real:!0},{catch:function(e){return this.then(void 0,e)}}),vg(fg)){var gg=pg("Promise").prototype.catch;mg.catch!==gg&&hg(mg,"catch",gg,{unsafe:!0})}var yg=M,bg=He,_g=rm,wg=Nh,Sg=js;ki({target:"Promise",stat:!0,forced:ig},{race:function(e){var t=this,n=_g.f(t),r=n.reject,i=wg((function(){var i=bg(t.resolve);Sg(e,(function(e){yg(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Og=M,kg=rm;ki({target:"Promise",stat:!0,forced:nm.CONSTRUCTOR},{reject:function(e){var t=kg.f(this);return Og(t.reject,void 0,e),t.promise}});var Cg=on,xg=he,Pg=rm,Eg=function(e,t){if(Cg(e),xg(t)&&t.constructor===e)return t;var n=Pg.f(e);return(0,n.resolve)(t),n.promise},Tg=ki,Ig=nm.CONSTRUCTOR,Dg=Eg;be("Promise"),Tg({target:"Promise",stat:!0,forced:Ig},{resolve:function(e){return Dg(this,e)}});var jg=ki,Rg=D,Ag=Ii,Fg=he,Mg=lt,Ng=Mr,Lg=Qp,Wg=gc,Vg=ao,Bg=bo,Ug=Ee,Hg=xt("isConcatSpreadable"),zg=Ug>=51||!Rg((function(){var e=[];return e[Hg]=!1,e.concat()[0]!==e})),Zg=Bg("concat"),Kg=function(e){if(!Fg(e))return!1;var t=e[Hg];return void 0!==t?!!t:Ag(e)};jg({target:"Array",proto:!0,arity:1,forced:!zg||!Zg},{concat:function(e){var t,n,r,i,o,a=Mg(this),l=Vg(a,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(Kg(o=-1===t?a:arguments[t]))for(i=Ng(o),Lg(u+i),n=0;n<i;n++,u++)n in o&&Wg(l,u,o[n]);else Lg(u+1),Wg(l,u++,o);return l.length=u,l}});var Yg=$,Gg=lt,$g=Math.floor,Jg=Yg("".charAt),qg=Yg("".replace),Xg=Yg("".slice),Qg=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ey=/\$([$&'`]|\d{1,2})/g,ty=Rv,ny=M,ry=$,iy=Za,oy=D,ay=on,ly=fe,uy=oe,cy=Pr,sy=Ar,dy=jo,fy=ue,py=nl,vy=Ke,hy=function(e,t,n,r,i,o){var a=n+e.length,l=r.length,u=ey;return void 0!==i&&(i=Gg(i),u=Qg),qg(o,u,(function(o,u){var c;switch(Jg(u,0)){case"$":return"$";case"&":return e;case"`":return Xg(t,0,n);case"'":return Xg(t,a);case"<":c=i[Xg(u,1,-1)];break;default:var s=+u;if(0===s)return o;if(s>l){var d=$g(s/10);return 0===d?o:d<=l?void 0===r[d-1]?Jg(u,1):r[d-1]+Jg(u,1):o}c=r[s-1]}return void 0===c?"":c}))},my=cl,gy=xt("replace"),yy=Math.max,by=Math.min,_y=ry([].concat),wy=ry([].push),Sy=ry("".indexOf),Oy=ry("".slice),ky="$0"==="a".replace(/./,"$0"),Cy=!!/./[gy]&&""===/./[gy]("a","$0"),xy=!oy((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));iy("replace",(function(e,t,n){var r=Cy?"$":"$0";return[function(e,n){var r=fy(this),i=uy(e)?void 0:vy(e,gy);return i?ny(i,e,r,n):ny(t,dy(r),e,n)},function(e,i){var o=ay(this),a=dy(e);if("string"==typeof i&&-1===Sy(i,r)&&-1===Sy(i,"$<")){var l=n(t,o,a,i);if(l.done)return l.value}var u=ly(i);u||(i=dy(i));var c=o.global;if(c){var s=o.unicode;o.lastIndex=0}for(var d=[];;){var f=my(o,a);if(null===f)break;if(wy(d,f),!c)break;""===dy(f[0])&&(o.lastIndex=py(a,sy(o.lastIndex),s))}for(var p,v="",h=0,m=0;m<d.length;m++){for(var g=dy((f=d[m])[0]),y=yy(by(cy(f.index),a.length),0),b=[],_=1;_<f.length;_++)wy(b,void 0===(p=f[_])?p:String(p));var w=f.groups;if(u){var S=_y([g],b,y,a);void 0!==w&&wy(S,w);var O=dy(ty(i,void 0,S))}else O=hy(g,a,y,b,w,i);y>=h&&(v+=Oy(a,h,y)+O,h=y+g.length)}return v+Oy(a,h)}]}),!xy||!ky||Cy);var Py=M,Ey=st,Ty=_e,Iy=Ao,Dy=RegExp.prototype,jy=function(e){var t=e.flags;return void 0!==t||"flags"in Dy||Ey(e,"flags")||!Ty(Dy,e)?t:Py(Iy,e)},Ry=Qt.f,Ay=j,Fy=T,My=$,Ny=mi,Ly=zs,Wy=bn,Vy=Or.f,By=_e,Uy=zf,Hy=jo,zy=jy,Zy=Wo,Ky=function(e,t,n){n in e||Ry(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},Yy=Sr,Gy=D,$y=st,Jy=or.enforce,qy=pd,Xy=fa,Qy=ha,eb=xt("match"),tb=Fy.RegExp,nb=tb.prototype,rb=Fy.SyntaxError,ib=My(nb.exec),ob=My("".charAt),ab=My("".replace),lb=My("".indexOf),ub=My("".slice),cb=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,sb=/a/g,db=/a/g,fb=new tb(sb)!==sb,pb=Zy.MISSED_STICKY,vb=Zy.UNSUPPORTED_Y,hb=Ay&&(!fb||pb||Xy||Qy||Gy((function(){return db[eb]=!1,tb(sb)!=sb||tb(db)==db||"/a/i"!=tb(sb,"i")})));if(Ny("RegExp",hb)){for(var mb=function(e,t){var n,r,i,o,a,l,u=By(nb,this),c=Uy(e),s=void 0===t,d=[],f=e;if(!u&&c&&s&&e.constructor===mb)return e;if((c||By(nb,e))&&(e=e.source,s&&(t=zy(f))),e=void 0===e?"":Hy(e),t=void 0===t?"":Hy(t),f=e,Xy&&"dotAll"in sb&&(r=!!t&&lb(t,"s")>-1)&&(t=ab(t,/s/g,"")),n=t,pb&&"sticky"in sb&&(i=!!t&&lb(t,"y")>-1)&&vb&&(t=ab(t,/y/g,"")),Qy&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},l=!1,u=!1,c=0,s="";r<=n;r++){if("\\"===(t=ob(e,r)))t+=ob(e,++r);else if("]"===t)l=!1;else if(!l)switch(!0){case"["===t:l=!0;break;case"("===t:ib(cb,ub(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===s||$y(a,s))throw new rb("Invalid capture group name");a[s]=!0,o[o.length]=[s,c],u=!1,s="";continue}u?s+=t:i+=t}return[i,o]}(e),e=o[0],d=o[1]),a=Ly(tb(e,t),u?this:nb,mb),(r||i||d.length)&&(l=Jy(a),r&&(l.dotAll=!0,l.raw=mb(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=ob(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+ob(e,++r);return i}(e),n)),i&&(l.sticky=!0),d.length&&(l.groups=d)),e!==f)try{Wy(a,"source",""===f?"(?:)":f)}catch(aY){}return a},gb=Vy(tb),yb=0;gb.length>yb;)Ky(mb,tb,gb[yb++]);nb.constructor=mb,mb.prototype=nb,Yy(Fy,"RegExp",mb,{constructor:!0})}qy("RegExp");var bb=xn.PROPER,_b=Sr,wb=on,Sb=jo,Ob=D,kb=jy,Cb="toString",xb=RegExp.prototype.toString,Pb=Ob((function(){return"/a/b"!=xb.call({source:"a",flags:"b"})})),Eb=bb&&xb.name!=Cb;(Pb||Eb)&&_b(RegExp.prototype,Cb,(function(){var e=wb(this);return"/"+Sb(e.source)+"/"+Sb(kb(e))}),{unsafe:!0});var Tb=ho.some;ki({target:"Array",proto:!0,forced:!ff("some")},{some:function(e){return Tb(this,e,arguments.length>1?arguments[1]:void 0)}});var Ib=Br.includes,Db=Gl;ki({target:"Array",proto:!0,forced:D((function(){return!Array(1).includes()}))},{includes:function(e){return Ib(this,e,arguments.length>1?arguments[1]:void 0)}}),Db("includes");var jb=ki,Rb=Yf,Ab=ue,Fb=jo,Mb=$f,Nb=$("".indexOf);jb({target:"String",proto:!0,forced:!Mb("includes")},{includes:function(e){return!!~Nb(Fb(Ab(this)),Fb(Rb(e)),arguments.length>1?arguments[1]:void 0)}});var Lb=j,Wb=xn.EXISTS,Vb=$,Bb=Qt.f,Ub=Function.prototype,Hb=Vb(Ub.toString),zb=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Zb=Vb(zb.exec);Lb&&!Wb&&Bb(Ub,"name",{configurable:!0,get:function(){try{return Zb(zb,Hb(this))[1]}catch(aY){return""}}});var Kb=$,Yb=He,Gb=he,$b=st,Jb=xp,qb=R,Xb=Function,Qb=Kb([].concat),e_=Kb([].join),t_={},n_=function(e,t,n){if(!$b(t_,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";t_[t]=Xb("C,a","return new C("+e_(r,",")+")")}return t_[t](e,n)},r_=qb?Xb.bind:function(e){var t=Yb(this),n=t.prototype,r=Jb(arguments,1),i=function(){var n=Qb(r,Jb(arguments));return this instanceof i?n_(t,n.length,n):t.apply(e,n)};return Gb(n)&&(i.prototype=n),i},i_=r_;ki({target:"Function",proto:!0,forced:Function.bind!==i_},{bind:i_});var o_=vp;function a_(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!==i(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===i(e[n])?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"==typeof r.ideal?(a[o("min",n)]=r.ideal,t.optional.push(a),(a={})[o("max",n)]=r.ideal,t.optional.push(a)):(a[o("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===i(e.audio)){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===i(e.video)){var l=e.video.facingMode;l=l&&("object"===i(l)?l:{ideal:l});var u,c=t.version<66;if(l&&("user"===l.exact||"environment"===l.exact||"user"===l.ideal||"environment"===l.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c)&&(delete e.video.facingMode,"environment"===l.exact||"environment"===l.ideal?u=["back","rear"]:"user"!==l.exact&&"user"!==l.ideal||(u=["front"]),u))return n.mediaDevices.enumerateDevices().then((function(t){var n=(t=t.filter((function(e){return"videoinput"===e.kind}))).find((function(e){return u.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&u.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=l.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),o_("chrome: "+JSON.stringify(e)),o(e)}));e.video=r(e.video)}return o_("chrome: "+JSON.stringify(e)),o(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){o(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return o(e,(function(e){return l(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}function l_(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function u_(e){if("object"===i(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var o=new Event("track");o.track=r.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var o=new Event("track");o.track=r,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],n.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else dp(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function c_(e){if("object"===i(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===i(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var l=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=l.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function s_(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],o=n[2];if(arguments.length>0&&"function"==typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof r))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},l=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var u=function(e){i(l(a(e)))};return t.apply(this,[u,r])}return new Promise((function(n,r){t.apply(e,[function(e){n(l(a(e)))},r])})).then(i,o)}}}function d_(e){if("object"===i(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return _p(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),dp(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return _p(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,i=arguments[0];return this.getSenders().forEach((function(e){e.track===i&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===i&&(n?r=!0:n=e),e.track===i})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return o.apply(this,arguments)}}}}function f_(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){if(t.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function p_(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return f_(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){if(n.getSenders().find((function(t){return t.track===e})))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=this.getSenders().find((function(e){return e.track===t}));if(o)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var a=this._streams[n.id];if(a)a.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var l=new e.MediaStream([t]);this._streams[n.id]=l,this._reverseStreams[l.id]=n,this.addStream(l)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=s({},t,(function(){var e=this,t=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?n.apply(this,[function(n){var r=l(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return l(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=u(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:l(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function l(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function u(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function v_(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=s({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function h_(e,t){dp(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var m_=Object.freeze({__proto__:null,shimMediaStream:l_,shimOnTrack:u_,shimGetSendersWithDtmf:c_,shimGetStats:s_,shimSenderReceiverGetStats:d_,shimAddTrackRemoveTrackWithNative:f_,shimAddTrackRemoveTrack:p_,shimPeerConnection:v_,fixNegotiationNeeded:h_,shimGetUserMedia:a_,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}),g_=ki,y_=$,b_=I.f,__=Ar,w_=jo,S_=Yf,O_=ue,k_=$f,C_=y_("".startsWith),x_=y_("".slice),P_=Math.min,E_=k_("startsWith"),T_=!E_&&!!function(){var e=b_(String.prototype,"startsWith");return e&&!e.writable}();g_({target:"String",proto:!0,forced:!T_&&!E_},{startsWith:function(e){var t=w_(O_(this));S_(e);var n=__(P_(arguments.length>1?arguments[1]:void 0,t.length)),r=w_(e);return C_?C_(t,r,n):x_(t,n,n+r.length)===r}});var I_={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var l=t.parseRtpMap(a),u=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(l.parameters=u.length?t.parseFmtp(u[0]):{},l.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(l.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),l=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),u=l.length>0&&l[0].ssrc,c=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));c.length>0&&c[0].length>1&&c[0][0]===u&&(n=c[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:u,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&u&&r.push({ssrc:u});var s=t.matchPrefix(e,"b=");return s.length&&(s=0===s[0].indexOf("b=TIAS:")?parseInt(s[0].substr(7),10):0===s[0].indexOf("b=AS:")?1e3*parseInt(s[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=s}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(I_);var D_=I_.exports,j_=I_.exports;function R_(e,t,n,r,i){var o=j_.writeRtpDescription(e.kind,t);if(o+=j_.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=j_.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var l="msid:"+(r?r.id:"-")+" "+a+"\r\n";o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+j_.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+j_.localCName+"\r\n"),o}function A_(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function F_(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function M_(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function N_(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}var L_=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function r(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var i=function(n){var r=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw N_("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=j_.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},i.prototype.addTrack=function(t,n){if(this._isClosed)throw N_("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw N_("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},i.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},i.prototype.removeTrack=function(t){if(this._isClosed)throw N_("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw N_("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},i.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},i.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},i.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},i.prototype._gather=function(t,n){var r=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,l=!a||0===Object.keys(a).length;if(l)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var u=j_.writeCandidate(a);o.candidate=Object.assign(o.candidate,j_.parseCandidate(u)),o.candidate.candidate=u,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var c=j_.getMediaSections(r._localDescription.sdp);c[o.candidate.sdpMLineIndex]+=l?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",r._localDescription.sdp=j_.getDescription(r._localDescription.sdp)+c.join("");var s=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),l||r._dispatchEvent("icecandidate",o),s&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},i.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,n,r){var i=A_(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:j_.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&i.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},i.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(N_("TypeError",'Unsupported type "'+e.type+'"'));if(!F_("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(N_("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=j_.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=j_.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=j_.splitSections(r._remoteDescription.sdp),n=t.shift();var i=j_.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=r.transceivers[t],a=o.iceGatherer,l=o.iceTransport,u=o.dtlsTransport,c=o.localCapabilities,s=o.remoteCapabilities;if((!j_.isRejected(e)||0!==j_.matchPrefix(e,"a=bundle-only").length)&&!o.rejected){var d=j_.getIceParameters(e,n),f=j_.getDtlsParameters(e,n);i&&(f.role="server"),r.usingBundle&&0!==t||(r._gather(o.mid,t),"new"===l.state&&l.start(a,d,i?"controlling":"controlled"),"new"===u.state&&u.start(f));var p=A_(c,s);r._transceive(o,p.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(N_("TypeError",'Unsupported type "'+i.type+'"'));if(!F_("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(N_("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var a={};o.remoteStreams.forEach((function(e){a[e.id]=e}));var l=[],u=j_.splitSections(i.sdp),c=u.shift(),s=j_.matchPrefix(c,"a=ice-lite").length>0,d=j_.matchPrefix(c,"a=group:BUNDLE ").length>0;o.usingBundle=d;var f=j_.matchPrefix(c,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!f&&f.substr(14).split(" ").indexOf("trickle")>=0,u.forEach((function(r,u){var f=j_.splitLines(r),p=j_.getKind(r),v=j_.isRejected(r)&&0===j_.matchPrefix(r,"a=bundle-only").length,h=f[0].substr(2).split(" ")[2],m=j_.getDirection(r,c),g=j_.parseMsid(r),y=j_.getMid(r)||j_.generateIdentifier();if(v||"application"===p&&("DTLS/SCTP"===h||"UDP/DTLS/SCTP"===h))o.transceivers[u]={mid:y,kind:p,protocol:h,rejected:!0};else{var b,_,w,S,O,k,C,x,P;!v&&o.transceivers[u]&&o.transceivers[u].rejected&&(o.transceivers[u]=o._createTransceiver(p,!0));var E,T,I=j_.parseRtpParameters(r);v||(E=j_.getIceParameters(r,c),(T=j_.getDtlsParameters(r,c)).role="client"),C=j_.parseRtpEncodingParameters(r);var D=j_.parseRtcpParameters(r),j=j_.matchPrefix(r,"a=end-of-candidates",c).length>0,R=j_.matchPrefix(r,"a=candidate:").map((function(e){return j_.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!v&&d&&u>0&&o.transceivers[u]&&(o._disposeIceAndDtlsTransports(u),o.transceivers[u].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[u].iceTransport=o.transceivers[0].iceTransport,o.transceivers[u].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[u].rtpSender&&o.transceivers[u].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[u].rtpReceiver&&o.transceivers[u].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||v)"answer"!==i.type||v||(_=(b=o.transceivers[u]).iceGatherer,w=b.iceTransport,S=b.dtlsTransport,O=b.rtpReceiver,k=b.sendEncodingParameters,x=b.localCapabilities,o.transceivers[u].recvEncodingParameters=C,o.transceivers[u].remoteCapabilities=I,o.transceivers[u].rtcpParameters=D,R.length&&"new"===w.state&&(!s&&!j||d&&0!==u?R.forEach((function(e){M_(b.iceTransport,e)})):w.setRemoteCandidates(R)),d&&0!==u||("new"===w.state&&w.start(_,E,"controlling"),"new"===S.state&&S.start(T)),!A_(b.localCapabilities,b.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,o._transceive(b,"sendrecv"===m||"recvonly"===m,"sendrecv"===m||"sendonly"===m),!O||"sendrecv"!==m&&"sendonly"!==m?delete b.rtpReceiver:(P=O.track,g?(a[g.stream]||(a[g.stream]=new e.MediaStream),n(P,a[g.stream]),l.push([P,O,a[g.stream]])):(a.default||(a.default=new e.MediaStream),n(P,a.default),l.push([P,O,a.default]))));else{(b=o.transceivers[u]||o._createTransceiver(p)).mid=y,b.iceGatherer||(b.iceGatherer=o._createIceGatherer(u,d)),R.length&&"new"===b.iceTransport.state&&(!j||d&&0!==u?R.forEach((function(e){M_(b.iceTransport,e)})):b.iceTransport.setRemoteCandidates(R)),x=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(x.codecs=x.codecs.filter((function(e){return"rtx"!==e.name}))),k=b.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var A,F=!1;"sendrecv"===m||"sendonly"===m?(F=!b.rtpReceiver,O=b.rtpReceiver||new e.RTCRtpReceiver(b.dtlsTransport,p),F&&(P=O.track,g&&"-"===g.stream||(g?(a[g.stream]||(a[g.stream]=new e.MediaStream,Object.defineProperty(a[g.stream],"id",{get:function(){return g.stream}})),Object.defineProperty(P,"id",{get:function(){return g.track}}),A=a[g.stream]):(a.default||(a.default=new e.MediaStream),A=a.default)),A&&(n(P,A),b.associatedRemoteMediaStreams.push(A)),l.push([P,O,A]))):b.rtpReceiver&&b.rtpReceiver.track&&(b.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===b.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),b.associatedRemoteMediaStreams=[]),b.localCapabilities=x,b.remoteCapabilities=I,b.rtpReceiver=O,b.rtcpParameters=D,b.sendEncodingParameters=k,b.recvEncodingParameters=C,o._transceive(o.transceivers[u],!1,F)}}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",i)}))}l.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&r(o,t,i,[n])}))}})),l.forEach((function(e){e[2]||r(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},i.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},i.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(N_("InvalidStateError","Can not call createOffer after close"));var r=n.transceivers.filter((function(e){return"audio"===e.kind})).length,i=n.transceivers.filter((function(e){return"video"===e.kind})).length,o=arguments[0];if(o){if(o.mandatory||o.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==o.offerToReceiveAudio&&(r=!0===o.offerToReceiveAudio?1:!1===o.offerToReceiveAudio?0:o.offerToReceiveAudio),void 0!==o.offerToReceiveVideo&&(i=!0===o.offerToReceiveVideo?1:!1===o.offerToReceiveVideo?0:o.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--i<0&&(e.wantReceive=!1)}));r>0||i>0;)r>0&&(n._createTransceiver("audio"),r--),i>0&&(n._createTransceiver("video"),i--);var a=j_.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,i){var o=r.track,a=r.kind,l=r.mid||j_.generateIdentifier();r.mid=l,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(i,n.usingBundle));var u=e.RTCRtpSender.getCapabilities(a);t<15019&&(u.codecs=u.codecs.filter((function(e){return"rtx"!==e.name}))),u.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),u.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var c=r.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];o&&t>=15019&&"video"===a&&!c[0].rtx&&(c[0].rtx={ssrc:c[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,a)),r.localCapabilities=u,r.sendEncodingParameters=c})),"max-compat"!==n._config.bundlePolicy&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){a+=R_(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+j_.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))}));var l=new e.RTCSessionDescription({type:"offer",sdp:a});return Promise.resolve(l)},i.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(N_("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(N_("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=j_.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var i=j_.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,o){if(!(o+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var l=A_(e.localCapabilities,e.remoteCapabilities);!l.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=R_(e,l,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var o=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(o)},i.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,i){if(!n._remoteDescription)return i(N_("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){o=a;break}var l=n.transceivers[o];if(!l)return i(N_("OperationError","Can not add ICE candidate"));if(l.rejected)return r();var u=Object.keys(e.candidate).length>0?j_.parseCandidate(e.candidate):{};if("tcp"===u.protocol&&(0===u.port||9===u.port))return r();if(u.component&&1!==u.component)return r();if((0===o||o>0&&l.iceTransport!==n.transceivers[0].iceTransport)&&!M_(l.iceTransport,u))return i(N_("OperationError","Can not add ICE candidate"));var c=e.candidate.trim();0===c.indexOf("a=")&&(c=c.substr(2)),(t=j_.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(u.type?c:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=j_.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var s=0;s<n.transceivers.length&&(n.transceivers[s].rejected||(n.transceivers[s].iceTransport.addRemoteCandidate({}),(t=j_.getMediaSections(n._remoteDescription.sdp))[s]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=j_.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));s++);r()}))},i.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw N_("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var o=["createOffer","createAnswer"];return o.forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(o=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),i};function W_(e){var t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))}))}}function V_(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function B_(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var r=L_(e,t.version);e.RTCPeerConnection=function(e){var n,i;return e&&e.iceServers&&(e.iceServers=(n=e.iceServers,t.version,i=!1,(n=JSON.parse(JSON.stringify(n))).filter((function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&hp("RTCIceServer.url","RTCIceServer.urls");var n="string"==typeof t;return n&&(t=[t]),t=t.filter((function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!i?(i=!0,!0):t&&!i})),delete e.url,e.urls=n?t[0]:t,!!t.length}}))),vp("ICE servers after filtering:",e.iceServers)),new r(e)},e.RTCPeerConnection.prototype=r.prototype}function U_(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}var H_=Object.freeze({__proto__:null,shimPeerConnection:B_,shimReplaceTrack:U_,shimGetUserMedia:W_,shimGetDisplayMedia:V_}),z_=T,Z_=D,K_=jo,Y_=Pl.trim,G_=$("".charAt),$_=z_.parseFloat,J_=z_.Symbol,q_=J_&&J_.iterator,X_=1/$_("\t\n\v\f\r                　\u2028\u2029\ufeff-0")!=-1/0||q_&&!Z_((function(){$_(Object(q_))}))?function(e){var t=Y_(K_(e)),n=$_(t);return 0===n&&"-"==G_(t,0)?-0:n}:$_;ki({global:!0,forced:parseFloat!=X_},{parseFloat:X_});var Q_=ki,ew=Vh,tw=D,nw=be,rw=fe,iw=Ev,ow=Eg,aw=Sr,lw=ew&&ew.prototype;if(Q_({target:"Promise",proto:!0,real:!0,forced:!!ew&&tw((function(){lw.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=iw(this,nw("Promise")),n=rw(e);return this.then(n?function(n){return ow(t,e()).then((function(){return n}))}:e,n?function(n){return ow(t,e()).then((function(){throw n}))}:e)}}),rw(ew)){var uw=nw("Promise").prototype.finally;lw.finally!==uw&&aw(lw,"finally",uw,{unsafe:!0})}function cw(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){hp("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var o=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===i(e)&&"object"===i(e.audio)&&(e=JSON.parse(JSON.stringify(e)),o(e.audio,"autoGainControl","mozAutoGainControl"),o(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},r&&r.prototype.getSettings){var l=r.prototype.getSettings;r.prototype.getSettings=function(){var e=l.apply(this,arguments);return o(e,"mozAutoGainControl","autoGainControl"),o(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var u=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===i(e)&&(e=JSON.parse(JSON.stringify(e)),o(e,"autoGainControl","mozAutoGainControl"),o(e,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[e])}}}}function sw(e){"object"===i(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function dw(e,t){if("object"===i(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=s({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],o=e[1],a=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!o)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(i){if("TypeError"!==i.name)throw i;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(o,a)}}}function fw(e){if("object"===i(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function pw(e){if("object"===i(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),dp(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function vw(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;hp("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function hw(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function mw(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,o=i.getParameters();(!("encodings"in o)||1===o.encodings.length&&0===Object.keys(o.encodings[0]).length)&&(o.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function gw(e){if("object"===i(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function yw(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function bw(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}var _w=Object.freeze({__proto__:null,shimOnTrack:sw,shimPeerConnection:dw,shimSenderGetStats:fw,shimReceiverGetStats:pw,shimRemoveStream:vw,shimRTCDataChannel:hw,shimAddTransceiver:mw,shimGetParameters:gw,shimCreateOffer:yw,shimCreateAnswer:bw,shimGetUserMedia:cw,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function ww(e){if("object"===i(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function Sw(e){if("object"===i(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function Ow(e){if("object"===i(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,a=t.setRemoteDescription,l=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var u=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=u,u=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=u,u=function(e,t,n){var r=l.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=u}}function kw(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(Cw(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function Cw(e){return e&&void 0!==e.video?Object.assign({},e,{video:yp(e.video)}):e}function xw(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(hp("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,r.push(o)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function Pw(e){"object"===i(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Ew(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video")}return t.apply(this,arguments)}}function Tw(e){"object"!==i(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Iw=Object.freeze({__proto__:null,shimLocalStreamsAPI:ww,shimRemoteStreamsAPI:Sw,shimCallbacksAPI:Ow,shimGetUserMedia:kw,shimConstraints:Cw,shimRTCIceServerUrls:xw,shimTrackEventTransceiver:Pw,shimCreateOfferLegacy:Ew,shimAudioContext:Tw}),Dw=lt,jw=At;ki({target:"Date",proto:!0,arity:1,forced:D((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=Dw(this),n=jw(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}});var Rw=M;ki({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Rw(URL.prototype.toString,this)}});var Aw=$(1..valueOf),Fw=j,Mw=T,Nw=$,Lw=mi,Ww=Sr,Vw=st,Bw=zs,Uw=_e,Hw=Ne,zw=At,Zw=D,Kw=Or.f,Yw=I.f,Gw=Qt.f,$w=Aw,Jw=Pl.trim,qw="Number",Xw=Mw.Number,Qw=Xw.prototype,eS=Mw.TypeError,tS=Nw("".slice),nS=Nw("".charCodeAt),rS=function(e){var t=zw(e,"number");return"bigint"==typeof t?t:iS(t)},iS=function(e){var t,n,r,i,o,a,l,u,c=zw(e,"number");if(Hw(c))throw eS("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Jw(c),43===(t=nS(c,0))||45===t){if(88===(n=nS(c,2))||120===n)return NaN}else if(48===t){switch(nS(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=tS(c,2)).length,l=0;l<a;l++)if((u=nS(o,l))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(Lw(qw,!Xw(" 0o1")||!Xw("0b1")||Xw("+0x1"))){for(var oS,aS=function(e){var t=arguments.length<1?0:Xw(rS(e)),n=this;return Uw(Qw,n)&&Zw((function(){$w(n)}))?Bw(Object(t),n,aS):t},lS=Fw?Kw(Xw):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),uS=0;lS.length>uS;uS++)Vw(Xw,oS=lS[uS])&&!Vw(aS,oS)&&Gw(aS,oS,Yw(Xw,oS));aS.prototype=Qw,Qw.constructor=aS,Ww(Mw,qw,aS,{constructor:!0})}var cS=ki,sS=ie,dS=de,fS=ff,pS=$([].join),vS=sS!=Object,hS=fS("join",",");cS({target:"Array",proto:!0,forced:vS||!hS},{join:function(e){return pS(dS(this),void 0===e?",":e)}});var mS=Rv,gS=M,yS=$,bS=Za,_S=on,wS=oe,SS=zf,OS=ue,kS=Ev,CS=nl,xS=Ar,PS=jo,ES=Ke,TS=Oc,IS=cl,DS=Ma,jS=D,RS=Wo.UNSUPPORTED_Y,AS=4294967295,FS=Math.min,MS=[].push,NS=yS(/./.exec),LS=yS(MS),WS=yS("".slice),VS=!jS((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));bS("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=PS(OS(this)),i=void 0===n?AS:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!SS(e))return gS(t,r,e,i);for(var o,a,l,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,d=new RegExp(e.source,c+"g");(o=gS(DS,d,r))&&!((a=d.lastIndex)>s&&(LS(u,WS(r,s,o.index)),o.length>1&&o.index<r.length&&mS(MS,u,TS(o,1)),l=o[0].length,s=a,u.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return s===r.length?!l&&NS(d,"")||LS(u,""):LS(u,WS(r,s)),u.length>i?TS(u,0,i):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:gS(t,this,e,n)}:t,[function(t,n){var i=OS(this),o=wS(t)?void 0:ES(t,e);return o?gS(o,t,i,n):gS(r,PS(i),t,n)},function(e,i){var o=_S(this),a=PS(e),l=n(r,o,a,i,r!==t);if(l.done)return l.value;var u=kS(o,RegExp),c=o.unicode,s=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(RS?"g":"y"),d=new u(RS?"^(?:"+o.source+")":o,s),f=void 0===i?AS:i>>>0;if(0===f)return[];if(0===a.length)return null===IS(d,a)?[a]:[];for(var p=0,v=0,h=[];v<a.length;){d.lastIndex=RS?0:v;var m,g=IS(d,RS?WS(a,v):a);if(null===g||(m=FS(xS(d.lastIndex+(RS?v:0)),a.length))===p)v=CS(a,v,c);else{if(LS(h,WS(a,p,v)),h.length===f)return h;for(var y=1;y<=g.length-1;y++)if(LS(h,g[y]),h.length===f)return h;v=p=m}}return LS(h,WS(a,p)),h}]}),!VS,RS);var BS=xn.PROPER,US=D,HS=bl,zS=Pl.trim;function ZS(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===i(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=D_.parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,dp(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function KS(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=D_.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=D_.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=D_.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),l=e.sdpSemantics;"plan-b"===l&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var u,c=r(arguments[0]),s=i(c),d=o(arguments[0],c);u=0===s&&0===d?Number.POSITIVE_INFINITY:0===s||0===d?Math.max(s,d):Math.min(s,d);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return u}}),this._sctp=f}return a.apply(this,arguments)}}}function YS(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},dp(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function GS(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function $S(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function JS(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}ki({target:"String",proto:!0,forced:function(e){return US((function(){return!!HS[e]()||"​᠎"!=="​᠎"[e]()||BS&&HS[e].name!==e}))}("trim")},{trim:function(){return zS(this)}});var qS=Object.freeze({__proto__:null,shimRTCIceCandidate:ZS,shimMaxMessageSize:KS,shimSendThrowTypeError:YS,shimConnectionState:GS,removeExtmapAllowMixed:$S,shimAddIceCandidateNullOrEmpty:JS});!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=vp,i=mp(t),o={browserDetails:i,commonShim:qS,extractVersion:sp,disableLog:fp,disableWarnings:pp};switch(i.browser){case"chrome":if(!m_||!v_||!n.shimChrome)return r("Chrome shim is not included in this adapter release."),o;if(null===i.version)return r("Chrome shim can not determine version, not shimming."),o;r("adapter.js shimming chrome."),o.browserShim=m_,JS(t,i),a_(t,i),l_(t),v_(t,i),u_(t),p_(t,i),c_(t),s_(t),d_(t),h_(t,i),ZS(t),GS(t),KS(t,i),YS(t),$S(t,i);break;case"firefox":if(!_w||!dw||!n.shimFirefox)return r("Firefox shim is not included in this adapter release."),o;r("adapter.js shimming firefox."),o.browserShim=_w,JS(t,i),cw(t,i),dw(t,i),sw(t),vw(t),fw(t),pw(t),hw(t),mw(t),gw(t),yw(t),bw(t),ZS(t),GS(t),KS(t,i),YS(t);break;case"edge":if(!H_||!B_||!n.shimEdge)return r("MS edge shim is not included in this adapter release."),o;r("adapter.js shimming edge."),o.browserShim=H_,W_(t),V_(t),B_(t,i),U_(t),KS(t,i),YS(t);break;case"safari":if(!Iw||!n.shimSafari)return r("Safari shim is not included in this adapter release."),o;r("adapter.js shimming safari."),o.browserShim=Iw,JS(t,i),xw(t),Ew(t),Ow(t),ww(t),Sw(t),Pw(t),kw(t),Tw(t),ZS(t),KS(t,i),YS(t),$S(t,i);break;default:r("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var XS="4.14.3";ad("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Ed);var QS=T,eO=Rv,tO=fe,nO=xp,rO=Fv,iO=/MSIE .\./.test(we),oO=QS.Function,aO=function(e){return iO?function(t,n){var r=rO(arguments.length,1)>2,i=tO(t)?t:oO(t),o=r?nO(arguments,2):void 0;return e(r?function(){eO(i,this,o)}:i,n)}:e},lO={setTimeout:aO(QS.setTimeout),setInterval:aO(QS.setInterval)},uO=lO.setInterval;ki({global:!0,bind:!0,forced:T.setInterval!==uO},{setInterval:uO});var cO=lO.setTimeout;ki({global:!0,bind:!0,forced:T.setTimeout!==cO},{setTimeout:cO});var sO=$,dO=Sr,fO=Date.prototype,pO="Invalid Date",vO="toString",hO=sO(fO.toString),mO=sO(fO.getTime);String(new Date(NaN))!=pO&&dO(fO,vO,(function(){var e=mO(this);return e==e?hO(this):pO}));var gO=D,yO=xt("iterator"),bO=!gO((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[yO]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),_O=Oc,wO=Math.floor,SO=function(e,t){var n=e.length,r=wO(n/2);return n<8?OO(e,t):kO(e,SO(_O(e,0,r),t),SO(_O(e,r),t),t)},OO=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},kO=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,l=0;a<i||l<o;)e[a+l]=a<i&&l<o?r(t[a],n[l])<=0?t[a++]:n[l++]:a<i?t[a++]:n[l++];return e},CO=SO,xO=ki,PO=T,EO=M,TO=$,IO=j,DO=bO,jO=Sr,RO=ud,AO=gu,FO=ku,MO=or,NO=Fs,LO=fe,WO=st,VO=Ei,BO=Wi,UO=on,HO=he,zO=jo,ZO=ca,KO=H,YO=vs,GO=ls,$O=Fv,JO=CO,qO=xt("iterator"),XO="URLSearchParams",QO="URLSearchParamsIterator",ek=MO.set,tk=MO.getterFor(XO),nk=MO.getterFor(QO),rk=Object.getOwnPropertyDescriptor,ik=function(e){if(!IO)return PO[e];var t=rk(PO,e);return t&&t.value},ok=ik("fetch"),ak=ik("Request"),lk=ik("Headers"),uk=ak&&ak.prototype,ck=lk&&lk.prototype,sk=PO.RegExp,dk=PO.TypeError,fk=PO.decodeURIComponent,pk=PO.encodeURIComponent,vk=TO("".charAt),hk=TO([].join),mk=TO([].push),gk=TO("".replace),yk=TO([].shift),bk=TO([].splice),_k=TO("".split),wk=TO("".slice),Sk=/\+/g,Ok=Array(4),kk=function(e){return Ok[e-1]||(Ok[e-1]=sk("((?:%[\\da-f]{2}){"+e+"})","gi"))},Ck=function(e){try{return fk(e)}catch(aY){return e}},xk=function(e){var t=gk(e,Sk," "),n=4;try{return fk(t)}catch(aY){for(;n;)t=gk(t,kk(n--),Ck);return t}},Pk=/[!'()~]|%20/g,Ek={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Tk=function(e){return Ek[e]},Ik=function(e){return gk(pk(e),Pk,Tk)},Dk=FO((function(e,t){ek(this,{type:QO,iterator:YO(tk(e).entries),kind:t})}),"Iterator",(function(){var e=nk(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),jk=function(e){this.entries=[],this.url=null,void 0!==e&&(HO(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===vk(e,0)?wk(e,1):e:zO(e)))};jk.prototype={type:XO,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,l,u=GO(e);if(u)for(n=(t=YO(e,u)).next;!(r=EO(n,t)).done;){if(o=(i=YO(UO(r.value))).next,(a=EO(o,i)).done||(l=EO(o,i)).done||!EO(o,i).done)throw dk("Expected sequence with length 2");mk(this.entries,{key:zO(a.value),value:zO(l.value)})}else for(var c in e)WO(e,c)&&mk(this.entries,{key:c,value:zO(e[c])})},parseQuery:function(e){if(e)for(var t,n,r=_k(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=_k(t,"="),mk(this.entries,{key:xk(yk(n)),value:xk(hk(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],mk(n,Ik(e.key)+"="+Ik(e.value));return hk(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Rk=function(){NO(this,Ak);var e=arguments.length>0?arguments[0]:void 0;ek(this,new jk(e))},Ak=Rk.prototype;if(RO(Ak,{append:function(e,t){$O(arguments.length,2);var n=tk(this);mk(n.entries,{key:zO(e),value:zO(t)}),n.updateURL()},delete:function(e){$O(arguments.length,1);for(var t=tk(this),n=t.entries,r=zO(e),i=0;i<n.length;)n[i].key===r?bk(n,i,1):i++;t.updateURL()},get:function(e){$O(arguments.length,1);for(var t=tk(this).entries,n=zO(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){$O(arguments.length,1);for(var t=tk(this).entries,n=zO(e),r=[],i=0;i<t.length;i++)t[i].key===n&&mk(r,t[i].value);return r},has:function(e){$O(arguments.length,1);for(var t=tk(this).entries,n=zO(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){$O(arguments.length,1);for(var n,r=tk(this),i=r.entries,o=!1,a=zO(e),l=zO(t),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?bk(i,u--,1):(o=!0,n.value=l));o||mk(i,{key:a,value:l}),r.updateURL()},sort:function(){var e=tk(this);JO(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=tk(this).entries,r=VO(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Dk(this,"keys")},values:function(){return new Dk(this,"values")},entries:function(){return new Dk(this,"entries")}},{enumerable:!0}),jO(Ak,qO,Ak.entries,{name:"entries"}),jO(Ak,"toString",(function(){return tk(this).serialize()}),{enumerable:!0}),AO(Rk,XO),xO({global:!0,constructor:!0,forced:!DO},{URLSearchParams:Rk}),!DO&&LO(lk)){var Fk=TO(ck.has),Mk=TO(ck.set),Nk=function(e){if(HO(e)){var t,n=e.body;if(BO(n)===XO)return t=e.headers?new lk(e.headers):new lk,Fk(t,"content-type")||Mk(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),ZO(e,{body:KO(0,zO(n)),headers:KO(0,t)})}return e};if(LO(ok)&&xO({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return ok(e,arguments.length>1?Nk(arguments[1]):{})}}),LO(ak)){var Lk=function(e){return NO(this,uk),new ak(e,arguments.length>1?Nk(arguments[1]):{})};uk.constructor=Lk,Lk.prototype=uk,xO({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Lk})}}var Wk={URLSearchParams:Rk,getState:tk},Vk=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},Bk=M,Uk=on,Hk=oe,zk=ue,Zk=Vk,Kk=jo,Yk=Ke,Gk=cl;Za("search",(function(e,t,n){return[function(t){var n=zk(this),r=Hk(t)?void 0:Yk(t,e);return r?Bk(r,t,n):new RegExp(t)[e](Kk(n))},function(e){var r=Uk(this),i=Kk(e),o=n(t,r,i);if(o.done)return o.value;var a=r.lastIndex;Zk(a,0)||(r.lastIndex=0);var l=Gk(r,i);return Zk(r.lastIndex,a)||(r.lastIndex=a),null===l?-1:l.index}]})),(new Date).getTime();var $k=0,Jk=function(){return(new Date).getTime()+$k},qk=function(){var e=new Date;return e.setTime(Jk()),e.toLocaleString()},Xk=lt,Qk=iu,eC=Jl;ki({target:"Object",stat:!0,forced:D((function(){Qk(1)})),sham:!eC},{getPrototypeOf:function(e){return Qk(Xk(e))}});var tC=Rv,nC=He,rC=on;ki({target:"Reflect",stat:!0,forced:!D((function(){Reflect.apply((function(){}))}))},{apply:function(e,t,n){return tC(nC(e),t,rC(n))}});var iC=ki,oC=Date,aC=$(oC.prototype.getTime);iC({target:"Date",stat:!0},{now:function(){return aC(new oC)}});var lC=window.navigator&&window.navigator.userAgent||"",uC=/AppleWebKit\/([\d.]+)/i.exec(lC);uC&&parseFloat(uC.pop());var cC=/iPad/i.test(lC),sC=navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/Macintosh/.test(lC),dC=/iPhone/i.test(lC)&&!cC,fC=/iPod/i.test(lC),pC=dC||cC||fC||sC,vC=/Android/i.test(lC);vC&&function(){var e=lC.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);t&&n&&parseFloat(e[1]+"."+e[2])}(),vC&&/webkit/i.test(lC);var hC=/Firefox/i.test(lC),mC=hC&&function(){var e=lC.match(/Firefox\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),gC=/Edge\//i.test(lC),yC=gC&&function(){var e=lC.match(/Edge\/(\d+)/i);if(e&&e[1])return e[1]}(),bC=/Edg\//i.test(lC),_C=bC&&function(){var e=lC.match(/Edg\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),wC=/SogouMobileBrowser\//i.test(lC),SC=wC&&function(){var e=lC.match(/SogouMobileBrowser\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),OC=/MetaSr\s/i.test(lC),kC=OC&&function(){var e=lC.match(/MetaSr(\s\d+(\.\d+)+)/);return e&&e[1]?parseFloat(e[1]):null}(),CC=/TBS\/\d+/i.test(lC),xC=CC&&function(){var e=lC.match(/TBS\/(\d+)/i);if(e&&e[1])return e[1]}(),PC=/XWEB\/\d+/i.test(lC),EC=PC&&function(){var e=lC.match(/XWEB\/(\d+)/i);if(e&&e[1])return e[1]}();/MSIE\s8\.0/.test(lC),/MSIE\/\d+/i.test(lC)&&function(){var e=/MSIE\s(\d+)\.\d/.exec(lC),t=e&&parseFloat(e[1]);!t&&/Trident\/7.0/i.test(lC)&&/rv:11.0/.test(lC)&&(t=11)}();var TC=/(micromessenger|webbrowser)/i.test(lC),IC=TC&&function(){var e=lC.match(/MicroMessenger\/(\d+)/i);if(e&&e[1])return e[1]}(),DC=!CC&&/MQQBrowser\/\d+/i.test(lC)&&/COVC\/\d+/i.test(lC),jC=!CC&&/MQQBrowser\/\d+/i.test(lC)&&!/COVC\/\d+/i.test(lC),RC=(jC||DC)&&function(){var e=lC.match(/ MQQBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),AC=!CC&&/ QQBrowser\/\d+/i.test(lC),FC=AC&&function(){var e=lC.match(/ QQBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),MC=!CC&&/QQBrowserLite\/\d+/i.test(lC),NC=MC&&function(){var e=lC.match(/QQBrowserLite\/([\d.]+)/);return e&&e[1]?e[1]:null}(),LC=!CC&&/MQBHD\/\d+/i.test(lC),WC=LC&&function(){var e=lC.match(/MQBHD\/([\d.]+)/);return e&&e[1]?e[1]:null}(),VC=/Windows/i.test(lC),BC=!pC&&/MAC OS X/i.test(lC),UC=!vC&&/Linux/i.test(lC);/MicroMessenger/i.test(lC);var HC=/UCBrowser/i.test(lC);/Electron/i.test(lC);var zC,ZC,KC=/MiuiBrowser/i.test(lC),YC=KC&&function(){var e=lC.match(/MiuiBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),GC=/HuaweiBrowser/i.test(lC),$C=/Huawei/i.test(lC),JC=GC&&function(){var e=lC.match(/HuaweiBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),qC=/SamsungBrowser/i.test(lC),XC=qC&&function(){var e=lC.match(/SamsungBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),QC=/HeyTapBrowser/i.test(lC),ex=QC&&function(){var e=lC.match(/HeyTapBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),tx=/VivoBrowser/i.test(lC),nx=tx&&function(){var e=lC.match(/VivoBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),rx=function(){var e=lC.match(/Chrome\/(\d+)/);return e&&e[1]?Number(e[1]):null},ix=/Chrome/i.test(lC),ox=!gC&&!OC&&!wC&&!CC&&!PC&&!bC&&!AC&&!KC&&!GC&&!qC&&!QC&&!tx&&/Chrome/i.test(lC),ax=ox&&rx(),lx=ox&&function(){var e=lC.match(/Chrome\/([\d.]+)/);return e&&e[1]?e[1]:null}(),ux=!ix&&!jC&&!DC&&!MC&&!LC&&/Safari/i.test(lC),cx=function(){if(ux){var e=lC.match(/Version\/([\d.]+)/);if(e&&e[1])return e[1]}return""}(),sx=/Android.*(wv|.0.0.0)/.test(lC),dx=function(){if(sC)return cx;if(pC){var e=lC.match(/OS (\d+)_(\d+)/i);if(e&&e[1]){var t=e[1];return e[2]&&(t+=".".concat(e[2])),t}}return""}(),fx="15.1"===cx,px="15.1"===dx,vx=14===(zC=Number(dx.split(".")[0]))||13===zC,hx="file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname,mx=function(){if(cD(ZC))try{ZC=window.localStorage}catch(aY){Tj.warn(aY),ZC=!1}return ZC},gx=new Map([[hC,["Firefox",mC]],[bC,["Edg",_C]],[ox,["Chrome",lx]],[ux,["Safari",cx]],[CC,["TBS",xC]],[PC,["XWEB",EC]],[TC&&dC,["WeChat",IC]],[AC,["QQ(Win)",FC]],[jC,["QQ(Mobile)",RC]],[DC,["QQ(Mobile X5)",RC]],[MC,["QQ(Mac)",NC]],[LC,["QQ(iPad)",WC]],[KC,["MI",YC]],[GC,["HW",JC]],[qC,["Samsung",XC]],[QC,["OPPO",ex]],[tx,["VIVO",nx]],[gC,["EDGE",yC]],[wC,["SogouMobile",SC]],[OC,["Sogou",kC]]]);function yx(){var e="unknown",t="unknown";return gx.get(!0)&&(e=gx.get(!0)[0],t=gx.get(!0)[1]),{name:e,version:t}}var bx="canvas",_x="audio",wx="video",Sx="auxiliary",Ox="smallVideo",kx="user",Cx="environment",xx="mute",Px="unmute",Ex="ended",Tx="playing",Ix="pause",Dx="error",jx="loadeddata",Rx="audioinput",Ax="videoinput",Fx="detail",Mx="text",Nx="main",Lx="backup",Wx="banned",Vx="kick",Bx="user_time_out",Ux="room_disband",Hx="sei-message",zx="PLAYING",Zx="PAUSED",Kx="STOPPED",Yx="wss://trtc.rtc.qq.com",Gx="wss://webrtc.qq.com",$x="qcloud",Jx="trtc",qx="webrtc",Xx="",Qx="jssdk_log",eP="jssdk_event",tP="jssdk_new_endreport",nP=function(e){return Xx=e},rP=1,iP=2,oP="live",aP=20,lP=21,uP="anchor",cP="audience",sP="5Y2wZK8nANNAoVw6dSAHVjNxrD1ObBM2kBPV",dP="224d130c-7b5c-415b-aaa2-79c2eb5a6df2",fP=2,pP=Nx,vP=Sx,hP="unknown",mP="DISCONNECTED",gP="CONNECTING",yP="RECONNECTING",bP="CONNECTED",_P="new",wP="connecting",SP="failed",OP="closed",kP="disconnected",CP="connected",xP="completed",PP=30,EP="join",TP="delta-join",IP="rejoin",DP="leave",jP="delta-leave",RP="publish",AP="delta-publish",FP="unpublish",MP="subscribe",NP="unsubscribe",LP="uplink-connection",WP="uplink-reconnection",VP="downlink-connection",BP="downlink-reconnection",UP="setLocalDescription",HP="setRemoteDescription",zP="iceConnectionState",ZP="stream-initialize",KP="websocketConnectionState",YP="websocketReconnectionState",GP="update-stream",$P="recover-subscription",JP="start-mix-transcode",qP="stop-mix-transcode",XP="player-error",QP="schedule",eE="load-worklet",tE="unsubscribe",nE="subscribe_change",rE="unified-plan",iE="plan-b",oE={MANUAL:"manual",PRESET_LAYOUT:"preset-layout"},aE={REMOTE:"$PLACE_HOLDER_REMOTE$"},lE={IT_AUDIO_VIDEO:0,IT_PICTURE:2,IT_CANVAS:3,IT_PURE_AUDIO:4,IT_PURE_VIDEO:5},uE="string",cE="number",sE="boolean",dE="array",fE="object",pE="add",vE="remove",hE={unknown:0,wifi:1,"4g":2,"3g":3,"2g":4,wired:5},mE=-1,gE=0,yE=1,bE="small",_E=6048e5,wE="schedule.rtc.qq.com",SE="schedule.rtc.qcloud.com",OE="intl-schedule.rtc.qq.com",kE="intl-schedule.rtc.qcloud.com",CE="TRTC",xE="Client",PE="LocalStream",EE="RemoteStream",TE="Stream",IE="web.sdk.qcloud.com",DE="web.sdk.tencent.cn",jE="web.sdk.cloud.tencent.cn",RE="https://console.cloud.tencent.com/trtc",AE="https://".concat(IE,"/trtc/webrtc/doc"),FE="".concat(AE,"/zh-cn/"),ME="trtc_error_assistance",NE="default",LE="communications",WE={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5},VE=Object.keys(WE),BE=["normal leave","timeout leave","kick","role change"],UE=2e3,HE=ue,zE=jo,ZE=/"/g,KE=$("".replace),YE=function(e,t,n,r){var i=zE(HE(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+KE(zE(r),ZE,"&quot;")+'"'),o+">"+i+"</"+t+">"},GE=D,$E=function(e){return GE((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))},JE=YE;ki({target:"String",proto:!0,forced:$E("link")},{link:function(e){return JE(this,"a","href",e)}}),ki({target:"Array",stat:!0},{isArray:Ii});var qE="AVOID_REPEATED_CALL",XE="INVALID_PARAMETER_REQUIRED",QE="INVALID_PARAMETER_TYPE",eT="INVALID_PARAMETER_EMPTY",tT="INVALID_PARAMETER_INSTANCE",nT="INVALID_PARAMETER_RANGE",rT="API_CALL_TIMEOUT",iT="SIGNAL_CHANNEL_RECONNECTION_FAILED",oT="SIGNAL_CHANNEL_SETUP_FAILED",aT="ERROR_MESSAGE",lT="EXCHANGE_SDP_TIMEOUT",uT="DOWNLINK_RECONNECTION_FAILED",cT="EXCHANGE_SDP_FAILED",sT="UPLINK_RECONNECTION_FAILED",dT="AUDIO",fT="VIDEO",pT="INVALID_PURE_AUDIO",vT="INVALID_STREAMID",hT="INVALID_USER_DEFINE_RECORDID",mT="INVALID_USER_DEFINE_PUSH_ARGS",gT="INVALID_PROXY",yT="INVALID_JOIN",bT="INVALID_ROOMID_STRING",_T="INVALID_ROOMID_INTEGER",wT="JOIN_ROOM_TIMEOUT",ST="JOIN_ROOM_FAILED",OT="REJOIN_ROOM_FAILED",kT="INVALID_DESTROY",CT="INVALID_PUBLISH",xT="INVALID_UNPUBLISH",PT="INVALID_AUDIENCE",ET="INVALID_INITIALIZE",TT="INVALID_DUPLICATE_PUBLISHING",IT="INVALID_REMOTE_STREAM",DT="SUBSCRIBE_FAILED",jT="INVALID_ROLE",RT="INVALID_OPERATION_SWITCH_ROLE",AT="SWITCH_ROLE_TIMEOUT",FT="SWITCH_ROLE_FAILED",MT="CLIENT_BANNED",NT="INVALID_OPERATION_START_PUBLISH_CDN",LT="INVALID_OPERATION_STOP_PUBLISH_CDN",WT="INVALID_STREAM_ID",VT="START_PUBLISH_CDN_FAILED",BT="STOP_PUBLISH_CDN_FAILED",UT="START_MIX_TRANSCODE",HT="STOP_MIX_TRANSCODE",zT="INVALID_AUDIO_VOLUME",ZT="ENABLE_SMALL_STREAM_PUBLISHED",KT="DISABLE_SMALL_STREAM_PUBLISHED",YT="NOT_SUPPORTED_SMALL_STREAM",GT="INVALID_SMALL_STREAM_PROFILE",$T="INVALID_PARAMETER_REMOTE_STREAM",JT="INVALID_SWITCH_DEVICE",qT="INVALID_SWITCH_DEVICE_PUBLISHING",XT="INVALID_REPLACE_TRACK",QT="INVALID_INITIALIZE_LOCAL_STREAM",eI="INVALID_ADD_TRACK_REPETITIVE",tI="INVALID_ADD_TRACK_REMOVING",nI="INVALID_ADD_TRACK_PUBLISHING",rI="INVALID_STREAM_INITIALIZED",iI="INVALID_ADD_TRACK_NUMBER",oI="INVALID_REMOVE_AUDIO_TRACK",aI="INVALID_REMOVE_AUDIO_ADDING",lI="INVALID_REMOVE_AUDIO_ON",uI="INVALID_REMOVE_TRACK_PUBLISHING",cI="INVALID_REMOVE_TRACK_NOT_PUBLISHING",sI="INVALID_REMOVE_TRACK_NUMBER",dI="INVALID_REMOVE_TRACK_NOT_PUBLISHED",fI="REPEAT_JOIN",pI="CLIENT_DESTROYED",vI="START_MIX_TRANSCODE_FAILED",hI="STOP_MIX_TRANSCODE_FAILED",mI="MIX_TRANSCODE_NOT_STARTED",gI="CANNOT_LESS_THAN_ZERO",yI="MIX_PARAMS_VIDEO_FRAMERATE",bI="MIX_PARAMS_VIDEO_GOP",_I="MIX_PARAMS_AUDIO_BITRATE",wI="MIX_PARAMS_USER_Z_ORDER",SI="MIX_PARAMS_NOT_SELF",OI="MIX_PARAMS_USER_STREAM",kI="INVALID_ELEMENT_ID",CI="INVALID_ELEMENT_ID_TYPE",xI="INVALID_CREATE_STREAM_SOURCE",PI="INVALID_CREATE_STREAM_SCREEN",EI="INVALID_CREATE_STREAM_AUDIO",TI="INVALID_CREATE_STREAM_SCREEN_AUDIO",II="NOT_SUPPORTED_HTTP",DI="NOT_SUPPORTED_WEBRTC",jI="NOT_SUPPORTED_PROFILE",RI="NOT_SUPPORTED_H264ENCODE",AI="NOT_SUPPORTED_H264DECODE",FI="NOT_SUPPORTED_REPLACE_TRACK",MI="NOT_SUPPORTED_CAPTURE",NI="MICROPHONE_NOT_FOUND",LI="CAMERA_NOT_FOUND",WI="SIGNAL_RESPONSE_FAILED",VI="CATCH_HANDLER_ERROR",BI="API_NOT_EXIST",UI="STREAM_UNSUBSCRIBED",HI="SUBSCRIBE_ALL_FALSE",zI="SEI_NOT_SUPPORT",ZI="SEI_DISABLED",KI="SEI_EMPTY",YI="SEI_OVERSIZE",GI="SEI_BEFORE_PUBLISH",$I="SEI_NOT_VIDEO",JI="CALL_FREQUENCY_LIMIT",qI={AVOID_REPEATED_CALL:function(e){return"previous ".concat(e.name,"() is ongoing, please avoid repeated calls.")},INVALID_PARAMETER_REQUIRED:function(e){var t=e.key,n=e.rule,r=e.fnName,i=e.value;return"'".concat(t||n.name,"' is a required param when calling ").concat(r,"(), received: ").concat(i,".")},INVALID_PARAMETER_TYPE:function(e){var t=e.key,n=e.rule,r=e.fnName,i=e.value,o="".concat(t||n.name),a="";return a=Array.isArray(n.type)?n.type.join("|"):n.type,"'".concat(o,"' must be type of ").concat(a," when calling ").concat(r,"(), received type: ").concat(hD(i),".")},INVALID_PARAMETER_EMPTY:function(e){var t=e.key,n=e.rule,r=e.fnName,i=e.value;return"'".concat(t||n.name,"' cannot be '").concat(i,"' when calling ").concat(r,"().")},INVALID_PARAMETER_INSTANCE:function(e){var t=e.key,n=e.rule,r=e.fnName,i=e.value,o="".concat(t||n.name),a="".concat(n.instanceOf.name||n.instanceOf);return"'".concat(o,"' must be instanceof ").concat(a," when calling ").concat(r,"(), received type: ").concat(hD(i),".")},INVALID_PARAMETER_RANGE:function(e){var t=e.key,n=e.rule,r=e.fnName,i=e.value;return"'".concat(t||n.name,"' must be one of ").concat(n.values.join("|")," when calling ").concat(r,"(), received: ").concat(i,".")},API_CALL_TIMEOUT:function(e){return"".concat(e.commandDesc||e.command," timeout observed.")},SIGNAL_CHANNEL_RECONNECTION_FAILED:"signal channel reconnection failed, please check your network.",SIGNAL_CHANNEL_SETUP_FAILED:function(e){return"SignalChannel setup failure: (errorCode: ".concat(e.errorCode,", errorMsg: ").concat(e.errorMsg," }).")},ERROR_MESSAGE:function(e){var t="".concat(e.type," failed");return e.message&&(t="".concat(t,": ").concat(e.message,".")),t},EXCHANGE_SDP_TIMEOUT:"exchange sdp timeout.",DOWNLINK_RECONNECTION_FAILED:"downlink reconnection failed, please check your network and re-join room.",EXCHANGE_SDP_FAILED:function(e){return"exchange sdp failed ".concat(e.errMsg,".")},UPDATE_OFFER_TIMEOUT:"update offer timeout observed.",UPLINK_RECONNECTION_FAILED:"uplink reconnection failed, please check your network and publish again.",AUDIO:function(e){return e.error.toString()+" <audio>"},VIDEO:function(e){return e.error.toString()+" <video>"},INVALID_RECORDID:"recordId must be an integer number.",INVALID_PURE_AUDIO:"pureAudioPushMode must be 1 or 2.",INVALID_STREAMID:"streamId must be a sting literal within 64 bytes, and not be empty.",INVALID_USER_DEFINE_RECORDID:"userDefineRecordId must be a sting literal contains (a-zA-Z),(0-9), underline and hyphen, within 64 bytes, and not be empty.",INVALID_USER_DEFINE_PUSH_ARGS:"userDefinePushArgs must be a sting literal within 256 bytes, and not be empty.",INVALID_PROXY:'proxy server url must start with "wss://".',INVALID_JOIN:"duplicate join() called.",INVALID_ROOMID_STRING:function(e){return"'".concat(e,"' must be validate string when useStringRoomId is true.")},INVALID_ROOMID_INTEGER:function(e){return"'".concat(e,"' must be an integer between [1, 4294967294] when useStringRoomId is false.")},INVALID_SIGNAL_CHANNEL:"SignalChannel is not ready yet.",JOIN_ROOM_TIMEOUT:"join room timeout.",JOIN_ROOM_FAILED:function(e){var t=e.error,n=e.code;return"Failed to join room - ".concat(t," code: ").concat(n)},REJOIN_ROOM_FAILED:function(e){return"reJoin room: ".concat(e.roomId," failed, please check your network.")},INVALID_DESTROY:"please call leave() before destroy().",INVALID_PUBLISH:"please call join() before publish().",INVALID_UNPUBLISH:"stream has not been published yet.",INVALID_AUDIENCE:"no permission to publish() under live/".concat(cP,', please call switchRole("').concat(uP,'") firstly before publish().'),INVALID_INITIALIZE:"cannot publish stream because stream is not initialized, is switching device, or has been closed.",INVALID_DUPLICATE_PUBLISHING:"duplicate publishing, please unpublish and then re-publish.",INVALID_SUBSCRIBE_UNDEFINED:"stream is undefined or null.",INVALID_SUBSCRIBE_LOCAL:"stream cannot be LocalStream.",INVALID_REMOTE_STREAM:"remoteStream does not exist because it has been unpublished by remote peer.",SUBSCRIBE_FAILED:function(e){var t=e.message,n=e.stream;return"failed to subscribe ".concat(n.getUserId()," ").concat(n.getType()," stream, reason: ").concat(t,".")},INVALID_ROLE:"switchRole can only be called in live mode.",INVALID_PARAMETER_SWITCH_ROLE:"role could only be set to a value as ".concat(uP," or ").concat(cP,"."),INVALID_OPERATION_SWITCH_ROLE:"please call join() before switchRole().",SWITCH_ROLE_TIMEOUT:"switchRole timeout.",SWITCH_ROLE_FAILED:function(e){return"switchRole failed, errCode: ".concat(e.code," errMsg: ").concat(e.message,".")},CLIENT_BANNED:function(e){return"client was banned because of "+e.message+"."},INVALID_OPERATION_START_PUBLISH_CDN:"please call startPublishCDNStream() after join room and publish the local stream.",INVALID_OPERATION_STOP_PUBLISH_CDN:"please call startPublishCDNStream() before stopPublishCDNStream().",START_PUBLISH_CDN_FAILED:function(e){return"startPublishCDNStream failed, errMsg: ".concat(e.message,".")},STOP_PUBLISH_CDN_FAILED:function(e){return"stopPublishCDNStream failed, errMsg: ".concat(e.message,".")},INVALID_STREAM_ID:function(e){return"'".concat(e,"' can only consist of uppercase and lowercase english letters (a-zA-Z), numbers (0-9), hyphens and underscores.")},START_MIX_TRANSCODE:"please call startMixTranscode() after join().",STOP_MIX_TRANSCODE:"please call stopMixTranscode() after startMixTranscode().",INVALID_AUDIO_VOLUME:"interval must be a number.",ENABLE_SMALL_STREAM_PUBLISHED:"Cannot enable small stream after localStream published.",DISABLE_SMALL_STREAM_PUBLISHED:"Cannot disable small stream after localStream published.",NOT_SUPPORTED_SMALL_STREAM:"your browser does not support opening small stream.",INVALID_SMALL_STREAM_PROFILE:"small stream profile is invalid.",INVALID_PARAMETER_REMOTE_STREAM:"remoteStream is invalid.",INVALID_OPERATION_CHANGE_SMALL:"cannot switch to the small stream without subscribing to the video of remoteStream.",REMOTE_NOT_PUBLISH_SMALL_STREAM:"remote peer does not publish small stream.",INVALID_SWITCH_DEVICE:"cannot switch device on current stream.",INVALID_SWITCH_DEVICE_PUBLISHING:"cannot switch device when publishing localStream.",INVALID_REPLACE_TRACK:"cannot replace track when publishing localStream.",INVALID_INITIALIZE_LOCAL_STREAM:"local stream has not initialized yet.",INVALID_ADD_TRACK_REPETITIVE:"previous addTrack is ongoing, please avoid repetitive execution.",INVALID_ADD_TRACK_REMOVING:"cannot add track when a track is removing.",INVALID_ADD_TRACK_PUBLISHING:"cannot add track when publishing localStream.",INVALID_STREAM_INITIALIZED:"your local stream haven't been initialized yet.",INVALID_ADD_TRACK_NUMBER:"a Stream has at most one audio track and one video track.",INVALID_REMOVE_AUDIO_TRACK:"remove audio track is not supported.",INVALID_REMOVE_AUDIO_ADDING:"cannot remove track when a track is adding.",INVALID_REMOVE_AUDIO_ON:"previous removeTrack is ongoing, please avoid repetitive execution.",INVALID_REMOVE_TRACK_PUBLISHING:"cannot remove track when publishing localStream.",INVALID_REMOVE_TRACK_NOT_PUBLISHING:"the track to be removed is not being publishing.",INVALID_REMOVE_TRACK_NUMBER:"remove the only video track is not supported, please use replaceTrack or muteVideo.",INVALID_REMOVE_TRACK_NOT_PUBLISHED:function(e){return"try to replace ".concat(e.kind," track but there's no previous ").concat(e.kind," being published.")},START_MIX_TRANSCODE_FAILED:function(e){return"startMixTranscode failed, errMsg: ".concat(e.message,".")},STOP_MIX_TRANSCODE_FAILED:function(e){return"stopMixTranscode failed, errMsg: ".concat(e.message,".")},MIX_TRANSCODE_NOT_STARTED:"mixTranscode has not been started.",CANNOT_LESS_THAN_ZERO:function(e){var t=e.key,n=e.rule,r=e.fnName;return e.value,"'".concat(t||n.name,"' cannot be less than 0 when calling ").concat(r,"().")},MIX_PARAMS_VIDEO_FRAMERATE:"'config.videoFramerate' should be an integer between 0 and 30, excluding 0.",MIX_PARAMS_VIDEO_GOP:"'config.videoGOP' should be an integer between 1 and 8.",MIX_PARAMS_AUDIO_BITRATE:"'config.audioBitrate' should be an integer between 32 and 192.",MIX_PARAMS_USER_Z_ORDER:function(e){return"'".concat(e,"' is required and must be between 1 and 15.")},MIX_PARAMS_NOT_SELF:"'config.mixUsers' must contain self.",MIX_PARAMS_USER_STREAM:"'config.videoWidth' and 'config.videoHeight' of output stream should be contain all mix stream.",INVALID_PLAY:"duplicate play() call observed, please stop() firstly.",INVALID_ELEMENT_ID:function(e){var t=e.key,n=e.fnName;return"'".concat(t,"' is not found in the document object when calling ").concat(n,"().")},INVALID_ELEMENT_ID_TYPE:function(e){var t=e.key,n=e.fnName,r=e.type;return"the element corresponding to '".concat(t,"' must be instanceof HTMLDivElement when calling ").concat(n,"(), received: ").concat(r,".")},INVALID_USERID:"userId cannot be all spaces.",INVALID_CREATE_STREAM_SOURCE:"LocalStream must be created by createStream() with either audio/video or audioSource/videoSource, but can not be mixed with audio/video and audioSource/videoSource.",INVALID_CREATE_STREAM_SCREEN:"screen/video cannot be both true.",INVALID_CREATE_STREAM_AUDIO:"audio/screenAudio cannot be both true.",INVALID_CREATE_STREAM_SCREEN_AUDIO:"when screen is true, screenAudio can be configured.",NOT_SUPPORTED_HTTP:"http protocol does not support the ability to capture and publish streams, please use the https protocol.",NOT_SUPPORTED_WEBRTC:"your browser or environment does not support full WebRTC capabilities.",NOT_SUPPORTED_PROFILE:"your browser does not support setVideoProfile.",NOT_SUPPORTED_MEDIA:"your browser or environment does not support navigator.mediaDevices.",NOT_SUPPORTED_H264ENCODE:"your device does not support H.264 encoding.",NOT_SUPPORTED_H264DECODE:"your device does not support H.264 decoding.",NOT_SUPPORTED_REPLACE_TRACK:"replaceTrack is not supported in this browser, please use switchDevice or addTrack instead.",NOT_SUPPORTED_CAPTURE:"Your browser or environment does not support screen sharing, please check whether the browser version.",MICROPHONE_NOT_FOUND:"no microphone detected, please check your microphone and the configuration on TRTC.createStream.",CAMERA_NOT_FOUND:"no camera detected, please check your camera and the configuration on TRTC.createStream.",SIGNAL_RESPONSE_FAILED:function(e){return"".concat(e.signalResponse," failed, response code is ").concat(e.code," , errMsg: ").concat(e.message,".")},CATCH_HANDLER_ERROR:function(e){var t=e.name,n=e.event;return"an error was caught on ".concat(t,".on('").concat(n,"', handler), please check your code on 'handler'.")},API_NOT_EXIST:function(e){var t=e.name;return"experimental api ".concat(t," does not exist.")},REPEAT_JOIN:function(e){return"[".concat(e,"] is calling client.join api or has already joined room, please avoid repeated join.")},STREAM_UNSUBSCRIBED:"stream has been unsubscribed, please call client.unsubscribe after last client.subscribe finished.",SUBSCRIBE_ALL_FALSE:"cannot subscribe when both audio & video are false, use client.unsubscribe() instead",CLIENT_DESTROYED:function(e){var t=e.funName;return"failed to call ".concat(t,"() because client was destroyed.")},SEI_NOT_SUPPORT:function(e){return"not support to sendSEIMessage".concat(!1===e?" without using h264 codec":"")},SEI_DISABLED:"SEI is disabled, to enable SEI: TRTC.createClient({ enableSEI: true })",SEI_EMPTY:"buffer cannot be empty",SEI_OVERSIZE:function(e){return"buffer size(".concat(e,") is over 1000 Bytes")},SEI_BEFORE_PUBLISH:"please call sendSEIMessage() after publish() success",SEI_NOT_VIDEO:"cannot send sei when localStream has not video.",CALL_FREQUENCY_LIMIT:function(e){var t=e.isSize,n=e.name,r=e.timesInSecond,i=e.maxSizeInSecond;return"api ".concat(n," call ").concat(t?"size":"times"," is over ").concat(t?i+" bytes":r," in a second.")}},XI=function(e,t){return t?AE+"/"+e+"/"+t:AE+"/"+e+"/index.html"},QI=function(){if(!mx())return!1;var e=localStorage.getItem(ME);e&&!function(e){var t=e.saveTime&&(new Date).getTime()-e.saveTime>=_E,n=!e.saveVersion||e.saveVersion!==XS;return t||n}(JSON.parse(e))||(Tj.info("init debug info"),function(){var e=new XMLHttpRequest;if(e.open("GET","https://web.sdk.qcloud.com/trtc/webrtc/download/error-message/0.0.2/script.js",!1),e.send(null),4===e.readyState&&200===e.status){var t=document.createElement("script");t.type="text/javascript",t.text=e.responseText,document.body.appendChild(t),localStorage.setItem(ME,JSON.stringify({message:e.responseText,saveTime:(new Date).getTime(),saveVersion:XS})),document.body.removeChild(t)}}())};function eD(e){var t=e.key,n=e.data,r=e.link,i=e.addDocLink,o=void 0===i||i,a="",l="",u="";uD(qI[t])?a=qI[t](n):sD(qI[t])&&(a=qI[t]);var c=function(){if(window.TRTC_ERROR_INFO&&window.TRTC_ERROR_LINK)return{TRTC_ERROR_INFO:window.TRTC_ERROR_INFO,TRTC_ERROR_LINK:window.TRTC_ERROR_LINK};var e=localStorage.getItem(ME);if(e){e=JSON.parse(e);var t=document.createElement("script");t.type="text/javascript",t.text=e.message,document.body.appendChild(t);var n=window.TRTC_ERROR_INFO,r=window.TRTC_ERROR_LINK;return document.body.removeChild(t),{TRTC_ERROR_INFO:n,TRTC_ERROR_LINK:r}}return{}}(),s=c.TRTC_ERROR_INFO,d=c.TRTC_ERROR_LINK;r?u="".concat(r.className,".html#").concat(r.fnName):d&&d[t]&&(u=d[t]);var f=a;return wD()&&(s&&s[t]&&(uD(s[t])?l=s[t](n):sD(s[t])&&(l=s[t])),l&&(f=o?l+"\n请查看文档: "+XI("zh-cn",u)+"\n\n":l+"\n\n",f+=a)),o&&(f+=" \nRefer to: "+XI("en",u)+"\n"),f}var tD=function(){return function(e){var t=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return t?decodeURIComponent(t[2]):""}("trtc_env")},nD=function(e){return(e=Number(e))>0&&e<14e8},rD=function(e,t){var n;n=Xx||(nD(e)?"https://videoapi-sgp.im.qcloud.com":"https://yun.tim.qq.com");var r=Math.floor(Math.random()*Math.pow(2,31));return"".concat(n,"/v5/AVQualityReportSvc/C2S?random=").concat(r,"&sdkappid=").concat(e,"&cmdtype=").concat(t)};function iD(){var e=navigator.userAgent,t=navigator.connection,n=e.match(/NetType\/\w+/)?e.match(/NetType\/\w+/)[0]:"";"3gnet"===(n=n.toLowerCase().replace("nettype/",""))&&(n="3g");var r=t&&t.type&&t.type.toLowerCase(),i=t&&t.effectiveType&&t.effectiveType.toLowerCase();"slow-2"===i&&(i="2g");var o=n||"unknown";if(r)switch(r){case"cellular":case"wimax":o=i||"unknown";break;case"wifi":o="wifi";break;case"ethernet":o="wired";break;case"none":case"other":case"unknown":o="unknown"}return o}var oD=function(e){if(!e||"object"!==i(e)||"[object Object]"!=Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.toString.call(n)===Function.prototype.toString.call(Object)};function aD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<=1?n:aD(e-1,n,t+n)}function lD(e){var t=Math.round(e/2)+1;return t>6?13e3:1e3*aD(t)}var uD=function(e){return"function"==typeof e},cD=function(e){return void 0===e},sD=function(e){return"string"==typeof e},dD=function(e){return"number"==typeof e},fD=function(e){return"boolean"==typeof e},pD=function(e){return"array"===hD(e)},vD=function(e){return hD(e)==="MediaStreamTrack".toLowerCase()};function hD(e){return Reflect.apply(Object.prototype.toString,e,[]).replace(/^\[object\s(\w+)\]$/,"$1").toLowerCase()}function mD(e){var t={};return t.urls="turn:".concat(e.url),cD(e.username)||cD(e.credential)||(t.username=e.username,t.credential=e.credential,t.credentialType="password",cD(e.credentialType)||(t.credentialType=e.credentialType)),t}function gD(){return performance&&performance.now?Math.floor(performance.now()):Date.now()}function yD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"big";if(!sD(e))return 0;var n=e.split(".");return"big"===t?(Number(n[0])<<24|Number(n[1])<<16|Number(n[2])<<8|Number(n[3]))>>>0:(Number(n[3])<<24|Number(n[2])<<16|Number(n[1])<<8|Number(n[0]))>>>0}var bD,_D,wD=function(){var e=navigator.language||navigator.userLanguage;return"zh"===e.substr(0,2)},SD=(bD=!1,_D=document.visibilityState,function(){document.visibilityState!==_D&&Tj.info("visibility change: ".concat(document.visibilityState)),bD||(document.addEventListener("visibilitychange",(function(){Tj.info("visibility change: "+document.visibilityState),_D=document.visibilityState})),bD=!0)});window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;var OD=function(){var e;return function(){return e||(e=new window.AudioContext,e.onstatechange=function(){Tj.info("gain context state: ".concat(e.state)),"suspended"===e.state?(e.resume(),document.addEventListener("click",e.resume)):"interrupted"===e.state?e.resume():document.removeEventListener("click",e.resume)},e)}}(),kD=!!window.AudioWorkletNode,CD=function(e,t){var n=e.emit;return e.emit=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];try{n.apply(e,i)}catch(aY){var a=eD({key:VI,data:{name:t,event:i[0]},addDocLink:!1});Tj.warn(a+"\n\n"+aY.stack)}},e},xD=function(e){return+e<10?"0".concat(e):e},PD=function(e){var t=e.match(/^\d+\.\d+\.\d+/)[0];if(!t)return e;var n=t.split("."),r=xD(n[1])+xD(n[2]);return n[1]-15>0&&(n[1]="15"),n[2]-15>0&&(n[2]="15"),n.join(".")+"."+r};function ED(e){var t=e.url,n=e.body,r=e.method,i=e.timeout,o=new XMLHttpRequest;return new Promise((function(e,a){o.onreadystatechange=function(){if(4===o.readyState)if(o.status>=200&&o.status<300)try{var t=JSON.parse(o.response);e({data:t})}catch(n){e({data:o.response})}else a({status:o.status,statusText:o.statusText||"request failed!"})},o.timeout=i||5e3,o.open(r||"POST",t,!0),o.send(n)}))}var TD={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var l=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],l]:e._events[u].push(l):(e._events[u]=l,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},l.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},l.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},l.prototype.emit=function(e,t,r,i,o,a){var l=n?n+e:e;if(!this._events[l])return!1;var u,c,s=this._events[l],d=arguments.length;if(s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),d){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,r),!0;case 4:return s.fn.call(s.context,t,r,i),!0;case 5:return s.fn.call(s.context,t,r,i,o),!0;case 6:return s.fn.call(s.context,t,r,i,o,a),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];s.fn.apply(s.context,u)}else{var f,p=s.length;for(c=0;c<p;c++)switch(s[c].once&&this.removeListener(e,s[c].fn,void 0,!0),d){case 1:s[c].fn.call(s[c].context);break;case 2:s[c].fn.call(s[c].context,t);break;case 3:s[c].fn.call(s[c].context,t,r);break;case 4:s[c].fn.call(s[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];s[c].fn.apply(s[c].context,u)}}return!0},l.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var l=this._events[o];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||a(this,o);else{for(var u=0,c=[],s=l.length;u<s;u++)(l[u].fn!==t||i&&!l[u].once||r&&l[u].context!==r)&&c.push(l[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(TD);var ID=TD.exports,DD=new ID,jD=1,RD=2,AD=3,FD=4,MD=5,ND=20,LD=21,WD=22,VD=23,BD=24,UD=27,HD=28,zD=29,ZD=30,KD=33,YD=31,GD=32,$D=100,JD=101,qD=102,XD=103,QD=110,ej=111,tj=112,nj=113,rj=114,ij=115,oj=116,aj=120,lj=121,uj=122,cj=123,sj=130,dj=131,fj=132,pj=133,vj=134,hj=135,mj=136,gj=137,yj=200,bj=201,_j=300,wj=301,Sj=302,Oj=303;function kj(e){var t=e.retryFunction,n=e.settings,i=e.onError,o=e.onRetrying,l=e.onRetryFailed,u=e.context;return function(){for(var e=this,c=arguments.length,s=new Array(c),d=0;d<c;d++)s[d]=arguments[d];var f=n.retries||5,p=0,v=-1,h=0,m=function(){var c=a(r().mark((function a(c,d){var g,y,b,_;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,g=u||e,r.next=4,t.apply(g,s);case 4:y=r.sent,p=0,c(y),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),b=function(){clearTimeout(v),p=0,h=2,d(r.t0)},_=function(){2!==h&&p<f?(p++,h=1,uD(o)&&o(p,b),v=setTimeout((function(){v=-1,m(c,d)}),cD(n.timeout)?1e3:n.timeout)):(b(),uD(l)&&l.call(e,r.t0))},uD(i)?i(r.t0,_,d):_();case 14:case"end":return r.stop()}}),a,null,[[0,9]])})));return function(e,t){return c.apply(this,arguments)}}();return new Promise(m)}}var Cj=c((function e(t){l(this,e),this.log=t.log,this.level=t.level,this.userId=t.userId,this.sdkAppId=t.sdkAppId,this.forAllJoinedClients=t.forAllJoinedClients,this.uploaded=!1})),xj=function(){function e(t){l(this,e),this.id_=t.id,this.userId_=t.userId,this.sdkAppId_=t.sdkAppId,this.type_=t.type,this.isLocal_=!fD(t.isLocal)||t.isLocal}return c(e,[{key:"setUserId",value:function(e){this.userId_=e}},{key:"setSdkAppId",value:function(e){this.sdkAppId_=e}},{key:"log",value:function(e,t){Tj.log({log:"[".concat(this.isLocal_?"":"*").concat(this.id_,"] ").concat(this.type_?this.type_+" ":"").concat(t),level:e,forAllJoinedClients:cD(this.userId_),userId:this.userId_,sdkAppId:this.sdkAppId_})}},{key:"info",value:function(e){this.log(WE.INFO,e)}},{key:"debug",value:function(e){this.log(WE.DEBUG,e)}},{key:"warn",value:function(e){this.log(WE.WARN,e)}},{key:"error",value:function(e){this.log(WE.ERROR,e)}}]),e}(),Pj=!(pC||vC),Ej=function(){function e(){var t=this;l(this,e),this.clients_=new Set,this.queue_=[],this.timeoutId_=-1,this.logLevel_=WE.DEBUG,this.logLevelToUpload_=WE.INFO,this.enableUploadLog_=!0,this.isAbleToUpload_=!1,this.startUpload(),this.checkURLParam(),DD.on(ZD,(function(e){var n=e.client;return t.clients_.add(n)})),DD.on(KD,(function(e){var n=e.client;return t.clients_.delete(n)})),DD.on(YD,(function(e){e&&oD(e.config)&&VE[e.config.logLevelToUpload]&&(t.logLevelToUpload_=e.config.logLevelToUpload)})),DD.on(FD,this.setIsAbleToUpload,this),DD.on(MD,this.setIsAbleToUpload,this)}var t,n;return c(e,[{key:"getIsAbleToUpload",value:function(){return this.isAbleToUpload_}},{key:"setIsAbleToUpload",value:function(){this.isAbleToUpload_=!0,DD.off(FD,this.setIsAbleToUpload,this),DD.off(MD,this.setIsAbleToUpload,this)}},{key:"startUpload",value:(n=a(r().mark((function e(){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.upload();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:this.timeoutId_=setTimeout((function(){return t.startUpload()}),2e3);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})},{key:"stopUpload",value:function(){-1!==this.timeoutId_&&(clearTimeout(this.timeoutId_),this.timeoutId_=-1)}},{key:"getLogsToUpload",value:function(){var e=this,t={map:new Map,splicedQueue:[]};if(this.queue_[0].forAllJoinedClients&&0===this.clients_.size)return t;for(var n=0,r=function(){if(50===n)return"break";var r=e.queue_[n];r.forAllJoinedClients?e.clients_.forEach((function(e){if(e.getIsJoined()){var n=e.getUserId(),i=e.getSDKAppId();t.map.has(n)?t.map.get(n).logs.push(r):t.map.set(n,{userId:n,sdkAppId:i,logs:[r]})}})):t.map.has(r.userId)?t.map.get(r.userId).logs.push(r):t.map.set(r.userId,{userId:r.userId,sdkAppId:r.sdkAppId,logs:[r]})};n<this.queue_.length;n++)if("break"===r())break;return t.map.size>0&&(t.splicedQueue=this.queue_.splice(0,n)),t}},{key:"upload",value:(t=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.queue_.length&&this.isAbleToUpload_){e.next=2;break}return e.abrupt("return");case 2:if(t=this.getLogsToUpload(),n=t.map,i=t.splicedQueue,0!==n.size){e.next=5;break}return e.abrupt("return");case 5:e.prev=5,o=S(n.values()),a=0;case 8:if(!(a<o.length)){e.next=16;break}return l=o[a],u=l.userId,c=l.sdkAppId,s=l.logs,e.next=12,this.uploadLogWithRetry(JSON.stringify({timestamp:qk(),sdkAppId:String(c),userId:u,version:XS,log:s.map((function(e){return e.log})).join("\n")}),c);case 12:s.forEach((function(e){return e.uploaded=!0}));case 13:a++,e.next=8;break;case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(5);case 20:d=i.filter((function(e){return!e.uploaded})),d.length>0&&(this.queue_=d.concat(this.queue_));case 22:case"end":return e.stop()}}),e,this,[[5,18]])}))),function(){return t.apply(this,arguments)})},{key:"uploadLogWithRetry",value:function(e,t){return kj({retryFunction:function(){return ED({url:rD(t,Qx),body:e,timeout:5e3})},settings:{retries:3,timeout:1e3},onError:function(e,t){t()}})()}},{key:"getPrefix",value:function(e){var t=new Date;return t.setTime(Jk()),"[".concat(t.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1"),":").concat(t.getMilliseconds(),"] <").concat(VE[e],">")}},{key:"getLogLevel",value:function(){return this.logLevel_}},{key:"setLogLevel",value:function(e){cD(VE[e])||(this.logLevel_!==e&&this.info("setLogLevel ".concat(e)),this.logLevel_=e)}},{key:"enableUploadLog",value:function(){this.enableUploadLog_=!0}},{key:"disableUploadLog",value:function(){this.enableUploadLog_=!1}},{key:"log",value:function(e){var t=e.log,n=e.level,r=e.forAllJoinedClients,i=void 0===r||r,o=e.userId,a=e.sdkAppId;if(t="".concat(this.getPrefix(n)," ").concat(t),this.enableUploadLog_&&n>=this.logLevelToUpload_&&this.queue_.push(new Cj({log:t,level:n,userId:o,sdkAppId:a,forAllJoinedClients:i})),!(n<this.logLevel_)){var l=VE[n]?VE[n].toLowerCase():"info";Pj?console[l]("%cTRTC%c%s","padding: 1px 4px;border-radius: 3px;color: #fff;background: #1E88E5;","display: inline",t):console[l](t)}}},{key:"debug",value:function(e){this.log({log:e,level:WE.DEBUG})}},{key:"info",value:function(e){this.log({log:e,level:WE.INFO})}},{key:"warn",value:function(e){this.log({log:e,level:WE.WARN})}},{key:"error",value:function(e){this.log({log:e,level:WE.ERROR})}},{key:"createLogger",value:function(e){return new xj(e)}},{key:"checkURLParam",value:function(){var e=new URLSearchParams(location.search).get("logLevelToUpload");VE[e]&&(this.logLevelToUpload_=e)}}]),e}(),Tj=new Ej,Ij=!0,Dj=he,jj=Math.floor,Rj=Number.isInteger||function(e){return!Dj(e)&&isFinite(e)&&jj(e)===e};ki({target:"Number",stat:!0},{isInteger:Rj});var Aj=ki,Fj=ho.findIndex,Mj=Gl,Nj="findIndex",Lj=!0;Nj in[]&&Array(1).findIndex((function(){Lj=!1})),Aj({target:"Array",proto:!0,forced:Lj},{findIndex:function(e){return Fj(this,e,arguments.length>1?arguments[1]:void 0)}}),Mj(Nj);var Wj=j,Vj=$,Bj=Ho,Uj=de,Hj=Vj(N.f),zj=Vj([].push),Zj=function(e){return function(t){for(var n,r=Uj(t),i=Bj(r),o=i.length,a=0,l=[];o>a;)n=i[a++],Wj&&!Hj(r,n)||zj(l,e?[n,r[n]]:r[n]);return l}},Kj={entries:Zj(!0),values:Zj(!1)}.values;ki({target:"Object",stat:!0},{values:function(e){return Kj(e)}});var Yj=1,Gj=5,$j=2,Jj=3,qj=4,Xj="DISCONNECTED",Qj="CONNECTING",eR="RECONNECTING",tR="CONNECTED",nR={CLIENT_BANNED:9,CHANNEL_SETUP_RESULT:19,CHANNEL_RECONNECT_RESULT:514,JOIN_ROOM_RESULT:20,PEER_JOIN:4134,PEER_LEAVE:4135,STREAM_ADDED:16,STREAM_REMOVED:18,UPLINK_NETWORK_STATS:22,UPDATE_REMOTE_MUTE_STAT:23,PUBLISH_RESULT:4098,UNPUBLISH_RESULT:4100,SUBSCRIBE_RESULT:4102,UNSUBSCRIBE_RESULT:4104,SUBSCRIBE_CHANGE_RESULT:4106,MUTE_RESULT:4108,UPDATE_OFFER_RESULT:4128,START_PUBLISH_TENCENT_CDN_RES:1286,STOP_PUBLISH_TENCENT_CDN_RES:1288,START_PUBLISH_GIVEN_CDN_RES:777,STOP_PUBLISH_GIVEN_CDN_RES:779,START_MIX_TRANSCODE_RES:781,STOP_MIX_TRANSCODE_RES:783,USER_LIST_RES:4137,SWITCH_ROLE_RES:4110,UPDATE_CONSTRAINT_CONFIG_RES:772},rR=[nR.UPDATE_REMOTE_MUTE_STAT,nR.UPLINK_NETWORK_STATS,nR.USER_LIST_RES,nR.MUTE_RESULT],iR={CLIENT_BANNED:"client-banned",CHANNEL_SETUP_RESULT:"channel-setup-result",CHANNEL_RECONNECT_RESULT:"channel-reconnect-result",JOIN_ROOM_RESULT:"join-room-result",PEER_JOIN:"peer-join",PEER_LEAVE:"peer-leave",STREAM_ADDED:"stream-added",STREAM_REMOVED:"stream-removed",UPLINK_NETWORK_STATS:"uplink-network-stats",UPDATE_REMOTE_MUTE_STAT:"update-remote-mute-stat",PUBLISH_RESULT:"publish-result",UNPUBLISH_RESULT:"unpublish-result",SUBSCRIBE_RESULT:"subscribe-result",SUBSCRIBE_CHANGE_RESULT:"subscribe-change-result",UNSUBSCRIBE_RESULT:"unsubscribe-result",UPDATE_OFFER_RESULT:"update-offer-result",START_PUBLISH_TENCENT_CDN_RES:"start-publish-tencent-cdn-res",STOP_PUBLISH_TENCENT_CDN_RES:"stop-publish-tencent-cdn-res",START_PUBLISH_GIVEN_CDN_RES:"start-publish-given-cdn-res",STOP_PUBLISH_GIVEN_CDN_RES:"stop-publish-given-cdn-res",START_MIX_TRANSCODE_RES:"start-mix-transcode-res",STOP_MIX_TRANSCODE_RES:"stop-mix-transcode-res",USER_LIST_RES:"user-list-res",SWITCH_ROLE_RES:"switch_role_res",MUTE_RESULT:"mute-result",UPDATE_CONSTRAINT_CONFIG_RES:"update-contraint-config-res"},oR="publish_change",aR="join",lR="leave",uR="quality_report",cR="mute_uplink",sR="publish",dR="unpublish",fR="subscribe",pR="unsubscribe",vR="subscribe_change",hR="start_publishing",mR="stop_publishing",gR="start_push_user_cdn",yR="stop_push_user_cdn",bR="start_mcu_mix",_R="stop_mcu_mix",wR="get_user_list",SR="change_role",OR="update_constraint_config",kR={INVALID_PARAMETER:4096,INVALID_OPERATION:4097,NOT_SUPPORTED:4098,DEVICE_NOT_FOUND:4099,INITIALIZE_FAILED:4100,SIGNAL_CHANNEL_SETUP_FAILED:16385,SIGNAL_CHANNEL_ERROR:16386,ICE_TRANSPORT_ERROR:16387,JOIN_ROOM_FAILED:16388,CREATE_OFFER_FAILED:16389,SIGNAL_CHANNEL_RECONNECTION_FAILED:16390,UPLINK_RECONNECTION_FAILED:16391,DOWNLINK_RECONNECTION_FAILED:16392,REMOTE_STREAM_NOT_EXIST:16400,CLIENT_BANNED:16448,SERVER_TIMEOUT:16449,SUBSCRIPTION_TIMEOUT:16450,PLAY_NOT_ALLOWED:16451,DEVICE_AUTO_RECOVER_FAILED:16452,START_PUBLISH_CDN_FAILED:16453,STOP_PUBLISH_CDN_FAILED:16454,START_MIX_TRANSCODE_FAILED:16455,STOP_MIX_TRANSCODE_FAILED:16456,NOT_SUPPORTED_H264:16457,SWITCH_ROLE_FAILED:16458,API_CALL_TIMEOUT:16459,SCHEDULE_FAILED:16460,UNKNOWN:65535},CR=function(e){d(n,e);var t=y(n);function n(e){var r,i=e.name,o=void 0===i?"RtcError":i,a=e.message,u=e.code,c=void 0===u?kR.UNKNOWN:u,s=e.extraCode,d=void 0===s?0:s,f=e.constraint;l(this,n);var p="<".concat(function(e){for(var t in kR)if(kR[t]===e)return t;return"UNKNOWN"}(c)," 0x").concat(c.toString(16),">");return(r=t.call(this,a+"".concat(f?" constraint: ".concat(f):"")+"".concat(null!=a&&a.includes(p)?"":" "+p))).code_=c,r.extraCode_=d,r.name=o,r.message_=a,f&&(r.constraint=f),r}return c(n,[{key:"getCode",value:function(){return this.code_}},{key:"getExtraCode",value:function(){return this.extraCode_}}]),n}(m(Error)),xR=32768,PR=32769,ER=32770,TR=32771,IR=32772,DR=32773,jR=32774,RR=32775,AR=32777,FR=32778,MR=32779,NR=32780,LR=32781,WR=32782,VR=32783,BR=32784,UR=32785,HR=32786,zR=32787,ZR=32788,KR=32789,YR=32790,GR=32791,$R=32792,JR=32793,qR=32794,XR=32795,QR=32796,eA=32797,tA=32798,nA=32799,rA=32800,iA=32801,oA=32802,aA=32803,lA=32804,uA=new Map,cA=function(e,t){var n=uA.get(e);n||(uA.set(e,[]),n=uA.get(e)),n.push(t)},sA=function(e){var t=uA.get(e),n=[];return t?(uA.delete(e),n=t.map((function(e){return{uint32_event_id:e.eventId,uint64_date:e.timestamp,str_userid:e.remoteUserId,str_event_json:e.eventDesc}}))):n=[],n},dA=Object.prototype.hasOwnProperty;function fA(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(oD(e))switch(Object.prototype.toString.call(e)){case"[object File]":case"[object Map]":case"[object Set]":return 0===e.size;case"[object Object]":for(var t in e)if(dA.call(e,t))return!1;return!0}return!1}var pA=function(){function e(){l(this,e);var t=yx(),n=t.name,r=t.version;this.roomIdMap_=new Map,this.configs_={sdkAppId:"",userId:"",version:XS,env:$x,browserVersion:n+r,ua:navigator.userAgent}}return c(e,[{key:"setConfig",value:function(e){var t=e.sdkAppId,n=e.env,r=e.userId,i=e.roomId;t!==this.configs_.sdkAppId&&(this.configs_.sdkAppId=String(t)),this.configs_.env=n,this.configs_.userId=r,this.roomIdMap_.set(r,String(i))}},{key:"logEvent",value:function(e){if(!hx){var n=t(t(t({},e),this.configs_),{},{userId:e.userId||this.configs_.userId});cD(n.code)&&(n.code="failed"===n.result?kR.UNKNOWN:0),this.sendRequest(rD(this.configs_.sdkAppId,eP),n)}}},{key:"logSuccessEvent",value:function(e){hx||(this.logEvent(t(t({},e),{},{result:"success",roomId:this.roomIdMap_.get(e.userId)})),this.configs_.env===$x&&this.uploadEventToKibana(t(t({},e),{},{result:"success"})))}},{key:"logFailedEvent",value:function(e){if(!hx){var n=e.eventType,r=e.code,i=e.error,o=e.userId,a={roomId:this.roomIdMap_.get(o),userId:o,eventType:n,result:"failed",code:r||(i instanceof CR?i.getExtraCode()||i.getCode():kR.UNKNOWN)};this.logEvent(a),this.configs_.env===$x&&this.uploadEventToKibana(t(t({},a),{},{error:i}))}}},{key:"uploadEventToKibana",value:function(e){var t="stat-".concat(e.eventType,"-").concat(e.result);"delta-join"!==e.eventType&&"delta-leave"!==e.eventType&&"delta-publish"!==e.eventType||(t="".concat(e.eventType,":").concat(e.delta)),this.uploadEvent({log:t,userId:e.userId}),"failed"===e.result&&(t="stat-".concat(e.eventType,"-").concat(e.result,"-").concat(e.code),this.uploadEvent({log:t,userId:e.userId,error:e.error}))}},{key:"uploadEvent",value:function(e){var t=e.log,n=e.userId,r=e.error,i={timestamp:qk(),sdkAppId:this.configs_.sdkAppId,userId:n||this.configs_.userId,version:this.configs_.version,log:t};r&&(i.errorInfo=r.message),this.sendRequest(rD(this.configs_.sdkAppId,Qx),i)}},{key:"sendRequest",value:function(e,t){var n=this;Tj.getIsAbleToUpload()?ED({url:e,body:JSON.stringify(t)}).catch((function(){})):setTimeout((function(){n.sendRequest(e,t)}),1e3)}}]),e}(),vA=new pA,hA=function(){function e(t){l(this,e),this.client_=t.client,this.sdkAppId_=t.sdkAppId,this.userId_=t.userId,this.userSig_=t.userSig,this.url_=t.url,this.backupUrl_=t.backupUrl;var n="?sdkAppId=".concat(encodeURIComponent(this.sdkAppId_),"&userId=").concat(encodeURIComponent(this.userId_),"&userSig=").concat(encodeURIComponent(this.userSig_));this.urlWithParam_="".concat(this.url_).concat(n),this.backupUrlWithParam_="".concat(this.backupUrl_).concat(n),this.isConnected_=!1,this.isConnecting_=!1,this.socketInUse_=null,this.socket_=null,this.backupSocket_=null,this.backupTimer_=-1,this.signalInfo_={},this.currentState_=Xj,this.reconnectionCount_=0,this.reconnectionTimer_=-1,this.seq_=0,this.log_=Tj.createLogger({id:"ws|"+this.userId_,userId:this.userId_,sdkAppId:this.sdkAppId_}),this.emitter_=new ID}return c(e,[{key:"connect",value:function(){var e=this;return new Promise((function(t,n){e.log_.info("connect to url: ".concat(e.urlWithParam_)),e.emitConnectionStateChanged(Qj),e.socket_=new WebSocket(e.urlWithParam_),e.bindSocket(e.socket_),e.backupTimer_=setTimeout((function(){e.isConnected_||(e.log_.info("trying to connect to backupUrl"),e.tryConnectBackup())}),5e3),e.once(Jj,t),e.once(qj,n)}))}},{key:"tryConnectBackup",value:function(){this.backupSocket_||(this.unbindAndCloseSocket(Nx),this.log_.debug("try to connect to url: ".concat(this.backupUrlWithParam_)),this.backupSocket_=new WebSocket(this.backupUrlWithParam_),this.bindSocket(this.backupSocket_))}},{key:"bindSocket",value:function(e){e.onopen=this.onopen.bind(this),e.onclose=this.onclose.bind(this),e.onerror=this.onerror.bind(this),e.onmessage=this.onmessage.bind(this)}},{key:"unbindSocket",value:function(e){e.onopen=function(){},e.onclose=function(){},e.onerror=function(){},e.onmessage=function(){}}},{key:"unbindAndCloseSocket",value:function(e){if(e===Nx){if(this.socket_){this.unbindSocket(this.socket_);try{this.socket_.close(1e3)}catch(aY){}this.socket_=null}}else if(this.backupSocket_){this.unbindSocket(this.backupSocket_);try{this.backupSocket_.close(1e3)}catch(aY){}this.backupSocket_=null}}},{key:"clearBackupTimer",value:function(){-1!==this.backupTimer_&&(clearTimeout(this.backupTimer_),this.backupTimer_=-1)}},{key:"clearReconnectionTimer",value:function(){-1!==this.reconnectionTimer_&&(clearTimeout(this.reconnectionTimer_),this.reconnectionTimer_=-1)}},{key:"onopen",value:function(e){if(!this.isConnected_){this.isConnected_=!0,this.isConnecting_=!1,this.clearBackupTimer(),e.target===this.socket_?(this.unbindAndCloseSocket(Lx),this.socketInUse_=this.socket_):(this.unbindAndCloseSocket(Nx),this.socketInUse_=this.backupSocket_);var t=e.target.url;this.log_.info("websocket[".concat(t,"] is connected")),this.currentState_===Qj?this.addSignalEvent(GR,"signal channel is connected"):this.currentState_===eR&&this.addSignalEvent(XR,"signal channel reconnect success"),this.emitConnectionStateChanged(tR),this.emitter_.emit(Jj)}}},{key:"onclose",value:function(e){var t=e.target.url,n=e.target===this.socketInUse_;this.log_.info("websocket[".concat(t," InUse: ").concat(n,"] is closed with code: ").concat(e.code)),e.target===this.socketInUse_&&(this.isConnected_=!1,this.emitConnectionStateChanged(Xj),this.addSignalEvent(YR,"signal channel is disconnected"),e.wasClean&&1e3===e.code||(this.log_.warn("onclose code:".concat(e.code," reason:").concat(e.reason)),this.log_.warn("close current websocket and schedule a reconnect timeout"),this.socketInUse_.onclose=function(){},this.socketInUse_.close(4011),this.socket_=this.backupSocket_=this.socketInUse_=null,this.reconnect(Nx)))}},{key:"onerror",value:function(e){var t=e.target.url;this.log_.error("websocket[".concat(t,"] error observed")),this.isConnected_?e.target===this.socketInUse_&&(this.isConnected_=!1,this.unbindAndCloseSocket(Nx),this.unbindAndCloseSocket(Lx),this.socketInUse_=null,this.reconnect(Nx)):(this.isReconnecting_||vA.logFailedEvent({userId:this.client_.getUserId(),eventType:KP,code:kR.UNKNOWN}),e.target==this.socket_?(this.unbindAndCloseSocket(Nx),this.reconnect(Lx)):(this.unbindAndCloseSocket(Lx),this.reconnect(Nx))),this.isConnecting_=!1,this.isConnected_=!1}},{key:"onmessage",value:function(e){if(this.isConnected_){var t=JSON.parse(e.data),n=t.cmd,r=t.data,i=Object.values(nR),o=Object.keys(nR)[i.indexOf(n)],a=iR[o];if(!rR.includes(n)){var l=e.target==this.socket_?this.url_:this.backupUrl_;this.log_.debug("websocket[".concat(l,"] received message: ").concat(e.data)),this.log_.info("Received event: [ ".concat(a||"unknown cmd: "+n," ]"))}switch(n){case nR.CHANNEL_SETUP_RESULT:if(0===t.code)this.signalInfo_.clientIp=r.clientIp,this.signalInfo_.signalIp=r.signalInnerIp,this.signalInfo_.tinyId=t.tinyId,r.svrTime&&function(e){$k=e-(new Date).getTime();var t=new Date;t.setTime(e),Tj.info("baseTime from server: "+t+" offset: "+$k)}(r.svrTime),this.log_.info("ChannelSetup Success"),vA.logSuccessEvent({userId:this.userId_,eventType:KP}),this.emitter_.emit(Yj,{signalInfo:this.signalInfo_});else{var u=new CR({code:kR.SIGNAL_CHANNEL_SETUP_FAILED,extraCode:t.code,message:eD({key:oT,data:{errorCode:t.code,errorMsg:t.message}})});this.log_.error("".concat(t.code,", ").concat(t.message)),this.close(),vA.logFailedEvent({userId:this.userId_,eventType:KP,error:u}),this.emitter_.emit(Gj,u)}break;case nR.JOIN_ROOM_RESULT:0===t.code&&(this.signalInfo_.relayIp=r.relayOuterIp,this.signalInfo_.relayInnerIp=r.relayInnerIp,this.signalInfo_.relayPort=r.relayPort,this.log_.info("signalIp:".concat(this.signalInfo_.signalIp," clientIp:").concat(this.signalInfo_.clientIp," relayIp: ").concat(this.signalInfo_.relayIp))),this.emitter_.emit(a,{data:t});break;case nR.CHANNEL_RECONNECT_RESULT:0===t.code?(this.log_.warn("reconnect success"),this.stopReconnection(),vA.logSuccessEvent({userId:this.userId_,eventType:YP}),this.client_.syncUserList(),this.client_.checkConnectionsToReconnect()):(this.log_.warn("reconnect failed, ".concat(t.code," ").concat(t.message)),this.client_.reJoin());break;default:this.emitter_.emit(a,{data:t})}}}},{key:"addSignalEvent",value:function(e,t){cA(this.userId_,{eventId:e,eventDesc:t,timestamp:Jk(),userId:this.userId_,tinyId:this.signalInfo_.tinyId})}},{key:"reconnect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nx;if(this.isConnecting_||-1!==this.reconnectionTimer_)this.log_.info("signal channel is reconnecting, ignoring current reconnection");else{if(this.reconnectionCount_>=PP){this.log_.warn("SDK has tried reconnect signal channel for ".concat(PP," times, but all failed. please check your network"));var n=new CR({code:kR.SIGNAL_CHANNEL_RECONNECTION_FAILED,message:eD({key:iT})});return vA.logFailedEvent({userId:this.client_.getUserId(),eventType:YP,error:n}),this.addSignalEvent(QR,"signal channel reconnect fail"),void this.emitter_.emit(qj,n)}this.isConnecting_=!0,this.reconnectionCount_++,this.currentState_!==eR&&(this.emitConnectionStateChanged(eR),this.addSignalEvent(qR,"signal channel is reconnecting")),this.log_.warn("reconnecting to ".concat(t," signal channel [").concat(this.reconnectionCount_,"/").concat(PP,"]"));var r=this.getReconnectionUrl(t);t===Nx?(this.socket_=new WebSocket(r),this.bindSocket(this.socket_)):(this.backupSocket_=new WebSocket(r),this.bindSocket(this.backupSocket_));var i=lD(this.reconnectionCount_);this.reconnectionTimer_=setTimeout((function(){e.log_.warn("reconnect ".concat(t," signal channel timeout(").concat(i/1e3,"s), close and try again")),e.isConnecting_=!1,e.clearReconnectionTimer(),e.unbindAndCloseSocket(t),e.reconnect(t===Nx?Lx:Nx)}),i)}}},{key:"isConnected",value:function(){return this.isConnected_}},{key:"isReconnecting_",get:function(){return-1!==this.reconnectionTimer_}},{key:"getReconnectionUrl",value:function(e){var t=e===Nx?this.urlWithParam_:this.backupUrlWithParam_;if(!fA(this.signalInfo_)&&-1===t.indexOf("&rc=1")){var n=this.client_.getRoomId(),r=this.client_.getUseStringRoomId();t+="&rc=1&relayInnerIp=".concat(this.signalInfo_.relayInnerIp,"&relayOuterIp=").concat(this.signalInfo_.relayIp,"&relayPort=").concat(this.signalInfo_.relayPort,"&roomId=").concat(n,"&useStringRoomId=").concat(r)}return t}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isConnected_){var n={cmd:e,data:t,userId:this.userId_,tinyId:this.signalInfo_.tinyId,seq:++this.seq_};return this.socketInUse_.send(JSON.stringify(n)),n.seq}}},{key:"sendWaitForResponse",value:function(e){var t=this,n=e.command,r=e.data,i=e.timeout,o=void 0===i?5e3:i,a=e.responseCommand,l=e.commandDesc,u=e.enableLog,c=void 0===u||u;return new Promise((function(e,i){var u=setTimeout((function(){t.off(a,s);var e=new CR({code:kR.API_CALL_TIMEOUT,message:eD({key:rT,data:{commandDesc:l,command:n}})});c&&t.log_.warn(e),i(e)}),o),s=function n(r){r.data.seq===d&&(clearTimeout(u),t.off(a,n),e(r))};t.on(a,s);var d=t.send(n,r)}))}},{key:"sendWaitForResponseWithRetry",value:function(){var e=this,t=arguments.length<=0?void 0:arguments[0],n=t.commandDesc,r=t.retries,i=void 0===r?0:r,o=t.retryTimeout,a=void 0===o?0:o;return kj({retryFunction:this.sendWaitForResponse,onRetrying:function(t){e.log_.warn("".concat(n," timeout observed, retrying [").concat(t,"/").concat(i,"]"))},settings:{retries:i,timeout:a},context:this}).apply(void 0,arguments)}},{key:"getCurrentState",value:function(){return this.currentState_}},{key:"getSignalInfo",value:function(){return this.signalInfo_}},{key:"stopReconnection",value:function(){this.isReconnecting_&&(this.reconnectionCount_=0,this.clearReconnectionTimer())}},{key:"close",value:function(){this.log_.info("close SignalChannel"),this.clearBackupTimer(),this.stopReconnection(),this.isConnecting_=!1,this.isConnected_=!1,this.socketInUse_=null,this.unbindAndCloseSocket(Nx),this.unbindAndCloseSocket(Lx),this.emitConnectionStateChanged(Xj)}},{key:"on",value:function(e,t,n){this.emitter_.on(e,t,n)}},{key:"removeListener",value:function(e,t,n){this.emitter_.removeListener(e,t,n)}},{key:"once",value:function(e,t,n){this.emitter_.once(e,t,n)}},{key:"off",value:function(e,t,n){this.emitter_.off(e,t,n)}},{key:"emitConnectionStateChanged",value:function(e){e!==this.currentState_&&(this.emitter_.emit($j,{prevState:this.currentState_,state:e}),this.currentState_=e)}}]),e}(),mA={},gA={},yA={exports:{}},bA=yA.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(bA).forEach((function(e){bA[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))})),function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,r){var i=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:i&&!n[e.name]&&(n[e.name]={});var o=e.push?{}:i?n[e.name]:n;!function(e,n,r,i){if(i&&!r)n[i]=t(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(n[r[o]]=t(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&n[e.push].push(o)},r=yA.exports,i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},o=[],a=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var t=e[0],i=e.slice(2);"m"===t&&(o.push({rtp:[],fmtp:[]}),a=o[o.length-1]);for(var l=0;l<(r[t]||[]).length;l+=1){var u=r[t][l];if(u.reg.test(i))return n(u,a,i)}})),t.media=o,t};var o=function(e,n){var r=n.split(/=(.+)/,2);return 2===r.length?e[r[0]]=t(r[1]):1===r.length&&n.length>1&&(e[r[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],r=e.split(" ").map(t),i=0;i<r.length;i+=3)n.push({component:r[i],ip:r[i+1],port:r[i+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,r=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),r=!0),{scid:n,paused:r}}))}))}}(gA);var _A=yA.exports,wA=/%[sdv%]/g,SA=function(e){var t=1,n=arguments,r=n.length;return e.replace(wA,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},OA=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?r.push(n[t.name][o]):r.push(n[t.names[i]])}else r.push(n[t.name]);return SA.apply(null,r)},kA=["v","o","s","i","u","e","p","c","b","t","r","z","a"],CA=["i","c","b","a"],xA=gA,PA=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||kA,r=t.innerOrder||CA,i=[];return n.forEach((function(t){_A[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(OA(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(OA(t,n,e))}))}))})),e.media.forEach((function(e){i.push(OA("m",_A.m[0],e)),r.forEach((function(t){_A[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(OA(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(OA(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"};mA.write=PA,mA.parse=xA.parse,mA.parseParams=xA.parseParams,mA.parseFmtpConfig=xA.parseFmtpConfig,mA.parsePayloads=xA.parsePayloads,mA.parseRemoteCandidates=xA.parseRemoteCandidates,mA.parseImageAttributes=xA.parseImageAttributes,mA.parseSimulcastStreamList=xA.parseSimulcastStreamList;var EA=function(e){return mA.parse(e)},TA=function(e){return mA.write(e)},IA=function(e){var t=EA(e);return t.media.forEach((function(e){e.type===_x&&e.fmtp.forEach((function(e){e.config+=";sprop-stereo=1;stereo=1"}))})),TA(t)};function DA(e){var t=EA(e);return t.media.forEach((function(e){if(e.type===wx){var t=new Set;e.rtp.forEach((function(e){var n=e.payload;return"H264"===e.codec&&t.add(n)})),e.fmtp.forEach((function(e){var n=e.payload,r=e.config.match(/apt=(\d+)/);r&&r[1]&&t.has(Number(r[1]))&&t.add(n)}));var n=function(e){var n=e.payload;return!t.has(n)};e.rtp=e.rtp.filter(n),e.rtcpFb=e.rtcpFb.filter(n),e.fmtp=e.fmtp.filter(n),e.payloads=e.payloads.split(" ").filter((function(e){return!t.has(Number(e))})).join(" ")}})),TA(t)}var jA=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},RA=function(){function e(){l(this,e),this.intervalMap_=new Map}return c(e,[{key:"setInterval",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!window||!window.requestAnimationFrame)return setInterval(e,t);var i=jA(),o=gD(),a=o;this.intervalMap_.set(i,{rafId:null,timeoutId:null,onVisibilityChange:null});var l=function l(){if(r&&document.hidden){if(e(),!n.intervalMap_.has(i))return;var u=setTimeout(l,t);n.setTimeoutId(i,u),o=gD(),a=o}else{if((a=gD())-o>=t&&(o=a,e(),!n.intervalMap_.has(i)))return;var c=requestAnimationFrame(l);n.setRafId(i,c)}},u=requestAnimationFrame(l);if(this.setRafId(i,u),r){var c=function(){if(document.hidden){var e=gD()-o;if(e>=t)l();else{var r=setTimeout(l,t-e);n.setTimeoutId(i,r)}}};document.addEventListener("visibilitychange",c),this.setOnVisibilityChange(i,c),document.hidden&&c()}return i}))},{key:"clearInterval",value:function(e){if(this.intervalMap_.has(e)){var t=this.intervalMap_.get(e),n=t.rafId,r=t.timeoutId,i=t.onVisibilityChange;cancelAnimationFrame(n),clearTimeout(r),document.removeEventListener("visibilitychange",i),this.intervalMap_.delete(e)}}},{key:"setTimeoutId",value:function(e,t){if(this.intervalMap_.has(e)){var n=this.intervalMap_.get(e);n.timeoutId&&clearTimeout(n.timeoutId),n.timeoutId=t}}},{key:"setRafId",value:function(e,t){if(this.intervalMap_.has(e)){var n=this.intervalMap_.get(e);n.rafId&&cancelAnimationFrame(n.rafId),n.rafId=t}}},{key:"setOnVisibilityChange",value:function(e,t){this.intervalMap_.has(e)&&(this.intervalMap_.get(e).onVisibilityChange=t)}}]),e}(),AA=new RA,FA=function(){function e(){l(this,e),this.prefix_="TRTC",this.queue_=new Map,this.intervalId_=AA.setInterval(this.doFlush.bind(this),2e4),this.checkStorage()}return c(e,[{key:"getRealKey",value:function(e){return"".concat(this.prefix_,"_").concat(e)}},{key:"checkStorage",value:function(){var e=this;if(mx()){var t=Object.keys(localStorage).filter((function(t){if(t.startsWith(e.prefix_)){var n=JSON.parse(localStorage.getItem(t));if(n&&n.expiresIn<Date.now())return!0}return!1}));t.forEach((function(e){return localStorage.removeItem(e)}))}}},{key:"doFlush",value:function(){if(mx())try{var e,t=C(this.queue_);try{for(t.s();!(e=t.n()).done;){var n=w(e.value,2),r=n[0],i=n[1];localStorage.setItem(r,JSON.stringify(i))}}catch(a){t.e(a)}finally{t.f()}}catch(aY){Tj.warn(aY)}}},{key:"getItem",value:function(e){if(!mx())return null;try{var t=JSON.parse(localStorage.getItem(this.getRealKey(e)));return t&&t.expiresIn>=Date.now()?t.value:null}catch(aY){Tj.warn(aY)}}},{key:"setItem",value:function(e,t){if(mx())try{var n={expiresIn:Date.now()+_E,value:t};this.queue_.set(this.getRealKey(e),n)}catch(aY){Tj.warn(aY)}}},{key:"deleteItem",value:function(e){if(!mx())return!1;try{return e=this.getRealKey(e),this.queue_.delete(e),localStorage.removeItem(e),!0}catch(aY){return Tj.warn(aY),!1}}},{key:"clear",value:function(){if(mx())try{localStorage.clear()}catch(aY){Tj.warn(aY)}}}]),e}(),MA=new FA,NA={result:!1,detail:{isBrowserSupported:!1,isWebRTCSupported:!1,isMediaDevicesSupported:!1,isH264EncodeSupported:!1,isVp8EncodeSupported:!1,isH264DecodeSupported:!1,isVp8DecodeSupported:!1}},LA="checkResult",WA=function(){return!HC&&!gC&&!(bC&&_C<80)&&!(hC&&mC<56)},VA=function(){return["RTCPeerConnection","webkitRTCPeerConnection","RTCIceGatherer"].filter((function(e){return e in window})).length>0},BA=function(){if(!navigator.mediaDevices)return!1;var e=["getUserMedia","enumerateDevices"];return e.filter((function(e){return e in navigator.mediaDevices})).length===e.length},UA=function(){var e=a(r().mark((function e(){var t,n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!NA.detail.isH264EncodeSupported||!NA.detail.isVp8EncodeSupported){e.next=2;break}return e.abrupt("return",{isH264EncodeSupported:NA.detail.isH264EncodeSupported,isVp8EncodeSupported:NA.detail.isVp8EncodeSupported});case 2:return t="",n=!1,i=!1,e.prev=5,o=new RTCPeerConnection,(a=document.createElement(bx)).getContext("2d"),l=a.captureStream(0),o.addTrack(l.getVideoTracks()[0],l),e.next=13,o.createOffer();case 13:return-1!==(t=e.sent).sdp.toLowerCase().indexOf("h264")&&(n=!0),-1!==t.sdp.toLowerCase().indexOf("vp8")&&(i=!0),o.close(),NA.detail.isH264EncodeSupported=n,NA.detail.isVp8EncodeSupported=i,e.abrupt("return",{isH264EncodeSupported:NA.detail.isH264EncodeSupported,isVp8EncodeSupported:NA.detail.isVp8EncodeSupported});case 22:return e.prev=22,e.t0=e.catch(5),e.abrupt("return",{isH264EncodeSupported:!1,isVp8EncodeSupported:!1});case 25:case"end":return e.stop()}}),e,null,[[5,22]])})));return function(){return e.apply(this,arguments)}}();function HA(){return zA.apply(this,arguments)}function zA(){return zA=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=a(r().mark((function e(t){var n,i,o,l,u,c,s,d,f,p,v,h,m,g;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={encode:!1,decode:!1},i=null,e.prev=2,o=document.createElement("canvas"),l=o.getContext("2d"),o.width=640,o.height=480,u=setInterval((function(){l.fillText("test",Math.floor(640*Math.random()),Math.floor(480*Math.random()))}),33),c=-1,s=-1,i=function(){clearInterval(c),clearInterval(u),clearTimeout(s),f.close(),p.close(),d.getTracks().forEach((function(e){return e.stop()}))},s=setTimeout((function(){i(),t(n)}),3e3),d=o.captureStream(),f=new RTCPeerConnection({}),p=new RTCPeerConnection({offerToReceiveAudio:!0,offerToReceiveVideo:!0}),f.addEventListener("icecandidate",(function(e){return p.addIceCandidate(e.candidate)})),p.addEventListener("icecandidate",(function(e){return f.addIceCandidate(e.candidate)})),f.addTrack(d.getVideoTracks()[0],d),e.next=20,f.createOffer();case 20:return v=e.sent,e.next=23,f.setLocalDescription(v);case 23:return e.next=25,p.setRemoteDescription(v);case 25:return e.next=27,p.createAnswer();case 27:return h=e.sent,m=EA(h.sdp),g=m.media[0].rtp.findIndex((function(e){return"H264"===e.codec})),m.media[0].rtp=[m.media[0].rtp[g]],m.media[0].fmtp=m.media[0].fmtp.filter((function(e){return e.payload===m.media[0].rtp[0].payload})),m.media[0].rtcpFb=m.media[0].rtcpFb.filter((function(e){return e.payload===m.media[0].rtp[0].payload})),h.sdp=TA(m),e.next=36,p.setLocalDescription(h);case 36:return e.next=38,f.setRemoteDescription(h);case 38:c=setInterval(a(r().mark((function e(){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.encode&&n.decode&&(i(),t(n)),e.next=3,f.getStats();case 3:return o=e.sent,e.next=6,p.getStats();case 6:a=e.sent,n.encode||o.forEach((function(e){"outbound-rtp"===e.type&&e.mediaType===wx&&e.framesEncoded>0&&(n.encode=!0)})),n.decode||a.forEach((function(e){"inbound-rtp"===e.type&&e.mediaType===wx&&e.framesDecoded>0&&(n.decode=!0)}));case 9:case"end":return e.stop()}}),e)}))),500),e.next=46;break;case 41:e.prev=41,e.t0=e.catch(2),i(),Tj.warn(e.t0),t(n);case 46:case"end":return e.stop()}}),e,null,[[2,41]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}var ZA=function(){var e=a(r().mark((function e(){var t,n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!NA.detail.isH264DecodeSupported||!NA.detail.isVp8DecodeSupported){e.next=2;break}return e.abrupt("return",{isH264DecodeSupported:NA.detail.isH264DecodeSupported,isVp8DecodeSupported:NA.detail.isVp8DecodeSupported});case 2:return t="",n=!1,i=!1,e.prev=5,o=new RTCPeerConnection,e.next=9,o.createOffer({offerToReceiveAudio:1,offerToReceiveVideo:1});case 9:return-1!==(t=e.sent).sdp.toLowerCase().indexOf("h264")&&(n=!0),-1!==t.sdp.toLowerCase().indexOf("vp8")&&(i=!0),o.close(),e.abrupt("return",{isH264DecodeSupported:n,isVp8DecodeSupported:i});case 16:return e.prev=16,e.t0=e.catch(5),e.abrupt("return",{isH264DecodeSupported:!1,isVp8DecodeSupported:!1});case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(){return e.apply(this,arguments)}}(),KA=function(){var e=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d,f,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GA()){e.next=2;break}return e.abrupt("return",NA);case 2:return t=WA(),n=VA(),i=BA(),e.next=7,UA();case 7:return o=e.sent,a=o.isH264EncodeSupported,l=o.isVp8EncodeSupported,e.next=12,ZA();case 12:if(u=e.sent,c=u.isH264DecodeSupported,s=u.isVp8DecodeSupported,a&&l){e.next=21;break}return e.next=18,UA();case 18:d=e.sent,a=d.isH264EncodeSupported,l=d.isVp8EncodeSupported;case 21:if(!(a&&c&&(QC||tx||sx)&&!CC&&rx()<79)){e.next=29;break}return e.next=24,HA();case 24:f=e.sent,p=f.encode,v=f.decode,a=p,c=v;case 29:return NA.result=t&&n&&i&&(a||l)&&(c||s),NA.detail.isBrowserSupported=t,NA.detail.isWebRTCSupported=n,NA.detail.isMediaDevicesSupported=i,NA.detail.isH264EncodeSupported=a,NA.detail.isVp8EncodeSupported=l,NA.detail.isH264DecodeSupported=c,NA.detail.isVp8DecodeSupported=s,$A(),MA.setItem(LA,{ua:navigator.userAgent,checkResult:NA}),e.abrupt("return",NA);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),YA=function(e,t){var n=null;return function(){if(n)return n;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.apply(t||this,i)).then((function(e){return n=null,e})).catch((function(e){throw n=null,e})),n}}(KA);function GA(){return Object.keys(NA.detail).findIndex((function(e){return!NA.detail[e]}))>=0}function $A(){GA()&&(Tj.warn(eD({key:DI})),Tj.info("".concat(navigator.userAgent," ").concat(JSON.stringify(NA.detail))))}var JA=function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia)},qA=function(){return"RTCPeerConnection"in window&&"getReceivers"in window.RTCPeerConnection.prototype},XA=function(){return"RTCPeerConnection"in window&&"getSenders"in window.RTCPeerConnection.prototype},QA=function(){return"RTCPeerConnection"in window&&"getTransceivers"in window.RTCPeerConnection.prototype},eF=function(){return"RTCRtpTransceiver"in window&&"stop"in window.RTCRtpTransceiver.prototype},tF=function(){return"RTCRtpSender"in window&&"replaceTrack"in window.RTCRtpSender.prototype},nF=function(){return"RTCRtpSender"in window&&"setParameters"in window.RTCRtpSender.prototype&&XA()},rF=function(){return!!cD(navigator.mediaDevices)&&(Tj.error(qI.NOT_SUPPORTED_MEDIA),!0)},iF=function(){return"http:"===location.protocol&&!hx&&(Tj.warn(eD({key:II})),!0)},oF="RTCRtpSender"in window&&"createEncodedStreams"in window.RTCRtpSender.prototype&&rx()>=86,aF=function(e){return!("candidate-pair"!==e.type||!e.nominated||"in-progress"!==e.state&&"succeeded"!==e.state)&&!(fD(e.selected)&&!e.selected)},lF=new Map([[vC,"Android"],[pC,"iOS"],[VC,"Windows"],[BC,"MacOS"],[UC,"Linux"]]),uF=function(){var e="unknown";return lF.get(!0)&&(e=lF.get(!0)),e};function cF(){var e="";return screen.width&&(e+=(screen.width?screen.width*window.devicePixelRatio:"")+" * "+(screen.height?screen.height*window.devicePixelRatio:"")),e}function sF(){var e=!1;return(navigator.getUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)&&(e=!0),e}function dF(){for(var e={isSupported:!1},t=["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"],n=0;n<t.length;n++)if(t[n]in window){e.isSupported=!0;break}return e.isSupported}function fF(){return!TC&&!pC&&!(!WA()||!("captureStream"in HTMLCanvasElement.prototype))}var pF=window.MediaStreamTrack&&"getSettings"in MediaStreamTrack.prototype,vF=window.MediaStreamTrack&&"getCapabilities"in MediaStreamTrack.prototype;!function(){iF();var e=MA.getItem(LA);e&&e.ua===navigator.userAgent&&(NA=e.checkResult),YA()}();var hF={STREAM_ADDED:"stream-added",STREAM_REMOVED:"stream-removed",STREAM_UPDATED:"stream-updated",STREAM_PUBLISHED:"stream-published",STREAM_SUBSCRIBED:"stream-subscribed",STREAM_UNSUBSCRIBED:"stream-unsubscribed",STATE_CHANGED:"state-changed",ERROR:"error",CONNECTION_STATE_CHANGED:"connection-state-changed",SEI_MESSAGE:Hx},mF={STREAM_ADDED:"stream-added",STREAM_REMOVED:"stream-removed",STREAM_UPDATED:"stream-updated",STREAM_SUBSCRIBED:"stream-subscribed",CONNECTION_STATE_CHANGED:"connection-state-changed",PEER_JOIN:"peer-join",PEER_LEAVE:"peer-leave",MUTE_AUDIO:"mute-audio",MUTE_VIDEO:"mute-video",UNMUTE_AUDIO:"unmute-audio",UNMUTE_VIDEO:"unmute-video",CLIENT_BANNED:"client-banned",NETWORK_QUALITY:"network-quality",AUDIO_VOLUME:"audio-volume",SEI_MESSAGE:Hx,ERROR:"error"},gF="player-state-changed",yF="screen-sharing-stopped",bF="connection-state-changed",_F="device-auto-recovered",wF="error",SF="player-state-changed",OF=function(){function e(t){l(this,e);var n=t.getUserId();this.log_=Tj.createLogger({id:n,userId:n,sdkAppId:t.getSDKAppId()}),this.prevReportTime_=0,this.prevReport_={},this.prevEncoderImplementation_="",this.prevQualityLimitationReason_="",this.prevDecoderImplementationMap_=new Map}var t,n,i,o;return c(e,[{key:"statInterval",get:function(){return 0===this.prevReportTime_?2:(Date.now()-this.prevReportTime_)/1e3}},{key:"getSenderStats",value:(o=a(r().mark((function e(t){var n,i,o,a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={audio:{bytesSent:0,packetsSent:0,audioLevel:0,totalAudioEnergy:0},video:{bytesSent:0,packetsSent:0,framesEncoded:0,frameWidth:0,frameHeight:0,framesSent:0,fpsCapture:0,smallFramesEncoded:0,smallFPSCapture:0,smallFramesSent:0},rtt:0},i=t.getPeerConnection(),o=t.getSSRC(),!i){e.next=14;break}return e.prev=4,e.next=7,i.getStats();case 7:e.sent.forEach((function(e){if("outbound-rtp"===e.type)if(e.mediaType===wx){if(!hC&&cD(e.trackId))return;e.ssrc!==o.video||cD(e.encoderImplementation)||a.prevEncoderImplementation_===e.encoderImplementation||(a.log_.info("encoderImplementation change to ".concat(e.encoderImplementation)),a.prevEncoderImplementation_=e.encoderImplementation),e.ssrc!==o.video||cD(e.qualityLimitationReason)||a.prevQualityLimitationReason_===e.qualityLimitationReason||(a.log_.info("qualityLimitationReason change to ".concat(e.qualityLimitationReason)),a.prevQualityLimitationReason_=e.qualityLimitationReason);var r=t.getSSRC();e.ssrc===r.video?(n.video.bytesSent=e.bytesSent,n.video.packetsSent=e.packetsSent,n.video.framesEncoded=e.framesEncoded):(n.video.smallBytesSent=e.bytesSent,n.video.smallFramesEncoded=e.framesEncoded)}else e.mediaType===_x&&(n.audio.bytesSent=e.bytesSent,n.audio.packetsSent=e.packetsSent);else if("candidate-pair"===e.type)aF(e)&&dD(e.currentRoundTripTime)&&(n.rtt=Math.floor(1e3*e.currentRoundTripTime));else if("track"===e.type){var i;if(cD(e.frameWidth)||(e.trackIdentifier===t.getLocalStreamVideoTrackId()?(n.video.frameWidth=e.frameWidth,n.video.frameHeight=e.frameHeight,n.video.framesSent=e.framesSent):(n.video.smallFrameWidth=e.frameWidth,n.video.smallFrameHeight=e.frameHeight,n.video.smallFramesSent=e.framesSent)),cD(e.audioLevel)){if(ux)n.audio.audioLevel=(null===(i=t.getLocalStream())||void 0===i?void 0:i.getInternalAudioLevel())||0}else n.audio.audioLevel=e.audioLevel||0}else"media-source"===e.type&&(e.kind===_x?(n.audio.audioLevel=e.audioLevel||0,n.audio.totalAudioEnergy=e.totalAudioEnergy||0):e.kind===wx&&(e.trackIdentifier===t.getLocalStreamVideoTrackId()?n.video.fpsCapture=e.framesPerSecond:n.video.smallFPSCapture=e.framesPerSecond))})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.log_.warn("failed to getStats on sender connection");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(e){return o.apply(this,arguments)})},{key:"getReceiverStats",value:(i=a(r().mark((function e(t){var n,i,o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={tinyId:t.getTinyId(),userId:t.getUserId(),rtt:0,hasAudio:!1,hasVideo:!1,hasAuxiliary:!1,audio:{bytesReceived:0,packetsReceived:0,packetsLost:0,jitter:0,audioLevel:0,totalAudioEnergy:0},video:{bytesReceived:0,packetsReceived:0,packetsLost:0,framesReceived:0,framesDecoded:0,frameWidth:0,frameHeight:0},auxiliary:{bytesReceived:0,packetsReceived:0,packetsLost:0,framesReceived:0,framesDecoded:0,frameWidth:0,frameHeight:0}},!(i=t.getPeerConnection())){e.next=13;break}return e.prev=3,e.next=6,i.getStats();case 6:e.sent.forEach((function(e){if("inbound-rtp"===e.type){if(e.mediaType===_x)n.audio.packetsReceived=e.packetsReceived,n.audio.bytesReceived=e.bytesReceived,n.audio.packetsLost=e.packetsLost,n.audio.jitter=e.jitter,n.hasAudio=!0;else if(e.mediaType===wx){if(hC&&0===e.bytesReceived)return;var r=t.getSSRC();e.ssrc===r.video&&(n.video.packetsReceived=e.packetsReceived,n.video.bytesReceived=e.bytesReceived,n.video.packetsLost=e.packetsLost,n.video.framesReceived=e.framesReceived,n.video.framesDecoded=e.framesDecoded,n.video.fpsDecoded=e.framesPerSecond,n.hasVideo=!0,!e.decoderImplementation||o.prevDecoderImplementationMap_.has(n.userId)&&o.prevDecoderImplementationMap_.get(n.userId)===e.decoderImplementation||(Tj.info("[".concat(n.userId,"] decoderImplementation change to ").concat(e.decoderImplementation)),o.prevDecoderImplementationMap_.set(n.userId,e.decoderImplementation))),e.ssrc===r.auxiliary&&(n.auxiliary.packetsReceived=e.packetsReceived,n.auxiliary.bytesReceived=e.bytesReceived,n.auxiliary.packetsLost=e.packetsLost,n.auxiliary.framesReceived=e.framesReceived,n.auxiliary.framesDecoded=e.framesDecoded,n.auxiliary.fpsDecoded=e.framesPerSecond,n.hasAuxiliary=!0)}}else"track"===e.type?(cD(e.frameWidth)||(e.trackIdentifier===t.getMainStreamVideoTrackId()&&(n.video.frameWidth=e.frameWidth,n.video.frameHeight=e.frameHeight),e.trackIdentifier===t.getAuxStreamVideoTrackId()&&(n.auxiliary.frameWidth=e.frameWidth,n.auxiliary.frameHeight=e.frameHeight)),cD(e.audioLevel)||(n.audio.audioLevel=e.audioLevel||0,n.audio.totalAudioEnergy=e.totalAudioEnergy||0)):"candidate-pair"===e.type&&aF(e)&&dD(e.currentRoundTripTime)&&(n.rtt=Math.floor(1e3*e.currentRoundTripTime))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.log_.warn("failed to getStats on receiver connection");case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e){return i.apply(this,arguments)})},{key:"getStats",value:(n=a(r().mark((function e(t,n){var i,o,a,l,u,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},!t){e.next=5;break}return e.next=4,this.getSenderStats(t);case 4:i=e.sent;case 5:o=[],a=C(n),e.prev=7,a.s();case 9:if((l=a.n()).done){e.next=17;break}return(u=w(l.value,2))[0],c=u[1],e.next=13,this.getReceiverStats(c);case 13:s=e.sent,o.push(s);case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:return e.abrupt("return",{senderStats:i,receiverStats:o});case 26:case"end":return e.stop()}}),e,this,[[7,19,22,25]])}))),function(e,t){return n.apply(this,arguments)})},{key:"getDifferenceValue",value:function(e,t){if(fA(e))return t;var n=t-e;return n<0?0:n}},{key:"prepareReport",value:function(e){var t=this,n=e.stats,r=e.report,i=e.freezeMap;if(!fA(n.senderStats)){var o={uint32_audio_level:1e8*n.senderStats.audio.audioLevel,uint32_audio_energy:1e6*n.senderStats.audio.totalAudioEnergy,uint32_audio_codec_bitrate:n.senderStats.audio.bytesSent,audioLevel:n.senderStats.audio.audioLevel},a=[],l={uint32_video_stream_type:2,uint32_video_codec_fps:n.senderStats.video.framesSent,uint32_video_capture_fps:n.senderStats.video.fpsCapture,uint32_video_width:n.senderStats.video.frameWidth,uint32_video_height:n.senderStats.video.frameHeight,uint32_video_codec_bitrate:n.senderStats.video.bytesSent,uint32_video_enc_fps:n.senderStats.video.framesEncoded};if(a.push(l),n.senderStats.video.smallBytesSent){var u={uint32_video_stream_type:3,uint32_video_codec_fps:n.senderStats.video.smallFramesSent||0,uint32_video_capture_fps:n.senderStats.video.smallFPSCapture||0,uint32_video_width:n.senderStats.video.smallFrameWidth||0,uint32_video_height:n.senderStats.video.smallFrameHeight||0,uint32_video_codec_bitrate:n.senderStats.video.smallBytesSent,uint32_video_enc_fps:n.senderStats.video.smallFramesEncoded||0};a.push(u)}var c={uint32_bitrate:"",uint32_rtt:n.senderStats.rtt};r.msg_up_stream_info={msg_audio_status:o,msg_video_status:a,msg_network_status:c}}var s=this.statInterval;r.msg_down_stream_info=[],n.receiverStats.forEach((function(e){var t={};if(t.msg_user_info={str_identifier:e.userId,uint64_tinyid:e.tinyId},t.msg_network_status={uint32_rtt:e.rtt},t.msg_video_status={},e.hasAudio){var n={uint32_audio_codec_bitrate:e.audio.bytesReceived,uint32_audio_total_bitrate:e.audio.bytesReceived,uint32_audio_level:1e8*e.audio.audioLevel,uint32_audio_energy:1e6*e.audio.totalAudioEnergy,uint32_audio_receive:e.audio.packetsReceived,uint32_audio_origin_lost:e.audio.packetsLost,audioLevel:e.audio.audioLevel};t.msg_audio_status=n}if(t.msg_video_status=[],e.hasVideo){var o=i.get(e.userId+"_"+pP),a=o?o.duration:0,l={uint32_video_stream_type:2,uint32_video_receive_fps:e.video.framesReceived,uint32_video_width:e.video.frameWidth,uint32_video_height:e.video.frameHeight,uint32_video_codec_bitrate:e.video.bytesReceived,uint32_video_receive:e.video.packetsReceived,uint32_video_origin_lost:e.video.packetsLost,uint32_video_block_time:a,uint32_video_dec_fps:e.video.framesDecoded};t.msg_video_status.push(l)}if(e.hasAuxiliary){var u=i.get(e.userId+"_"+vP),c=u?u.duration:0,s={uint32_video_stream_type:7,uint32_video_receive_fps:e.auxiliary.framesReceived,uint32_video_width:e.auxiliary.frameWidth,uint32_video_height:e.auxiliary.frameHeight,uint32_video_codec_bitrate:e.auxiliary.bytesReceived,uint32_video_receive:e.auxiliary.packetsReceived+e.auxiliary.packetsLost,uint32_video_origin_lost:e.auxiliary.packetsLost,uint32_video_block_time:c,uint32_video_dec_fps:e.auxiliary.framesDecoded};t.msg_video_status.push(s)}r.msg_down_stream_info.push(t)}));var d=this.prevReport_;this.prevReport_=JSON.parse(JSON.stringify(r));var f=d.msg_up_stream_info.msg_audio_status,p=r.msg_up_stream_info.msg_audio_status,v=this.getDifferenceValue(f.uint32_audio_codec_bitrate,p.uint32_audio_codec_bitrate);p.uint32_audio_codec_bitrate=Math.round(8*v/s);var h=d.msg_up_stream_info.msg_video_status;r.msg_up_stream_info.msg_video_status.forEach((function(e,n){var r=h[n],i=0,o=0,a=0;r&&(i=r.uint32_video_codec_bitrate,o=r.uint32_video_enc_fps,a=r.uint32_video_codec_fps);var l=t.getDifferenceValue(i,e.uint32_video_codec_bitrate);e.uint32_video_codec_bitrate=Math.round(8*l/s),e.uint32_video_enc_fps=Math.round(t.getDifferenceValue(o,e.uint32_video_enc_fps)/s),e.uint32_video_codec_fps=Math.round(t.getDifferenceValue(a,e.uint32_video_codec_fps)/s)}));var m=r.msg_down_stream_info,g=d.msg_down_stream_info;return m.forEach((function(e){var n=g.find((function(t){return t.msg_user_info.uint64_tinyid===e.msg_user_info.uint64_tinyid}));if(n){if(e.msg_audio_status&&n.msg_audio_status){var r=e.msg_audio_status,i=n.msg_audio_status;r.uint32_audio_origin_lost=t.getDifferenceValue(i.uint32_audio_origin_lost,r.uint32_audio_origin_lost),r.uint32_audio_receive=t.getDifferenceValue(i.uint32_audio_receive,r.uint32_audio_receive),r.uint32_audio_receive+=r.uint32_audio_origin_lost;var o=t.getDifferenceValue(i.uint32_audio_codec_bitrate,r.uint32_audio_codec_bitrate);r.uint32_audio_codec_bitrate=Math.round(8*o/s),r.uint32_audio_total_bitrate=Math.round(8*o/s)}if(e.msg_video_status&&n.msg_video_status){var a=e.msg_video_status,l=n.msg_video_status;a.forEach((function(e,n){var r=l[n],i=0,o=0,a=0,u=0,c=0;r&&(i=r.uint32_video_receive,o=r.uint32_video_origin_lost,a=r.uint32_video_codec_bitrate,u=r.uint32_video_receive_fps,c=r.uint32_video_dec_fps),e.uint32_video_origin_lost=t.getDifferenceValue(o,e.uint32_video_origin_lost),e.uint32_video_receive=t.getDifferenceValue(i,e.uint32_video_receive)+e.uint32_video_origin_lost;var d=t.getDifferenceValue(a,e.uint32_video_codec_bitrate);e.uint32_video_codec_bitrate=Math.round(8*d/s);var f=t.getDifferenceValue(u,e.uint32_video_receive_fps);e.uint32_video_receive_fps=Math.round(f/s),e.uint32_video_dec_fps=Math.round(t.getDifferenceValue(c,e.uint32_video_dec_fps)/s)}))}}})),r.msg_up_stream_info.msg_network_status.uint32_bitrate=r.msg_up_stream_info.msg_audio_status.uint32_audio_codec_bitrate+r.msg_up_stream_info.msg_video_status[0].uint32_video_codec_bitrate,r}},{key:"getStatsReport",value:(t=a(r().mark((function e(t){var n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uplinkConnection,i=t.downlinkConnections,o=t.freezeMap,a={msg_up_stream_info:{msg_audio_status:{uint32_audio_format:0,uint32_audio_sample_rate:0,uint32_audio_codec_bitrate:0,uint32_audio_receive:0,uint32_audio_origin_lost:0,uint32_audio_level:0,uint32_audio_energy:0,audioLevel:0},msg_video_status:[{uint32_video_stream_type:0,uint32_video_codec_fps:0,uint32_video_capture_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_codec_bitrate:0,uint32_video_receive:0,uint32_video_origin_lost:0,uint32_video_final_lost:0,uint32_video_enc_fps:0}],msg_network_status:{uint32_bitrate:0,uint32_rtt:0,uint32_lost:0},msg_qos:[{uint32_video_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_bitrate:0,uint32_audio_bitrate:0,uint32_video_stream_type:0}]},msg_down_stream_info:[{msg_user_info:{str_identifier:"",uint64_tinyid:""},msg_audio_status:{uint32_audio_format:0,uint32_audio_sample_rate:0,uint32_audio_codec_bitrate:0,uint32_audio_total_bitrate:0,uint32_audio_level:0,uint32_audio_energy:0,uint32_audio_receive:0,uint32_audio_origin_lost:0,uint32_audio_final_lost:0,audioLevel:0},msg_video_status:[{uint32_video_stream_type:0,uint32_video_receive_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_codec_bitrate:0,uint32_video_receive:0,uint32_video_origin_lost:0,uint32_video_block_time:0,uint32_video_dec_fps:0}],msg_network_status:{uint32_bitrate:0,uint32_rtt:0,uint32_lost:0,uint32_jitter:0},msg_qos:[{uint32_video_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_bitrate:0,uint32_audio_bitrate:0,uint32_video_stream_type:0}]}]},e.next=4,this.getStats(n,i);case 4:return l=e.sent,"{}"===JSON.stringify(this.prevReport_)&&(this.prevReport_=JSON.parse(JSON.stringify(a))),this.prepareReport({stats:l,report:a,freezeMap:o}),this.prevReportTime_=Date.now(),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"reset",value:function(){this.prevReportTime_=0,this.prevReport_={},this.prevEncoderImplementation_="",this.prevQualityLimitationReason_="",this.prevDecoderImplementationMap_=new Map}}]),e}(),kF=function(){function e(t){var n=t.signalChannel,r=t.connections,i=t.client;l(this,e),this.client_=i,this.signalChannel_=n,this.connections_=r,this.client_=i,this.log_=Tj.createLogger({id:"q|"+this.client_.getUserId(),userId:this.client_.getUserId(),sdkAppId:this.client_.getSDKAppId()}),this.uplinkConnection_=null,this.uplinkNetworkQuality_=0,this.uplinkRTT_=0,this.uplinkLoss_=0,this.downlinkNetworkQuality_=0,this.downlinkRTT_=0,this.downlinkLoss_=0,this.downlinkPrevStatMap_=new Map,this.downlinkLossAndRTTMap_=new Map,this.interval_=-1,this.emitter_=new ID,this.initialize()}var t,n;return c(e,[{key:"uplinkNetworkQuality",get:function(){return this.uplinkNetworkQuality_},set:function(e){e!==this.uplinkNetworkQuality_&&this.log_.info("uplink network quality change ".concat(this.uplinkNetworkQuality," -> ").concat(e,", rtt: ").concat(this.uplinkRTT_,", loss: ").concat(this.uplinkLoss_)),this.uplinkNetworkQuality_=e}},{key:"downlinkNetworkQuality",get:function(){return this.downlinkNetworkQuality_},set:function(e){if(e!==this.downlinkNetworkQuality_){var t=this.getAverageLossAndRTT(S(this.downlinkLossAndRTTMap_.values())),n=t.rtt,r=t.loss;this.log_.info("downlink network quality change ".concat(this.downlinkNetworkQuality," -> ").concat(e,", rtt: ").concat(n,", loss: ").concat(r))}this.downlinkNetworkQuality_=e}},{key:"initialize",value:function(){var e=this;this.signalChannel_.on(iR.UPLINK_NETWORK_STATS,(function(t){e.handleUplinkNetworkQuality(t)})),this.signalChannel_.on($j,this.handleSignalConnectionStateChange.bind(this)),this.start()}},{key:"handleUplinkNetworkQuality",value:function(e){if(!this.uplinkConnection_)return this.uplinkNetworkQuality=0,this.uplinkLoss_=0,void(this.uplinkRTT_=0);var t=this.uplinkConnection_.getPeerConnection();if(t&&this.isPeerConnectionDisconnected(t))return this.uplinkNetworkQuality=6,this.uplinkLoss_=0,void(this.uplinkRTT_=0);if(0===e.data.code){var n=e.data.data,r=n.expectAudPkg+n.expectVidPkg,i=n.recvAudPkg+n.recvVidPkg,o=r-i,a=n.delay;if(a&&this.updateDelay(a),0===r&&0===i)return;this.uplinkLoss_=o<=0?0:Math.round(o/r*100),this.uplinkRTT_=n.rtt,this.uplinkNetworkQuality=this.getNetworkQuality(this.uplinkLoss_,this.uplinkRTT_)}}},{key:"handleDownlinkNetworkQuality",value:(n=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d,f,p,v,h,m,g=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connections_&&0!==this.connections_.size){e.next=3;break}return this.downlinkNetworkQuality=0,e.abrupt("return");case 3:if(t=S(this.connections_.values()),n=t.filter((function(e){return e.getPeerConnection()&&e.getPeerConnection().connectionState===CP})),t.filter((function(e){return e.getPeerConnection()&&g.isPeerConnectionDisconnected(e.getPeerConnection())})).length!==t.length){e.next=9;break}return this.downlinkNetworkQuality=6,e.abrupt("return");case 9:i=0;case 10:if(!(i<n.length)){e.next=31;break}return o=n[i].getPeerConnection(),e.next=14,this.getStat(o);case 14:if(a=e.sent,l=a.rtt,u=a.totalPacketsLost,c=a.totalPacketsReceived,this.downlinkPrevStatMap_.has(o)){e.next=21;break}return this.downlinkPrevStatMap_.set(o,{totalPacketsLost:u,totalPacketsReceived:c}),e.abrupt("continue",28);case 21:s=0,d=this.downlinkPrevStatMap_.get(o),f=u-d.totalPacketsLost,p=c-d.totalPacketsReceived,s=f<=0||p<0?0:Math.round(f/(f+p)*100),this.downlinkPrevStatMap_.set(o,{totalPacketsLost:u,totalPacketsReceived:c}),this.downlinkLossAndRTTMap_.set(o,{rtt:l,loss:s,userId:n[i].getUserId()});case 28:i++,e.next=10;break;case 31:if(S(this.downlinkPrevStatMap_.keys()).forEach((function(e){g.isPeerConnectionDisconnected(e)&&(g.downlinkPrevStatMap_.delete(e),g.downlinkLossAndRTTMap_.delete(e))})),0!==this.downlinkLossAndRTTMap_.size){e.next=34;break}return e.abrupt("return");case 34:v=this.getAverageLossAndRTT(S(this.downlinkLossAndRTTMap_.values())),h=v.rtt,m=v.loss,this.downlinkRTT_=h,this.downlinkLoss_=m,this.downlinkNetworkQuality=this.getNetworkQuality(m,h);case 38:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getStat",value:(t=a(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={rtt:0,totalPacketsLost:0,totalPacketsReceived:0},t&&qA()){e.next=3;break}return e.abrupt("return",n);case 3:i=t.getReceivers(),e.prev=4,o=0;case 6:if(!(o<i.length)){e.next=15;break}return a=i[o],e.next=10,a.getStats();case 10:e.sent.forEach((function(e){"candidate-pair"===e.type&&dD(e.currentRoundTripTime)&&(n.rtt=Math.round(1e3*e.currentRoundTripTime)),"inbound-rtp"!==e.type||e.mediaType!==_x&&e.mediaType!==wx||(n.totalPacketsLost+=e.packetsLost,n.totalPacketsReceived+=e.packetsReceived)}));case 12:o++,e.next=6;break;case 15:return e.abrupt("return",n);case 18:return e.prev=18,e.t0=e.catch(4),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[4,18]])}))),function(e){return t.apply(this,arguments)})},{key:"getAverageLossAndRTT",value:function(e){var t={rtt:0,loss:0};return Array.isArray(e)&&e.length>0&&(e.forEach((function(e){t.rtt+=e.rtt,t.loss+=e.loss})),Object.keys(t).forEach((function(n){t[n]=Math.round(t[n]/e.length)}))),t}},{key:"getNetworkQuality",value:function(e,t){return e>50||t>500?5:e>30||t>350?4:e>20||t>200?3:e>10||t>100?2:e>=0||t>=0?1:0}},{key:"handleSignalConnectionStateChange",value:function(e){e.state===Xj?(this.uplinkRTT_=0,this.uplinkLoss_=0,this.uplinkNetworkQuality=6):e.state===tR&&6===this.uplinkNetworkQuality&&(this.uplinkNetworkQuality=5)}},{key:"handleUplinkConnectionStateChange",value:function(e){var t=e.state;t===mP?(this.uplinkLoss_=0,this.uplinkRTT_=0,this.uplinkNetworkQuality=6):t===bP&&6===this.uplinkNetworkQuality&&(this.uplinkNetworkQuality=5)}},{key:"isPeerConnectionDisconnected",value:function(e){return!(!e||e.connectionState!==kP&&e.connectionState!==SP&&e.connectionState!==OP)}},{key:"setUplinkConnection",value:function(e){this.uplinkConnection_=e,this.uplinkConnection_?this.uplinkConnection_.on(hF.CONNECTION_STATE_CHANGED,this.handleUplinkConnectionStateChange.bind(this)):(this.uplinkNetworkQuality=0,this.uplinkRTT_=0,this.uplinkLoss_=0)}},{key:"start",value:function(){var e=this;-1===this.interval_?(this.log_.info("start network quality calculating"),this.interval_=AA.setInterval((function(){e.handleDownlinkNetworkQuality(),DD.emit(_j,{client:e.client_,uplinkNetworkQuality:e.uplinkNetworkQuality,downlinkNetworkQuality:e.downlinkNetworkQuality,uplinkRTT:e.uplinkRTT_,uplinkLoss:e.uplinkLoss_,downlinkRTT:e.downlinkRTT_,downlinkLoss:e.downlinkLoss_,downlinkLossAndRTTMap:e.downlinkLossAndRTTMap_}),e.emitter_.emit(mF.NETWORK_QUALITY,{uplinkNetworkQuality:e.uplinkNetworkQuality,downlinkNetworkQuality:e.downlinkNetworkQuality,uplinkRTT:e.uplinkRTT_,uplinkLoss:e.uplinkLoss_,downlinkRTT:e.downlinkRTT_,downlinkLoss:e.downlinkLoss_})}),2e3)):this.log_.info("network quality calculating is already started")}},{key:"stop",value:function(){this.log_.info("stop network quality calculating"),-1!==this.interval_&&(AA.clearInterval(this.interval_),this.interval_=-1),this.downlinkLossAndRTTMap_.clear(),this.downlinkPrevStatMap_.clear()}},{key:"on",value:function(e,t){this.emitter_.on(e,t)}},{key:"updateDelay",value:function(e){var t=this;e.forEach((function(e){var n=e.srcTinyId,r=e.videoDelay,i=e.audioDelay,o=t.connections_.get(n);o&&o.setDelay({videoDelay:r,audioDelay:i})}))}}]),e}(),CF=function(){function e(t){l(this,e),this.log_=Tj.createLogger({id:t.client.getUserId(),userId:t.client.getUserId(),sdkAppId:t.client.getSDKAppId()}),this.localStream_=null,this.prevDevices_=[],this.initialize()}var t,n;return c(e,[{key:"initialize",value:function(){navigator.mediaDevices&&(this.onDeviceChange=this.onDeviceChange.bind(this),navigator.mediaDevices.addEventListener("devicechange",this.onDeviceChange))}},{key:"destroy",value:function(){navigator.mediaDevices&&navigator.mediaDevices.removeEventListener("devicechange",this.onDeviceChange)}},{key:"onDeviceChange",value:(n=a(r().mark((function e(){var t,n,i,o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localStream_&&this.localStream_.getMediaStream()&&!this.localStream_.getScreen()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oY.getDevices();case 4:t=e.sent,n=t.filter((function(e){return o.prevDevices_.findIndex((function(t){var n=t.deviceId;return e.deviceId===n}))<0})),i=this.prevDevices_.filter((function(e){return t.findIndex((function(t){var n=t.deviceId;return e.deviceId===n}))<0})),n.length>0&&this.handleDeviceAdded(this.prevDevices_,n),i.length>0&&this.handleDeviceRemoved(t,i),this.prevDevices_=t;case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setLocalStream",value:(t=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,oY.getDevices();case 3:this.prevDevices_=e.sent;case 4:this.localStream_=t;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleDeviceAdded",value:function(e,t){this.log_.warn("devicesAdded: ".concat(JSON.stringify(t))),this.localStream_.updateDeviceIdInUse();var n=t.filter((function(e){return e.kind===Ax})),r=t.filter((function(e){return e.kind===Rx})),i=e.filter((function(e){return e.kind===Ax})),o=e.filter((function(e){return e.kind===Rx})),a=n.length>0&&0===i.length&&this.localStream_.getVideo(),l=r.length>0&&0===o.length&&this.localStream_.getAudio();if(l&&a)return this.log_.info("new microphone and camera detected, but there was no device before."),void this.localStream_.recoverCapture({audio:!0,video:!0,cameraId:n[0].deviceId,microphoneId:r[0].deviceId});a&&(this.log_.info("new camera detected, but there was no camera before."),this.localStream_.recoverCapture({audio:!1,video:!0,cameraId:n[0].deviceId})),l&&(this.log_.info("new microphone detected, but there was no microphone before."),this.localStream_.recoverCapture({audio:!0,video:!1,microphoneId:r[0].deviceId}))}},{key:"handleDeviceRemoved",value:function(e,t){this.log_.warn("devicesRemoved: ".concat(JSON.stringify(t))),this.localStream_.updateDeviceIdInUse();var n=!1,r=!1,i=this.localStream_.getCameraId(),o=this.localStream_.getMicrophoneId();if(o===NE){var a=this.localStream_.getMicrophoneGroupId(),l=e.filter((function(e){return e.deviceId===NE&&e.kind===Rx}))[0];l&&l.groupId!==a&&(r=!0)}if(t.forEach((function(e){var t=e.deviceId;i.length>0&&t===i?n=!0:o.length>0&&t===o&&(r=!0)})),n&&r)return this.log_.warn("current camera and microphone in use is lost, cameraId: ".concat(i,", microphoneId: ").concat(o)),void((this.localStream_.getAudio()||this.localStream_.getVideo())&&this.localStream_.recoverCapture({video:!0,audio:!0}));n&&(this.log_.warn("current camera in use is lost, deviceId: ".concat(i)),this.localStream_.getVideo()&&this.localStream_.recoverCapture({video:!0,audio:!1})),r&&(this.log_.warn("current microphone in use is lost, deviceId: ".concat(o)),this.localStream_.getAudio()&&this.localStream_.recoverCapture({video:!1,audio:!0}))}}]),e}(),xF=Pr,PF=jo,EF=ue,TF=RangeError,IF=ki,DF=$,jF=Pr,RF=Aw,AF=function(e){var t=PF(EF(this)),n="",r=xF(e);if(r<0||1/0==r)throw TF("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},FF=D,MF=RangeError,NF=String,LF=Math.floor,WF=DF(AF),VF=DF("".slice),BF=DF(1..toFixed),UF=function(e,t,n){return 0===t?n:t%2==1?UF(e,t-1,n*e):UF(e*e,t/2,n)},HF=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=LF(i/1e7)},zF=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=LF(r/t),r=r%t*1e7},ZF=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=NF(e[t]);n=""===n?r:n+WF("0",7-r.length)+r}return n};IF({target:"Number",proto:!0,forced:FF((function(){return"0.000"!==BF(8e-5,3)||"1"!==BF(.9,0)||"1.25"!==BF(1.255,2)||"1000000000000000128"!==BF(0xde0b6b3a7640080,0)}))||!FF((function(){BF({})}))},{toFixed:function(e){var t,n,r,i,o=RF(this),a=jF(e),l=[0,0,0,0,0,0],u="",c="0";if(a<0||a>20)throw MF("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return NF(o);if(o<0&&(u="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*UF(2,69,1))-69)<0?o*UF(2,-t,1):o/UF(2,t,1),n*=4503599627370496,(t=52-t)>0){for(HF(l,0,n),r=a;r>=7;)HF(l,1e7,0),r-=7;for(HF(l,UF(10,r,1),0),r=t-1;r>=23;)zF(l,1<<23),r-=23;zF(l,1<<r),HF(l,1,1),zF(l,2),c=ZF(l)}else HF(l,0,n),HF(l,1<<-t,0),c=ZF(l)+WF("0",a);return a>0?u+((i=c.length)<=a?"0."+WF("0",a-i)+c:VF(c,0,i-a)+"."+VF(c,i-a)):u+c}});var KF,YF=_n.exports,GF=Qt,$F=on,JF=ys,qF=Ei,XF=M,QF=lt,eM=function(e,t,n,r){try{return r?t($F(n)[0],n[1]):t(n)}catch(aY){JF(e,"throw",aY)}},tM=ts,nM=Qi,rM=Mr,iM=gc,oM=vs,aM=ls,lM=Array,uM=$,cM=2147483647,sM=/[^\0-\u007E]/,dM=/[.\u3002\uFF0E\uFF61]/g,fM="Overflow: input needs wider integers to process",pM=RangeError,vM=uM(dM.exec),hM=Math.floor,mM=String.fromCharCode,gM=uM("".charCodeAt),yM=uM([].join),bM=uM([].push),_M=uM("".replace),wM=uM("".split),SM=uM("".toLowerCase),OM=function(e){return e+22+75*(e<26)},kM=function(e,t,n){var r=0;for(e=n?hM(e/700):e>>1,e+=hM(e/t);e>455;)e=hM(e/35),r+=36;return hM(r+36*e/(e+38))},CM=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=gM(e,n++);if(i>=55296&&i<=56319&&n<r){var o=gM(e,n++);56320==(64512&o)?bM(t,((1023&i)<<10)+(1023&o)+65536):(bM(t,i),n--)}else bM(t,i)}return t}(e);var n,r,i=e.length,o=128,a=0,l=72;for(n=0;n<e.length;n++)(r=e[n])<128&&bM(t,mM(r));var u=t.length,c=u;for(u&&bM(t,"-");c<i;){var s=cM;for(n=0;n<e.length;n++)(r=e[n])>=o&&r<s&&(s=r);var d=c+1;if(s-o>hM((cM-a)/d))throw pM(fM);for(a+=(s-o)*d,o=s,n=0;n<e.length;n++){if((r=e[n])<o&&++a>cM)throw pM(fM);if(r==o){for(var f=a,p=36;;){var v=p<=l?1:p>=l+26?26:p-l;if(f<v)break;var h=f-v,m=36-v;bM(t,mM(OM(v+h%m))),f=hM(h/m),p+=36}bM(t,mM(OM(f))),l=kM(a,d,c==u),a=0,c++}}a++,o++}return yM(t,"")},xM=ki,PM=j,EM=bO,TM=T,IM=Ei,DM=$,jM=Sr,RM=function(e,t,n){return n.get&&YF(n.get,t,{getter:!0}),n.set&&YF(n.set,t,{setter:!0}),GF.f(e,t,n)},AM=Fs,FM=st,MM=Tf,NM=function(e){var t=QF(e),n=nM(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=qF(i,r>2?arguments[2]:void 0));var a,l,u,c,s,d,f=aM(t),p=0;if(!f||this===lM&&tM(f))for(a=rM(t),l=n?new this(a):lM(a);a>p;p++)d=o?i(t[p],p):t[p],iM(l,p,d);else for(s=(c=oM(t,f)).next,l=n?new this:[];!(u=XF(s,c)).done;p++)d=o?eM(c,i,[u.value,p],!0):u.value,iM(l,p,d);return l.length=p,l},LM=Oc,WM=el.codeAt,VM=function(e){var t,n,r=[],i=wM(_M(SM(e),dM,"."),".");for(t=0;t<i.length;t++)n=i[t],bM(r,vM(sM,n)?"xn--"+CM(n):n);return yM(r,".")},BM=jo,UM=gu,HM=Fv,zM=Wk,ZM=or,KM=ZM.set,YM=ZM.getterFor("URL"),GM=zM.URLSearchParams,$M=zM.getState,JM=TM.URL,qM=TM.TypeError,XM=TM.parseInt,QM=Math.floor,eN=Math.pow,tN=DM("".charAt),nN=DM(/./.exec),rN=DM([].join),iN=DM(1..toString),oN=DM([].pop),aN=DM([].push),lN=DM("".replace),uN=DM([].shift),cN=DM("".split),sN=DM("".slice),dN=DM("".toLowerCase),fN=DM([].unshift),pN="Invalid scheme",vN="Invalid host",hN="Invalid port",mN=/[a-z]/i,gN=/[\d+-.a-z]/i,yN=/\d/,bN=/^0x/i,_N=/^[0-7]+$/,wN=/^\d+$/,SN=/^[\da-f]+$/i,ON=/[\0\t\n\r #%/:<>?@[\\\]^|]/,kN=/[\0\t\n\r #/:<>?@[\\\]^|]/,CN=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,xN=/[\t\n\r]/g,PN=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)fN(t,e%256),e=QM(e/256);return rN(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=iN(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},EN={},TN=MM({},EN,{" ":1,'"':1,"<":1,">":1,"`":1}),IN=MM({},TN,{"#":1,"?":1,"{":1,"}":1}),DN=MM({},IN,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),jN=function(e,t){var n=WM(e,0);return n>32&&n<127&&!FM(t,e)?e:encodeURIComponent(e)},RN={ftp:21,file:null,http:80,https:443,ws:80,wss:443},AN=function(e,t){var n;return 2==e.length&&nN(mN,tN(e,0))&&(":"==(n=tN(e,1))||!t&&"|"==n)},FN=function(e){var t;return e.length>1&&AN(sN(e,0,2))&&(2==e.length||"/"===(t=tN(e,2))||"\\"===t||"?"===t||"#"===t)},MN=function(e){return"."===e||"%2e"===dN(e)},NN={},LN={},WN={},VN={},BN={},UN={},HN={},zN={},ZN={},KN={},YN={},GN={},$N={},JN={},qN={},XN={},QN={},eL={},tL={},nL={},rL={},iL=function(e,t,n){var r,i,o,a=BM(e);if(t){if(i=this.parse(a))throw qM(i);this.searchParams=null}else{if(void 0!==n&&(r=new iL(n,!0)),i=this.parse(a,null,r))throw qM(i);(o=$M(new GM)).bindURL(this),this.searchParams=o}};iL.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,l,u=this,c=t||NN,s=0,d="",f=!1,p=!1,v=!1;for(e=BM(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=lN(e,CN,"")),e=lN(e,xN,""),r=NM(e);s<=r.length;){switch(i=r[s],c){case NN:if(!i||!nN(mN,i)){if(t)return pN;c=WN;continue}d+=dN(i),c=LN;break;case LN:if(i&&(nN(gN,i)||"+"==i||"-"==i||"."==i))d+=dN(i);else{if(":"!=i){if(t)return pN;d="",c=WN,s=0;continue}if(t&&(u.isSpecial()!=FM(RN,d)||"file"==d&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=d,t)return void(u.isSpecial()&&RN[u.scheme]==u.port&&(u.port=null));d="","file"==u.scheme?c=JN:u.isSpecial()&&n&&n.scheme==u.scheme?c=VN:u.isSpecial()?c=zN:"/"==r[s+1]?(c=BN,s++):(u.cannotBeABaseURL=!0,aN(u.path,""),c=tL)}break;case WN:if(!n||n.cannotBeABaseURL&&"#"!=i)return pN;if(n.cannotBeABaseURL&&"#"==i){u.scheme=n.scheme,u.path=LM(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=rL;break}c="file"==n.scheme?JN:UN;continue;case VN:if("/"!=i||"/"!=r[s+1]){c=UN;continue}c=ZN,s++;break;case BN:if("/"==i){c=KN;break}c=eL;continue;case UN:if(u.scheme=n.scheme,i==KF)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=LM(n.path),u.query=n.query;else if("/"==i||"\\"==i&&u.isSpecial())c=HN;else if("?"==i)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=LM(n.path),u.query="",c=nL;else{if("#"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=LM(n.path),u.path.length--,c=eL;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=LM(n.path),u.query=n.query,u.fragment="",c=rL}break;case HN:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=eL;continue}c=KN}else c=ZN;break;case zN:if(c=ZN,"/"!=i||"/"!=tN(d,s+1))continue;s++;break;case ZN:if("/"!=i&&"\\"!=i){c=KN;continue}break;case KN:if("@"==i){f&&(d="%40"+d),f=!0,o=NM(d);for(var h=0;h<o.length;h++){var m=o[h];if(":"!=m||v){var g=jN(m,DN);v?u.password+=g:u.username+=g}else v=!0}d=""}else if(i==KF||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(f&&""==d)return"Invalid authority";s-=NM(d).length+1,d="",c=YN}else d+=i;break;case YN:case GN:if(t&&"file"==u.scheme){c=XN;continue}if(":"!=i||p){if(i==KF||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==d)return vN;if(t&&""==d&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(d))return a;if(d="",c=QN,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),d+=i}else{if(""==d)return vN;if(a=u.parseHost(d))return a;if(d="",c=$N,t==GN)return}break;case $N:if(!nN(yN,i)){if(i==KF||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||t){if(""!=d){var y=XM(d,10);if(y>65535)return hN;u.port=u.isSpecial()&&y===RN[u.scheme]?null:y,d=""}if(t)return;c=QN;continue}return hN}d+=i;break;case JN:if(u.scheme="file","/"==i||"\\"==i)c=qN;else{if(!n||"file"!=n.scheme){c=eL;continue}if(i==KF)u.host=n.host,u.path=LM(n.path),u.query=n.query;else if("?"==i)u.host=n.host,u.path=LM(n.path),u.query="",c=nL;else{if("#"!=i){FN(rN(LM(r,s),""))||(u.host=n.host,u.path=LM(n.path),u.shortenPath()),c=eL;continue}u.host=n.host,u.path=LM(n.path),u.query=n.query,u.fragment="",c=rL}}break;case qN:if("/"==i||"\\"==i){c=XN;break}n&&"file"==n.scheme&&!FN(rN(LM(r,s),""))&&(AN(n.path[0],!0)?aN(u.path,n.path[0]):u.host=n.host),c=eL;continue;case XN:if(i==KF||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&AN(d))c=eL;else if(""==d){if(u.host="",t)return;c=QN}else{if(a=u.parseHost(d))return a;if("localhost"==u.host&&(u.host=""),t)return;d="",c=QN}continue}d+=i;break;case QN:if(u.isSpecial()){if(c=eL,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=KF&&(c=eL,"/"!=i))continue}else u.fragment="",c=rL;else u.query="",c=nL;break;case eL:if(i==KF||"/"==i||"\\"==i&&u.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(l=dN(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||aN(u.path,"")):MN(d)?"/"==i||"\\"==i&&u.isSpecial()||aN(u.path,""):("file"==u.scheme&&!u.path.length&&AN(d)&&(u.host&&(u.host=""),d=tN(d,0)+":"),aN(u.path,d)),d="","file"==u.scheme&&(i==KF||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];)uN(u.path);"?"==i?(u.query="",c=nL):"#"==i&&(u.fragment="",c=rL)}else d+=jN(i,IN);break;case tL:"?"==i?(u.query="",c=nL):"#"==i?(u.fragment="",c=rL):i!=KF&&(u.path[0]+=jN(i,EN));break;case nL:t||"#"!=i?i!=KF&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":jN(i,EN)):(u.fragment="",c=rL);break;case rL:i!=KF&&(u.fragment+=jN(i,TN))}s++}},parseHost:function(e){var t,n,r;if("["==tN(e,0)){if("]"!=tN(e,e.length-1))return vN;if(t=function(e){var t,n,r,i,o,a,l,u=[0,0,0,0,0,0,0,0],c=0,s=null,d=0,f=function(){return tN(e,d)};if(":"==f()){if(":"!=tN(e,1))return;d+=2,s=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&nN(SN,f());)t=16*t+XM(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!nN(yN,f()))return;for(;nN(yN,f());){if(o=XM(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==s)return;d++,s=++c}}if(null!==s)for(a=c-s,c=7;0!=c&&a>0;)l=u[c],u[c--]=u[s+a-1],u[s+--a]=l;else if(8!=c)return;return u}(sN(e,1,-1)),!t)return vN;this.host=t}else if(this.isSpecial()){if(e=VM(e),nN(ON,e))return vN;if(t=function(e){var t,n,r,i,o,a,l,u=cN(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==tN(i,0)&&(o=nN(bN,i)?16:8,i=sN(i,8==o?1:2)),""===i)a=0;else{if(!nN(10==o?wN:8==o?_N:SN,i))return e;a=XM(i,o)}aN(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=eN(256,5-t))return null}else if(a>255)return null;for(l=oN(n),r=0;r<n.length;r++)l+=n[r]*eN(256,3-r);return l}(e),null===t)return vN;this.host=t}else{if(nN(kN,e))return vN;for(t="",n=NM(e),r=0;r<n.length;r++)t+=jN(n[r],EN);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return FM(RN,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&AN(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,l=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=PN(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+rN(a,"/"):"",null!==l&&(c+="?"+l),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw qM(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new oL(e.path[0]).origin}catch(aY){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+PN(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(BM(e)+":",NN)},getUsername:function(){return this.username},setUsername:function(e){var t=NM(BM(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=jN(t[n],DN)}},getPassword:function(){return this.password},setPassword:function(e){var t=NM(BM(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=jN(t[n],DN)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?PN(e):PN(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,YN)},getHostname:function(){var e=this.host;return null===e?"":PN(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,GN)},getPort:function(){var e=this.port;return null===e?"":BM(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=BM(e))?this.port=null:this.parse(e,$N))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+rN(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,QN))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=BM(e))?this.query=null:("?"==tN(e,0)&&(e=sN(e,1)),this.query="",this.parse(e,nL)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=BM(e))?("#"==tN(e,0)&&(e=sN(e,1)),this.fragment="",this.parse(e,rL)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var oL=function(e){var t=AM(this,aL),n=HM(arguments.length,1)>1?arguments[1]:void 0,r=KM(t,new iL(e,!1,n));PM||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},aL=oL.prototype,lL=function(e,t){return{get:function(){return YM(this)[e]()},set:t&&function(e){return YM(this)[t](e)},configurable:!0,enumerable:!0}};if(PM&&(RM(aL,"href",lL("serialize","setHref")),RM(aL,"origin",lL("getOrigin")),RM(aL,"protocol",lL("getProtocol","setProtocol")),RM(aL,"username",lL("getUsername","setUsername")),RM(aL,"password",lL("getPassword","setPassword")),RM(aL,"host",lL("getHost","setHost")),RM(aL,"hostname",lL("getHostname","setHostname")),RM(aL,"port",lL("getPort","setPort")),RM(aL,"pathname",lL("getPathname","setPathname")),RM(aL,"search",lL("getSearch","setSearch")),RM(aL,"searchParams",lL("getSearchParams")),RM(aL,"hash",lL("getHash","setHash"))),jM(aL,"toJSON",(function(){return YM(this).serialize()}),{enumerable:!0}),jM(aL,"toString",(function(){return YM(this).serialize()}),{enumerable:!0}),JM){var uL=JM.createObjectURL,cL=JM.revokeObjectURL;uL&&jM(oL,"createObjectURL",IM(uL,JM)),cL&&jM(oL,"revokeObjectURL",IM(cL,JM))}UM(oL,"URL"),xM({global:!0,constructor:!0,forced:!EM,sham:!PM},{URL:oL});var sL,dL,fL=new Blob(["class VolumeMeter extends AudioWorkletProcessor{constructor(){super();this.volume=0;this.intervalTime=200;this.tick=this.intervalTime;this.isStop=false;this.port.onmessage=event=>{const{data}=event;switch(data.name){case'setIntervalTime':this.intervalTime=data.intervalTime;break;case'stop':this.isStop=true;break}}}process(inputs){const input=inputs[0];if(this.isStop){return false}if(input.length>0){const firstChannel=input[0];let sum=0;let rms;for(let i=0;i<firstChannel.length;++i){sum+=firstChannel[i]*firstChannel[i]}rms=Math.sqrt(sum/firstChannel.length);this.volume=Math.max(rms,this.volume*0.95);this.tick-=firstChannel.length;if(this.tick<0){this.tick+=(this.intervalTime/1000)*sampleRate;this.port.postMessage({volume:this.volume})}}return true}}registerProcessor('volume-meter',VolumeMeter);"],{type:"application/javascript"}),pL=!1,vL=function(){function e(t){l(this,e),this.context_=t.context,this.addModuleToContext()}var t;return c(e,[{key:"addModuleToContext",value:(t=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.context_.audioWorklet.addModule(URL.createObjectURL(fL));case 3:Tj.info("worklet addModule success"),DD.emit(Sj),pL=!0,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Tj.info("worklet addModule catch error. ".concat(e.t0.message)),DD.emit(Oj);case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return t.apply(this,arguments)})},{key:"initWorkletSuccess",get:function(){return pL}}]),e}(),hL=function(){function e(t){l(this,e);var n=t.track,r=t.log,i=t.stream;this.volume_=0,this.log_=r,this.track_=n,this.stream_=i,sL||(sL=new window.AudioContext),this.audioCtx_=sL,this.destination_=this.audioCtx_.destination;var o=new MediaStream;o.addTrack(this.track_),this.streamSource_=this.audioCtx_.createMediaStreamSource(o),this.audioWorkletNode_=null,this.scriptProcessorNode_=null,this.interval_=200,DD.on(wj,this.resume,this),DD.on(GD,this.handleAudioLevelInterval,this),kD?(DD.on(Sj,this.initAudioWorklet,this),DD.on(Oj,this.initScriptProcessor,this),this.preload()):this.initScriptProcessor()}return c(e,[{key:"preload",value:function(){dL?dL.initWorkletSuccess&&this.initAudioWorklet():dL=new vL({context:sL})}},{key:"initAudioWorklet",value:function(){var e=this;if(!this.audioWorkletNode_)try{this.audioWorkletNode_=new AudioWorkletNode(this.audioCtx_,"volume-meter"),this.audioWorkletNode_.port.onmessage=function(t){e.volume_=t.data.volume||0},this.streamSource_.connect(this.audioWorkletNode_).connect(this.destination_),this.handleAudioLevelInterval({interval:this.interval_}),vA.logSuccessEvent({userId:this.stream_.getUserId(),eventType:eE})}catch(aY){vA.logFailedEvent({userId:this.stream_.getUserId(),eventType:eE}),this.initScriptProcessor()}}},{key:"initScriptProcessor",value:function(){var e=this;if(!this.scriptProcessorNode_)try{this.scriptProcessorNode_=this.audioCtx_.createScriptProcessor(2048,1,1),this.scriptProcessorNode_.onaudioprocess=function(t){for(var n=t.inputBuffer.getChannelData(0),r=0,i=0;i<n.length;++i)r+=n[i]*n[i];e.volume_=Math.sqrt(r/n.length)||0},this.streamSource_.connect(this.scriptProcessorNode_),this.scriptProcessorNode_.connect(this.destination_)}catch(aY){this.log_.error("volumeMeter init script processor error: "+aY)}}},{key:"destroy",value:function(){this.streamSource_&&this.streamSource_.disconnect(),this.scriptProcessorNode_&&(this.scriptProcessorNode_.onaudioprocess=null,this.scriptProcessorNode_.disconnect()),this.audioWorkletNode_&&(this.audioWorkletNode_.port.postMessage({name:"stop"}),this.audioWorkletNode_.port.onmessage=null,this.audioWorkletNode_.disconnect()),this.audioWorkletNode_=null,this.scriptProcessorNode_=null,this.audioCtx_=null,DD.off(wj,this.resume,this),DD.off(GD,this.handleAudioLevelInterval,this),DD.off(Sj,this.initAudioWorklet,this),DD.off(Oj,this.initScriptProcessor,this)}},{key:"resume",value:function(){var e;null===(e=sL)||void 0===e||e.resume()}},{key:"getInternalAudioLevel",value:function(){return this.volume_}},{key:"getCalculatedVolume",value:function(){return this.volume_.toFixed(2)}},{key:"handleAudioLevelInterval",value:function(e){var t,n=e.interval;this.interval_=n,null===(t=this.audioWorkletNode_)||void 0===t||t.port.postMessage({name:"setIntervalTime",intervalTime:n})}}]),e}(),mL=function(){function e(t){l(this,e),this.stream_=t.stream,this.userId_=t.stream.getUserId(),this.log_=this.stream_.getLogger(),this.track_=t.track,t.gainedTrack&&(this.gainedTrack_=t.gainedTrack),this.div_=t.div,this.muted_=t.muted,this.outputDeviceId_=t.outputDeviceId,this.volume_=t.volume,this.pausedRetryCount_=5,this.emitter_=new ID,this.initializeElement(),this.state_="NONE",this.volumeMeter_=new hL({stream:this.stream_,track:this.gainedTrack_||this.track_,log:this.log_})}var t,n,i,o;return c(e,[{key:"isPlaying",get:function(){return this.state_===zx}},{key:"initializeElement",value:function(){if(this.isAudioElementInit()){var e=new MediaStream;e.addTrack(this.gainedTrack_||this.track_);var t=document.createElement(_x);t.srcObject=e,t.muted=this.muted_,t.setAttribute("id","audio_".concat(this.stream_.getId())),t.setAttribute("autoplay","autoplay"),t.setAttribute("playsinline","playsinline"),this.div_.appendChild(t),this.element_=t}this.handleEvents()}},{key:"setMuted",value:function(e){this.element_&&(this.element_.muted=e,this.muted_=e)}},{key:"play",value:(o=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.outputDeviceId_||!this.element_){e.next=3;break}return e.next=3,this.element_.setSinkId(this.outputDeviceId_);case 3:if(this.setVolume(this.volume_),e.prev=4,!this.element_){e.next=8;break}return e.next=8,this.element_.play();case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(4),this.log_.warn("<audio> play() error: "+e.t0),!(t=e.t0.toString()+" <audio>").startsWith("NotAllowedError")){e.next=16;break}throw new CR({code:kR.PLAY_NOT_ALLOWED,message:t});case 16:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(){return o.apply(this,arguments)})},{key:"handleEvents",value:function(){this.handleElementEvent=this.handleElementEvent.bind(this),this.handleTrackEvent=this.handleTrackEvent.bind(this),this.element_&&(this.element_.addEventListener(Tx,this.handleElementEvent),this.element_.addEventListener(Ex,this.handleElementEvent),this.element_.addEventListener(Ix,this.handleElementEvent),this.element_.addEventListener(Dx,this.handleElementEvent)),this.track_.addEventListener(Ex,this.handleTrackEvent),this.track_.addEventListener(xx,this.handleTrackEvent),this.track_.addEventListener(Px,this.handleTrackEvent),this.track_.readyState===Ex&&this.handleTrackEvent({type:Ex}),this.track_.muted&&this.handleTrackEvent({type:xx})}},{key:"handleElementEvent",value:(i=a(r().mark((function e(t){var n,i,o,a,l,u,c,s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.type,e.t0=n,e.next=e.t0===Tx?4:e.t0===Ex?9:e.t0===Ix?12:e.t0===Dx?21:32;break;case 4:return this.log_.info("stream - audio player is starting playing"),this.state_=zx,DD.emit(XD,{stream:this.stream_}),this.emitter_.emit(SF,{state:this.state_,reason:Tx}),e.abrupt("break",32);case 9:return this.log_.info("stream - audio player is ended"),this.state_!==Kx&&(this.state_=Kx,this.emitter_.emit(SF,{state:this.state_,reason:Ex})),e.abrupt("break",32);case 12:return this.log_.info("stream - audio player is paused"),this.state_=Zx,this.emitter_.emit(SF,{state:this.state_,reason:Ix}),(i=this.div_&&document.getElementById(this.div_.id))||this.log_.warn("audio container is not in DOM"),o=rx(),this.pausedRetryCount_>0&&(dD(o)&&o<=70||!i)&&(this.resume(),this.pausedRetryCount_--),pC&&(this.interval_=AA.setInterval((function(){s.element_&&s.state_===Zx&&s.resume()}),3e3)),e.abrupt("break",32);case 21:if(!this.element_||!this.element_.error){e.next=31;break}return a="".concat(uF(),"/").concat(yx().name,"/").concat(yx().version),e.next=25,oY.getSpeakers();case 25:l=e.sent,u=l[0].label,(c=l.find((function(e){return e.deviceId===s.outputDeviceId_})))&&(u=c.label),this.log_.error("stream - audio player error observed. code: ".concat(this.element_.error.code," message: ").concat(this.element_.error.message," deviceInfo: ").concat(a," speaker: ").concat(u)),vA.uploadEvent("stat-".concat(this.stream_.getType(),"-audio-").concat(XP,"-").concat(this.element_.error.code,"-").concat(a,"-").concat(u),this.element_.error);case 31:return e.abrupt("break",32);case 32:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"handleTrackEvent",value:function(e){var t=e.type;switch(t){case Ex:this.log_.info("stream - audio player track is ended"),this.state_!==Kx&&(this.state_=Kx,this.emitter_.emit(SF,{state:this.state_,reason:Ex})),DD.emit(gj,{stream:this.stream_,type:t});break;case xx:this.log_.info("stream - audio track is unable to provide media output"),this.stream_.isRemote()||SD(),this.state_!==Zx&&(this.state_=Zx,this.emitter_.emit(SF,{state:this.state_,reason:xx})),DD.emit(mj,{stream:this.stream_,type:t});break;case Px:this.log_.info("stream - audio track is able to provide media output"),this.state_===Zx&&(this.state_=zx,this.emitter_.emit(SF,{state:this.state_,reason:Px}))}}},{key:"unbindEvents",value:function(){this.element_&&(this.element_.removeEventListener(Tx,this.handleElementEvent),this.element_.removeEventListener(Ex,this.handleElementEvent),this.element_.removeEventListener(Ix,this.handleElementEvent),this.element_.removeEventListener(Dx,this.handleElementEvent)),this.track_&&(this.track_.removeEventListener(Ex,this.handleTrackEvent),this.track_.removeEventListener(xx,this.handleTrackEvent),this.track_.removeEventListener(Px,this.handleTrackEvent))}},{key:"setSinkId",value:(n=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.outputDeviceId_===t){e.next=5;break}if(!this.element_){e.next=4;break}return e.next=4,this.element_.setSinkId(t);case 4:this.outputDeviceId_=t;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setVolume",value:function(e){this.element_&&(this.log_.info("stream - audioElement setVolume to : ".concat(e)),this.element_.volume=e)}},{key:"getAudioLevel",value:function(){return this.volumeMeter_.getCalculatedVolume()}},{key:"getInternalAudioLevel",value:function(){return this.volumeMeter_.getInternalAudioLevel()}},{key:"stop",value:function(){this.unbindEvents(),this.element_&&(this.div_.removeChild(this.element_),this.element_.srcObject=null,this.element_=null),this.volumeMeter_&&(this.volumeMeter_.destroy(),this.volumeMeter_=null),AA.clearInterval(this.interval_)}},{key:"resume",value:(t=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.volumeMeter_&&this.volumeMeter_.resume(),!this.element_){e.next=5;break}return e.next=5,this.element_.play();case 5:e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(0),this.log_.warn("<audio> play() error: "+e.t0),!(t=eD({key:dT,data:{error:e.t0}})).startsWith("NotAllowedError")){e.next=13;break}throw new CR({code:kR.PLAY_NOT_ALLOWED,message:t});case 13:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return t.apply(this,arguments)})},{key:"on",value:function(e,t){this.emitter_.on(e,t)}},{key:"isAudioElementInit",value:function(){return!("15.2"===dx||"15.3"===dx||"15.4"===dx)||"local"!==this.stream_.getType()||!this.muted_||(this.log_.info("audioElement is muted."),!1)}}]),e}(),gL="trtc_autoplay",yL="".concat(gL,"_mask"),bL="".concat(gL,"_wrapper"),_L="".concat(gL,"_header"),wL="".concat(gL,"_content"),SL="".concat(gL,"_action_wrapper"),OL="".concat(gL,"_question"),kL="".concat(gL,"_collapse"),CL="".concat(gL,"_action_confirm"),xL="".concat(gL,"_detail"),PL="#2473E8",EL="dialog",TL="".concat(EL,"-show"),IL="".concat(EL,"-1"),DL="".concat(EL,"-2"),jL=!1,RL=function(){return!!document.querySelector(".".concat(bL))},AL="".concat(AE,"/").concat(wD()?"zh-cn":"en","/tutorial-21-advanced-auto-play-policy.html"),FL="<br><a href='".concat(AL,"' target='_blank'>").concat(wD()?"其他方案？":"Any other solution?","</a>"),ML="".concat(wD()?"浏览器自动播放策略：在用户与页面产生交互（点击、触摸）之前，浏览器禁止播放有声媒体。该弹窗用于帮助用户恢复音视频播放。".concat(FL):"Autoplay Policy: Before user interacts with the web page (clicking, touching), page will not be allowed to play media with sound. This Dialog is used to help users resume playback. ".concat(FL)),NL=function(){function e(){if(l(this,e),this.dialogNode_=null,this.bodyPosition_="",this.content="音视频播放被浏览器拦截，请点击“恢复播放”。",wD()||(this.content='Media playback failed. Click the "Resume" to resume playback.'),!jL){var t=document.createElement("style");t.innerHTML=".".concat(yL,"{position:fixed;top:0;left:0;right:0;bottom:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.5);z-index:1500;}.").concat(yL," div:not(.").concat(SL,"){display:block !important;}.").concat(bL,"{padding:14px;background:#fff;border-radius:3px;box-shadow:0px 3px 15px #434343;border:1px solid #d1cfcf;max-width:500px;}.").concat(bL," a{color:").concat(PL,";}.").concat(_L,"{overflow:hidden;text-overflow:ellipsis;font-size:16px;font-weight:600;}.").concat(wL,"{margin:8px 0;}.").concat(SL,"{width:100%;display:flex !important;align-items:center;justify-content:right;float:right;}.").concat(kL,"{margin-right:auto;cursor:pointer}.").concat(OL,"{height:100%;line-height:16px;cursor:pointer;}.").concat(CL,"{margin-left:8px;color:#fff;background:").concat(PL,";padding:4px 12px;outline:none;border:1px solid;border-radius:3px;font-weight:bold;}.").concat(CL,":hover{opacity:0.9;}.").concat(kL,",.").concat(CL,",.").concat(wL,",.").concat(OL,"{font-size:14px;}@media screen and (max-width:750px){.").concat(bL,"{width:80vw;}}"),document.head.appendChild(t),jL=!0}this.showDetail_=!1,this.isCollapseClicked_=!1,this.isQuestionClicked_=!1,this.addDiaLog()}return c(e,[{key:"createDiaLog",value:function(){var e=document.createElement("template");e.innerHTML='<div class="'.concat(yL,"\"><div class='").concat(bL,"'><div class='").concat(_L,"'>").concat(location.host,"</div><div class='").concat(wL,"'>").concat(this.content,"</div><div class='").concat(xL,'\' style="visibility:hidden;width:100%;height:0;font-size:12px;color:gray;">').concat(ML,"</div><div class='").concat(SL,"'></div></div></div>").trim();var t=document.createElement("button");t.className=CL,t.innerText=wD()?"恢复播放":"Resume",t.onclick=this.onConfirm.bind(this);var n=document.createElement("div");n.className=OL,n.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n    <svg class="icon" width="18" height="18" p-id="2030" t="1639646523624" version="1.1" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">\n    <path d="m464 784.35c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z" p-id="2031"/>\n    <path d="m512 960c-247.04 0-448-200.96-448-448s200.96-448 448-448 448 200.96 448 448-200.96 448-448 448zm0-831.71c-211.58 0-383.71 172.13-383.71 383.71 0 211.55 172.13 383.71 383.71 383.71 211.55 0 383.71-172.16 383.71-383.71 0-211.58-172.16-383.71-383.71-383.71z" p-id="2032"/>\n    <path d="m512 673.7c-17.665 0-32.001-14.336-32.001-31.999v-54.112c0-52.353 40-92.352 75.328-127.65 25.887-25.92 52.672-52.672 52.672-74.017 0-53.343-43.072-96.735-95.999-96.735-53.823 0-95.999 41.536-95.999 94.559 0 17.665-14.336 31.999-32.001 31.999s-32.001-14.336-32.001-31.999c0-87.424 71.775-158.56 160-158.56s160 72.095 160 160.74c0 47.904-36.32 84.192-71.424 119.3-27.84 27.776-56.576 56.512-56.576 82.336v54.112c0 17.665-14.336 32.032-32.001 32.032z" p-id="2033"/>\n    </svg>\n    ',n.onclick=this.onQuestionClick.bind(this);var r=document.createElement("div");r.className=kL,r.innerText="".concat(wD()?"详情 >":"Detail >"),r.onclick=this.onCollapseClick.bind(this);var i=e.content.firstChild,o=i.querySelector(".".concat(SL));return o.appendChild(r),o.appendChild(n),o.appendChild(t),i}},{key:"addDiaLog",value:function(){RL()||(this.dialogNode_=this.createDiaLog(),document.body.appendChild(this.dialogNode_),this.dialogNode_.onclick=this.onConfirm.bind(this),this.dialogNode_.querySelector(".".concat(bL)).onclick=function(e){return e.stopPropagation()},this.bodyPosition_=document.body.style.position,document.body.style.position="fixed",Tj.warn("show autoplay dialog"),vA.uploadEvent({log:TL}))}},{key:"deleteDiaLog",value:function(){this.dialogNode_&&(document.body.removeChild(this.dialogNode_),document.body.style.position=this.bodyPosition_,this.dialogNode_=null)}},{key:"onConfirm",value:function(){Tj.warn("confirm clicked, try resume stream"),DD.emit(wj),this.deleteDiaLog()}},{key:"onCollapseClick",value:function(){var e=this.dialogNode_.querySelector(".".concat(xL));e.style.visibility="".concat(this.showDetail_?"hidden":"visible"),e.style.height="".concat(this.showDetail_?0:"fit-content"),this.showDetail_=!this.showDetail_,this.isCollapseClicked_||vA.uploadEvent({log:IL}),this.isCollapseClicked_=!0}},{key:"onQuestionClick",value:function(){window.open(AL,"_blank"),this.isQuestionClicked_||vA.uploadEvent({log:DL}),this.isQuestionClicked_=!0}}]),e}(),LL=function(){function e(t){l(this,e),this.stream_=t.stream,this.userId_=t.stream.getUserId(),this.log_=this.stream_.getLogger(),this.track_=t.track,this.div_=t.div,this.muted_=t.muted,this.objectFit_=t.objectFit,this.mirror_=t.mirror,this.emitter_=new ID,this.initializeElement(),this.state_="NONE",this.pausedRetryCount_=5}var t,n;return c(e,[{key:"isPlaying",get:function(){return this.state_===zx}},{key:"initializeElement",value:function(){var e=new MediaStream;e.addTrack(this.track_);var t=document.createElement(wx);t.srcObject=e,t.muted=!0;var n="width: 100%; height: 100%; object-fit: ".concat(this.objectFit_,";");this.mirror_&&(n+="transform: scaleX(-1);"),t.setAttribute("id","video_".concat(this.stream_.getId())),t.setAttribute("style",n),t.setAttribute("autoplay","autoplay"),t.setAttribute("playsinline","playsinline"),this.div_&&this.div_.appendChild(t),this.element_=t,this.handleEvents()}},{key:"setRect",value:function(e){var t=e.width,n=e.height;this.element_&&(this.element_.style.width=t+"px",this.element_.style.height=n+"px")}},{key:"setMirror",value:function(e){this.element_&&(this.element_.style.transform=e?"scaleX(-1)":"",this.mirror_=e)}},{key:"setObjectFit",value:function(e){this.element_&&(this.element_.style.objectFit="".concat(e),this.objectFit_=e)}},{key:"play",value:(n=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.element_.play();case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),this.log_.warn("<video> play() error: "+e.t0),!(t=e.t0.toString()+" <video>").startsWith("NotAllowedError")){e.next=11;break}throw new CR({code:kR.PLAY_NOT_ALLOWED,message:t});case 11:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})},{key:"handleEvents",value:function(){this.handleElementEvent=this.handleElementEvent.bind(this),this.handleTrackEvent=this.handleTrackEvent.bind(this),this.element_.addEventListener(Tx,this.handleElementEvent),this.element_.addEventListener(Ex,this.handleElementEvent),this.element_.addEventListener(Ix,this.handleElementEvent),this.element_.addEventListener(Dx,this.handleElementEvent),this.element_.addEventListener(jx,this.handleElementEvent),this.track_.addEventListener(Ex,this.handleTrackEvent),this.track_.addEventListener(xx,this.handleTrackEvent),this.track_.addEventListener(Px,this.handleTrackEvent),this.track_.readyState===Ex&&this.handleTrackEvent({type:Ex}),this.track_.muted&&this.handleTrackEvent({type:xx})}},{key:"handleElementEvent",value:function(e){var t=this;switch(e.type){case Tx:this.log_.info("stream - video player is starting playing"),this.state_=zx,DD.emit(qD,{stream:this.stream_}),this.emitter_.emit(SF,{state:this.state_,reason:Tx}),this.interval_&&(AA.clearInterval(this.interval_),this.interval_=null);break;case Ex:this.log_.info("stream - video player is ended"),this.state_!==Kx&&(this.state_=Kx,this.emitter_.emit(SF,{state:this.state_,reason:Ex}));break;case Ix:this.log_.info("stream - video player is paused"),this.div_&&!document.getElementById(this.div_.id)&&this.log_.warn("video container is not in DOM"),this.state_=Zx,this.emitter_.emit(SF,{state:this.state_,reason:Ix}),this.pausedRetryCount_>0&&!RL()&&(this.log_.info("auto resume when video paused"),this.resume(),this.pausedRetryCount_--),pC&&(this.interval_=AA.setInterval((function(){t.element_&&t.state_===Zx&&t.resume()}),3e3));break;case Dx:if(this.element_&&this.element_.error){var n="".concat(uF(),"/").concat(yx().name,"/").concat(yx().version);this.log_.error("stream - video player error observed. code: ".concat(this.element_.error.code," message: ").concat(this.element_.error.message," deviceInfo: ").concat(n)),vA.uploadEvent("stat-".concat(this.stream_.getType(),"-video-").concat(XP,"-").concat(this.element_.error.code,"-").concat(n),this.element_.error)}break;case jx:DD.emit(pj,{stream:this.stream_})}}},{key:"handleTrackEvent",value:function(e){var t=e.type;switch(t){case Ex:this.log_.info("stream - video player track is ended"),DD.emit(hj,{stream:this.stream_,type:t}),this.state_!==Kx&&(this.state_=Kx,this.emitter_.emit(SF,{state:this.state_,reason:Ex}));break;case xx:this.log_.info("stream - video track is unable to provide media output"),this.stream_.isRemote()||SD(),DD.emit(sj,{stream:this.stream_,type:t}),this.state_!==Zx&&(this.state_=Zx,this.emitter_.emit(SF,{state:this.state_,reason:xx}));break;case Px:this.log_.info("stream - video track is able to provide media output"),DD.emit(dj,{stream:this.stream_}),this.state_===Zx&&(this.state_=zx,this.emitter_.emit(SF,{state:this.state_,reason:Px}))}}},{key:"unbindEvents",value:function(){this.element_&&(this.element_.removeEventListener(Tx,this.handleElementEvent),this.element_.removeEventListener(Ex,this.handleElementEvent),this.element_.removeEventListener(Ix,this.handleElementEvent),this.element_.removeEventListener(Dx,this.handleElementEvent),this.element_.removeEventListener(jx,this.handleElementEvent)),this.track_&&(this.track_.removeEventListener(Ex,this.handleTrackEvent),this.track_.removeEventListener(xx,this.handleTrackEvent),this.track_.removeEventListener(Px,this.handleTrackEvent))}},{key:"stop",value:function(){this.unbindEvents(),this.div_&&this.div_.removeChild(this.element_),this.element_.srcObject=null,this.element_=null,AA.clearInterval(this.interval_)}},{key:"resume",value:(t=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.element_.play();case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),this.log_.warn("<video> play() error: "+e.t0),!(t=eD({key:fT,data:{error:e.t0}})).startsWith("NotAllowedError")){e.next=11;break}throw new CR({code:kR.PLAY_NOT_ALLOWED,message:t});case 11:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return t.apply(this,arguments)})},{key:"getVideoFrame",value:function(){var e=document.createElement("canvas");return e.width=this.element_.videoWidth,e.height=this.element_.videoHeight,e.getContext("2d").drawImage(this.element_,0,0),e.toDataURL("image/png")}},{key:"on",value:function(e,t){this.emitter_.on(e,t)}},{key:"getElement",value:function(){return this.element_?this.element_:null}}]),e}(),WL="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,VL=Pr,BL=Ar,UL=RangeError,HL=function(e){if(void 0===e)return 0;var t=VL(e),n=BL(t);if(t!==n)throw UL("Wrong length or index");return n},zL=Array,ZL=Math.abs,KL=Math.pow,YL=Math.floor,GL=Math.log,$L=Math.LN2,JL={pack:function(e,t,n){var r,i,o,a=zL(n),l=8*n-t-1,u=(1<<l)-1,c=u>>1,s=23===t?KL(2,-24)-KL(2,-77):0,d=e<0||0===e&&1/e<0?1:0,f=0;for((e=ZL(e))!=e||1/0===e?(i=e!=e?1:0,r=u):(r=YL(GL(e)/$L),e*(o=KL(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?s/o:s*KL(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*KL(2,t),r+=c):(i=e*KL(2,c-1)*KL(2,t),r=0));t>=8;)a[f++]=255&i,i/=256,t-=8;for(r=r<<t|i,l+=t;l>0;)a[f++]=255&r,r/=256,l-=8;return a[--f]|=128*d,a},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,l=i-7,u=r-1,c=e[u--],s=127&c;for(c>>=7;l>0;)s=256*s+e[u--],l-=8;for(n=s&(1<<-l)-1,s>>=-l,l+=t;l>0;)n=256*n+e[u--],l-=8;if(0===s)s=1-a;else{if(s===o)return n?NaN:c?-1/0:1/0;n+=KL(2,t),s-=a}return(c?-1:1)*n*KL(2,s-t)}},qL=lt,XL=Dr,QL=Mr,eW=function(e){for(var t=qL(this),n=QL(t),r=arguments.length,i=XL(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:XL(o,n);a>i;)t[i++]=e;return t},tW=T,nW=$,rW=j,iW=WL,oW=xn,aW=bn,lW=ud,uW=D,cW=Fs,sW=Pr,dW=Ar,fW=HL,pW=JL,vW=iu,hW=Du,mW=Or.f,gW=Qt.f,yW=eW,bW=Oc,_W=gu,wW=oW.PROPER,SW=oW.CONFIGURABLE,OW=or.get,kW=or.set,CW="ArrayBuffer",xW="DataView",PW="Wrong index",EW=tW.ArrayBuffer,TW=EW,IW=TW&&TW.prototype,DW=tW.DataView,jW=DW&&DW.prototype,RW=Object.prototype,AW=tW.Array,FW=tW.RangeError,MW=nW(yW),NW=nW([].reverse),LW=pW.pack,WW=pW.unpack,VW=function(e){return[255&e]},BW=function(e){return[255&e,e>>8&255]},UW=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},HW=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},zW=function(e){return LW(e,23,4)},ZW=function(e){return LW(e,52,8)},KW=function(e,t){gW(e.prototype,t,{get:function(){return OW(this)[t]}})},YW=function(e,t,n,r){var i=fW(n),o=OW(e);if(i+t>o.byteLength)throw FW(PW);var a=OW(o.buffer).bytes,l=i+o.byteOffset,u=bW(a,l,l+t);return r?u:NW(u)},GW=function(e,t,n,r,i,o){var a=fW(n),l=OW(e);if(a+t>l.byteLength)throw FW(PW);for(var u=OW(l.buffer).bytes,c=a+l.byteOffset,s=r(+i),d=0;d<t;d++)u[c+d]=s[o?d:t-d-1]};if(iW){var $W=wW&&EW.name!==CW;if(uW((function(){EW(1)}))&&uW((function(){new EW(-1)}))&&!uW((function(){return new EW,new EW(1.5),new EW(NaN),1!=EW.length||$W&&!SW})))$W&&SW&&aW(EW,"name",CW);else{(TW=function(e){return cW(this,IW),new EW(fW(e))}).prototype=IW;for(var JW,qW=mW(EW),XW=0;qW.length>XW;)(JW=qW[XW++])in TW||aW(TW,JW,EW[JW]);IW.constructor=TW}hW&&vW(jW)!==RW&&hW(jW,RW);var QW=new DW(new TW(2)),eV=nW(jW.setInt8);QW.setInt8(0,2147483648),QW.setInt8(1,2147483649),!QW.getInt8(0)&&QW.getInt8(1)||lW(jW,{setInt8:function(e,t){eV(this,e,t<<24>>24)},setUint8:function(e,t){eV(this,e,t<<24>>24)}},{unsafe:!0})}else IW=(TW=function(e){cW(this,IW);var t=fW(e);kW(this,{bytes:MW(AW(t),0),byteLength:t}),rW||(this.byteLength=t)}).prototype,DW=function(e,t,n){cW(this,jW),cW(e,IW);var r=OW(e).byteLength,i=sW(t);if(i<0||i>r)throw FW("Wrong offset");if(i+(n=void 0===n?r-i:dW(n))>r)throw FW("Wrong length");kW(this,{buffer:e,byteLength:n,byteOffset:i}),rW||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},jW=DW.prototype,rW&&(KW(TW,"byteLength"),KW(DW,"buffer"),KW(DW,"byteLength"),KW(DW,"byteOffset")),lW(jW,{getInt8:function(e){return YW(this,1,e)[0]<<24>>24},getUint8:function(e){return YW(this,1,e)[0]},getInt16:function(e){var t=YW(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=YW(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return HW(YW(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return HW(YW(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return WW(YW(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return WW(YW(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){GW(this,1,e,VW,t)},setUint8:function(e,t){GW(this,1,e,VW,t)},setInt16:function(e,t){GW(this,2,e,BW,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){GW(this,2,e,BW,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){GW(this,4,e,UW,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){GW(this,4,e,UW,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){GW(this,4,e,zW,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){GW(this,8,e,ZW,t,arguments.length>2?arguments[2]:void 0)}});_W(TW,CW),_W(DW,xW);var tV={ArrayBuffer:TW,DataView:DW},nV=ki,rV=$,iV=D,oV=on,aV=Dr,lV=Ar,uV=Ev,cV=tV.ArrayBuffer,sV=tV.DataView,dV=sV.prototype,fV=rV(cV.prototype.slice),pV=rV(dV.getUint8),vV=rV(dV.setUint8);nV({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:iV((function(){return!new cV(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(fV&&void 0===t)return fV(oV(this),e);for(var n=oV(this).byteLength,r=aV(e,n),i=aV(void 0===t?n:t,n),o=new(uV(this,cV))(lV(i-r)),a=new sV(this),l=new sV(o),u=0;r<i;)vV(l,u++,pV(a,r++));return o}}),ki({global:!0,constructor:!0,forced:!WL},{DataView:tV.DataView});var hV=ki,mV=Ii,gV=$([].reverse),yV=[1,2];hV({target:"Array",proto:!0,forced:String(yV)===String(yV.reverse())},{reverse:function(){return mV(this)&&(this.length=this.length),gV(this)}});var bV=pd,_V="ArrayBuffer",wV=tV.ArrayBuffer;ki({global:!0,constructor:!0,forced:T.ArrayBuffer!==wV},{ArrayBuffer:wV}),bV(_V);var SV,OV,kV,CV={exports:{}},xV=WL,PV=j,EV=T,TV=fe,IV=he,DV=st,jV=Wi,RV=We,AV=bn,FV=Sr,MV=Qt.f,NV=_e,LV=iu,WV=Du,VV=xt,BV=ht,UV=or.enforce,HV=or.get,zV=EV.Int8Array,ZV=zV&&zV.prototype,KV=EV.Uint8ClampedArray,YV=KV&&KV.prototype,GV=zV&&LV(zV),$V=ZV&&LV(ZV),JV=Object.prototype,qV=EV.TypeError,XV=VV("toStringTag"),QV=BV("TYPED_ARRAY_TAG"),eB="TypedArrayConstructor",tB=xV&&!!WV&&"Opera"!==jV(EV.opera),nB=!1,rB={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},iB={BigInt64Array:8,BigUint64Array:8},oB=function(e){var t=LV(e);if(IV(t)){var n=HV(t);return n&&DV(n,eB)?n.TypedArrayConstructor:oB(t)}},aB=function(e){if(!IV(e))return!1;var t=jV(e);return DV(rB,t)||DV(iB,t)};for(SV in rB)(kV=(OV=EV[SV])&&OV.prototype)?UV(kV).TypedArrayConstructor=OV:tB=!1;for(SV in iB)(kV=(OV=EV[SV])&&OV.prototype)&&(UV(kV).TypedArrayConstructor=OV);if((!tB||!TV(GV)||GV===Function.prototype)&&(GV=function(){throw qV("Incorrect invocation")},tB))for(SV in rB)EV[SV]&&WV(EV[SV],GV);if((!tB||!$V||$V===JV)&&($V=GV.prototype,tB))for(SV in rB)EV[SV]&&WV(EV[SV].prototype,$V);if(tB&&LV(YV)!==$V&&WV(YV,$V),PV&&!DV($V,XV))for(SV in nB=!0,MV($V,XV,{get:function(){return IV(this)?this[QV]:void 0}}),rB)EV[SV]&&AV(EV[SV],QV,SV);var lB={NATIVE_ARRAY_BUFFER_VIEWS:tB,TYPED_ARRAY_TAG:nB&&QV,aTypedArray:function(e){if(aB(e))return e;throw qV("Target is not a typed array")},aTypedArrayConstructor:function(e){if(TV(e)&&(!WV||NV(GV,e)))return e;throw qV(RV(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(PV){if(n)for(var i in rB){var o=EV[i];if(o&&DV(o.prototype,e))try{delete o.prototype[e]}catch(aY){try{o.prototype[e]=t}catch(l){}}}$V[e]&&!n||FV($V,e,n?t:tB&&ZV[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(PV){if(WV){if(n)for(r in rB)if((i=EV[r])&&DV(i,e))try{delete i[e]}catch(aY){}if(GV[e]&&!n)return;try{return FV(GV,e,n?t:tB&&GV[e]||t)}catch(aY){}}for(r in rB)!(i=EV[r])||i[e]&&!n||FV(i,e,t)}},getTypedArrayConstructor:oB,isView:function(e){if(!IV(e))return!1;var t=jV(e);return"DataView"===t||DV(rB,t)||DV(iB,t)},isTypedArray:aB,TypedArray:GV,TypedArrayPrototype:$V},uB=T,cB=D,sB=Vs,dB=lB.NATIVE_ARRAY_BUFFER_VIEWS,fB=uB.ArrayBuffer,pB=uB.Int8Array,vB=!dB||!cB((function(){pB(1)}))||!cB((function(){new pB(-1)}))||!sB((function(e){new pB,new pB(null),new pB(1.5),new pB(e)}),!0)||cB((function(){return 1!==new pB(new fB(2),1,void 0).length})),hB=Pr,mB=RangeError,gB=function(e){var t=hB(e);if(t<0)throw mB("The argument can't be less than 0");return t},yB=RangeError,bB=function(e,t){var n=gB(e);if(n%t)throw yB("Wrong offset");return n},_B=Wi,wB=$("".slice),SB=At,OB=TypeError,kB=function(e){var t=SB(e,"number");if("number"==typeof t)throw OB("Can't convert number to bigint");return BigInt(t)},CB=Ei,xB=M,PB=Ov,EB=lt,TB=Mr,IB=vs,DB=ls,jB=ts,RB=function(e){return"Big"===wB(_B(e),0,3)},AB=lB.aTypedArrayConstructor,FB=kB,MB=ki,NB=T,LB=M,WB=j,VB=vB,BB=lB,UB=tV,HB=Fs,zB=H,ZB=bn,KB=Rj,YB=Ar,GB=HL,$B=bB,JB=Nt,qB=st,XB=Wi,QB=he,eU=Ne,tU=ca,nU=_e,rU=Du,iU=Or.f,oU=function(e){var t,n,r,i,o,a,l,u,c=PB(this),s=EB(e),d=arguments.length,f=d>1?arguments[1]:void 0,p=void 0!==f,v=DB(s);if(v&&!jB(v))for(u=(l=IB(s,v)).next,s=[];!(a=xB(u,l)).done;)s.push(a.value);for(p&&d>2&&(f=CB(f,arguments[2])),n=TB(s),r=new(AB(c))(n),i=RB(r),t=0;n>t;t++)o=p?f(s[t],t):s[t],r[t]=i?FB(o):+o;return r},aU=ho.forEach,lU=pd,uU=Qt,cU=I,sU=zs,dU=or.get,fU=or.set,pU=or.enforce,vU=uU.f,hU=cU.f,mU=Math.round,gU=NB.RangeError,yU=UB.ArrayBuffer,bU=yU.prototype,_U=UB.DataView,wU=BB.NATIVE_ARRAY_BUFFER_VIEWS,SU=BB.TYPED_ARRAY_TAG,OU=BB.TypedArray,kU=BB.TypedArrayPrototype,CU=BB.aTypedArrayConstructor,xU=BB.isTypedArray,PU="BYTES_PER_ELEMENT",EU="Wrong length",TU=function(e,t){CU(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},IU=function(e,t){vU(e,t,{get:function(){return dU(this)[t]}})},DU=function(e){var t;return nU(bU,e)||"ArrayBuffer"==(t=XB(e))||"SharedArrayBuffer"==t},jU=function(e,t){return xU(e)&&!eU(t)&&t in e&&KB(+t)&&t>=0},RU=function(e,t){return t=JB(t),jU(e,t)?zB(2,e[t]):hU(e,t)},AU=function(e,t,n){return t=JB(t),!(jU(e,t)&&QB(n)&&qB(n,"value"))||qB(n,"get")||qB(n,"set")||n.configurable||qB(n,"writable")&&!n.writable||qB(n,"enumerable")&&!n.enumerable?vU(e,t,n):(e[t]=n.value,e)};WB?(wU||(cU.f=RU,uU.f=AU,IU(kU,"buffer"),IU(kU,"byteOffset"),IU(kU,"byteLength"),IU(kU,"length")),MB({target:"Object",stat:!0,forced:!wU},{getOwnPropertyDescriptor:RU,defineProperty:AU}),CV.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,i=e+(n?"Clamped":"")+"Array",o="get"+e,a="set"+e,l=NB[i],u=l,c=u&&u.prototype,s={},d=function(e,t){vU(e,t,{get:function(){return function(e,t){var n=dU(e);return n.view[o](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=dU(e);n&&(i=(i=mU(i))<0?0:i>255?255:255&i),o.view[a](t*r+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};wU?VB&&(u=t((function(e,t,n,i){return HB(e,c),sU(QB(t)?DU(t)?void 0!==i?new l(t,$B(n,r),i):void 0!==n?new l(t,$B(n,r)):new l(t):xU(t)?TU(u,t):LB(oU,u,t):new l(GB(t)),e,u)})),rU&&rU(u,OU),aU(iU(l),(function(e){e in u||ZB(u,e,l[e])})),u.prototype=c):(u=t((function(e,t,n,i){HB(e,c);var o,a,l,s=0,f=0;if(QB(t)){if(!DU(t))return xU(t)?TU(u,t):LB(oU,u,t);o=t,f=$B(n,r);var p=t.byteLength;if(void 0===i){if(p%r)throw gU(EU);if((a=p-f)<0)throw gU(EU)}else if((a=YB(i)*r)+f>p)throw gU(EU);l=a/r}else l=GB(t),o=new yU(a=l*r);for(fU(e,{buffer:o,byteOffset:f,byteLength:a,length:l,view:new _U(o)});s<l;)d(e,s++)})),rU&&rU(u,OU),c=u.prototype=tU(kU)),c.constructor!==u&&ZB(c,"constructor",u),pU(c).TypedArrayConstructor=u,SU&&ZB(c,SU,i);var f=u!=l;s[i]=u,MB({global:!0,constructor:!0,forced:f,sham:!wU},s),PU in u||ZB(u,PU,r),PU in c||ZB(c,PU,r),lU(i)}):CV.exports=function(){},(0,CV.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var FU=lt,MU=Dr,NU=Mr,LU=nv,WU=Math.min,VU=[].copyWithin||function(e,t){var n=FU(this),r=NU(n),i=MU(e,r),o=MU(t,r),a=arguments.length>2?arguments[2]:void 0,l=WU((void 0===a?r:MU(a,r))-o,r-i),u=1;for(o<i&&i<o+l&&(u=-1,o+=l-1,i+=l-1);l-- >0;)o in n?n[i]=n[o]:LU(n,i),i+=u,o+=u;return n},BU=lB,UU=$(VU),HU=BU.aTypedArray;(0,BU.exportTypedArrayMethod)("copyWithin",(function(e,t){return UU(HU(this),e,t,arguments.length>2?arguments[2]:void 0)}));var zU=ho.every,ZU=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("every",(function(e){return zU(ZU(this),e,arguments.length>1?arguments[1]:void 0)}));var KU=eW,YU=kB,GU=Wi,$U=M,JU=D,qU=lB.aTypedArray,XU=lB.exportTypedArrayMethod,QU=$("".slice);XU("fill",(function(e){var t=arguments.length;qU(this);var n="Big"===QU(GU(this),0,3)?YU(e):+e;return $U(KU,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),JU((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})));var eH=Mr,tH=Ev,nH=lB.aTypedArrayConstructor,rH=lB.getTypedArrayConstructor,iH=function(e){return nH(tH(e,rH(e)))},oH=function(e,t){for(var n=0,r=eH(t),i=new e(r);r>n;)i[n]=t[n++];return i},aH=iH,lH=ho.filter,uH=function(e,t){return oH(aH(e),t)},cH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("filter",(function(e){var t=lH(cH(this),e,arguments.length>1?arguments[1]:void 0);return uH(this,t)}));var sH=ho.find,dH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("find",(function(e){return sH(dH(this),e,arguments.length>1?arguments[1]:void 0)}));var fH=ho.findIndex,pH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("findIndex",(function(e){return fH(pH(this),e,arguments.length>1?arguments[1]:void 0)}));var vH=ho.forEach,hH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("forEach",(function(e){vH(hH(this),e,arguments.length>1?arguments[1]:void 0)}));var mH=Br.includes,gH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("includes",(function(e){return mH(gH(this),e,arguments.length>1?arguments[1]:void 0)}));var yH=Br.indexOf,bH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("indexOf",(function(e){return yH(bH(this),e,arguments.length>1?arguments[1]:void 0)}));var _H=T,wH=D,SH=$,OH=lB,kH=sc,CH=xt("iterator"),xH=_H.Uint8Array,PH=SH(kH.values),EH=SH(kH.keys),TH=SH(kH.entries),IH=OH.aTypedArray,DH=OH.exportTypedArrayMethod,jH=xH&&xH.prototype,RH=!wH((function(){jH[CH].call([1])})),AH=!!jH&&jH.values&&jH[CH]===jH.values&&"values"===jH.values.name,FH=function(){return PH(IH(this))};DH("entries",(function(){return TH(IH(this))}),RH),DH("keys",(function(){return EH(IH(this))}),RH),DH("values",FH,RH||!AH,{name:"values"}),DH(CH,FH,RH||!AH,{name:"values"});var MH=lB.aTypedArray,NH=lB.exportTypedArrayMethod,LH=$([].join);NH("join",(function(e){return LH(MH(this),e)}));var WH=Rv,VH=de,BH=Pr,UH=Mr,HH=ff,zH=Math.min,ZH=[].lastIndexOf,KH=!!ZH&&1/[1].lastIndexOf(1,-0)<0,YH=HH("lastIndexOf"),GH=KH||!YH?function(e){if(KH)return WH(ZH,this,arguments)||0;var t=VH(this),n=UH(t),r=n-1;for(arguments.length>1&&(r=zH(r,BH(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:ZH,$H=Rv,JH=GH,qH=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return $H(JH,qH(this),t>1?[e,arguments[1]]:[e])}));var XH=ho.map,QH=iH,ez=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("map",(function(e){return XH(ez(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(QH(e))(t)}))}));var tz=sf.left,nz=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return tz(nz(this),e,t,t>1?arguments[1]:void 0)}));var rz=sf.right,iz=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return rz(iz(this),e,t,t>1?arguments[1]:void 0)}));var oz=lB.aTypedArray,az=lB.exportTypedArrayMethod,lz=Math.floor;az("reverse",(function(){for(var e,t=this,n=oz(t).length,r=lz(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t}));var uz=T,cz=M,sz=lB,dz=Mr,fz=bB,pz=lt,vz=D,hz=uz.RangeError,mz=uz.Int8Array,gz=mz&&mz.prototype,yz=gz&&gz.set,bz=sz.aTypedArray,_z=sz.exportTypedArrayMethod,wz=!vz((function(){var e=new Uint8ClampedArray(2);return cz(yz,e,{length:1,0:3},1),3!==e[1]})),Sz=wz&&sz.NATIVE_ARRAY_BUFFER_VIEWS&&vz((function(){var e=new mz(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));_z("set",(function(e){bz(this);var t=fz(arguments.length>1?arguments[1]:void 0,1),n=pz(e);if(wz)return cz(yz,this,n,t);var r=this.length,i=dz(n),o=0;if(i+t>r)throw hz("Wrong length");for(;o<i;)this[t+o]=n[o++]}),!wz||Sz);var Oz=iH,kz=xp,Cz=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("slice",(function(e,t){for(var n=kz(Cz(this),e,t),r=Oz(this),i=0,o=n.length,a=new r(o);o>i;)a[i]=n[i++];return a}),D((function(){new Int8Array(1).slice()})));var xz=ho.some,Pz=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("some",(function(e){return xz(Pz(this),e,arguments.length>1?arguments[1]:void 0)}));var Ez=we.match(/firefox\/(\d+)/i),Tz=!!Ez&&+Ez[1],Iz=/MSIE|Trident/.test(we),Dz=we.match(/AppleWebKit\/(\d+)\./),jz=!!Dz&&+Dz[1],Rz=$,Az=D,Fz=He,Mz=CO,Nz=Tz,Lz=Iz,Wz=Ee,Vz=jz,Bz=lB.aTypedArray,Uz=lB.exportTypedArrayMethod,Hz=T.Uint16Array,zz=Hz&&Rz(Hz.prototype.sort),Zz=!(!zz||Az((function(){zz(new Hz(2),null)}))&&Az((function(){zz(new Hz(2),{})}))),Kz=!!zz&&!Az((function(){if(Wz)return Wz<74;if(Nz)return Nz<67;if(Lz)return!0;if(Vz)return Vz<602;var e,t,n=new Hz(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(zz(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));Uz("sort",(function(e){return void 0!==e&&Fz(e),Kz?zz(this,e):Mz(Bz(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!Kz||Zz);var Yz=Ar,Gz=Dr,$z=iH,Jz=lB.aTypedArray;(0,lB.exportTypedArrayMethod)("subarray",(function(e,t){var n=Jz(this),r=n.length,i=Gz(e,r);return new($z(n))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,Yz((void 0===t?r:Gz(t,r))-i))}));var qz=Rv,Xz=lB,Qz=D,eZ=xp,tZ=T.Int8Array,nZ=Xz.aTypedArray,rZ=Xz.exportTypedArrayMethod,iZ=[].toLocaleString,oZ=!!tZ&&Qz((function(){iZ.call(new tZ(1))}));rZ("toLocaleString",(function(){return qz(iZ,oZ?eZ(nZ(this)):nZ(this),eZ(arguments))}),Qz((function(){return[1,2].toLocaleString()!=new tZ([1,2]).toLocaleString()}))||!Qz((function(){tZ.prototype.toLocaleString.call([1,2])})));var aZ=lB.exportTypedArrayMethod,lZ=D,uZ=$,cZ=T.Uint8Array,sZ=cZ&&cZ.prototype||{},dZ=[].toString,fZ=uZ([].join);lZ((function(){dZ.call({})}))&&(dZ=function(){return fZ(this)});var pZ=sZ.toString!=dZ;aZ("toString",dZ,pZ);var vZ=function(){function e(t,n,r){l(this,e),this.isUplink_=r,this.connection_=t,this.log_=n,this.seiMessageList_=[],this.seiPayloadType_=243,this.senderOrReceiver_=null,this.abortController_=null,this.abortMap_=new Map,this.onSEIMessage=null}return c(e,[{key:"isRunning",get:function(){return!!this.abortController_}},{key:"start",value:function(e){this.senderOrReceiver_=e;var t=e.createEncodedStreams(),n=t.readable,r=t.writable,i=new TransformStream({transform:this.isUplink_?this.encodeVideoFrame.bind(this):this.decodeVideoFrame.bind(this)});this.abortController_=new AbortController,n.pipeThrough(i).pipeTo(r,{signal:this.abortController_.signal}).catch((function(){}))}},{key:"restart",value:function(e){this.stop(),this.start(e)}},{key:"stop",value:function(){var e;null===(e=this.abortController_)||void 0===e||e.abort(),this.abortController_=null}},{key:"destory",value:function(){this.stop(),this.abortMap_.forEach((function(e){return e.abort()})),this.abortMap_.clear(),this.log_=null,this.onSEIMessage=null,this.senderOrReceiver_=null,this.connection_=null}},{key:"handleEncodedStreams",value:function(){var e=this;try{var t=this.connection_.getPeerConnection();if(this.clearUnusedSenderOrReceiver(t),this.isUplink_){var n,r=null===(n=this.connection_.getLocalStream())||void 0===n?void 0:n.getVideoTrack();t.getSenders().forEach((function(t){e.abortMap_.has(t)||t===e.senderOrReceiver_||(t.track&&t.track===r?e.isRunning?e.restart(t):e.start(t):e.pipeSenderOrReceiver(t))}))}else t.getReceivers().forEach((function(t,n){var r;e.abortMap_.has(t)||t===e.senderOrReceiver_||(1===n&&(null===(r=t.track)||void 0===r?void 0:r.kind)===wx?e.isRunning?e.restart(t):e.start(t):e.pipeSenderOrReceiver(t))}))}catch(aY){this.log_.warn(aY)}}},{key:"pipeSenderOrReceiver",value:function(e){var t=e.createEncodedStreams(),n=t.readable,r=t.writable,i=new AbortController;this.abortMap_.set(e,i),n.pipeTo(r,{signal:i.signal}).catch((function(){}))}},{key:"clearUnusedSenderOrReceiver",value:function(e){var t=this;this.abortMap_.forEach((function(n,r){(t.isUplink_?e.getSenders():e.getReceivers()).find((function(e){return e===r}))||(n.abort(),t.abortMap_.delete(r))}))}},{key:"push",value:function(e,t){t&&t.seiPayloadType&&(this.seiPayloadType_=t.seiPayloadType),this.seiMessageList_.push(e)}},{key:"hasSEI",value:function(e){var t=new DataView(e);return 1===t.getInt32(0)&&6===t.getInt8(4)}},{key:"isEmptyFrame",value:function(e){return"empty"===e.type||0===e.data.byteLength}},{key:"getNaluCount",value:function(e){for(var t=0,n=0,r=new DataView(e),i=0;i<e.byteLength;i++)switch(r.getUint8(i)){case 0:t++;break;case 1:2!==t&&3!==t||n++,t=0;break;default:t=0}return n}},{key:"encodeVideoFrame",value:function(e,t){try{if(this.connection_.isH264&&this.seiMessageList_.length>0&&!this.isEmptyFrame(e)){var n=9-this.getNaluCount(e.data);if(n<=0)return;for(var r=this.seiMessageList_.splice(0,n).reverse().map(this.encodeSEINalu.bind(this)),i=r.reduce((function(e,t){return e+t.dataView.byteLength}),0),o=new ArrayBuffer(i+e.data.byteLength),a=new DataView(o),l=new DataView(e.data),u=0,c=0;c<r.length;c++)for(var s=0;s<r[c].dataView.byteLength;s++)a.setInt8(u++,r[c].dataView.getInt8(s));for(var d=0;d<e.data.byteLength;d++)a.setInt8(u++,l.getInt8(d));e.data=o,this.log_.debug("".concat(r.length," sei sent"))}}catch(aY){this.log_.warn(aY)}t.enqueue(e)}},{key:"decodeVideoFrame",value:function(e,t){var n=this;try{if(this.connection_.isH264&&!this.isEmptyFrame(e)&&this.hasSEI(e.data)){for(var r=[],i=new DataView(e.data),o=0,a=-1,l=-1,u=0;u<e.data.byteLength;u++){var c=i.getUint8(u);if(0===c)o++;else if(1===c){if(2===o||3===o){var s=u-o;if(-1===a?a=s:-1===l&&(l=s,r.push(new hZ(new DataView(i.buffer.slice(a,l)))),a=s,l=-1),6!==i.getUint8(u+1)){e.data=new DataView(i.buffer.slice(s)).buffer;break}}o=0}else o=0}this.log_.debug("".concat(r.length," sei received")),uD(this.onSEIMessage)&&r.reverse().forEach((function(e){n.onSEIMessage({seiPayloadType:e.seiPayloadType,data:e.seiPayload.buffer})}))}}catch(aY){this.log_.warn(aY)}t.enqueue(e)}},{key:"encodeSEINalu",value:function(e){var t=e.byteLength,n=parseInt(t/255),r=t%255,i=[];i.push(0,0,0,1,6,this.seiPayloadType_);for(var o=0;o<n;o++)i.push(255);i.push(r);var a=new DataView(e);return i.push.apply(i,S(new Uint8Array(a.buffer))),i.push(128),new hZ(new DataView(new Uint8Array(i).buffer),!0)}}]),e}(),hZ=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l(this,e),this.dataView=t,this.isSEI&&(n?this.addPreventionByte():this.removePreventionByte())}return c(e,[{key:"addPreventionByte",value:function(){for(var e=this.seiPayloadStartIndex,t=this.dataView.byteLength-2,n=[],r=0,i=e;i<=t;i++){var o=this.dataView.getInt8(i);switch(o){case 0:case 1:case 2:case 3:2===r&&(n.push(3),r=0),0==o?r++:r=0,n.push(o);break;default:r=0,n.push(o)}}n.push(this.dataView.getInt8(this.dataView.byteLength-1));var a=new DataView(new Uint8Array([].concat(S(new Uint8Array(this.dataView.buffer).slice(0,e)),n)).buffer);this.dataView=a}},{key:"removePreventionByte",value:function(){for(var e=this.seiPayloadStartIndex,t=this.dataView.byteLength-1,n=[],r=0,i=e;i<=t;i++)switch(this.dataView.getInt8(i)){case 0:r++,n.push(this.dataView.getInt8(i));break;case 3:2!==r&&n.push(this.dataView.getInt8(i)),r=0;break;default:n.push(this.dataView.getInt8(i)),r=0}var o=new DataView(new Uint8Array([].concat(S(new Uint8Array(this.dataView.buffer).slice(0,e)),n)).buffer);this.dataView=o}},{key:"isSEI",get:function(){return 6===this.dataView.getUint8(4)}},{key:"seiPayloadStartIndex",get:function(){for(var e=6,t=6;t<this.dataView.buffer.byteLength&&(e++,255===this.dataView.getUint8(t));t++);return e}},{key:"seiPayloadType",get:function(){return this.isSEI?this.dataView.getUint8(5):null}},{key:"seiPayload",get:function(){if(!this.isSEI)return null;for(var e=0,t=6,n=6;n<this.dataView.buffer.byteLength;n++){var r=this.dataView.getUint8(n);if(t++,255!==r){e+=r;break}e+=255}for(var i=new ArrayBuffer(e),o=new DataView(i),a=0;a<i.byteLength;a++,t++)o.setInt8(a,this.dataView.getInt8(t));return o}}]),e}(),mZ=function(){function e(t){l(this,e),this.userId_=t.userId,this.tinyId_=t.tinyId,this.client_=t.client,this.sdpSemantics_=t.client.getSdpSemantics(),this.isUplink_=t.isUplink,this.log_=Tj.createLogger({id:"n|"+this.userId_,userId:this.client_.getUserId(),sdkAppId:this.client_.getSDKAppId(),isLocal:this.isUplink_}),this.signalChannel_=t.signalChannel,this.peerConnection_=null,this.connectTimer_=-1,this.isErrorObserved_=!1,this.emitter_=new ID,this.currentState_=mP,this.waitForPeerConnectionConnectedPromise_=null,this.isReconnecting_=!1,this.reconnectionCount_=0,this.reconnectionTimer_=-1,this.isFirstConnection_=!0,this.delay_={audioDelay:0,videoDelay:0},this.enableSEI_=t.enableSEI,this.enableSEI_&&oF&&(this.sei_=new vZ(this,this.log_,this.isUplink_))}var t;return c(e,[{key:"initialize",value:function(){var e={encodedInsertableStreams:this.enableSEI_&&oF,iceServers:this.client_.getIceServers(),iceTransportPolicy:this.client_.getIceTransportPolicy(),sdpSemantics:this.sdpSemantics_,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",tcpCandidatePolicy:"disable",IceTransportsType:"nohost"};this.peerConnection_=new RTCPeerConnection(e),this.peerConnection_.onconnectionstatechange=this.onConnectionStateChange.bind(this)}},{key:"close",value:function(){this.log_.info("closing connection"),this.closePeerConnection(),this.sei_&&(this.sei_.destory(),this.sei_=null)}},{key:"closePeerConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.peerConnection_&&(this.peerConnection_.onconnectionstatechange=function(){},this.peerConnection_.close(),this.peerConnection_=null,e&&this.emitConnectionStateChangedEvent(mP))}},{key:"getDTLSTransportState",value:function(){if(!this.peerConnection_)return hP;var e=null;if(this.isUplink_){if(!XA()||0===this.peerConnection_.getSenders().length)return hP;e=this.peerConnection_.getSenders()[0].transport}else{if(!qA()||0===this.peerConnection_.getReceivers().length)return hP;e=this.peerConnection_.getReceivers()[0].transport}return e?e.state:hP}},{key:"onConnectionStateChange",value:function(e){var t=this.peerConnection_.iceConnectionState,n=this.getDTLSTransportState();if(this.log_.info("onConnectionStateChange() connectionState: "+e.target.connectionState),this.log_.info("ICE Transport state: ".concat(t,", DTLS Transport state: ").concat(n)),e.target.connectionState===wP&&this.emitConnectionStateChangedEvent(gP),e.target.connectionState===SP||e.target.connectionState===OP){var r="".concat(this.isUplink_?"uplink":"downlink"," ICE/DTLS Transport connection ").concat(e.target.connectionState,". ICE Transport state: ").concat(t,", DTLS Transport state: ").concat(n),i=new CR({message:r,code:kR.ICE_TRANSPORT_ERROR});vA.logFailedEvent({userId:this.client_.getUserId(),eventType:zP,error:i}),this.emitConnectionStateChangedEvent(mP),this.isErrorObserved_||this.emitter_.emit(hF.ERROR,i)}e.target.connectionState!==CP&&e.target.connectionState!==xP||(this.logSelectedCandidate(),vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:zP}),this.emitConnectionStateChangedEvent(bP))}},{key:"emitConnectionStateChangedEvent",value:function(e){e!==this.currentState_&&(this.currentState_===yP&&e===gP||(DD.emit(yj,{client:this.client_,connection:this,prevState:this.currentState_,state:e}),this.emitter_.emit(hF.CONNECTION_STATE_CHANGED,{prevState:this.currentState_,state:e}),this.currentState_=e))}},{key:"hitTest",value:function(e){return(0===e||"0"===e)&&this.isUplink_||e===this.tinyId_}},{key:"addEventInternal",value:function(e,t){var n=this.client_.getUserId(),r={eventId:e,eventDesc:t,timestamp:Jk(),userId:n,tinyId:this.client_.getTinyId()};this.isUplink_||(r.remoteUserId=this.userId_,r.remoteTinyId=this.tinyId_),cA(n,r)}},{key:"getPeerConnection",value:function(){return this.peerConnection_}},{key:"getClient",value:function(){return this.client_}},{key:"getUserId",value:function(){return this.userId_}},{key:"getTinyId",value:function(){return this.tinyId_}},{key:"logSelectedCandidate",value:(t=a(r().mark((function e(){var t,n,i,o,a,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.peerConnection_){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.peerConnection_.getStats();case 4:t=e.sent,n=C(t),e.prev=6,n.s();case 8:if((i=n.n()).done){e.next=18;break}if((o=w(i.value,2))[0],a=o[1],!aF(a)){e.next=16;break}return l=t.get(a.localCandidateId),u=t.get(a.remoteCandidateId),l&&this.log_.info("local candidate: ".concat(l.candidateType," ").concat(l.protocol,":").concat(l.ip||l.address,":").concat(l.port," ").concat(l.networkType||""," ").concat("relay"===l.candidateType?"relayProtocol:"+l.relayProtocol:"")),u&&this.log_.info("remote candidate: ".concat(u.candidateType," ").concat(u.protocol,":").concat(u.ip||u.address,":").concat(u.port)),e.abrupt("break",18);case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[6,20,23,26]])}))),function(){return t.apply(this,arguments)})},{key:"getCurrentState",value:function(){return this.currentState_}},{key:"waitForPeerConnectionConnected",value:function(){var e=this;return this.waitForPeerConnectionConnectedPromise_||(this.waitForPeerConnectionConnectedPromise_=new Promise((function(t,n){if(e.currentState_===bP)return t();var r=-1,i=function n(i){i.state===bP&&(clearTimeout(r),e.emitter_.off(hF.CONNECTION_STATE_CHANGED,n,e),t())};r=setTimeout((function(){e.emitter_.off(hF.CONNECTION_STATE_CHANGED,i,e);var t=new CR({code:kR.API_CALL_TIMEOUT,message:"connection timeout"});n(t)}),1e4),e.emitter_.on(hF.CONNECTION_STATE_CHANGED,i,e)})),this.waitForPeerConnectionConnectedPromise_=this.waitForPeerConnectionConnectedPromise_.then((function(t){return e.waitForPeerConnectionConnectedPromise_=null,t})).catch((function(t){throw e.waitForPeerConnectionConnectedPromise_=null,t}))),this.waitForPeerConnectionConnectedPromise_}},{key:"getReconnectionCount",value:function(){return this.reconnectionCount_}},{key:"startReconnection",value:function(){this.isReconnecting_=!0,this.emitConnectionStateChangedEvent(yP),this.reconnect(),this.addEventInternal(this.isUplink_?eA:rA,"".concat(this.isUplink_?"uplink":"downlink","-connection is reconnecting"))}},{key:"stopReconnection",value:function(){this.log_.info("stop reconnection"),this.isReconnecting_=!1,this.reconnectionCount_=0,this.clearReconnectionTimer(),this.signalChannel_.off(Jj,this.reconnect,this)}},{key:"on",value:function(e,t,n){this.emitter_.on(e,t,n)}},{key:"off",value:function(e,t,n){this.emitter_.off(e,t,n)}},{key:"setDelay",value:function(e){var t=e.audioDelay,n=e.videoDelay;this.delay_={audioDelay:t,videoDelay:n}}},{key:"getDelay",value:function(){return this.delay_}},{key:"isH264",get:function(){var e,t;return!(null===(e=this.peerConnection_)||void 0===e||null===(t=e.remoteDescription)||void 0===t||!t.sdp.includes("H264"))}}]),e}(),gZ=function(){function e(){l(this,e),this.set_=new Set,DD.on(jD,this.add,this),DD.on(FD,this.add,this),DD.on(MD,this.delete,this),DD.on(WD,this.delete,this)}return c(e,[{key:"add",value:function(e){var t=e.client,n=e.roomId;if("rtc"!==t.getMode()){var r=this.getKey(t.getUserId(),n||t.getRoomId(),t.getSDKAppId(),t.getUseStringRoomId());this.set_.add(r)}}},{key:"delete",value:function(e){var t=e.client;if("rtc"!==t.getMode()){var n=this.getKey(t.getUserId(),t.getRoomId(),t.getSDKAppId(),t.getUseStringRoomId());this.set_.delete(n)}}},{key:"getKey",value:function(e,t,n,r){return"".concat(n,"_").concat(t,"_").concat(e,"_").concat(r)}},{key:"isJoined",value:function(e){var t=e.userId,n=e.roomId,r=e.sdkAppId,i=e.client;return"rtc"!==i.getMode()&&this.set_.has(this.getKey(t,n,r,i.getUseStringRoomId()))}}]),e}(),yZ=new gZ;function bZ(e,t,n,r){if(this.useStringRoomId_){if(!sD(e)||!/^[A-Za-z\d\s!#$%&()+\-:;<=.>?@[\]^_{}|~,]{1,64}$/.test(e))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:bT,data:t,link:{className:r,fnName:n}})})}else if(!(dD(e)&&/^[1-9]\d*$/.test(String(e))&&e<4294967295))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:_T,data:t,link:{className:r,fnName:n}})})}function _Z(e,t,n,r){if(!/^[A-Za-z\d_-]*$/.test(e))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:WT,data:t,link:{className:r,fnName:n}})})}var wZ,SZ,OZ={createClient:{name:"clientConfig",required:!0,type:fE,properties:{sdkAppId:{required:!0,type:cE,allowEmpty:!1},userId:{required:!0,type:uE,allowEmpty:!1},userSig:{required:!0,type:uE,allowEmpty:!1},mode:{required:!0,type:uE,values:["rtc",oP]},useStringRoomId:{type:sE},autoSubscribe:{type:sE},enableAutoPlayDialog:{type:sE},streamId:{type:uE},userDefineRecordId:{type:uE},pureAudioPushMode:{type:cE,values:[1,2]},enableSEI:{type:sE}}},createStream:{name:"streamConfig",required:!0,type:fE,properties:{userId:{type:uE},audio:{type:sE},video:{type:sE},screen:{type:sE},screenAudio:{type:sE},microphoneId:{type:uE},cameraId:{type:uE},facingMode:{type:[uE,fE]},audioSource:{instanceOf:window.MediaStreamTrack},videoSource:{instanceOf:window.MediaStreamTrack}},validate:function(e){if(!cD(e.screen)&&e.screen&&cD(e.audio)&&(e.audio=!1),!(cD(e.audio)&&cD(e.video)||cD(e.audioSource)&&cD(e.videoSource)))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:xI})});if(!cD(e.screen)&&!0===e.screen&&!0===e.video)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:PI})});if(e.audio&&e.screenAudio)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:EI})});if(!0!==e.screen&&!0===e.screenAudio)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:TI})});if(!cD(e.screen)&&!0===e.screen&&!this.isScreenShareSupported())throw new CR({code:kR.INVALID_OPERATION,message:eD({key:MI})})}}},kZ={join:{name:"options",required:!0,properties:{roomId:{required:!0,type:[cE,uE],allowEmpty:!1,validate:bZ},role:{type:[uE],values:[uP,cP]},privateMapKey:{type:[uE]}},validate:function(e){if(this.isJoined_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:yT})});if(this.checkDestroy(),yZ.isJoined({userId:this.userId_,roomId:e.roomId,sdkAppId:this.sdkAppId_,client:this}))throw new CR({code:kR.INVALID_OPERATION,message:eD({key:fI,data:this.userId_})})}},publish:{name:"stream",required:!0,instanceOf:PE,validate:function(e){if(!this.isJoined_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:CT})});if(this.mode_===oP&&this.role_===cP)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:PT})});if(this.localStream_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:TT})});if(!e.getIsReadyToPublish())throw new CR({code:kR.INVALID_OPERATION,message:eD({key:ET})});if(this.notPublishWithoutH264Supported_)throw new CR({code:kR.NOT_SUPPORTED_H264,message:eD({key:RI})})}},unpublish:{name:"stream",required:!0,instanceOf:PE,validate:function(e){if(e!==this.localStream_){if(this.localStream_)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:xT})});this.log_.warn("Client currently has no published stream, please call publish() first.")}}},subscribe:[{name:"stream",required:!0,instanceOf:EE,validate:function(e){if(!e.getConnection())throw new CR({code:kR.INVALID_OPERATION,message:eD({key:IT})});if(this.notSubscribeWithoutH264Supported_)throw new CR({code:kR.NOT_SUPPORTED_H264,message:eD({key:AI})})}},{name:"options",type:fE,properties:{audio:{type:sE},video:{type:sE}},validate:function(e){var t=e.audio,n=e.video;if(!(cD(t)||cD(n)||t||n))throw new CR({code:kR.INVALID_OPERATION,message:eD({key:HI})})}}],unsubscribe:{name:"stream",required:!0,instanceOf:EE,validate:function(e){if(!e.getConnection())throw new CR({code:kR.INVALID_OPERATION,message:eD({key:IT})})}},switchRole:{name:"role",required:!0,values:[uP,cP],validate:function(){if(this.mode_!==oP)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:jT})});if(!this.isJoined_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:RT})})}},startPublishCDNStream:{name:"options",required:!1,properties:{streamId:{type:uE,validate:_Z},appId:{type:cE,allowEmpty:!1},bizId:{type:cE,allowEmpty:!1},url:{type:uE,allowEmpty:!1}},validate:function(){if(this.isDestroyed_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:pI,data:{funName:"startPublishCDNStream"}})})}},startMixTranscode:{name:"config",required:!0,type:fE,properties:{mode:{type:uE,values:["preset-layout","manual"]},streamId:{type:uE,validate:_Z},videoWidth:{type:cE,notLessThanZero:!0},videoHeight:{type:cE,notLessThanZero:!0},videoBitrate:{type:cE,notLessThanZero:!0,allowEmpty:!1},videoFramerate:{type:cE,validate:function(e,t,n,r){if(e<=0||e>30)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:yI,link:{className:r,fnName:n}})})}},videoGop:{type:cE,validate:function(e,t,n,r){if(e<1||e>8)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:bI,link:{className:r,fnName:n}})})}},audioSampleRate:{type:cE,notLessThanZero:!0},audioBitrate:{type:cE,validate:function(e,t,n,r){if(e<32||e>192)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:_I,link:{className:r,fnName:n}})})}},audioChannels:{type:cE,values:[1,2]},backgroundColor:{type:cE},backgroundImage:{type:uE},mixUsers:{required:!0,type:dE,arrayItem:{require:!0,type:fE,properties:{userId:{required:!0,type:uE},roomId:{type:[uE,cE],validate:bZ},pureAudio:{type:sE},width:{type:cE,notLessThanZero:!0},height:{type:cE,notLessThanZero:!0},locationX:{type:cE,notLessThanZero:!0},locationY:{type:cE,notLessThanZero:!0},zOrder:{type:cE},streamType:{type:uE,values:["main","auxiliary"]},renderMode:{type:cE,values:[0,1,2,4]}}}}},validate:function(e,t,n,r,i){var o=0,a=0,l=e.mixUsers,u=[];if(l.forEach((function(e,t){if(u.push(e.userId),!e.pureAudio){if(!e.zOrder||e.zOrder<1||e>15)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:wI,data:"config.mixUsers[".concat(t,"].zOrder"),link:{className:r,fnName:n}})});e.width+e.locationX>o&&(o=e.width+e.locationX),e.height+e.locationY>a&&(a=e.height+e.locationY)}})),u.indexOf(this.getUserId())<0)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:SI,link:{className:r,fnName:n}})});if(e.videoWidth<o||e.videoHeight<a)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:OI,link:{className:r,fnName:n}})})}},sendSEIMessage:[{name:"buffer",required:!0,instanceOf:ArrayBuffer,validate:function(e){if(!oF)throw new CR({code:kR.NOT_SUPPORTED,message:eD({key:zI})});if(!this.enableSEI_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:ZI})});if(e.byteLength>1e3)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:YI,data:e.byteLength})});if(0===e.byteLength)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:KI})});if(!this.uplinkConnection_)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:GI})});if(!this.localStream_.hasVideo())throw new CR({code:kR.INVALID_OPERATION,message:eD({key:$I})});var t=this.uplinkConnection_.isH264;if(!t)throw new CR({code:kR.NOT_SUPPORTED,message:eD({key:zI,data:t})})}},{name:"options",type:fE,properties:{seiPayloadType:{type:cE,values:[5,243]}}}]},CZ={play:[{name:"elementId",required:!0,type:[uE,"HTMLDivElement"],validate:function(e,t,n){if(sD(e)){var r=document.getElementById(e);if(!r)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:kI,data:{key:t,fnName:n}})});if(!(r instanceof HTMLDivElement))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:CI,data:{key:t,fnName:n,type:hD(r)}})})}}},{name:"options",type:fE,properties:{objectFit:{type:uE,values:["contain","cover","fill"]},muted:{type:sE},mirror:{type:sE}}}]},xZ={TRTC:OZ,CLIENT:kZ,LOCAL_STREAM:{switchDevice:[{name:"type",required:!0,type:uE,values:[_x,wx]},{name:"deviceId",required:!0,type:uE,validate:function(){if(this.screen_&&!this.audio_||this.audioSource_||this.videoSource_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:JT})});if(this.publishState_===gE)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:qT})})}}],setAudioCaptureVolume:{name:"volume",type:cE}},STREAM:CZ};function PZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){var i=r.value;return r.value=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return TZ.call(this,t,r,n,this.name_),i.apply(this,r)},r}}function EZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){var o=i.value;return i.value=a(r().mark((function e(){var i,a,l,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=u.length,a=new Array(i),l=0;l<i;l++)a[l]=u[l];return TZ.call(this,t,a,n,this.name_),e.abrupt("return",o.apply(this,a));case 3:case"end":return e.stop()}}),e,this)}))),i}}function TZ(e,t,n,r){try{for(var i=0;i<e.length;i++)IZ.call(this,{rule:e[i],value:t[i],key:e[i].name,fnName:n,className:r})}catch(aY){throw Tj.error(aY),aY}}function IZ(e){var t=this,n=e.rule,r=e.value,i=e.key,o=e.fnName,a=e.className;if(cD(r)){if(n.required)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:XE,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})})}else{if(Array.isArray(n.type)){if(!n.type.map((function(e){return e.toLowerCase()})).includes(hD(r)))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:QE,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})})}else if(!cD(n.type)&&hD(r)!==n.type)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:QE,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})});if(!1===n.allowEmpty){var l=dD(r)&&(0===r||Number.isNaN(r)),u=sD(r)&&""===r.trim();if(l||u)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:eT,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})})}if(n.notLessThanZero&&dD(r)&&r<0)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:gI,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})});if(sD(n.instanceOf)){if(!r||r.name_!==n.instanceOf)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:tT,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})})}else if(uD(n.instanceOf)&&!(r instanceof n.instanceOf))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:tT,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})});if(n.values&&!n.values.includes(r))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:nT,data:{key:i,rule:n,fnName:o,value:r},link:{className:a,fnName:o}})});var c=n.properties;oD(c)&&"object"===hD(r)&&Object.keys(c).forEach((function(e){IZ.call(t,{rule:c[e],value:r&&r[e],key:"".concat(i,".").concat(e),fnName:o,className:a})}));var s=n.arrayItem;oD(s)&&pD(r)&&r.forEach((function(e,n){IZ.call(t,{rule:s,value:e,key:"".concat(i,"[").concat(n,"]"),fnName:o,className:a})})),uD(n.validate)&&n.validate.call(this,r,i,o,a,this)}}ki({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var DZ=(wZ=EZ.apply(void 0,S(xZ.STREAM.play)),SZ=function(){function e(t){l(this,e),this.name_=TE,this.userId_=t.userId,this.isRemote_=t.isRemote,this.type_=t.type,this.log_=Tj.createLogger({id:"s".concat(t.seq?t.seq:"","|").concat(this.userId_),userId:cD(t.client)?void 0:t.client.getUserId(),sdkAppId:cD(t.client)?void 0:t.client.getSDKAppId(),isLocal:!this.isRemote_,type:this.isRemote_?this.type_:""}),this.client_=null,cD(t.client)||(this.client_=t.client),this.mediaStream_=null,this.div_=null,this.isPlaying_=!1,this.connection_=null,this.audioPlayer_=null,this.videoPlayer_=null,this.muted_=!1,this.objectFit_="cover",this.mirror_=!1,this.id_=jA(),this.audioOutputDeviceId_=0,this.audioVolume_=1,this.emitter_=CD(new ID,this.name_),this.connectionState_=mP,this.installEvents(),cD(t.mirror)||this.log_.warn('TRTC.createStream "mirror" option was deprecated since v4.12.1，please use localStream.play to set up preview mirror. refer to '.concat(AE,"/en/LocalStream.html#play. TRTC.createStream 接口的 mirror 选项从 v4.12.1 开始被废弃，请使用 localStream.play 设置本地流预览镜像，参考文档：").concat(AE,"/zh-cn/LocalStream.html#play。"))}var n,i,o,u,s;return c(e,[{key:"installEvents",value:function(){DD.on(wj,this.restartPlayback,this)}},{key:"uninstallEvents",value:function(){DD.off(wj,this.restartPlayback,this)}},{key:"getType",value:function(){return this.type_}},{key:"getLogger",value:function(){return this.log_}},{key:"isSubscribed",get:function(){return this.type_===pP&&this.connection_.isMainStreamSubscribed||this.type_===vP&&this.connection_.isAuxStreamSubscribed}},{key:"isMainVideoSubscribed",get:function(){var e=this.getSubscribedState();return this.type_===pP&&e&&e.video}},{key:"isMainAudioSubscribed",get:function(){var e=this.getSubscribedState();return this.type_===pP&&e&&e.audio}},{key:"isAuxVideoSubscribed",get:function(){var e=this.getSubscribedState();return this.type_===vP&&e&&e.auxiliary}},{key:"isSmallVideoSubscribed",get:function(){var e=this.getSubscribedState();return this.type_===pP&&e&&e.smallVideo}},{key:"emitConnectionStateChanged",value:function(e){e.state!==this.connectionState_&&(e.state!==mP&&this.isRemote_&&!this.isSubscribed||(this.emitter_.emit(bF,e),this.connectionState_=e.state))}},{key:"setConnection",value:function(e){this.connection_!==e&&(e instanceof mZ?(null!==this.connection_&&this.connection_.off(hF.CONNECTION_STATE_CHANGED,this.emitConnectionStateChanged,this),e.on(hF.CONNECTION_STATE_CHANGED,this.emitConnectionStateChanged,this)):null===e&&this.connection_.off(hF.CONNECTION_STATE_CHANGED,this.emitConnectionStateChanged,this),this.connection_=e)}},{key:"getConnection",value:function(){return this.connection_}},{key:"play",value:(s=a(r().mark((function e(t,n){var i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.log_.info("stream ".concat(this.isPlaying_?"update":"start to"," play with elementId: ").concat(t," and options: ").concat(JSON.stringify(n),".")),!this.isPlaying_){e.next=9;break}return n&&!cD(n.muted)&&(this.muted_=n.muted),n&&!cD(n.objectFit)&&(this.objectFit_=n.objectFit),this.isScreenShare()?this.mirror_=!1:n&&!cD(n.mirror)&&(this.mirror_=n.mirror),this.audioPlayer_&&this.audioPlayer_.setMuted(this.muted_),this.videoPlayer_&&(this.videoPlayer_.setObjectFit(this.objectFit_),this.videoPlayer_.setMirror(this.mirror_)),this.elementId_!==t&&(i=t,sD(t)&&(i=document.getElementById(t)),i.appendChild(this.div_),this.elementId_=t),e.abrupt("return");case 9:return this.isPlaying_=!0,(o=document.createElement("div")).setAttribute("id","player_".concat(this.id_)),o.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"),a=t,sD(t)&&(a=document.getElementById(t)),a.appendChild(o),this.elementId_=t,this.div_=o,this.isRemote_||(this.muted_=!0),n&&!cD(n.muted)&&(this.muted_=n.muted),this.isScreenShare()&&(this.objectFit_="contain"),n&&!cD(n.objectFit)&&(this.objectFit_=n.objectFit),this.isScreenShare()?this.mirror_=!1:(this.isRemote_||(this.mirror_=!0),n&&!cD(n.mirror)&&(this.mirror_=n.mirror)),DD.emit(fj,{stream:this}),e.next=26,Promise.all([this.playAudio(),this.playVideo()]);case 26:DD.emit($D,{stream:this});case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"playAudio",value:(u=a(r().mark((function e(){var n,i,o=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasAudio()&&(!this.isRemote_||this.isMainAudioSubscribed)){e.next=2;break}return e.abrupt("return");case 2:if(n=this.getAudioTrack(),this.audioPlayer_||!n){e.next=17;break}return this.log_.info("stream - create AudioPlayer and play"),this.audioPlayer_=new mL({stream:this,track:n,gainedTrack:null===(i=this.gain_)||void 0===i?void 0:i.audioTrack,div:this.div_,muted:this.muted_,outputDeviceId:this.audioOutputDeviceId_,volume:this.audioVolume_}),this.audioPlayer_.on(SF,(function(e){var n={type:_x,state:e.state,reason:e.reason};DD.emit(JD,t({stream:o},n)),o.emitter_.emit(gF,n)})),e.prev=7,e.next=10,this.audioPlayer_.play();case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(7),this.client_&&this.client_.getEnableAutoPlayDialog()&&new NL,this.emitter_.emit(wF,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[7,12]])}))),function(){return u.apply(this,arguments)})},{key:"playVideo",value:(o=a(r().mark((function e(){var n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasVideo()&&(!this.isRemote_||this.isMainVideoSubscribed||this.isAuxVideoSubscribed||this.isSmallVideoSubscribed)){e.next=2;break}return e.abrupt("return");case 2:if(n=this.getVideoTrack(),this.videoPlayer_||!n){e.next=18;break}return DD.emit(vj,{stream:this}),this.log_.info("stream - create VideoPlayer and play"),this.videoPlayer_=new LL({stream:this,track:n,div:this.div_,muted:this.muted_,objectFit:this.objectFit_,mirror:this.mirror_}),this.videoPlayer_.on(SF,(function(e){var n={type:wx,state:e.state,reason:e.reason};DD.emit(JD,t({stream:i},n)),i.emitter_.emit(gF,n)})),e.prev=8,e.next=11,this.videoPlayer_.play();case 11:e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(8),this.client_&&this.client_.getEnableAutoPlayDialog()&&new NL,this.emitter_.emit(wF,e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(){return o.apply(this,arguments)})},{key:"stopAudio",value:function(){this.audioPlayer_&&(this.log_.info("stream - stop AudioPlayer"),this.audioPlayer_.stop(),this.audioPlayer_=null)}},{key:"stopVideo",value:function(){this.videoPlayer_&&(this.log_.info("stream - stop VideoPlayer"),this.videoPlayer_.stop(),this.videoPlayer_=null)}},{key:"restartPlayback",value:function(){this.audioPlayer_&&!this.audioPlayer_.isPlaying&&this.restartAudio(),this.videoPlayer_&&!this.videoPlayer_.isPlaying&&this.restartVideo()}},{key:"restartAudio",value:function(){this.isPlaying_&&(this.stopAudio(),this.playAudio().catch((function(e){})))}},{key:"restartVideo",value:function(){this.isPlaying_&&(this.stopVideo(),this.playVideo().catch((function(e){})))}},{key:"stop",value:function(){this.isPlaying_&&(this.isPlaying_=!1,this.stopAudio(),this.stopVideo(),this.div_.parentNode.removeChild(this.div_))}},{key:"resume",value:(i=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPlaying_){e.next=2;break}return e.abrupt("return");case 2:if(this.log_.info("stream - resume"),!this.audioPlayer_){e.next=6;break}return e.next=6,this.audioPlayer_.resume();case 6:if(!this.videoPlayer_){e.next=9;break}return e.next=9,this.videoPlayer_.resume();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"close",value:function(){this.log_.info("close stream"),this.isPlaying_&&this.stop(),this.isRemote_||(this.mediaStream_&&(this.mediaStream_.preventEvent=1,this.mediaStream_.getTracks().forEach((function(e){e.stop()})),this.mediaStream_=null),this.uninstallEvents())}},{key:"muteAudio",value:function(){return this.addRemoteEvent(!0,_x),this.doEnableTrack(_x,!1)}},{key:"muteVideo",value:function(){return this.addRemoteEvent(!0,wx),this.doEnableTrack(wx,!1)}},{key:"unmuteAudio",value:function(){return this.addRemoteEvent(!1,_x),this.doEnableTrack(_x,!0)}},{key:"unmuteVideo",value:function(){return this.addRemoteEvent(!1,wx),this.doEnableTrack(wx,!0)}},{key:"addRemoteEvent",value:function(e,t){if(this.isRemote_&&this.client_){var n=this.client_.getUserId(),r="".concat(e?xx:Px," remote ").concat(t);cA(n,{eventId:t===_x?e?UR:zR:e?BR:HR,eventDesc:r,timestamp:(new Date).getTime(),userId:n,tinyId:this.client_.getTinyId(),remoteUserId:this.userId_,remoteTinyId:this.connection_.getTinyId()})}}},{key:"doEnableTrack",value:function(e,t){var n=!1;return e===_x?this.mediaStream_.getAudioTracks().forEach((function(e){n=!0,e.enabled=t})):this.mediaStream_.getVideoTracks().forEach((function(e){n=!0,e.enabled=t})),n}},{key:"getId",value:function(){return this.id_}},{key:"getUserId",value:function(){return this.userId_}},{key:"getTinyId",value:function(){return this.connection_?this.connection_.getTinyId():""}},{key:"isPlaying",value:function(){return this.isPlaying_}},{key:"setAudioOutput",value:(n=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioOutputDeviceId_=t,!this.audioPlayer_){e.next=4;break}return e.next=4,this.audioPlayer_.setSinkId(t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setAudioVolume",value:function(e){this.audioVolume_=e,this.log_.info("setAudioVolume to ".concat(e)),this.audioPlayer_&&this.audioPlayer_.setVolume(e)}},{key:"getAudioLevel",value:function(){var e=0;return this.audioPlayer_&&(e=this.audioPlayer_.getAudioLevel()),e}},{key:"getInternalAudioLevel",value:function(){var e=0;return this.audioPlayer_&&(e=this.audioPlayer_.getInternalAudioLevel()),e}},{key:"hasAudio",value:function(){if(this.isRemote_){if(!this.connection_)return!1;var e=this.connection_.getTrackState();return this.type_===pP&&e.audio}return!!this.getAudioTrack()}},{key:"hasVideo",value:function(){if(this.isRemote_){if(!this.connection_)return!1;var e=this.connection_.getTrackState();return this.type_===vP?e.auxiliary:e.video}return!!this.getVideoTrack()}},{key:"getSubscribedState",value:function(){return this.isRemote_&&this.connection_?this.connection_.getSubscribeState():null}},{key:"getAudioTrack",value:function(){var e=null;if(this.mediaStream_){var t=this.mediaStream_.getAudioTracks();t.length>0&&(e=t[0])}return e}},{key:"getVideoTrack",value:function(){var e=null;if(this.mediaStream_){var t=this.mediaStream_.getVideoTracks();t.length>0&&(e=t[0])}return e}},{key:"getVideoFrame",value:function(){return this.videoPlayer_?this.videoPlayer_.getVideoFrame():null}},{key:"getMediaStream",value:function(){return this.mediaStream_}},{key:"setMediaStream",value:function(e){e!==this.mediaStream_&&(this.mediaStream_&&this.mediaStream_.getTracks().forEach((function(e){return e.stop()})),this.mediaStream_=e)}},{key:"updateVideoPlayingState",value:function(e){this.isPlaying_&&(e?(this.log_.info("playing state updated, play video"),this.playVideo().catch((function(e){}))):(this.log_.info("playing state updated, stop video"),this.stopVideo()))}},{key:"updateAudioPlayingState",value:function(e){this.isPlaying_&&(e?(this.log_.info("playing state updated, play audio"),this.playAudio().catch((function(e){}))):(this.log_.info("playing state updated, stop audio"),this.stopAudio()))}},{key:"on",value:function(e,t,n){this.emitter_.on(e,t,n)}},{key:"off",value:function(e,t,n){"*"===e?this.emitter_.removeAllListeners():this.emitter_.off(e,t,n)}},{key:"isRemote",value:function(){return this.isRemote_}},{key:"isScreenShare",value:function(){return!this.isRemote_&&this.screen_||this.isRemote_&&this.getType()===Sx}},{key:"getDiv",value:function(){return this.div_}},{key:"getObjectFit",value:function(){return this.objectFit_}},{key:"getMuted",value:function(){return this.muted_}},{key:"getClient",value:function(){return this.client_}}]),e}(),x(SZ.prototype,"play",[wZ],Object.getOwnPropertyDescriptor(SZ.prototype,"play"),SZ.prototype),SZ),jZ=function(e){d(r,e);var n=y(r);function r(e){var i;l(this,r);var o={isRemote:!0,type:e.type},a=t(t({},e),o);return(i=n.call(this,a)).name_=EE,i.isStreamAddedEventEmitted_=!1,i.isAbleToCallSubscription_=!0,i}return c(r,[{key:"installEvents",value:function(){_(f(r.prototype),"installEvents",this).call(this),DD.on(nj,this.handleStreamSubscribed,this),DD.on(rj,this.handleStreamUnsubscribed,this)}},{key:"uninstallEvents",value:function(){_(f(r.prototype),"uninstallEvents",this).call(this),DD.off(nj,this.handleStreamSubscribed,this),DD.off(rj,this.handleStreamUnsubscribed,this)}},{key:"handleStreamSubscribed",value:function(e){e.client===this.client_&&e.stream===this&&this.connection_.getCurrentState()===bP&&this.emitConnectionStateChanged({prevState:mP,state:bP})}},{key:"handleStreamUnsubscribed",value:function(e){e.client===this.client_&&e.stream===this&&this.emitConnectionStateChanged({prevState:bP,state:mP})}},{key:"getType",value:function(){return _(f(r.prototype),"getType",this).call(this)}},{key:"getIsAbleToCallSubscription",value:function(){return this.isAbleToCallSubscription_}},{key:"setIsAbleToCallSubscription",value:function(e){this.isAbleToCallSubscription_=e}},{key:"setIsStreamAddedEventEmitted",value:function(e){this.isStreamAddedEventEmitted_=e}},{key:"getIsStreamAddedEventEmitted",value:function(){return this.isStreamAddedEventEmitted_}},{key:"getAudioTrack",value:function(){return this.connection_&&this.connection_.getTrackState().audio?_(f(r.prototype),"getAudioTrack",this).call(this):null}},{key:"getVideoTrack",value:function(){if(!this.connection_)return null;var e=this.connection_.getTrackState();return this.type_===pP&&!e.video||this.type_===vP&&!e.auxiliary?null:_(f(r.prototype),"getVideoTrack",this).call(this)}},{key:"close",value:function(){_(f(r.prototype),"close",this).call(this)}}]),r}(DZ),RZ=function(){function e(t){l(this,e),this.client_=t.client,this.subscribedStreams_=new Map,this.unsubscribedStreams_=new Map,this.subscriptedOptions_=new Map,this.autoRecoveryFlags_=new Map}var t,n,i;return c(e,[{key:"isEnabled",get:function(){return"webrtc"!==this.client_.getEnv()}},{key:"recover",value:(i=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getUserId(),i=t.getType(),this.hasAutoRecoveryFlag(n,i)){e.next=5;break}return e.abrupt("return");case 5:if(o=this.getUnsubscribedStream(n,i)?"unsubscribe":"subscribe",e.prev=6,Tj.warn("recover() try to recover subscription [".concat(o,"][").concat(n,"][").concat(i,"]")),"subscribe"!==o){e.next=13;break}return e.next=11,this.recoverSubscription(n,t);case 11:e.next=15;break;case 13:return e.next=15,this.recoverUnsubscription(n,t);case 15:vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:$P}),Tj.warn("recover() recover successfully [".concat(o,"][").concat(n,"][").concat(i,"]")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),Tj.error("recover() recover failed [".concat(o,"][").concat(n,"][").concat(i,"]"),e.t0),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:$P,error:e.t0});case 23:this.deleteAutoRecoveryFlag(n,i);case 24:case"end":return e.stop()}}),e,this,[[6,19]])}))),function(e){return i.apply(this,arguments)})},{key:"recoverSubscription",value:(n=a(r().mark((function e(t,n){var i,o,a,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getOptions(t,n.getType()),o=this.getSubscribedStream(t,n.getType()),i&&o){e.next=4;break}return e.abrupt("return");case 4:a=this.getStreamMuteState(o),l=a.isAudioMuted,u=a.isVideoMuted,this.mergeStream(o,n),this.recoverPlayingState(o),l&&o.doEnableTrack(_x,!1),u&&o.doEnableTrack(wx,!1);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"recoverUnsubscription",value:(t=a(r().mark((function e(t,n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getUnsubscribedStream(t,n.getType())){e.next=3;break}return e.abrupt("return");case 3:this.mergeStream(i,n);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getStreamMuteState",value:function(e){var t={isAudioMuted:!1,isVideoMuted:!1},n=e.getMediaStream();return n&&(t.isAudioMuted=n.getAudioTracks().map((function(e){return e.enabled})).includes(!1),t.isVideoMuted=n.getVideoTracks().map((function(e){return e.enabled})).includes(!1)),t}},{key:"recoverPlayingState",value:function(e){var t=e.isPlaying(),n=e.getDiv();if(t&&n){var r=n.parentNode;e.stop(),e.play(r,{objectFit:e.getObjectFit(),muted:e.getMuted()})}}},{key:"mergeStream",value:function(e,t){var n=t.getConnection(),r=t.getMediaStream();e.setConnection(n),n.setRemoteStream(r.id,e),e.setMediaStream(r),e.updateAudioPlayingState(t.hasAudio()),e.updateVideoPlayingState(t.hasVideo())}},{key:"addSubscriptionRecord",value:function(e,t,n){var r=t.getType();if(this.subscribedStreams_.has(e))this.subscribedStreams_.get(e).set(r,t);else{var i=new Map;i.set(t.getType(),t),this.subscribedStreams_.set(e,i)}if(this.subscriptedOptions_.has(e))this.subscriptedOptions_.get(e).set(r,n);else{var o=new Map;o.set(t.getType(),n),this.subscriptedOptions_.set(e,o)}this.deleteUnsubscriptionRecord(e,r)}},{key:"addUnsubscriptionRecord",value:function(e,t){if(this.unsubscribedStreams_.has(e))this.unsubscribedStreams_.get(e).set(t.getType(),t);else{var n=new Map;n.set(t.getType(),t),this.unsubscribedStreams_.set(e,n)}this.deleteSubscriptionRecord(e,t.getType())}},{key:"getSubscribedStream",value:function(e,t){return this.subscribedStreams_.has(e)&&this.subscribedStreams_.get(e).has(t)?this.subscribedStreams_.get(e).get(t):null}},{key:"getOptions",value:function(e,t){return this.subscriptedOptions_.has(e)&&this.subscriptedOptions_.get(e).has(t)?this.subscriptedOptions_.get(e).get(t):null}},{key:"getUnsubscribedStream",value:function(e,t){return this.unsubscribedStreams_.has(e)&&this.unsubscribedStreams_.get(e).has(t)?this.unsubscribedStreams_.get(e).get(t):null}},{key:"deleteSubscriptionRecord",value:function(e,t){this.subscribedStreams_.has(e)&&this.subscribedStreams_.get(e).delete(t),this.subscriptedOptions_.has(e)&&this.subscriptedOptions_.get(e).delete(t)}},{key:"deleteUnsubscriptionRecord",value:function(e,t){this.unsubscribedStreams_.has(e)&&this.unsubscribedStreams_.get(e).delete(t)}},{key:"markAllStream",value:function(){for(var e=0,t=S(this.subscribedStreams_.entries());e<t.length;e++)for(var n=w(t[e],2),r=n[0],i=0,o=S(n[1].entries());i<o.length;i++){var a=w(o[i],1)[0];this.setAutoRecoveryFlag(r,a)}for(var l=0,u=S(this.unsubscribedStreams_.entries());l<u.length;l++)for(var c=w(u[l],2),s=c[0],d=0,f=S(c[1].entries());d<f.length;d++){var p=w(f[d],1)[0];this.setAutoRecoveryFlag(s,p)}}},{key:"setAutoRecoveryFlag",value:function(e,t){if(Tj.info("setAutoRecoveryFlag() mark [".concat(e,"][").concat(t,"]")),this.autoRecoveryFlags_.has(e))this.autoRecoveryFlags_.get(e).set(t);else{var n=new Map;n.set(t),this.autoRecoveryFlags_.set(e,n)}}},{key:"hasAutoRecoveryFlag",value:function(e,t){return!!this.isEnabled&&this.autoRecoveryFlags_.has(e)&&this.autoRecoveryFlags_.get(e).has(t)}},{key:"deleteAutoRecoveryFlag",value:function(e,t){this.autoRecoveryFlags_.has(e)&&this.autoRecoveryFlags_.get(e).delete(t)}},{key:"delete",value:function(e){this.unsubscribedStreams_.delete(e),this.subscribedStreams_.delete(e),this.subscriptedOptions_.delete(e),this.autoRecoveryFlags_.delete(e)}}]),e}(),AZ=YE;ki({target:"String",proto:!0,forced:$E("small")},{small:function(){return AZ(this,"small","","")}});var FZ=function(){function e(t){l(this,e),this.player_=t,this.canvas_=document.createElement(bx),this.canvasCtx_=this.canvas_.getContext("2d")}return c(e,[{key:"setCanvasRect",value:function(e,t){this.canvas_.width=e,this.canvas_.height=t}},{key:"drawVideoToCanvas",value:function(){var e=this.player_.getElement();this.canvasCtx_.drawImage(e,0,0,this.canvas_.width,this.canvas_.height)}},{key:"generateVideoTrackFromCanvasCapture",value:function(e){return this.canvas_.captureStream(e).getVideoTracks()[0]}},{key:"generateStreamFromTrack",value:function(e){var t=new MediaStream;return t.addTrack(e),t}},{key:"destroy",value:function(){this.player_.stop(),this.canvas_=null,this.canvasCtx_=null}},{key:"canvas",get:function(){return this.canvas_}},{key:"canvasCtx",get:function(){return this.canvasCtx_}},{key:"canDrawVideoToCanvas",get:function(){if(this.player_){var e=this.player_.getElement();if(e)return e.readyState===e.HAVE_ENOUGH_DATA}return!1}}]),e}(),MZ=new Blob(["let width,height,offscreen,ctx;onmessage=function(e){const{action,data}=e.data;switch(action){case'render':offscreen=data.canvas;width=offscreen.width;height=offscreen.height;ctx=offscreen.getContext('2d');draw(data.readable,data.writable);break}};function draw(readable,writable){const transformer=new TransformStream({async transform(cameraFrame,controller){ctx.drawImage(cameraFrame,0,0,width,height);const frame=new VideoFrame(offscreen,{timestamp:cameraFrame.timestamp});cameraFrame.close();controller.enqueue(frame)}});readable.pipeThrough(transformer).pipeTo(writable)}"],{type:"application/javascript"}),NZ=function(){function e(t){l(this,e);var n=t.videoTrack;this.width=void 0,this.height=void 0,this.canvas=null,this.offscreen=null,this.smallGenerator=new MediaStreamTrackGenerator({kind:"video"}),this.smallWritable=this.smallGenerator.writable,this.bigProcessor=new MediaStreamTrackProcessor({track:n}),this.bigReadable=this.bigProcessor.readable,this.initWorker()}return c(e,[{key:"initWorker",value:function(){try{this.worker=new Worker(URL.createObjectURL(MZ)),Tj.info("init worker processor success")}catch(e){Tj.warn("init worker processor failed. ".concat(e.error))}}},{key:"setCanvasRect",value:function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.offscreen=this.canvas.transferControlToOffscreen(),this.worker.postMessage({action:"render",data:{canvas:this.offscreen,readable:this.bigReadable,writable:this.smallWritable}},[this.offscreen,this.bigReadable,this.smallWritable])}},{key:"generatorVideoTrack",value:function(){var e=new MediaStream([this.smallGenerator]);return null==e?void 0:e.getTracks()[0]}},{key:"destroy",value:function(){this.worker.terminate()}}]),e}(),LZ=function(){function e(t){l(this,e),this.localStream_=t,this.player_=null,this.processor_=null,this.initOffscreenSuccess_=!1}var t;return c(e,[{key:"initialize",value:(t=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,r=void 0,i=void 0,!((null===(n=window)||void 0===n?void 0:n.OffscreenCanvas)&&(null===(r=window)||void 0===r?void 0:r.MediaStreamTrackProcessor)&&(null===(i=window)||void 0===i?void 0:i.MediaStreamTrackGenerator)&&(null===(t=navigator)||void 0===t?void 0:t.hardwareConcurrency)>=6)){e.next=13;break}return e.prev=1,e.next=4,this.initOffscreen();case 4:this.initOffscreenSuccess_=!0,Tj.info("Initialize VideoGenerator successfully!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.initCanvas();case 11:e.next=14;break;case 13:this.initCanvas();case 14:case"end":return e.stop()}var n,r,i}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"generateSmallVideoTrack",value:function(e){var t,n=this.getSmallVideoProfile(e);return this.initOffscreenSuccess_?(this.processor_.setCanvasRect(n.width,n.height),t=this.processor_.generatorVideoTrack()):(this.processor_.setCanvasRect(n.width,n.height),this.player_.setRect({width:n.width,height:n.height}),t=this.processor_.generateVideoTrackFromCanvasCapture(n.frameRate),this.interval_=AA.setInterval(this.render.bind(this),Math.ceil(1e3/n.frameRate))),t}},{key:"render",value:function(){this.processor_.canDrawVideoToCanvas&&this.processor_.drawVideoToCanvas()}},{key:"destroy",value:function(){AA.clearInterval(this.interval_),this.processor_&&this.processor_.destroy()}},{key:"initOffscreen",value:function(){this.processor_=new NZ({videoTrack:this.localStream_.getVideoTrack()})}},{key:"initCanvas",value:function(){this.player_=new LL({stream:this.localStream_,track:this.localStream_.getVideoTrack(),muted:!0,objectFit:"cover",mirror:!1}),this.player_.play().then((function(){Tj.info("VideoGenerator: play local video success")})).catch((function(){Tj.error("VideoGenerator: Failed to play local video")})),this.processor_=new FZ(this.player_)}},{key:"getSmallVideoProfile",value:function(e){var t,n=this.localStream_.getVideoTrack(),r=this.localStream_.getVideoProfile(),i=n.getSettings(),o=i&&i.width&&i.height?{width:i.width,height:i.height}:r,a=o.width*o.height,l=e.width*e.height;return Tj.info("big stream resolution: ".concat(o.height,"*").concat(o.width," small stream resolution: ").concat(e.height,"*").concat(e.width," ")),a>l?t=a/l:(Tj.warn("Small stream resolution is larger than big stream, which is invalid. big: ".concat(o.width," * ").concat(o.height," small: ").concat(e.width," * ").concat(e.height)),t=a/19200),{width:parseInt(o.width/Math.sqrt(t)),height:parseInt(o.height/Math.sqrt(t)),frameRate:e.frameRate}}}]),e}(),WZ={voiceActivityDetection:!1},VZ=function(e){d(S,e);var t,n,i,o,u,s,p,v,h,m,g,b,w=y(S);function S(e){var t;return l(this,S),(t=w.call(this,e)).localStream_=null,t.exchangeSDPTimeout_=-1,t.smallGenerator_=null,t.isSDPExchanging_=!1,t.ssrc_={audio:0,video:0,small:0},t.canvasTrack_=null,t}return c(S,[{key:"initialize",value:function(){_(f(S.prototype),"initialize",this).call(this),this.installEvents()}},{key:"reset",value:function(){this.closePeerConnection(),this.uninstallEvents(),this.clearExchangeSDPTimeout(),this.canvasTrack_=null,this.localStream_&&this.localStream_.clearCanvas()}},{key:"close",value:function(){_(f(S.prototype),"close",this).call(this),this.reset(),this.emitConnectionStateChangedEvent(mP),this.smallGenerator_&&(this.smallGenerator_.destroy(),this.smallGenerator_=null)}},{key:"installEvents",value:function(){this.emitter_.on(hF.ERROR,this.handleError,this),this.emitter_.on(hF.CONNECTION_STATE_CHANGED,this.handleConnectionStateChange,this)}},{key:"uninstallEvents",value:function(){this.emitter_.off(hF.ERROR,this.handleError,this),this.emitter_.off(hF.CONNECTION_STATE_CHANGED,this.handleConnectionStateChange,this)}},{key:"publish",value:(b=a(r().mark((function e(t){var n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localStream_=t,n=t.getMediaStream(),this.log_.info("is publishing stream: ".concat(t.getId())),i=this.localStream_.getAudioTrack(),o=this.localStream_.getVideoTrack(),i&&(a=this.localStream_.getGainedTrack(),this.peerConnection_.addTrack(a||i,n)),!o){e.next=14;break}if((px||fx)&&vD(o)?(this.canvasTrack_=this.localStream_.genCanvasTrack(o),this.peerConnection_.addTrack(this.canvasTrack_,n)):this.peerConnection_.addTrack(o,n),!this.client_.getIsEnableSmallStream()){e.next=14;break}return this.smallGenerator_=new LZ(this.localStream_),e.next=12,this.smallGenerator_.initialize();case 12:l=this.smallGenerator_.generateSmallVideoTrack(this.client_.smallStreamConfig_),this.peerConnection_.addTrack(l,n);case 14:return e.next=16,this.connect();case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"updateMediaSettings",value:function(e){var t=this,n=this.getMediaSettings(e);this.signalChannel_.sendWaitForResponse({command:OR,data:n,responseCommand:iR.UPDATE_CONSTRAINT_CONFIG_RES}).then((function(e){0!==e.data.code&&t.log_.warn(e.data.message)})).catch(this.log_.warn)}},{key:"getMediaSettings",value:function(e){var t=this,n=this.client_.getSystemResult().detail,r=n.isH264EncodeSupported,i=n.isVp8EncodeSupported,o="";r?o="H264":i&&(o="VP8");var a={videoCodec:o,videoWidth:0,videoHeight:0,videoBps:0,videoFps:0,audioCodec:"opus",audioFs:0,audioChannel:0,audioBps:0};return pF?e.getTracks().forEach((function(e){var n=e.getSettings();if(e.kind===_x){var r=1;n.channelCount&&(r=n.channelCount),a.audioChannel=r,a.audioBps=1e3*t.localStream_.getAudioBitrate(),a.audioFs=n.sampleRate}else e.kind===wx&&(t.client_.getIsEnableSmallStream()&&(a.smallVideoWidth=t.client_.smallStreamConfig.width,a.smallVideoHeight=t.client_.smallStreamConfig.height,a.smallVideoFps=t.client_.smallStreamConfig.framerate,a.smallVideoBps=1e3*t.client_.smallStreamConfig.bitrate),a.videoWidth=n.width,a.videoHeight=n.height,a.videoFps=n.frameRate,a.videoBps=1e3*t.localStream_.getVideoBitrate())})):a=this.getMediaSettingsFromProfile(a),this.log_.info("updateMediaSettings: "+JSON.stringify(a)),a}},{key:"getMediaSettingsFromProfile",value:function(e){var t=this.localStream_;if(t){if(t.getAudioTrack()){var n=t.getAudioProfile();e.audioChannel=n.channelCount,e.audioBps=1e3*n.bitrate,e.audioFs=n.sampleRate}if(t.getVideoTrack()){var r=t.getVideoProfile();e.videoWidth=r.width,e.videoHeight=r.height,e.videoFps=r.frameRate,e.videoBps=1e3*r.bitrate}}return e}},{key:"addTrack",value:(g=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.peerConnection_){e.next=19;break}if(t.kind===wx&&(px||fx)&&vD(t)&&(t=this.canvasTrack_=this.localStream_.genCanvasTrack(t)),this.log_.info("is adding ".concat(t.kind," track to current published local stream")),!(QA()&&this.peerConnection_.getTransceivers().findIndex((function(e){return"stopped"===e.direction}))>=0)){e.next=7;break}return this.log_.warn("transceiver is stopping, negotiate sdp first"),e.next=7,this.updateOffer(vE,t);case 7:if(!(n=this.peerConnection_.getSenders().find((function(e){return e.track&&e.track.kind===t.kind})))){e.next=14;break}return this.log_.warn("sender already exists, remove sender first"),i=n.track,this.removeSender(n),e.next=14,this.updateOffer(vE,i);case 14:return o=this.localStream_.getMediaStream(),this.peerConnection_.addTrack(t,o),e.next=18,this.updateOffer(pE,t);case 18:cA(this.userId_,{eventId:t.kind===_x?PR:xR,eventDesc:"add ".concat(t.kind," track to current published stream"),timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_});case 19:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"isNeedToResetOfferOrder",value:function(){if(this.sdpSemantics_===iE||!this.peerConnection_||!this.peerConnection_.localDescription)return!1;for(var e=this.peerConnection_.localDescription.sdp,t=EA(e),n=0;n<t.media.length;n++)if(0===t.media[n].mid&&t.media[n].type===wx)return!0;return!1}},{key:"removeSender",value:function(e){var t=null;QA()&&(t=this.peerConnection_.getTransceivers().find((function(t){return t.sender&&t.sender.track===e.track}))),this.peerConnection_.removeTrack(e),t&&uD(t.stop)&&(this.log_.info("stop transceiver"),t.stop())}},{key:"removeTrack",value:(m=a(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.peerConnection_||!XA()){e.next=15;break}if(t.kind===wx&&(px||fx)&&this.canvasTrack_&&(t=this.canvasTrack_,this.localStream_.clearCanvas()),this.log_.info("is removing ".concat(t.kind," track from current published local stream")),t.kind!==wx||!this.isNeedToResetOfferOrder()){e.next=10;break}return this.reset(),this.initialize(),null===(n=this.localStream_.getMediaStream())||void 0===n||n.removeTrack(t),e.next=9,this.publish(this.localStream_);case 9:return e.abrupt("return");case 10:return(i=this.peerConnection_.getSenders().find((function(e){return e.track===t})))&&this.removeSender(i),e.next=14,this.updateOffer(vE,t);case 14:cA(this.userId_,{eventId:t.kind===_x?TR:ER,eventDesc:"remove ".concat(t.kind," track from current published stream"),timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_});case 15:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"replaceTrack",value:(h=a(r().mark((function e(t){var n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.kind!==wx||!px&&!fx||!this.canvasTrack_){e.next=2;break}return e.abrupt("return");case 2:if(tF()&&XA()){e.next=4;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:FI})});case 4:if(this.peerConnection_){e.next=6;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:XT})});case 6:if(0!==(n=this.peerConnection_.getSenders()).length){e.next=9;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:XT})});case 9:n.forEach((function(e){e.track&&e.track.kind===t.kind&&(i.log_.info("is replacing ".concat(t.kind," track to current published local stream")),e.replaceTrack(t))})),cA(this.userId_,{eventId:t.kind===_x?VR:WR,eventDesc:"replace ".concat(t.kind," track from current published stream"),timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"setBandwidth",value:(v=a(r().mark((function e(t,n,i){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isUplink_){e.next=2;break}return e.abrupt("return",i);case 2:if(nF()){e.next=4;break}return e.abrupt("return",n===wx?this.updateVideoBandwidthRestriction(i,t):this.updateAudioBandwidthRestriction(i,t));case 4:if(!(o=this.peerConnection_.getSenders().find((function(e){return e.track&&e.track.kind===n})))){e.next=20;break}return(a=o.getParameters()).encodings&&0!==a.encodings.length||(a.encodings=[{}]),"unlimited"===t?delete a.encodings[0].maxBitrate:a.encodings[0].maxBitrate=1e3*t,e.prev=9,e.next=12,o.setParameters(a);case 12:return this.log_.info(n+" bandwidth was set to "+t+" kbps"),e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(9),this.log_.info("failed to set bandwidth by setting maxBitrate: "+e.t0),e.abrupt("return",n===wx?this.updateVideoBandwidthRestriction(i,t):this.updateAudioBandwidthRestriction(i,t));case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e,t,n){return v.apply(this,arguments)})},{key:"setSmallStreamBandwidth",value:(p=a(r().mark((function e(t,n){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isUplink_){e.next=2;break}return e.abrupt("return",n);case 2:if(nF()){e.next=4;break}return e.abrupt("return",this.updateSmallVideoBandwidthRestriction(n,t));case 4:if(!(i=this.peerConnection_.getSenders().filter((function(e){return e.track&&e.track.kind===wx}))[1])){e.next=20;break}return(o=i.getParameters()).encodings&&0!==o.encodings.length||(o.encodings=[{}]),"unlimited"===t?delete o.encodings[0].maxBitrate:o.encodings[0].maxBitrate=1e3*t,e.prev=9,e.next=12,i.setParameters(o);case 12:return this.log_.info("small stream bandwidth was set to "+t+" kbps"),e.abrupt("return",n);case 16:return e.prev=16,e.t0=e.catch(9),this.log_.info("failed to set small stream bandwidth by setting maxBitrate: "+e.t0),e.abrupt("return",this.updateSmallVideoBandwidthRestriction(n,t));case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e,t){return p.apply(this,arguments)})},{key:"updateVideoBandwidthRestriction",value:function(e,t){var n="AS";return hC&&(n="TIAS",t*=1e3),-1===e.indexOf("b="+n+":")?e.replace(/m=video (.*)\r\nc=IN (.*)\r\n/,"m=video $1\r\nc=IN $2\r\nb="+n+":"+t+"\r\n"):e.replace(new RegExp("b="+n+":.*\r\n"),"b="+n+":"+t+"\r\n")}},{key:"updateAudioBandwidthRestriction",value:function(e,t){var n="AS";return hC&&(n="TIAS",t*=1e3),e.replace(/m=audio (.*)\r\nc=IN (.*)\r\n/,"m=audio $1\r\nc=IN $2\r\nb="+n+":"+t+"\r\n")}},{key:"updateSmallVideoBandwidthRestriction",value:function(e,t){var n="AS";hC&&(n="TIAS",t*=1e3);var r=/m=video (.*)\r\nc=IN (.*)\r\n/g,i=[],o=r.exec(e);for(i.push(o);null!==o;)o=r.exec(e),i.push(o);var a=i[i.length-2],l=e.slice(0,a.index),u=e.slice(a.index);return-1===e.indexOf("b="+n+":")?l+(u=u.replace(/m=video (.*)\r\nc=IN (.*)\r\n/,"m=video $1\r\nc=IN $2\r\nb="+n+":"+t+"\r\n")):l+(u=u.replace(new RegExp("b="+n+":.*\r\n"),"b="+n+":"+t+"\r\n"))}},{key:"removeBandwidthRestriction",value:function(e){return e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"")}},{key:"removeVideoOrientation",value:function(e){return e.replace(/urn:3gpp:video-orientation/,"")}},{key:"connect",value:(s=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.exchangeSDP();case 3:return e.next=5,this.waitForPeerConnectionConnected();case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),this.closePeerConnection(!0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return s.apply(this,arguments)})},{key:"exchangeSDP",value:(u=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isSDPExchanging_=!0,e.next=4,this.createOffer();case 4:return this.log_.info("createOffer success, sending offer to remote server"),e.next=7,this.doExchangeSDP();case 7:this.isSDPExchanging_=!1,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),this.isSDPExchanging_=!1,e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return u.apply(this,arguments)})},{key:"createOffer",value:(o=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.peerConnection_.createOffer(WZ);case 3:return t=e.sent,e.next=6,this.peerConnection_.setLocalDescription(t);case 6:this.updateSSRC(t.sdp),vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:UP,kind:"offer"}),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(0),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:UP,kind:"offer",error:e.t0}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return o.apply(this,arguments)})},{key:"doExchangeSDP",value:function(){var e=this;return new Promise((function(t,n){e.exchangeSDPTimeout_=setTimeout((function(){e.signalChannel_.off(iR.PUBLISH_RESULT,i),e.clearExchangeSDPTimeout();var t=new CR({code:kR.API_CALL_TIMEOUT,message:eD({key:lT})});n(t)}),5e3);var i=function(){var i=a(r().mark((function i(o){var a,l,u;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e.clearExchangeSDPTimeout(),a=o.data,l=a.code,u=a.message,0!==l){r.next=9;break}return r.next=6,e.acceptAnswer(o.data.data);case 6:t(),r.next=10;break;case 9:e.checkPublishResultCode(l,u);case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),n(r.t0);case 15:case"end":return r.stop()}}),i,null,[[0,12]])})));return function(e){return i.apply(this,arguments)}}(),o=e.getMediaSettings(e.localStream_.getMediaStream()),l={type:e.peerConnection_.localDescription.type,sdp:e.removeVideoOrientation(e.peerConnection_.localDescription.sdp),screen:e.localStream_.hasScreenTrack(),constraintConfig:o};e.signalChannel_.once(iR.PUBLISH_RESULT,i),e.log_.debug("sending sdp offer: "+l.sdp),e.signalChannel_.send(sR,l)}))}},{key:"setSDPDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",r=EA(e);return r.media.forEach((function(e){"all"!==n&&e.type!==n||(e.direction=t)})),TA(r)}},{key:"updateOffer",value:(i=a(r().mark((function e(t,n){var i,o,a,l,u,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.peerConnection_.createOffer(WZ);case 3:return i=e.sent,hC&&(i.sdp=this.setSDPDirection(i.sdp,"sendrecv")),e.next=7,this.peerConnection_.setLocalDescription(i);case 7:return o=this.getMediaSettings(this.localStream_.getMediaStream()),a={action:t,trackId:n.id,kind:n.kind===wx?"bigVideo":n.kind,type:"offer",sdp:this.peerConnection_.localDescription.sdp,constraintConfig:o},this.log_.info("createOffer success, sending updated offer to remote server"),this.log_.debug("updatedOffer: "+a.sdp),e.next=13,this.signalChannel_.sendWaitForResponse({command:oR,data:a,responseCommand:iR.UPDATE_OFFER_RESULT,timeout:1e4,commandDesc:"update offer"});case 13:return l=e.sent,u=l.data,c=u.code,s=u.message,0!==c&&this.checkPublishResultCode(c,s),e.next=18,this.acceptAnswer(l.data.data);case 18:this.updateSSRC(i.sdp),vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:UP,kind:"offer"}),e.next=27;break;case 22:throw e.prev=22,e.t0=e.catch(0),this.log_.error(e.t0),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:UP,kind:"offer",error:e.t0}),e.t0;case 27:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e,t){return i.apply(this,arguments)})},{key:"acceptAnswer",value:(n=a(r().mark((function e(t){var n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.localStream_.getVideoBitrate(),i=this.localStream_.getAudioBitrate(),e.prev=2,o=this.removeVideoOrientation(t.sdp),e.next=6,this.setBandwidth(n,wx,o);case 6:return o=e.sent,e.next=9,this.setBandwidth(i,_x,o);case 9:if(o=e.sent,!this.client_.getIsEnableSmallStream()){e.next=15;break}return a=this.client_.smallStreamConfig,e.next=14,this.setSmallStreamBandwidth(a.bitrate,o);case 14:o=e.sent;case 15:return l={type:t.type,sdp:o},e.next=18,this.peerConnection_.setRemoteDescription(l);case 18:this.sei_&&this.sei_.handleEncodedStreams(),this.log_.debug("accepted answer: "+o),vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:HP,kind:"answer"}),e.next=28;break;case 23:throw e.prev=23,e.t0=e.catch(2),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:HP,kind:"answer",error:e.t0}),this.log_.error("failed to accept remote answer "+e.t0),e.t0;case 28:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(e){return n.apply(this,arguments)})},{key:"sendMutedFlag",value:function(e){var t={audio:e.audio,bigVideo:e.video,auxVideo:e.auxVideo};this.log_.info("send muted state: ".concat(JSON.stringify(t))),this.signalChannel_.send(cR,t)}},{key:"getIsReconnecting",value:function(){return this.isReconnecting_}},{key:"reconnect",value:(t=a(r().mark((function e(){var t,n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===this.reconnectionTimer_){e.next=3;break}return this.log_.warn("reconnect() uplink is reconnecting, ignore current reconnection"),e.abrupt("return");case 3:if(!(this.reconnectionCount_>=30)){e.next=12;break}return this.log_.warn("SDK has tried reconnect uplink for ".concat(30," times, but all failed, please check your network")),this.stopReconnection(),t=new CR({code:kR.UPLINK_RECONNECTION_FAILED,message:eD({key:sT})}),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:WP,error:t}),this.addEventInternal(nA,"uplink-connection reconnect fail"),this.emitConnectionStateChangedEvent(mP),this.emitter_.emit(hF.ERROR,t),e.abrupt("return");case 12:if(this.signalChannel_.getCurrentState()===tR){e.next=16;break}return this.log_.warn("reconnect() signal channel is not connected, suspend reconnection until signal is connected"),this.signalChannel_.once(Jj,this.reconnect,this),e.abrupt("return");case 16:if(this.reconnectionCount_++,e.prev=17,this.log_.warn("reconnect() try to reconnect uplink [".concat(this.reconnectionCount_,"/").concat(30,"]")),n=lD(this.reconnectionCount_),this.reconnectionTimer_=setTimeout((function(){i.log_.warn("reconnect() uplink reconnect timeout(".concat(n/1e3,"s), try again")),i.clearReconnectionTimer(),i.reconnect()}),n),!(this.isSDPExchanging_||this.peerConnection_&&this.peerConnection_.connectionState===wP)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,this.signalChannel_.sendWaitForResponse({command:dR,responseCommand:iR.UNPUBLISH_RESULT,enableLog:!1});case 25:return this.reset(),this.initialize(),e.next=29,this.publish(this.localStream_);case 29:vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:WP}),this.log_.warn("reconnect() uplink reconnect successfully"),this.addEventInternal(tA,"uplink-connection reconnect success"),this.stopReconnection(),this.localStream_.syncMuteState(),e.next=38;break;case 36:e.prev=36,e.t0=e.catch(17);case 38:case"end":return e.stop()}}),e,this,[[17,36]])}))),function(){return t.apply(this,arguments)})},{key:"clearExchangeSDPTimeout",value:function(){-1!==this.exchangeSDPTimeout_&&(clearTimeout(this.exchangeSDPTimeout_),this.exchangeSDPTimeout_=-1)}},{key:"clearReconnectionTimer",value:function(){-1!==this.reconnectionTimer_&&(clearTimeout(this.reconnectionTimer_),this.reconnectionTimer_=-1)}},{key:"handleError",value:function(e){e.getCode()===kR.ICE_TRANSPORT_ERROR&&(this.isFirstConnection_&&(this.isFirstConnection_=!1,vA.logFailedEvent({userId:this.client_.getUserId(),eventType:LP,error:e})),this.isReconnecting_||this.startReconnection())}},{key:"handleConnectionStateChange",value:function(e){e.state===bP&&this.isFirstConnection_&&(this.isFirstConnection_=!1,vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:LP}),this.addEventInternal($R,"uplink-connection is connected"))}},{key:"updateSSRC",value:function(e){var t=this;try{var n=0;EA(e).media.forEach((function(e){if(e.type===_x){var r=e.ssrcs[0];r&&(t.ssrc_.audio=r.id)}else{var i=e.ssrcs[0];switch(n+=1){case 1:i&&(t.ssrc_.video=i.id);break;case 2:i&&(t.ssrc_.small=i.id)}}}))}catch(aY){}}},{key:"getLocalStreamVideoTrackId",value:function(){if(this.peerConnection_){var e=this.peerConnection_.getSenders().filter((function(e){return e.track&&e.track.kind===wx}));if(e[0])return e[0].track.id}if(this.localStream_){var t=this.localStream_.getVideoTrack();if(t)return t.id}return""}},{key:"getSSRC",value:function(){return this.ssrc_}},{key:"checkPublishResultCode",value:function(e,t){if(0!==e)throw 1028===e?(this.log_.error(qI.NOT_SUPPORTED_H264ENCODE),new CR({code:kR.NOT_SUPPORTED_H264,message:eD({key:RI})})):new CR({code:kR.UNKNOWN,message:eD({key:WI,data:{signalResponse:iR.PUBLISH_RESULT,code:e,message:t}})})}},{key:"getLocalStream",value:function(){return this.localStream_}},{key:"sendSEI",value:function(e,t){this.sei_.push(e,t)}}]),S}(mZ),BZ=function(e){d(m,e);var n,i,o,u,s,p,v,h=y(m);function m(e){var t;return l(this,m),(t=h.call(this,e)).remoteStreams_=new Map,t.autoSubscribe=e.autoSubscribe,t.trackState_={audio:e.trackState.audio,video:e.trackState.video,auxiliary:e.trackState.auxiliary,smallVideo:e.trackState.smallVideo},t.ssrc_={audio:0,video:0,auxiliary:0},t.subscribeState_={audio:e.autoSubscribe,video:e.autoSubscribe,auxiliary:e.autoSubscribe,smallVideo:!1},t.isSDPExchanging_=!1,t.installEvents(),t}return c(m,[{key:"isMainStreamSubscribed",get:function(){return(this.subscribeState_.audio||this.subscribeState_.video||this.subscribeState_.smallVideo)&&(this.trackState_.audio||this.trackState_.video||this.trackState_.smallVideo)}},{key:"isAuxStreamSubscribed",get:function(){return this.subscribeState_.auxiliary&&this.trackState_.auxiliary}},{key:"isSmallStreamSubscribed",get:function(){return this.subscribeState_.smallVideo&&this.trackState_.smallVideo}},{key:"isBigStreamSubscribed",get:function(){return this.subscribeState_.video&&this.trackState_.video}},{key:"isStreamUnpublished",value:function(e){return e.getType()===Nx?!this.trackState_.audio&&!this.trackState_.video:!this.trackState_.auxiliary}},{key:"initialize",value:function(){_(f(m.prototype),"initialize",this).call(this),this.peerConnection_.ontrack=this.onTrack.bind(this)}},{key:"close",value:function(){var e=this;_(f(m.prototype),"close",this).call(this),this.trackState_.audio=!1,this.trackState_.video=!1,this.trackState_.auxiliary=!1,this.emitConnectionStateChangedEvent(mP),this.remoteStreams_.forEach((function(t){var n=t;n.setConnection(null),n.uninstallEvents(),n.getIsStreamAddedEventEmitted()&&e.emitter_.emit(hF.STREAM_REMOVED,{stream:n})})),this.remoteStreams_.clear(),this.uninstallEvents()}},{key:"installEvents",value:function(){var e=this;DD.on(QD,this.onRemoteStreamUpdate,this),this.emitter_.on(hF.ERROR,(function(t){t.getCode()===kR.ICE_TRANSPORT_ERROR&&(e.isFirstConnection_&&(e.isFirstConnection_=!1,vA.logFailedEvent({userId:e.client_.getUserId(),eventType:VP,error:t})),e.isReconnecting_||e.startReconnection())})),this.emitter_.on(hF.CONNECTION_STATE_CHANGED,(function(t){t.state===bP&&e.isFirstConnection_&&(e.isFirstConnection_=!1,vA.logSuccessEvent({userId:e.client_.getUserId(),eventType:VP}),e.addEventInternal(JR,"downlink-connection is connected"))}))}},{key:"uninstallEvents",value:function(){DD.removeListener(QD,this.onRemoteStreamUpdate,this)}},{key:"onRemoteStreamUpdate",value:function(e){if(this.hitTest(e.tinyId)&&e.client===this.client_){this.updateTrackState(e.action,e.kind);var t=e.kind===Sx?dP:sP,n=this.remoteStreams_.get(t);if(!n)return;e.action===pE?this.handleRemoteAddTrack(e.kind,n):this.handleRemoteRemoveTrack(e.kind,n)}}},{key:"handleRemoteAddTrack",value:function(e,t){this.log_.info("remote add ".concat(e," track")),e===_x?t.updateAudioPlayingState(this.subscribeState_.audio):t.updateVideoPlayingState(e===Sx?this.subscribeState_.auxiliary:this.subscribeState_.video||this.subscribeState_.smallVideo),t.getIsStreamAddedEventEmitted()?this.emitter_.emit(hF.STREAM_UPDATED,{stream:t}):(this.emitter_.emit(hF.STREAM_ADDED,{stream:t}),this.currentState_===bP&&t.emitConnectionStateChanged({prevState:mP,state:bP}))}},{key:"handleRemoteRemoveTrack",value:function(e,t){t.getIsStreamAddedEventEmitted()&&(this.log_.info("remote remove ".concat(e," track")),e===Sx||!this.trackState_.audio&&!this.trackState_.video?(this.log_.info("remote stream ".concat(t.getType()," removed")),this.currentState_===bP&&t.emitConnectionStateChanged({prevState:bP,state:mP}),this.emitter_.emit(hF.STREAM_REMOVED,{stream:t})):(e===_x?t.updateAudioPlayingState(!1):(e!==Ox||this.isSmallStreamSubscribed)&&t.updateVideoPlayingState(!1),this.emitter_.emit(hF.STREAM_UPDATED,{stream:t})))}},{key:"updateTrackState",value:function(e,t){var n=e===pE;switch(t){case _x:this.trackState_.audio=n;break;case wx:this.trackState_.video=n;break;case Sx:this.trackState_.auxiliary=n;break;case Ox:this.trackState_.smallVideo=n}this.log_.info("trackState updated: ".concat(JSON.stringify(this.trackState_)))}},{key:"onTrack",value:function(e){var t=e.streams[0],n=e.track;if(this.log_.info("ontrack() kind: ".concat(n.kind," id: ").concat(n.id," streamId: ").concat(t.id)),this.sdpSemantics_===rE){var r=function(e){var t=mA.parse(e),n={audio:[],video:[]};return t.media.forEach((function(e){if(e.ssrcs){var t=e.ssrcs[0].id>>16&255;if(e.type===_x)n.audio.push(sP);else if(e.type==wx){var r=t===fP?sP:dP;n.video.push(r)}}})),n}(this.peerConnection_.remoteDescription.sdp);if(n.kind===_x){if(0===r.audio.length||t.id!==sP)return void this.log_.debug("skip this invalid audio track")}else if(-1===r.video.indexOf(t.id))return void this.log_.debug("skip this invalid video track: ".concat(n.id,"  msid: ").concat(t.id))}vA.logEvent({eventType:"ontrack",kind:n.kind});var i=!1,o=this.remoteStreams_.get(t.id),a=t.id===sP?pP:vP;if(cD(o)&&((o=new jZ({type:a,userId:this.userId_,client:this.client_})).setConnection(this),this.remoteStreams_.set(t.id,o),i=!0),o.setMediaStream(t),n.kind===_x?o.updateAudioPlayingState(this.subscribeState_.audio):a===pP?o.updateVideoPlayingState(this.subscribeState_.video||this.subscribeState_.smallVideo):o.updateVideoPlayingState(this.subscribeState_.auxiliary),(a!==vP||this.trackState_.auxiliary)&&(a!==pP||this.trackState_.audio||this.trackState_.video)){var l=this.client_.getSubscriptionManager();l&&l.hasAutoRecoveryFlag(this.userId_,a)||(i?this.emitter_.emit(hF.STREAM_ADDED,{stream:o}):this.emitter_.emit(hF.STREAM_UPDATED,{stream:o}))}}},{key:"addRRTRLine",value:function(e){var t=e.split("\r\n"),n=new Map;t.forEach((function(e,r){/^a=rtcp-fb:/.test(e)&&t[r+1]&&!/^a=rtcp-fb:/.test(t[r+1])&&n.set(r+1,e.match(/^a=rtcp-fb:\d+/)[0]+" rrtr")}));for(var r=S(n),i=0;i<r.length;i++){var o=w(r[i],2),a=o[0],l=o[1];t.splice(a+i,0,l)}return t.join("\r\n")}},{key:"addSPSDescription",value:function(e){var t=EA(e);return t.media.forEach((function(e){e.type===wx&&e.fmtp.forEach((function(e){e.config+=";sps-pps-idr-in-keyframe=1"}))})),TA(t)}},{key:"removeSDESDescription",value:function(e){var t=["urn:ietf:params:rtp-hdrext:sdes:mid","urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id","urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id"],n=EA(e);return n.media.forEach((function(e){e.ext=e.ext.filter((function(e){return!t.includes(e.uri)}))})),TA(n)}},{key:"isSubscriptionStateNotChanged",value:function(e,t){return e.getType()===pP?(null==t?void 0:t.audio)===this.subscribeState_.audio&&(null==t?void 0:t.video)===this.subscribeState_.video&&this.isSubscribeSmall(t):e.getType()===vP?!cD(t.video)&&this.subscribeState_.auxiliary===t.video:void 0}},{key:"isSubscribeSmall",value:function(e){return cD(e.smallVideo)&&!this.subscribeState_.smallVideo}},{key:"subscribe",value:(v=a(r().mark((function e(t,n){var i,o,a,l,u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n.emitEvent,l=void 0===a||a,u=t.getType(),(null===(i=this.peerConnection_)||void 0===i?void 0:i.connectionState)!==_P&&(null===(o=this.peerConnection_)||void 0===o?void 0:o.connectionState)!==wP){e.next=6;break}return e.next=6,this.waitForPeerConnectionConnected();case 6:if(!this.isSubscriptionStateNotChanged(t,n)){e.next=13;break}if(this.peerConnection_){e.next=11;break}return this.initialize(),e.next=11,this.connect();case 11:case 26:return l&&cD(n.smallVideo)&&this.emitter_.emit(hF.STREAM_SUBSCRIBED,{stream:t,result:!0}),e.abrupt("return",t);case 13:if(u===Nx?(cD(n.audio)||(this.subscribeState_.audio=n.audio),cD(n.video)||(this.subscribeState_.video=n.video),this.subscribeState_.smallVideo=(null==n?void 0:n.smallVideo)||!1,this.addEventInternal(this.subscribeState_.audio?AR:MR,this.subscribeState_.audio?"subscribe audio":"unsubscribe audio"),this.addEventInternal(this.subscribeState_.video?AR:MR,this.subscribeState_.video?"subscribe video":"unsubscribe video"),this.addEventInternal(this.subscribeState_.smallVideo?aA:lA,this.subscribeState_.smallVideo?"subscribe smallVideo":"unsubscribe smallVideo")):cD(n.video)||(this.subscribeState_.auxiliary=n.video),this.log_.info("subscribe ".concat(u," stream with options ").concat(JSON.stringify(n)," current state: ").concat(JSON.stringify(this.subscribeState_))),!this.peerConnection_&&!this.isSDPExchanging_){e.next=23;break}return c=nE,this.isMainStreamSubscribed||this.isAuxStreamSubscribed||(c=tE),e.next=20,this.sendSubscription(c);case 20:u===Nx?(t.updateAudioPlayingState(this.subscribeState_.audio),t.updateVideoPlayingState(this.subscribeState_.video||this.subscribeState_.smallVideo)):t.updateVideoPlayingState(this.subscribeState_.auxiliary),e.next=26;break;case 23:return this.initialize(),e.next=26,this.connect();case 30:if(e.prev=30,e.t0=e.catch(0),!this.isStreamUnpublished(t)){e.next=34;break}throw new CR({code:kR.REMOTE_STREAM_NOT_EXIST,message:"remote user ".concat(this.userId_," unpublished stream")});case 34:throw e.t0;case 35:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e,t){return v.apply(this,arguments)})},{key:"unsubscribe",value:(p=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.getType())!==Nx){e.next=10;break}if(this.isMainStreamSubscribed){e.next=5;break}return this.log_.info("main stream already unsubscribed"),e.abrupt("return",t);case 5:this.subscribeState_.audio=!1,this.subscribeState_.video=!1,this.subscribeState_.smallVideo=!1,e.next=14;break;case 10:if(this.isAuxStreamSubscribed){e.next=13;break}return this.log_.info("auxiliary stream already unsubscribed"),e.abrupt("return",t);case 13:this.subscribeState_.auxiliary=!1;case 14:return i=tE,(n===pP&&this.isAuxStreamSubscribed||n===vP&&this.isMainStreamSubscribed)&&(i=nE),this.log_.info("unsubscribe ".concat(n," stream with ").concat(JSON.stringify(this.subscribeState_))),e.next=19,this.sendSubscription(i);case 19:return t.updateVideoPlayingState(!1),t.updateAudioPlayingState(!1),i===tE&&((o=t.getMediaStream())&&o.getTracks().forEach((function(e){return o.removeTrack(e)})),this.closePeerConnection(),this.emitConnectionStateChangedEvent(mP)),this.addEventInternal(MR,"unsubscribe audio"),this.addEventInternal(FR,"unsubscribe video"),e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"sendSubscription",value:function(e){var t=this,n={srcTinyId:this.tinyId_,srcUserId:this.userId_},r=pR,i=iR.UNSUBSCRIBE_RESULT;return e===nE&&(n={audio:this.subscribeState_.audio,bigVideo:this.subscribeState_.video,auxVideo:this.subscribeState_.auxiliary,smallVideo:this.subscribeState_.smallVideo,srcTinyId:this.tinyId_},r=vR,i=iR.SUBSCRIBE_CHANGE_RESULT),this.signalChannel_.sendWaitForResponse({command:r,data:n,responseCommand:i,timeout:1e4}).then((function(n){var r=n.data;if(0!==r.code){var i=new CR({code:r.code,message:eD({key:aT,data:{type:e,message:r.message}})});throw t.log_.error(i),i}}))}},{key:"connect",value:(s=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.exchangeSDP();case 3:return e.next=5,this.waitForPeerConnectionConnected();case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),this.closePeerConnection(!0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return s.apply(this,arguments)})},{key:"exchangeSDP",value:(u=a(r().mark((function e(){var t,n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isSDPExchanging_=!0,e.next=4,this.createOffer();case 4:return this.log_.info("createOffer success, sending offer to remote server"),t=this.peerConnection_.localDescription,n=t.type,i=t.sdp,o={type:n,sdp:i,srcUserId:this.userId_,srcTinyId:this.tinyId_,audio:this.subscribeState_.audio,bigVideo:this.subscribeState_.video,auxVideo:this.subscribeState_.auxiliary,smallVideo:this.subscribeState_.smallVideo},DD.emit(bj,{client:this.client_,connection:this,userId:this.userId_,tinyId:this.tinyId_,role:aP,subscribeState:this.subscribeState_,trackState:this.trackState_}),e.next=10,this.signalChannel_.sendWaitForResponse({command:fR,commandDesc:"exchange sdp",data:o,responseCommand:iR.SUBSCRIBE_RESULT});case 10:if(a=e.sent,this.peerConnection_){e.next=15;break}throw l=new CR({code:kR.INVALID_OPERATION,message:eD({key:UI})}),this.log_.warn(l),l;case 15:return e.next=17,this.onSubscribeResult(a);case 17:this.isSDPExchanging_=!1,e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(0),this.isSDPExchanging_=!1,e.t0;case 24:case"end":return e.stop()}}),e,this,[[0,20]])}))),function(){return u.apply(this,arguments)})},{key:"createOffer",value:(o=a(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={voiceActivityDetection:!1},"RTCPeerConnection"in window&&"addTransceiver"in window.RTCPeerConnection.prototype&&this.sdpSemantics_===rE?(this.peerConnection_.addTransceiver(_x,{direction:"recvonly"}),this.peerConnection_.addTransceiver(wx,{direction:"recvonly"}),this.peerConnection_.addTransceiver(wx,{direction:"recvonly"})):(t.offerToReceiveAudio=!0,t.offerToReceiveVideo=!0),e.next=4,this.peerConnection_.createOffer(t);case 4:return n=e.sent,e.next=7,ZA();case 7:return e.sent.isH264DecodeSupported||(this.log_.warn("remove h264 desc from sdp"),n.sdp=DA(n.sdp)),n.sdp=this.addRRTRLine(n.sdp),n.sdp=this.addSPSDescription(n.sdp),n.sdp=IA(n.sdp),this.sdpSemantics_===rE&&(n.sdp=this.removeSDESDescription(n.sdp)),e.next=16,this.peerConnection_.setLocalDescription(n);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"onSubscribeResult",value:(i=a(r().mark((function e(n){var i,o,a,l,u,c,s,d=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n&&n.data||{},o=i.code,a=i.message,l=void 0===a?"":a,u=n&&n.data&&n.data.data||{},c=u.type,s=u.sdp,77393!==o){e.next=5;break}throw this.log_.error(qI.NOT_SUPPORTED_H264DECODE),new CR({code:kR.NOT_SUPPORTED_H264,message:eD({key:AI})});case 5:if(e.prev=5,0===o){e.next=8;break}throw new CR({code:o,message:eD({key:cT,data:{errMsg:l}})});case 8:return this.log_.debug("accept remote answer: "+s),e.next=11,this.peerConnection_.setRemoteDescription({type:c,sdp:s});case 11:this.sei_&&(this.sei_.handleEncodedStreams(),this.sei_.onSEIMessage=function(e){d.emitter_.emit(hF.SEI_MESSAGE,t(t({},e),{},{userId:d.userId_}))}),this.updateSSRC(s),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(5),this.log_.error(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,this,[[5,15]])}))),function(e){return i.apply(this,arguments)})},{key:"updateSSRC",value:function(e){var t=this;try{EA(e).media.forEach((function(e){if(e.type===_x){var n=e.ssrcs.find((function(e){return e.value.includes(sP)}));n&&(t.ssrc_.audio=n.id)}else{var r=e.ssrcs.find((function(e){return e.value.includes(sP)})),i=e.ssrcs.find((function(e){return e.value.includes(dP)}));r&&(t.ssrc_.video=r.id),i&&(t.ssrc_.auxiliary=i.id)}}))}catch(aY){}}},{key:"setRemoteStream",value:function(e,t){this.remoteStreams_.set(e,t)}},{key:"getSubscribeState",value:function(){return this.subscribeState_}},{key:"getTrackState",value:function(){return this.trackState_}},{key:"getSSRC",value:function(){return this.ssrc_}},{key:"getMainStream",value:function(){return this.remoteStreams_.get(sP)}},{key:"getAuxStream",value:function(){return this.remoteStreams_.get(dP)}},{key:"getMainStreamVideoTrackId",value:function(){var e=this.getMainStream();if(e){var t=e.getVideoTrack();if(t)return t.id}return""}},{key:"getAuxStreamVideoTrackId",value:function(){var e=this.getAuxStream();if(e){var t=e.getVideoTrack();if(t)return t.id}return""}},{key:"reconnect",value:(n=a(r().mark((function e(){var t,n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===this.reconnectionTimer_){e.next=3;break}return this.log_.warn("reconnect() downlink is reconnecting, ignore current reconnection"),e.abrupt("return");case 3:if(!(this.reconnectionCount_>=30)){e.next=12;break}return this.log_.warn("SDK has tried reconnect downlink [".concat(this.userId_,"] for ").concat(30," times, but all failed, please check your network")),this.stopReconnection(),t=new CR({code:kR.DOWNLINK_RECONNECTION_FAILED,message:eD({key:uT})}),vA.logFailedEvent({userId:this.client_.getUserId(),eventType:BP,error:t}),this.addEventInternal(oA,"downlink-connection reconnect fail"),this.emitConnectionStateChangedEvent(mP),this.emitter_.emit(hF.ERROR,t),e.abrupt("return");case 12:if(this.signalChannel_.getCurrentState()===tR){e.next=16;break}return this.log_.warn("reconnect() signal channel is not connected, suspend reconnection until signal is connected"),this.signalChannel_.once(Jj,this.reconnect,this),e.abrupt("return");case 16:if(this.reconnectionCount_++,this.log_.warn("reconnect() try to reconnect downlink [".concat(this.reconnectionCount_,"/").concat(30,"]")),n=lD(this.reconnectionCount_),this.reconnectionTimer_=setTimeout((function(){i.log_.warn("reconnect() downlink [".concat(i.userId_,"] reconnect timeout(").concat(n/1e3,"s), try again")),i.clearReconnectionTimer(),i.reconnect()}),n),!(this.isSDPExchanging_||this.peerConnection_&&this.peerConnection_.connectionState===wP)){e.next=22;break}return e.abrupt("return");case 22:return e.prev=22,this.closePeerConnection(),this.initialize(),e.next=27,this.connect();case 27:this.stopReconnection(),this.log_.warn("reconnect() downlink reconnect successfully"),vA.logSuccessEvent({userId:this.client_.getUserId(),eventType:BP}),this.addEventInternal(iA,"downlink-connection reconnect success"),this.recoverSubscription(),e.next=36;break;case 34:e.prev=34,e.t0=e.catch(22);case 36:case"end":return e.stop()}}),e,this,[[22,34]])}))),function(){return n.apply(this,arguments)})},{key:"recoverSubscription",value:function(){var e=this,t=this.client_.getSubscriptionManager();t&&S(this.remoteStreams_.values()).forEach((function(n){t.hasAutoRecoveryFlag(e.userId_,n.getType())&&t.recover(n)}))}},{key:"getIsReconnecting",value:function(){return this.isReconnecting_}},{key:"getSubscribedMainStream",value:function(){var e=null;return this.isMainStreamSubscribed&&(e=this.remoteStreams_.get(sP)),e}},{key:"clearReconnectionTimer",value:function(){-1!==this.reconnectionTimer_&&(clearTimeout(this.reconnectionTimer_),this.reconnectionTimer_=-1)}},{key:"startReconnection",value:function(){var e=this.client_.getSubscriptionManager();if(e){var t,n=C(this.remoteStreams_.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.getType();(i===pP&&(this.trackState_.audio||this.trackState_.video)||i===vP&&this.trackState_.auxiliary)&&e.setAutoRecoveryFlag(this.userId_,r.getType())}}catch(a){n.e(a)}finally{n.f()}}_(f(m.prototype),"startReconnection",this).call(this)}},{key:"getCurrentState",value:function(){return this.currentState_}},{key:"hasMainStream",value:function(){return this.trackState_.video||this.trackState_.audio||this.trackState_.smallVideo}},{key:"hasAuxStream",value:function(){return this.trackState_.auxiliary}}]),m}(mZ),UZ=function(){function e(){l(this,e),this.startTime=0,this.endTime=0,this.start()}return c(e,[{key:"start",value:function(){0===this.startTime&&(this.startTime=gD())}},{key:"stop",value:function(){0===this.endTime&&(this.endTime=gD())}},{key:"getDuration",value:function(){return 0===this.endTime?gD()-this.startTime:this.endTime-this.startTime}}]),e}(),HZ=function(){function e(t){l(this,e),this.client_=t.client,this.intervalId_=-1,this.statsCalculator_=t.stats,this.prevStats_=null,this.renderFreezeMap_=new Map,this.remoteStreamMap_=new Map,this.dataFreezeMap_=new Map,this.monitorFreezeData_=new Map}var t,n,i;return c(e,[{key:"installEvents",value:function(){DD.on(vj,this.handlePlayVideoStart,this),DD.on(sj,this.onVideoTrackMuted,this),DD.on(dj,this.onVideoTrackUnmuted,this),DD.on(oj,this.handleStreamStopped,this),DD.on(rj,this.handleStreamStopped,this),DD.on(qD,this.handleVideoPlaying,this)}},{key:"uninstallEvents",value:function(){DD.off(vj,this.handlePlayVideoStart,this),DD.off(sj,this.onVideoTrackMuted,this),DD.off(dj,this.onVideoTrackUnmuted,this),DD.off(oj,this.handleStreamStopped,this),DD.off(rj,this.handleStreamStopped,this),DD.off(qD,this.handleVideoPlaying,this)}},{key:"start",value:function(){var e=this;-1===this.intervalId_&&(this.installEvents(),this.intervalId_=AA.setInterval(a(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.detectFPS();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])}))),1e3))}},{key:"stop",value:function(){-1!==this.intervalId_&&(this.uninstallEvents(),AA.clearInterval(this.intervalId_),this.intervalId_=-1,this.renderFreezeMap_.clear(),this.dataFreezeMap_.clear(),this.remoteStreamMap_.clear())}},{key:"onVideoTrackMuted",value:function(e){var t=e.stream;if(t.getClient()===this.client_&&t.isRemote()){var n=t.userId_,r=t.type_,i="".concat(n,"_").concat(r),o=this.dataFreezeMap_.get(i),a=new UZ;o?o.durationItemList.push(a):this.dataFreezeMap_.set(i,{userId:n,type:r,durationItemList:[a],isFreezing:function(){var e=this.durationItemList[this.durationItemList.length-1];return e&&0===e.endTime}})}}},{key:"onVideoTrackUnmuted",value:function(e){var t=e.stream;if(t.getClient()===this.client_&&t.isRemote()){var n=t.userId_,r=t.type_,i="".concat(n,"_").concat(r);this.stopDataFreeze({key:i,userId:n,type:r})}}},{key:"handleStreamStopped",value:function(e){var t=e.client,n=e.stream;if(t===this.client_){var r=n.getUserId(),i=n.getType(),o="".concat(r,"_").concat(i);this.stopDataFreeze({key:o,userId:r,type:i})}}},{key:"stopDataFreeze",value:function(e){var t=e.key,n=e.userId,r=e.type,i=this.dataFreezeMap_.get(t);if(i&&i.isFreezing()){var o=i.durationItemList[i.durationItemList.length-1];o.stop();var a=o.getDuration();a>500?(vA.logEvent({eventType:"videoFrozenCount",delta:a}),this.monitorFreezeData_.set(t,{userId:n,type:r,duration:a})):i.durationItemList.pop()}}},{key:"getTotalDuration",value:function(e){return e.reduce((function(e,t){var n=t.getDuration();return e+Math.min(n,5e3)}),0)}},{key:"getStats",value:(i=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.client_.getConnections(),n={},i=C(t),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=20;break}if(a=w(o.value,2),l=a[0],(u=a[1]).getPeerConnection()){e.next=9;break}return e.abrupt("continue",18);case 9:return c=u.getSubscribeState(),s=u.getTrackState(),e.next=13,this.statsCalculator_.getReceiverStats(u);case 13:d=e.sent,(f={userId:d.userId,tinyId:l,hasVideo:s.video&&c.video,hasAuxiliary:s.auxiliary&&c.auxiliary,video:{framesDecoded:0},auxiliary:{framesDecoded:0}}).hasVideo&&(f.video.framesDecoded=d.video.framesDecoded),f.hasAuxiliary&&(f.auxiliary.framesDecoded=d.auxiliary.framesDecoded),n[d.userId]=f;case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,this,[[3,22,25,28]])}))),function(){return i.apply(this,arguments)})},{key:"detectFPS",value:(n=a(r().mark((function e(){var t,n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStats();case 2:if(t=e.sent,this.prevStats_){e.next=6;break}return this.prevStats_=t,e.abrupt("return");case 6:e.t0=r().keys(t);case 7:if((e.t1=e.t0()).done){e.next=17;break}if(n=e.t1.value,this.prevStats_[n]){e.next=11;break}return e.abrupt("continue",7);case 11:i=t[n].tinyId,o=this.client_.getMutedStates(),t[n].hasVideo&&this.prevStats_[n].hasVideo&&o.has(i)&&!o.get(i).videoMuted&&(a=t[n].video.framesDecoded-this.prevStats_[n].video.framesDecoded,this.handleRenderFreeze({userId:n,type:pP,fps:a})),t[n].hasAuxiliary&&this.prevStats_[n].hasAuxiliary&&(l=t[n].auxiliary.framesDecoded-this.prevStats_[n].auxiliary.framesDecoded,this.handleRenderFreeze({userId:n,type:vP,fps:l})),e.next=7;break;case 17:this.prevStats_=t;case 18:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleRenderFreeze",value:(t=a(r().mark((function e(t){var n,i,o,a,l,u,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.userId,i=t.fps,o=t.type,a="".concat(n,"_").concat(o),l=this.renderFreezeMap_.get(a),i<=2?(u=gD(),l&&!l.isFreeze&&(l.freezeTimeline.push({startTime:u,endTime:void 0}),l.isFreeze=!0),l||this.renderFreezeMap_.set(a,{userId:n,type:o,isFreeze:!0,freezeTimeline:[{startTime:u,endTime:void 0}],renderFreezeTotal:0})):l&&l.isFreeze&&(l.isFreeze=!1,(c=l.freezeTimeline.pop()).endTime=gD(),s=c.endTime-c.startTime,l.freezeTimeline.push(c),l.renderFreezeTotal+=Math.min(5e3,s));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handlePlayVideoStart",value:function(e){var t=e.stream;if(t.getClient()===this.client_&&t.isRemote()&&t.hasVideo()){var n="".concat(t.getUserId(),"_").concat(t.getType());this.remoteStreamMap_.has(n)?this.remoteStreamMap_.get(n).remoteStream=t:this.remoteStreamMap_.set(n,{isPlayingFired:!1,remoteStream:t})}}},{key:"handleVideoPlaying",value:function(e){var t=e.stream;if(t.isRemote()&&t.getClient()===this.client_){var n="".concat(t.getUserId(),"_").concat(t.getType());this.remoteStreamMap_.has(n)&&(this.remoteStreamMap_.get(n).isPlayingFired=!0)}}},{key:"getDataFreezeDuration",value:function(e){var t={dataFreeze:0,count:0},n=this.dataFreezeMap_.get(e);if(n){if(n.isFreezing()){var r=n.durationItemList[n.durationItemList.length-1];r.stop(),r.getDuration()<500&&n.durationItemList.pop()}t.dataFreeze=this.getTotalDuration(n.durationItemList),t.count=n.durationItemList.length}return t}},{key:"getRenderFreezeDuration",value:function(e){var t=this.renderFreezeMap_.get(e),n=0,r=0;if(t)if(t.isFreeze){var i=gD()-t.freezeTimeline[t.freezeTimeline.length-1].startTime;n=t.renderFreezeTotal+Math.min(i,5e3),r=t.freezeTimeline.length}else n=t.renderFreezeTotal;return{renderFreeze:n,count:r}}},{key:"getMonitorFreeze",value:function(){return this.monitorFreezeData_}},{key:"isBlackStream",value:function(e){return!!this.remoteStreamMap_.has(e)&&!this.remoteStreamMap_.get(e).isPlayingFired}},{key:"resetMonitor",value:function(){this.monitorFreezeData_.clear()}}]),e}(),zZ=c((function e(t){l(this,e),this.userId=t.userId,this.tinyId=t.tinyId,this.role=t.role===aP?uP:cP})),ZZ={exports:{}};!function(e){!function(t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((l=n(n(t,e),n(i,a)))<<(u=o)|l>>>32-u,r);var l,u}function i(e,t,n,i,o,a,l){return r(t&n|~t&i,e,t,o,a,l)}function o(e,t,n,i,o,a,l){return r(t&i|n&~i,e,t,o,a,l)}function a(e,t,n,i,o,a,l){return r(t^n^i,e,t,o,a,l)}function l(e,t,n,i,o,a,l){return r(n^(t|~i),e,t,o,a,l)}function u(e,t){var r,u,c,s,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,p=-271733879,v=-1732584194,h=271733878;for(r=0;r<e.length;r+=16)u=f,c=p,s=v,d=h,f=i(f,p,v,h,e[r],7,-680876936),h=i(h,f,p,v,e[r+1],12,-389564586),v=i(v,h,f,p,e[r+2],17,606105819),p=i(p,v,h,f,e[r+3],22,-1044525330),f=i(f,p,v,h,e[r+4],7,-176418897),h=i(h,f,p,v,e[r+5],12,1200080426),v=i(v,h,f,p,e[r+6],17,-1473231341),p=i(p,v,h,f,e[r+7],22,-45705983),f=i(f,p,v,h,e[r+8],7,1770035416),h=i(h,f,p,v,e[r+9],12,-1958414417),v=i(v,h,f,p,e[r+10],17,-42063),p=i(p,v,h,f,e[r+11],22,-1990404162),f=i(f,p,v,h,e[r+12],7,1804603682),h=i(h,f,p,v,e[r+13],12,-40341101),v=i(v,h,f,p,e[r+14],17,-1502002290),f=o(f,p=i(p,v,h,f,e[r+15],22,1236535329),v,h,e[r+1],5,-165796510),h=o(h,f,p,v,e[r+6],9,-1069501632),v=o(v,h,f,p,e[r+11],14,643717713),p=o(p,v,h,f,e[r],20,-373897302),f=o(f,p,v,h,e[r+5],5,-701558691),h=o(h,f,p,v,e[r+10],9,38016083),v=o(v,h,f,p,e[r+15],14,-660478335),p=o(p,v,h,f,e[r+4],20,-405537848),f=o(f,p,v,h,e[r+9],5,568446438),h=o(h,f,p,v,e[r+14],9,-1019803690),v=o(v,h,f,p,e[r+3],14,-187363961),p=o(p,v,h,f,e[r+8],20,1163531501),f=o(f,p,v,h,e[r+13],5,-1444681467),h=o(h,f,p,v,e[r+2],9,-51403784),v=o(v,h,f,p,e[r+7],14,1735328473),f=a(f,p=o(p,v,h,f,e[r+12],20,-1926607734),v,h,e[r+5],4,-378558),h=a(h,f,p,v,e[r+8],11,-2022574463),v=a(v,h,f,p,e[r+11],16,1839030562),p=a(p,v,h,f,e[r+14],23,-35309556),f=a(f,p,v,h,e[r+1],4,-1530992060),h=a(h,f,p,v,e[r+4],11,1272893353),v=a(v,h,f,p,e[r+7],16,-155497632),p=a(p,v,h,f,e[r+10],23,-1094730640),f=a(f,p,v,h,e[r+13],4,681279174),h=a(h,f,p,v,e[r],11,-358537222),v=a(v,h,f,p,e[r+3],16,-722521979),p=a(p,v,h,f,e[r+6],23,76029189),f=a(f,p,v,h,e[r+9],4,-640364487),h=a(h,f,p,v,e[r+12],11,-421815835),v=a(v,h,f,p,e[r+15],16,530742520),f=l(f,p=a(p,v,h,f,e[r+2],23,-995338651),v,h,e[r],6,-198630844),h=l(h,f,p,v,e[r+7],10,1126891415),v=l(v,h,f,p,e[r+14],15,-1416354905),p=l(p,v,h,f,e[r+5],21,-57434055),f=l(f,p,v,h,e[r+12],6,1700485571),h=l(h,f,p,v,e[r+3],10,-1894986606),v=l(v,h,f,p,e[r+10],15,-1051523),p=l(p,v,h,f,e[r+1],21,-2054922799),f=l(f,p,v,h,e[r+8],6,1873313359),h=l(h,f,p,v,e[r+15],10,-30611744),v=l(v,h,f,p,e[r+6],15,-1560198380),p=l(p,v,h,f,e[r+13],21,1309151649),f=l(f,p,v,h,e[r+4],6,-145523070),h=l(h,f,p,v,e[r+11],10,-1120210379),v=l(v,h,f,p,e[r+2],15,718787259),p=l(p,v,h,f,e[r+9],21,-343485551),f=n(f,u),p=n(p,c),v=n(v,s),h=n(h,d);return[f,p,v,h]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function s(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function f(e){return unescape(encodeURIComponent(e))}function p(e){return function(e){return c(u(s(e),8*e.length))}(f(e))}function v(e,t){return function(e,t){var n,r,i=s(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(s(t)),512+8*t.length),c(u(a.concat(r),640))}(f(e),f(t))}function h(e,t,n){return t?n?v(t,e):d(v(t,e)):n?p(e):d(p(e))}e.exports?e.exports=h:t.md5=h}(P)}(ZZ);var KZ,YZ,GZ=ZZ.exports,$Z=function(){function e(t){l(this,e),this.client_=t.client,this.signalChannel_=t.signalChannel,this.log_=Tj.createLogger({id:"mix|"+this.client_.getUserId(),userId:t.client.getUserId(),sdkAppId:t.client.getSDKAppId()}),this.isMixing_=!1,this.config_=null,this.data_=null,this.remoteStreamMap_=new Map,this.installEvents()}var t,n,i,o;return c(e,[{key:"isPresetLayoutMode",get:function(){return this.config_&&this.config_.mode===oE.PRESET_LAYOUT}},{key:"installEvents",value:function(){DD.on(nj,this.onStreamSubscribed,this),DD.on(rj,this.onStreamUnsubscribed,this),this.client_.on("stream-removed",this.onStreamRemoved,this)}},{key:"uninstallEvents",value:function(){DD.off(nj,this.onStreamSubscribed,this),DD.off(rj,this.onStreamUnsubscribed,this),this.client_.off("stream-removed",this.onStreamRemoved,this)}},{key:"reset",value:function(){this.uninstallEvents(),this.isMixing_=!1,this.config_=null}},{key:"onStreamSubscribed",value:function(e){var t=e.client,n=e.stream;t===this.client_&&(this.remoteStreamMap_.set(n.getId(),{remoteStream:n,isUsed:!1}),this.isMixing_&&this.hasAvailablePlaceHolder()&&this.startMixTranscode(this.config_))}},{key:"onStreamUnsubscribed",value:function(e){var t=e.client,n=e.stream;t===this.client_&&this.onStreamRemoved({stream:n})}},{key:"onStreamRemoved",value:function(e){var t=e.stream;if(this.remoteStreamMap_.has(t.getId())){var n=this.remoteStreamMap_.get(t.getId()).isUsed;this.remoteStreamMap_.delete(t.getId()),this.isMixing_&&this.isPresetLayoutMode&&n&&this.startMixTranscode(this.config_)}}},{key:"startMixTranscode",value:(o=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.resetIsUsedFlag(),this.config_=t,n=this.getInputParam(t,this.remoteStreamMap_),i=this.getOutputParam(t),o=this.getOutputSessionId({config:t,roomId:this.client_.getRoomId(),userId:this.client_.getUserId()}),!this.isMixing_||!this.data_||o===this.data_.outputSessionId){e.next=10;break}return this.log_.info("startMixTranscode() streamId changed, stop mixing before start"),e.next=10,this.doStopMixTranscode();case 10:return e.next=12,this.doStartMixTranscode({outputSessionId:o,inputParam:n,outputParam:i});case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(0),this.resetIsUsedFlag(),e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e){return o.apply(this,arguments)})},{key:"doStartMixTranscode",value:(i=a(r().mark((function e(t){var n,i,o,a,l,u,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.outputSessionId,i=t.inputParam,o=t.outputParam,a={roomId:String(this.client_.getRoomId()),mcuRequestTime:Date.now(),outputSessionId:n,inputParam:i,outputParam:o},this.data_=a,this.log_.info("startMixTranscode: ".concat(JSON.stringify(a))),this.isMixing_=!0,e.prev=5,e.next=8,this.signalChannel_.sendWaitForResponse({command:bR,data:a,timeout:5e3,responseCommand:iR.START_MIX_TRANSCODE_RES,commandDesc:"startMixTranscode"});case 8:if(l=e.sent,u=l.data,c=u.code,s=u.message,0===c){e.next=15;break}throw-102083===c&&(s="Please enable relayed-push in ".concat(RE," and try later, refer to ").concat(FE,"tutorial-26-advanced-publish-cdn-stream.html")),this.log_.error("startMixTranscode failed, errCode: ".concat(c," errMsg: ").concat(s)),this.isMixing_=!1,new CR({code:kR.START_MIX_TRANSCODE_FAILED,message:eD({key:vI,data:{message:s},link:{className:"Client",fnName:"startMixTranscode"}})});case 15:e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(5),this.isMixing_=!1,e.t0;case 21:case"end":return e.stop()}}),e,this,[[5,17]])}))),function(e){return i.apply(this,arguments)})},{key:"reStartMixTranscode",value:function(){this.isMixing_&&this.startMixTranscode(this.config_)}},{key:"stopMixTranscode",value:(n=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMixing_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:mI})});case 2:return e.next=4,this.doStopMixTranscode();case 4:this.resetIsUsedFlag();case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"doStopMixTranscode",value:(t=a(r().mark((function e(){var t,n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mcuRequestTime:Date.now(),outputSessionId:this.data_.outputSessionId,streamType:this.data_.outputParam.streamType},this.log_.info("stopMixTranscode: ".concat(JSON.stringify(t))),e.next=4,this.signalChannel_.sendWaitForResponse({command:_R,data:t,timeout:5e3,responseCommand:iR.STOP_MIX_TRANSCODE_RES,commandDesc:"stopMixTranscode"});case 4:if(n=e.sent,i=n.data,o=i.code,a=i.message,0!==o){e.next=10;break}this.isMixing_=!1,e.next=12;break;case 10:throw this.log_.error("stopMixTranscode failed, errCode: ".concat(o," errMsg: ").concat(a)),new CR({code:kR.STOP_MIX_TRANSCODE_FAILED,message:eD({key:hI,data:{message:a},link:{className:"Client",fnName:"stopMixTranscode"}})});case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getOutputSessionId",value:function(e){var t=e.config,n=e.userId,r=e.roomId;return sD(t.streamId)&&t.streamId.length>0?t.streamId:GZ("".concat(r,"_").concat(n,"_main"))}},{key:"getInputParam",value:function(e,t){var n=this,r=e.mixUsers.map((function(e){return{userId:e.userId,roomId:String(e.roomId||n.client_.getRoomId()),width:e.width||0,height:e.height||0,locationX:e.locationX||0,locationY:e.locationY||0,zOrder:e.zOrder,streamType:cD(e.streamType)||e.streamType!==vP?0:1,inputType:e.pureAudio?lE.IT_PURE_AUDIO:lE.IT_AUDIO_VIDEO,renderMode:e.renderMode||0}}));return e.mode===oE.PRESET_LAYOUT&&(r.forEach((function(e){if(e.userId===aE.REMOTE){var n=S(t.values()).find((function(e){return!e.isUsed}));n&&(e.userId=n.remoteStream.getUserId(),e.streamType=n.remoteStream.getType()===vP?1:0,n.isUsed=!0)}})),r=r.filter((function(e){return e.userId!==aE.REMOTE}))),r}},{key:"getOutputParam",value:function(e){var t=e.streamId||"";return{streamId:t,streamType:t.length>0?1:0,width:cD(e.videoWidth)?640:e.videoWidth,height:cD(e.videoHeight)?480:e.videoHeight,videoBps:e.videoBitrate||0,fps:e.videoFramerate||15,gop:e.videoGOP||2,audioSampleRate:e.audioSampleRate||48e3,audioBps:e.audioBitrate||64,audioChannels:e.audioChannels||1,backgroundColor:e.backgroundColor||0,backgroundImg:e.backgroundImage||"",extraInfo:"",videoCodec:2,audioCodec:0}}},{key:"hasAvailablePlaceHolder",value:function(){return!!this.isPresetLayoutMode&&this.data_.inputParam.length!==this.config_.mixUsers.length}},{key:"resetIsUsedFlag",value:function(){this.remoteStreamMap_.forEach((function(e){return e.isUsed=!1}))}}]),e}(),JZ=function(){function e(t){l(this,e),this.client_=t.client,this.signalChannel_=t.signalChannel,this.isPublishingTencentCDN_=!1,this.publishTencentStreamRetryCount_=0,this.publishTencentStreamId_=void 0,this.publishGivenCDNData_=null,this.isPublishingGivenCDN_=!1}var t,n,i,o,u;return c(e,[{key:"setSignalChannel",value:function(e){this.signalChannel_=e.signalChannel}},{key:"getIsPublishingTencentCDN",value:function(){return this.isPublishingTencentCDN_}},{key:"getIsPublishingGivenCDN",value:function(){return this.isPublishingGivenCDN_}},{key:"generatePublishCDNStreamId",value:function(e){if(!e){var t="".concat(this.client_.getRoomId(),"_").concat(this.client_.getUserId(),"_main");return/^[A-Za-z\d_-]*$/.test(t)||(t=GZ(t)),"".concat(this.client_.getSDKAppId(),"_").concat(t)}return e}},{key:"startPublishTencentCDN",value:(u=a(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPublishingTencentCDN_=!0,this.publishTencentStreamId_=t.streamId,this.client_.isJoined_){e.next=4;break}return e.abrupt("return");case 4:return n=this.generatePublishCDNStreamId(t.streamId),i={requestTime:Date.now(),sessionId:GZ("".concat(this.client_.getRoomId(),"_").concat(this.client_.getUserId(),"_main")),streamId:n,streamType:0},this.publishTencentStreamRetryCount_=0,e.next=9,this.doStartPublishTencentCDN(i);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"doStartPublishTencentCDN",value:(o=a(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Tj.info("startPublishTencentCDN: "+JSON.stringify(t)),e.next=4,this.signalChannel_.sendWaitForResponseWithRetry({command:hR,data:t,timeout:2e3,responseCommand:iR.START_PUBLISH_TENCENT_CDN_RES,commandDesc:"startPublishCDNStream",retries:2});case 4:if(n=e.sent,i=n.data,o=i.code,a=i.message,0===o){e.next=12;break}throw this.publishTencentStreamId_=void 0,this.isPublishingTencentCDN_=!1,-102083===o&&(a="Please enable relayed-push in ".concat(RE," and try later, refer to ").concat(FE,"tutorial-26-advanced-publish-cdn-stream.html")),Tj.error("startPublishTencentCDN failed, errCode: ".concat(o,", errMsg: ").concat(a)),new CR({code:kR.START_PUBLISH_CDN_FAILED,message:eD({key:VT,data:{message:a},link:{className:"Client",fnName:"startPublishCDNStream"}})});case 12:e.next=19;break;case 14:throw e.prev=14,e.t0=e.catch(0),this.publishTencentStreamId_=void 0,this.isPublishingTencentCDN_=!1,e.t0;case 19:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e){return o.apply(this,arguments)})},{key:"stopPublishTencentCDN",value:(i=a(r().mark((function e(){var t,n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={requestTime:Date.now(),sessionId:GZ("".concat(this.client_.getRoomId(),"_").concat(this.client_.getUserId(),"_main"))},Tj.info("stopPublishTencentCDN: "+JSON.stringify(t)),e.next=4,this.signalChannel_.sendWaitForResponse({command:mR,data:t,timeout:5e3,responseCommand:iR.STOP_PUBLISH_TENCENT_CDN_RES,commandDesc:"stopPublishCDNStream"});case 4:if(n=e.sent,i=n.data,o=i.code,a=i.message,0!==o){e.next=11;break}this.publishTencentStreamId_=void 0,this.isPublishingTencentCDN_=!1,e.next=19;break;case 11:if(-102069!==o){e.next=17;break}Tj.warn("stopPublishTencentCDN failed, can not stopPublishTencentCDN in auto relayed-push mode"),this.publishTencentStreamId_=void 0,this.isPublishingTencentCDN_=!1,e.next=19;break;case 17:throw Tj.error("stopPublishTencentCDN failed, errCode: ".concat(o," errMsg: ").concat(a)),new CR({code:kR.STOP_PUBLISH_CDN_FAILED,message:eD({key:BT,data:{message:a},link:{className:"Client",fnName:"stopPublishCDNStream"}})});case 19:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"startPublishGivenCDN",value:(n=a(r().mark((function e(t){var n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={pushRequestTime:Date.now(),pushAppId:t.appId,pushBizId:t.bizId,pushCdnUrl:t.url,pushStreamType:Nx,pushStreamId:this.publishTencentStreamId_},Tj.info("startPublishGivenCDN: "+JSON.stringify(n)),this.publishGivenCDNData_=n,this.isPublishingGivenCDN_=!0,this.client_.isJoined_){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,this.signalChannel_.sendWaitForResponse({command:gR,data:n,timeout:5e3,responseCommand:iR.START_PUBLISH_GIVEN_CDN_RES,commandDesc:"startPublishCDNStream"});case 9:if(i=e.sent,o=i.data,a=o.code,l=o.message,0===a){e.next=16;break}throw Tj.error("startPublishGivenCDN failed, errCode: ".concat(a,", errMsg: ").concat(l)),this.publishGivenCDNData_=null,this.isPublishingGivenCDN_=!1,new CR({code:kR.START_PUBLISH_CDN_FAILED,message:eD({key:VT,data:{message:l},link:{className:"Client",fnName:"startPublishCDNStream"}})});case 16:e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(6),this.publishGivenCDNData_=null,this.isPublishingGivenCDN_=!1,e.t0;case 23:case"end":return e.stop()}}),e,this,[[6,18]])}))),function(e){return n.apply(this,arguments)})},{key:"stopPublishGivenCDN",value:(t=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.publishGivenCDNData_,n=t.pushAppId,i=t.pushBizId,o=t.pushCdnUrl,a=t.pushStreamType,l={pushRequestTime:Date.now(),pushAppId:n,pushBizId:i,pushCdnUrl:o,pushStreamType:a},Tj.info("stopPublishGivenCDN: "+JSON.stringify(l)),e.next=5,this.signalChannel_.sendWaitForResponse({command:yR,data:l,timeout:5e3,responseCommand:iR.STOP_PUBLISH_GIVEN_CDN_RES,commandDesc:"stopPublishCDNStream"});case 5:if(u=e.sent,c=u.data,s=c.code,d=c.message,0!==s){e.next=12;break}this.publishGivenCDNData_=null,this.isPublishingGivenCDN_=!1,e.next=14;break;case 12:throw Tj.error("stopPublishGivenCDN failed, errCode: ".concat(s," errMsg: ").concat(d)),new CR({code:kR.STOP_PUBLISH_CDN_FAILED,message:eD({key:BT,data:{message:d},link:{className:"Client",fnName:"stopPublishCDNStream"}})});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleCDNConfigForJoinData",value:function(e){var t,n=e;if(this.isPublishingTencentCDN_){var r={};sD(n)&&(r=JSON.parse(n)),r.Str_uc_params||(r.Str_uc_params={}),r.Str_uc_params.userdefine_streamid_main=this.generatePublishCDNStreamId(this.publishTencentStreamId_),n=JSON.stringify(r)}if(this.isPublishingGivenCDN_){var i=this.publishGivenCDNData_,o=i.pushAppId,a=i.pushBizId,l=i.pushCdnUrl,u=i.pushStreamType,c=i.pushStreamId;t={pushRequestTime:Date.now(),pushAppId:o,pushBizId:a,pushCdnUrl:l,pushStreamType:u,pushStreamId:c}}return{bussinessInfo:n,pushUserCdnInfo:t}}},{key:"reset",value:function(){this.isPublishingTencentCDN_=!1,this.publishTencentStreamRetryCount_=0,this.publishTencentStreamId_=void 0,this.publishGivenCDNData_=null,this.isPublishingGivenCDN_=!1}}]),e}(),qZ=function(){function e(t){l(this,e),this.client_=t.client,this.durationMap_=new Map,this.installEvents()}return c(e,[{key:"installEvents",value:function(){DD.on(nj,this.handleSubscribed,this),DD.on(QD,this.handleStreamTrackUpdated,this),DD.on(rj,this.handleStreamStopped,this),DD.on(oj,this.handleStreamStopped,this)}},{key:"uninstallEvents",value:function(){DD.off(nj,this.handleSubscribed,this),DD.off(QD,this.handleStreamTrackUpdated,this),DD.off(rj,this.handleStreamStopped,this),DD.off(oj,this.handleStreamStopped,this)}},{key:"handleSubscribed",value:function(e){var t=e.client,n=e.stream;if(t===this.client_){var r=n.getUserId(),i=n.getType(),o="".concat(r,"_").concat(i);if(n.hasAudio())if(n.isMainAudioSubscribed){var a=new UZ,l=this.durationMap_.get(o);l?this.isRecording(l.audio)||l.audio.push(a):this.durationMap_.set(o,{userId:r,type:i,audio:[a],video:[]})}else this.stopDurationItem(o,_x);if(n.hasVideo())if(i===pP&&n.isMainVideoSubscribed||i===vP&&n.isAuxVideoSubscribed){var u=new UZ,c=this.durationMap_.get(o);c?this.isRecording(c.video)||c.video.push(u):this.durationMap_.set(o,{userId:r,type:i,audio:[],video:[u]})}else this.stopDurationItem(o,wx)}}},{key:"handleStreamStopped",value:function(e){var t=e.client,n=e.stream;if(this.clientHitTest(t)){var r=n.getUserId(),i=n.getType(),o="".concat(r,"_").concat(i);this.stopDurationItem(o,_x),this.stopDurationItem(o,wx)}}},{key:"handleStreamTrackUpdated",value:function(e){var t=e.client,n=e.userId,r=e.tinyId,i=e.kind,o=e.action;if(this.clientHitTest(t)&&this.client_.getConnections().has(r)){var a=i===Sx?i:pP,l="".concat(n,"_").concat(a);if(o===pE){var u=this.client_.getConnections().get(r).getSubscribeState();if(i===_x&&!u.audio||i===wx&&!u.video||i===Sx&&!u.auxiliary)return;var c=new UZ,s=this.durationMap_.get(l);s?(i!==_x||this.isRecording(s.audio)||s.audio.push(c),i===_x||this.isRecording(s.video)||s.video.push(c)):this.durationMap_.set(l,{userId:n,type:a,audio:i===_x?[c]:[],video:i===_x?[]:[c]})}else this.stopDurationItem(l,i===_x?_x:wx)}}},{key:"isRecording",value:function(e){return e.findIndex((function(e){return 0===e.endTime}))>=0}},{key:"stopDurationItem",value:function(e,t){if(this.durationMap_.has(e)){var n=this.durationMap_.get(e)[t].find((function(e){return 0===e.endTime}));n&&n.stop()}}},{key:"clientHitTest",value:function(e){return this.client_===e}},{key:"getDuration",value:function(e,t){return this.durationMap_.has(e)?this.durationMap_.get(e)[t].reduce((function(e,t){return e+t.getDuration()}),0):0}},{key:"getDurationMap",value:function(){return this.durationMap_}},{key:"reset",value:function(){this.durationMap_.clear()}},{key:"destroy",value:function(){this.client_=null,this.uninstallEvents()}}]),e}(),XZ=ki,QZ=D,eK=pc.f;function tK(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{retries:5,timeout:2e3};return function(t,n,r){var i=kj({retryFunction:r.value,settings:e,onRetryFailed:e.onRetryFailed});return r.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(this,t)},r}}XZ({target:"Object",stat:!0,forced:QZ((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:eK});var nK=5e3,rK={msg_user_info:0,uint32_video_avg_fps:0,uint32_video_width:0,uint32_video_height:0,uint32_video_avg_bitrate:0,uint32_video_block_time:0,uint32_video_play_time:0,uint32_audio_block_time:0,uint32_audio_play_time:0,uint32_audio_play_db:0,uint32_avg_down_loss:0,uint32_stream_type:0,uint32_video_render_first:0,uint32_video_block_count:0,uint32_audio_block_count:0,uint32_audio_bitrate:0,uint32_video_black_screen_subjective:0,uint32_audio_recv_bitrate:0,uint32_video_external_block_time:0},iK=c((function e(t){l(this,e),this.str_identifier=String(t.userId),this.uint64_tinyid=Number(t.tinyId),this.uint32_role=t.role})),oK=(KZ=tK({timeout:500,retries:3}),YZ=function(){function e(t){var n=this;l(this,e),this.frameWorkType_=t.frameWorkType||30,this.client_=t.client,this.keyPrefix_="key_point",this.storageKey_="".concat(this.keyPrefix_,"_").concat(this.client_.getUserId()),this.log_=Tj.createLogger({id:"kpm|"+this.client_.getUserId(),userId:this.client_.getUserId(),sdkAppId:this.client_.getSDKAppId()}),Object.getOwnPropertyNames(this.__proto__).forEach((function(e){e.startsWith("handle")&&uD(n[e])&&(n[e]=function(e){var t=e.fn,n=e.context;return a(r().mark((function e(){var i,o,a,l=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,i=l.length,o=new Array(i),a=0;a<i;a++)o[a]=l[a];return e.next=4,t.apply(n||this,o);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),Tj.error("".concat(t.name,"() error observed ")+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))}({fn:n[e],context:n}))})),this.initData(),this.installEvents(),this.intervalId_=AA.setInterval(this.setStorage.bind(this),2e4)}var n,i,o;return c(e,[{key:"initData",value:function(){this.firstPublishedUserList_=[],this.networkQuality_={totalUplinkRTT:0,totalUplinkLoss:0,count:0,totalDownlinkRTTAndLossMap:new Map},this.basicInfo={string_sdk_version:XS,uint32_os_type:15,string_device_name:"",string_http_user_agent:navigator.userAgent,string_os_version:"",uint32_avg_rtt:0,uint32_avg_up_loss:0,uint32_scene:"live"===this.client_.getMode()?1:0,uint32_joining_duration:0,uint32_networkType:hE[iD()],uint32_framework:this.frameWorkType_},this.pathJoinRoom_={uint64_start_time:0,uint64_init_audio_start_time:0,uint64_init_audio_end_time:0,uint64_init_camera_start_time:0,uint64_init_camera_end_time:0,uint64_send_request_acc_ip_cmd_start_time:0,uint64_send_request_acc_ip_cmd_end_time:0,uint64_send_request_enter_room_cmd_start_time:0,uint64_send_request_enter_room_cmd_end_time:0,uint64_send_first_video_frame_time:0,uint64_recv_userlist_time:0,uint64_end_time:0,int32_init_audio_ret:0,int32_init_camera_ret:0,int32_send_request_acc_ip_cmd_ret:0,int32_send_request_enter_room_cmd_ret:0,int32_end_ret:0},this.pathLeaveRoom_={uint64_start_time:0,uint64_send_request_exit_room_cmd_start_time:0,uint64_send_request_exit_room_cmd_end_time:0,uint64_end_time:0,int32_send_request_exit_room_cmd_ret:0,int32_end_ret:0},this.pathMainVideoMap_=new Map,this.pathMainAudioMap_=new Map,this.pathAuxiliaryMap_=new Map,this.localStreamStats_={totalVideoBitrate:0,totalVideoFPS:0,totalVideoHeight:0,totalVideoWidth:0,totalAudioLevel:0,videoCount:0,audioLevelCount:0,publishStartTime:0,statsToReport:{uint32_audio_capture_db:0,uint32_video_big_capture_fps:0,uint32_video_big_bitrate:0,uint32_video_big_resolution:0}},this.remoteStreamStatsMap_=new Map}},{key:"installEvents",value:function(){DD.on(jD,this.handleJoinStart,this),DD.on(HD,this.handleWSStart,this),DD.on(zD,this.handleWSEnd,this),DD.on(RD,this.handleJoinSendCMD,this),DD.on(AD,this.handleJoinReceivedCMDResponce,this),DD.on(FD,this.handleJoinSuccess,this),DD.on(MD,this.handleJoinFailed,this),DD.on(BD,this.handleReceivedPublishUserList,this),DD.on(yj,this.handleConnectionStateChanged,this),DD.on(ND,this.handleLeaveStart,this),DD.on(WD,this.handleLeaveSuccess,this),DD.on(LD,this.handleLeaveSendCMD,this),DD.on(bj,this.handleSendSubscribeCMD,this),DD.on(qD,this.handleVideoPlaying,this),DD.on(XD,this.handleAudioPlaying,this),DD.on(_j,this.handleNetworkQuality,this),DD.on(VD,this.handleHeartbeatStats,this),DD.on(ej,this.handleRemoteStreamAdded,this),DD.on(tj,this.handleRemoteStreamSubscribeStart,this),DD.on(nj,this.handleRemoteStreamSubscribed,this),DD.on(pj,this.handleVideoLoadedData,this),DD.on(fj,this.handlePlayStream,this),DD.on(UD,this.handlePublishStart,this),DD.on(lj,this.handleLocalStreamInitStart,this),DD.on(uj,this.handleLocalStreamInitEnd,this),DD.on(cj,this.handleLocalStreamInitFailed,this)}},{key:"uninstallEvents",value:function(){DD.off(jD,this.handleJoinStart,this),DD.off(HD,this.handleWSStart,this),DD.off(zD,this.handleWSEnd,this),DD.off(RD,this.handleJoinSendCMD,this),DD.off(AD,this.handleJoinReceivedCMDResponce,this),DD.off(BD,this.handleReceivedPublishUserList,this),DD.off(yj,this.handleConnectionStateChanged,this),DD.off(ND,this.handleLeaveStart,this),DD.off(WD,this.handleLeaveSuccess,this),DD.off(FD,this.handleJoinSuccess,this),DD.off(MD,this.handleJoinFailed,this),DD.off(LD,this.handleLeaveSendCMD,this),DD.off(bj,this.handleSendSubscribeCMD,this),DD.off(qD,this.handleVideoPlaying,this),DD.off(XD,this.handleAudioPlaying,this),DD.off(_j,this.handleNetworkQuality,this),DD.off(VD,this.handleHeartbeatStats,this),DD.off(ej,this.handleRemoteStreamAdded,this),DD.off(tj,this.handleRemoteStreamSubscribeStart,this),DD.off(nj,this.handleRemoteStreamSubscribed,this),DD.off(pj,this.handleVideoLoadedData,this),DD.off(fj,this.handlePlayStream,this),DD.off(UD,this.handlePublishStart,this),DD.off(lj,this.handleLocalStreamInitStart,this),DD.off(uj,this.handleLocalStreamInitEnd,this),DD.off(cj,this.handleLocalStreamInitFailed,this)}},{key:"destroy",value:function(){this.uninstallEvents(),AA.clearInterval(this.intervalId_),this.client_=null}},{key:"handleJoinStart",value:function(e){this.hitTest(e.client)&&0===this.pathJoinRoom_.uint64_start_time&&(this.pathJoinRoom_.uint64_start_time=Date.now(),this.checkStorage())}},{key:"handleWSStart",value:function(e){var t=e.client;this.hitTest(t)&&0===this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_start_time&&(this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_start_time=Date.now())}},{key:"handleWSEnd",value:function(e){var t=e.client,n=e.error;this.hitTest(t)&&0===this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_end_time&&(this.pathJoinRoom_.uint64_send_request_acc_ip_cmd_end_time=Date.now(),n&&(this.pathJoinRoom_.int32_send_request_acc_ip_cmd_ret=n instanceof CR?Number(n.getExtraCode()||n.getCode()):kR.UNKNOWN,this.pathJoinRoom_.int32_end_ret=2))}},{key:"handleJoinSendCMD",value:function(e){this.hitTest(e.client)&&0===this.pathJoinRoom_.uint64_send_request_enter_room_cmd_start_time&&(this.pathJoinRoom_.uint64_send_request_enter_room_cmd_start_time=Date.now())}},{key:"handleJoinReceivedCMDResponce",value:function(e){this.hitTest(e.client)&&0===this.pathJoinRoom_.uint64_send_request_enter_room_cmd_end_time&&(this.pathJoinRoom_.uint64_send_request_enter_room_cmd_end_time=Date.now(),this.pathJoinRoom_.int32_send_request_enter_room_cmd_ret=e.code,0!==e.code&&(this.pathJoinRoom_.int32_end_ret=3))}},{key:"handleJoinSuccess",value:function(e){this.hitTest(e.client)&&0===this.pathJoinRoom_.uint64_end_time&&(this.pathJoinRoom_.uint64_end_time=Date.now(),this.pathJoinRoom_.int32_end_ret=0)}},{key:"handleJoinFailed",value:function(e){var t=e.client;this.hitTest(t)&&(this.pathJoinRoom_.uint64_end_time=Date.now(),0===this.pathJoinRoom_.int32_end_ret&&(this.pathJoinRoom_.int32_end_ret=3),this.prepareReport(),this.report())}},{key:"handleReceivedPublishUserList",value:function(e){this.hitTest(e.client)&&0===this.pathJoinRoom_.uint64_recv_userlist_time&&(this.pathJoinRoom_.uint64_recv_userlist_time=Date.now(),this.firstPublishedUserList_=e.data.data&&e.data.data.userList||[])}},{key:"handleConnectionStateChanged",value:function(e){var t=e.client,n=e.state,r=e.connection;if(this.hitTest(t)&&n===bP){this.client_.getUplinkConnection()===r&&0===this.pathJoinRoom_.uint64_send_first_video_frame_time&&this.localStreamStats_.publishStartTime>this.pathJoinRoom_.uint64_end_time&&this.localStreamStats_.publishStartTime-this.pathJoinRoom_.uint64_end_time<=100&&(this.pathJoinRoom_.uint64_send_first_video_frame_time=Date.now());var i=this.pathMainVideoMap_.get("".concat(r.getUserId(),"_").concat(pP));i&&0===i.statsToReport.uint64_pc_connected_time&&(i.statsToReport.uint64_pc_connected_time=Date.now())}}},{key:"handleLeaveStart",value:function(e){this.hitTest(e.client)&&(this.pathLeaveRoom_.uint64_start_time=Date.now())}},{key:"handleLeaveSuccess",value:function(e){this.hitTest(e.client)&&0===this.pathLeaveRoom_.uint64_end_time&&(this.pathLeaveRoom_.uint64_end_time=Date.now(),0!==this.pathJoinRoom_.uint64_end_time?this.basicInfo.uint32_joining_duration=this.pathLeaveRoom_.uint64_end_time-this.pathJoinRoom_.uint64_end_time:this.log_.warn("pathJoinRoom endTime is 0"),this.report())}},{key:"handleLeaveSendCMD",value:function(e){this.hitTest(e.client)&&(this.pathLeaveRoom_.uint64_send_request_exit_room_cmd_start_time=Date.now(),this.pathLeaveRoom_.uint64_send_request_exit_room_cmd_end_time=Date.now())}},{key:"handleRemoteStreamAdded",value:function(e){var n=e.client,r=e.stream;if(this.hitTest(n)){var i=r.getUserId(),o=r.getType(),a="".concat(i,"_").concat(o),l=this.remoteStreamStatsMap_.get(a);if(l)l.stream=r;else{var u={userId:i,totalVideoFPS:0,totalVideoBitrate:0,totalAudioLevel:0,totalAudioBitrate:0,totalLoss:0,audioCount:0,audioLevelCount:0,videoCount:0,networkQualityCount:0,streamAddedTime:Date.now(),subscribeStartTime:0,subscribedTime:0,playStreamTime:0,statsToReport:t({},rK),stream:r};u.statsToReport.msg_user_info=new iK({userId:i,tinyId:r.getTinyId(),role:aP}),u.statsToReport.uint32_stream_type=o===pP?2:7,this.remoteStreamStatsMap_.set(a,u)}}}},{key:"handleRemoteStreamSubscribeStart",value:function(e){var t=e.client,n=e.stream;if(this.hitTest(t)){var r=n.getUserId(),i=n.getType(),o="".concat(r,"_").concat(i),a=this.remoteStreamStatsMap_.get(o);a&&0===a.subscribeStartTime&&(a.subscribeStartTime=Date.now())}}},{key:"handleSendSubscribeCMD",value:function(e){if(this.hitTest(e.client)){var t=new iK(e),n=Date.now(),r="".concat(e.userId,"_").concat(pP);e.trackState.video&&e.subscribeState.video&&!this.pathMainVideoMap_.has(r)&&this.pathMainVideoMap_.set(r,{statsToReport:{msg_user_info:t,uint64_start_enter_time:this.pathJoinRoom_.uint64_start_time,uint64_render_first_frame_time:0,uint64_combine_first_frame_time:0,uint64_pc_connected_time:0},userId:e.userId,sendSubscribeCMDTime:n}),e.trackState.audio&&e.subscribeState.audio&&!this.pathMainAudioMap_.has(r)&&this.pathMainAudioMap_.set(r,{statsToReport:{msg_user_info:t,uint64_start_enter_time:this.pathJoinRoom_.uint64_start_time,uint64_play_first_frame_time:0},userId:e.userId,sendSubscribeCMDTime:n});var i="".concat(e.userId,"_").concat(vP);e.trackState.auxiliary&&e.subscribeState.auxiliary&&!this.pathAuxiliaryMap_.has(i)&&this.pathAuxiliaryMap_.set(i,{sendSubscribeCMDTime:n})}}},{key:"handleRemoteStreamSubscribed",value:function(e){var t=e.client,n=e.stream;if(this.hitTest(t)){var r=n.getUserId(),i=n.getType(),o="".concat(r,"_").concat(i),a=this.remoteStreamStatsMap_.get(o);a&&0===a.subscribedTime&&(a.subscribedTime=Date.now(),a.stream=n)}}},{key:"handlePlayStream",value:function(e){var t=e.stream;if(t.isRemote()&&t.getConnection()&&this.hitTest(t.getConnection().getClient())){var n=t.getConnection().getUserId(),r="".concat(n,"_").concat(t.getType());if(this.remoteStreamStatsMap_.has(r)){var i=this.remoteStreamStatsMap_.get(r);0===i.playStreamTime&&(i.playStreamTime=Date.now())}}}},{key:"handleVideoLoadedData",value:function(e){var t=e.stream;if(t.isRemote()&&t.getConnection()&&this.hitTest(t.getConnection().getClient())){var n=t.getConnection().getUserId(),r="".concat(n,"_").concat(t.getType());if(this.pathMainVideoMap_.has(r)){var i=this.pathMainVideoMap_.get(r);0===i.statsToReport.uint64_combine_first_frame_time&&(i.statsToReport.uint64_combine_first_frame_time=Date.now())}}}},{key:"handleVideoPlaying",value:function(e){var t=e.stream;if(t.isRemote()&&t.getConnection()&&this.hitTest(t.getConnection().getClient())){var n=t.getConnection().getUserId(),r="".concat(n,"_").concat(t.getType()),i=Date.now();if(this.pathMainVideoMap_.has(r)){var o=this.pathMainVideoMap_.get(r);if(0===o.statsToReport.uint64_render_first_frame_time&&(o.statsToReport.uint64_render_first_frame_time=i),this.remoteStreamStatsMap_.has(r)){var a=this.remoteStreamStatsMap_.get(r),l=a.statsToReport,u=a.playStreamTime,c=a.subscribedTime;0===l.uint32_video_render_first&&u-c<=100&&(l.uint32_video_render_first=i-o.sendSubscribeCMDTime)}}if(t.getType()===vP&&this.pathAuxiliaryMap_.has(r)&&this.remoteStreamStatsMap_.has(r)){var s=this.remoteStreamStatsMap_.get(r),d=s.statsToReport,f=s.playStreamTime,p=s.subscribedTime;0===d.uint32_video_render_first&&f-p<=100&&(d.uint32_video_render_first=i-this.pathAuxiliaryMap_.get(r).sendSubscribeCMDTime)}}}},{key:"handleAudioPlaying",value:function(e){if(e.stream.isRemote()&&e.stream.getConnection()&&this.hitTest(e.stream.getConnection().getClient())){var t=e.stream.getConnection().getUserId(),n="".concat(t,"_").concat(e.stream.getType());if(this.pathMainAudioMap_.has(n)){var r=this.pathMainAudioMap_.get(n);0===r.statsToReport.uint64_play_first_frame_time&&(r.statsToReport.uint64_play_first_frame_time=Date.now())}}}},{key:"handleNetworkQuality",value:function(e){var t=this;this.hitTest(e.client)&&(this.networkQuality_.totalUplinkLoss+=e.uplinkLoss,this.networkQuality_.totalUplinkRTT+=e.uplinkRTT,this.networkQuality_.count++,e.downlinkLossAndRTTMap.forEach((function(e){var n=e.rtt,r=e.loss,i=e.userId,o=t.networkQuality_.totalDownlinkRTTAndLossMap.get(i);o?(o.totalRTT+=n,o.totalLoss+=r,o.count++):t.networkQuality_.totalDownlinkRTTAndLossMap.set(i,{totalRTT:n,totalLoss:r,count:1})})))}},{key:"handleHeartbeatStats",value:function(e){var t=this;if(this.hitTest(e.client)){var n=e.stats,r=n.msg_up_stream_info,i=n.msg_down_stream_info;if(r.msg_video_status[0]){var o=r.msg_video_status[0],a=o.uint32_video_codec_bitrate,l=o.uint32_video_enc_fps,u=o.uint32_video_width,c=o.uint32_video_height;this.localStreamStats_.totalVideoBitrate+=a,this.localStreamStats_.totalVideoFPS+=l,this.localStreamStats_.totalVideoWidth+=u,this.localStreamStats_.totalVideoHeight+=c,this.localStreamStats_.videoCount++}var s=r.msg_audio_status.audioLevel;Math.floor(100*s)>0&&(this.localStreamStats_.totalAudioLevel+=s,this.localStreamStats_.audioLevelCount++),i.forEach((function(e){var n=e.msg_user_info,r=e.msg_audio_status,i=e.msg_video_status,o=n.str_identifier;if(i.forEach((function(e){var n=2===e.uint32_video_stream_type,r=7===e.uint32_video_stream_type,i="".concat(o,"_").concat(n?pP:vP);if(t.remoteStreamStatsMap_.has(i)){var a=t.remoteStreamStatsMap_.get(i);(n&&a.stream.isMainVideoSubscribed||r&&a.stream.isAuxVideoSubscribed)&&(a.totalVideoFPS+=e.uint32_video_receive_fps,a.totalVideoBitrate+=e.uint32_video_codec_bitrate,a.videoCount++,0===a.statsToReport.uint32_video_width&&(a.statsToReport.uint32_video_width=e.uint32_video_width),0===a.statsToReport.uint32_video_height&&(a.statsToReport.uint32_video_height=e.uint32_video_height))}})),r){var a="".concat(o,"_").concat(pP);if(t.remoteStreamStatsMap_.has(a)){var l=t.remoteStreamStatsMap_.get(a);l.stream.isMainAudioSubscribed&&(l.totalAudioBitrate+=r.uint32_audio_codec_bitrate,l.audioCount++,Math.floor(100*r.audioLevel)>0&&(l.totalAudioLevel+=r.audioLevel,l.audioLevelCount++))}}}))}}},{key:"handlePublishStart",value:function(e){var t=e.client;this.hitTest(t)&&0===this.localStreamStats_.publishStartTime&&(this.localStreamStats_.publishStartTime=Date.now())}},{key:"handleLocalStreamInitStart",value:function(e){var t=e.audio,n=e.video;t&&0===this.pathJoinRoom_.uint64_init_audio_start_time&&(this.pathJoinRoom_.uint64_init_audio_start_time=Date.now()),n&&0===this.pathJoinRoom_.uint64_init_camera_start_time&&(this.pathJoinRoom_.uint64_init_camera_start_time=Date.now())}},{key:"handleLocalStreamInitEnd",value:function(e){var t=e.audio,n=e.video;t&&0===this.pathJoinRoom_.uint64_init_audio_end_time&&(this.pathJoinRoom_.uint64_init_audio_end_time=Date.now()),n&&0===this.pathJoinRoom_.uint64_init_camera_end_time&&(this.pathJoinRoom_.uint64_init_camera_end_time=Date.now())}},{key:"handleLocalStreamInitFailed",value:function(e){var t=e.audio,n=e.video,r=e.error,i=r instanceof CR?r.getExtraCode()||r.getCode():{NotFoundError:1,NotAllowedError:2,NotReadableError:3,OverConstrainedError:4,AbortError:5}[r.name]||kR.UNKNOWN;t&&0===this.pathJoinRoom_.uint64_init_audio_end_time&&(this.pathJoinRoom_.int32_init_audio_ret=i,this.pathJoinRoom_.uint64_init_audio_end_time=Date.now()),n&&0===this.pathJoinRoom_.uint64_init_camera_end_time&&(this.pathJoinRoom_.int32_init_camera_ret=i,this.pathJoinRoom_.uint64_init_camera_end_time=Date.now())}},{key:"hasVideoFlag",value:function(e){return this.firstPublishedUserList_.findIndex((function(t){return t.userId===e&&1&t.flag}))>=0}},{key:"hasAudioFlag",value:function(e){return this.firstPublishedUserList_.findIndex((function(t){return t.userId===e&&8&t.flag}))>=0}},{key:"hasAuxFlag",value:function(e){return this.firstPublishedUserList_.findIndex((function(t){return t.userId===e&&4&t.flag}))>=0}},{key:"hitTest",value:function(e){return e===this.client_}},{key:"checkStorage",value:(o=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=MA.getItem(this.storageKey_))){e.next=6;break}return e.next=5,this.upload(t);case 5:MA.deleteItem(this.storageKey_);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.log_.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return o.apply(this,arguments)})},{key:"setStorage",value:function(){this.prepareReport();var e=this.getReportData();0!==e.msg_path_enter_room.uint64_start_time&&MA.setItem(this.storageKey_,e)}},{key:"prepareReport",value:function(){var e=this;if(this.networkQuality_.count>0&&(this.basicInfo.uint32_avg_rtt=Math.floor(this.networkQuality_.totalUplinkRTT/this.networkQuality_.count),this.basicInfo.uint32_avg_up_loss=Math.floor(this.networkQuality_.totalUplinkLoss/this.networkQuality_.count)),this.localStreamStats_.videoCount>0){this.localStreamStats_.statsToReport.uint32_video_big_capture_fps=Math.floor(this.localStreamStats_.totalVideoFPS/this.localStreamStats_.videoCount),this.localStreamStats_.statsToReport.uint32_video_big_bitrate=Math.floor(this.localStreamStats_.totalVideoBitrate/this.localStreamStats_.videoCount);var t=Math.floor(this.localStreamStats_.totalVideoWidth/this.localStreamStats_.videoCount),n=Math.floor(this.localStreamStats_.totalVideoHeight/this.localStreamStats_.videoCount);this.localStreamStats_.statsToReport.uint32_video_big_resolution=t<<16|n}this.localStreamStats_.audioLevelCount>0&&(this.localStreamStats_.statsToReport.uint32_audio_capture_db=Math.floor(this.localStreamStats_.totalAudioLevel/this.localStreamStats_.audioLevelCount*100)),this.remoteStreamStatsMap_.forEach((function(t,n){var r=t.userId;if(e.networkQuality_.totalDownlinkRTTAndLossMap.has(r)){var i=e.networkQuality_.totalDownlinkRTTAndLossMap.get(r),o=i.totalLoss,a=i.count;t.statsToReport.uint32_avg_down_loss=Math.floor(o/a)}t.videoCount>0&&(t.statsToReport.uint32_video_avg_fps=Math.floor(t.totalVideoFPS/t.videoCount),t.statsToReport.uint32_video_avg_bitrate=Math.floor(t.totalVideoBitrate/t.videoCount)),t.audioCount>0&&(t.statsToReport.uint32_audio_recv_bitrate=t.statsToReport.uint32_audio_bitrate=Math.floor(t.totalAudioBitrate/t.audioCount)),t.audioLevelCount>0&&(t.statsToReport.uint32_audio_play_db=Math.floor(t.totalAudioLevel/t.audioLevelCount*100));var l=e.client_.getCallDurationCalculator();l&&(t.statsToReport.uint32_audio_play_time=l.getDuration(n,_x),t.statsToReport.uint32_video_play_time=l.getDuration(n,wx)),t.statsToReport.uint32_video_render_first=Math.min(t.statsToReport.uint32_video_render_first,nK);var u=e.client_.getBadCaseDetector();if(u){var c=u.getDataFreezeDuration(n),s=c.dataFreeze,d=c.count,f=u.getRenderFreezeDuration(n).renderFreeze;t.statsToReport.uint32_video_block_count=d,t.statsToReport.uint32_video_block_time=Math.min(s,t.statsToReport.uint32_video_play_time),t.statsToReport.uint32_video_external_block_time=Math.min(f,t.statsToReport.uint32_video_play_time),u.isBlackStream(n)&&0===t.statsToReport.uint32_video_avg_fps?t.statsToReport.uint32_video_black_screen_subjective=1:t.statsToReport.uint32_video_black_screen_subjective=0}(0===t.subscribeStartTime||t.subscribeStartTime-t.streamAddedTime>100||0===t.playStreamTime)&&(e.pathMainAudioMap_.delete(n),e.pathMainVideoMap_.delete(n),t.statsToReport.uint32_video_render_first=0)})),this.pathMainAudioMap_.forEach((function(t,n){e.hasAudioFlag(t.userId)?t.statsToReport.uint64_play_first_frame_time-t.statsToReport.uint64_start_enter_time>nK&&(t.statsToReport.uint64_play_first_frame_time=t.statsToReport.uint64_start_enter_time+nK):e.pathMainAudioMap_.delete(n)})),this.pathMainVideoMap_.forEach((function(t,n){e.hasVideoFlag(t.userId)?t.statsToReport.uint64_render_first_frame_time-t.statsToReport.uint64_start_enter_time>nK&&(t.statsToReport.uint64_render_first_frame_time=t.statsToReport.uint64_start_enter_time+nK):e.pathMainVideoMap_.delete(n)})),this.pathJoinRoom_.uint64_end_time-this.pathJoinRoom_.uint64_start_time>nK&&(this.pathJoinRoom_.uint64_end_time=this.pathJoinRoom_.uint64_start_time+nK)}},{key:"getReportData",value:function(){var e=this.client_.getSignalInfo();return{uint32_sdk_app_id:Number(this.client_.getSDKAppId()),msg_user_info:new iK({userId:this.client_.getUserId(),tinyId:this.client_.getTinyId(),role:this.client_.getRole()===uP?aP:lP}),msg_basic_info:this.basicInfo,uint32_acc_ip:yD(e.relayIp),uint32_client_ip:yD(e.clientIp,"small"),uint32_acc_port:0,uint64_timestamp:Date.now(),uint32_seq:Math.floor(Math.random()*Math.pow(2,31)),msg_path_enter_room:this.pathJoinRoom_,msg_path_exit_room:this.pathLeaveRoom_,msg_path_recv_video:S(this.pathMainVideoMap_.values()).map((function(e){return e.statsToReport})),msg_quality_statistics:S(this.remoteStreamStatsMap_.values()).map((function(e){return e.statsToReport})),str_room_name:String(this.client_.getRoomId()),msg_path_recv_audio:S(this.pathMainAudioMap_.values()).map((function(e){return e.statsToReport})),uint32_info_client_ip:yD(e.clientIp,"small"),error_code:[],msg_local_statistics:this.localStreamStats_.statsToReport}}},{key:"report",value:(i=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.getReportData(),e.next=4,this.upload(t);case 4:MA.deleteItem(this.storageKey_),this.initData(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.log_.warn(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return i.apply(this,arguments)})},{key:"upload",value:(n=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(hx||0===t.msg_path_enter_room.uint64_start_time||[IE,DE,jE].findIndex((function(e){return e===location.host}))>=0)){e.next=2;break}return e.abrupt("return");case 2:return n=Number(this.client_.getSDKAppId()),i=rD(n,tP),e.next=6,ED({url:i,body:JSON.stringify(t)});case 6:if("ok"===(o=e.sent).data){e.next=9;break}throw"key point upload failed: ".concat(o.data);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),e}(),x(YZ.prototype,"upload",[KZ],Object.getOwnPropertyDescriptor(YZ.prototype,"upload"),YZ.prototype),YZ);function aK(){return function(e,t,n){var i=n.value,o=new Set;return n.value=a(r().mark((function e(){var n,a,l,u,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.has(this)){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:qE,data:{name:t}})});case 2:for(e.prev=2,o.add(this),n=c.length,a=new Array(n),l=0;l<n;l++)a[l]=c[l];return e.next=7,i.apply(this,a);case 7:return u=e.sent,o.delete(this),e.abrupt("return",u);case 12:throw e.prev=12,e.t0=e.catch(2),o.delete(this),e.t0;case 16:case"end":return e.stop()}}),e,this,[[2,12]])}))),n}}function lK(e){return uK.apply(this,arguments)}function uK(){return uK=a(r().mark((function e(t){var n,i,o,a,l,u,c,s,d,f,p,v,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,i=t.sdkAppId,o=t.useStringRoomId,a=t.roomId,l=t.userSig,u={delta:0,count:[1,1],msg:[]},e.prev=2,(c=new FormData).append("userId",String(n)),c.append("sdkAppId",String(i)),c.append("isStrGroupId",o),c.append("groupId",String(a)),c.append("sdkVersion",XS),c.append("userSig",String(l)),s=gD(),e.next=13,pK(c,u,i);case 13:return d=e.sent,u.delta=gD()-s,cK({stat:u,userId:n}),e.abrupt("return",d);case 19:throw e.prev=19,e.t0=e.catch(2),f=pD(e.t0)?e.t0[0]:e.t0,p=dD(f.code)?f.code:0,v="get websocket url failed: ".concat(f.message.includes("timeout")?"timeout":f.message),h=new CR({code:kR.SCHEDULE_FAILED,extraCode:p,message:eD({key:ST,data:{error:v,code:p}})}),Tj.error(h),cK({stat:u,userId:n,roomId:a,error:h}),h;case 28:case"end":return e.stop()}}),e,null,[[2,19]])}))),uK.apply(this,arguments)}function cK(e){var t=e.stat,n=e.userId,r=e.error;r?vA.logFailedEvent({eventType:QP,error:r,userId:n}):vA.logSuccessEvent({eventType:QP,delta:t.delta,userId:n}),vA.uploadEvent({log:"stat-schedule:"+JSON.stringify(t),userId:n})}function sK(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nx;return t=nD(e)?n===Nx?OE:kE:n===Nx?wE:SE,"https://".concat(t,"/api/v1/config")}function dK(e,t,n){return new Promise((function(r,i){ED({url:e,body:t,timeout:n.timeout}).then((function(e){0===e.data.code?r(e.data.data):i({code:e.data.code,message:e.data.msg})})).catch(i)}))}var fK=function(e,t){return kj({retryFunction:dK,settings:{retries:3,timeout:0},onError:t,onRetrying:e})};function pK(e,t,n){return new Promise((function(r,i){var o,a=null;(o=[fK((function(e){return t.count[0]=e+1}),(function(e,n){t.msg[0]=e.message,a||n()}))(sK(n,Nx),e,{get timeout(){return 1e3*aD(2+t.count[0])}}),fK((function(e){return t.count[1]=e+1}),(function(e,n){t.msg[1]=e.message,a||n()}))(sK(n,Lx),e,{get timeout(){return 1e3*aD(2+t.count[1])}})],new Promise((function(e,t){var n=[];o.forEach((function(r){r.then(e).catch((function(e){n.push(e),n.length===o.length&&t(n)}))}))}))).then((function(e){r(a=e)})).catch(i)}))}var vK,hK,mK,gK,yK,bK,_K,wK,SK,OK,kK,CK,xK,PK,EK,TK,IK,DK,jK,RK,AK,FK=function(){function e(){l(this,e)}return c(e,[{key:"call",value:function(e,t){return uD(this[e])?this[e](t):Promise.reject(new CR({code:kR.INVALID_PARAMETER,message:eD({key:BI,data:{name:e}})}))}},{key:"updatePrivateMapKey",value:function(e){var t=e.privateMapKey;return e.client.setProperty("privateMapKey",t),Promise.resolve()}}]),e}(),MK=new FK,NK=(vK=aK(),hK=EZ(xZ.CLIENT.join),mK=aK(),gK=tK({retries:3}),yK=aK(),bK=EZ(xZ.CLIENT.publish),_K=aK(),wK=EZ(xZ.CLIENT.unpublish),SK=EZ.apply(void 0,S(xZ.CLIENT.subscribe)),OK=EZ(xZ.CLIENT.unsubscribe),kK=aK(),CK=EZ(xZ.CLIENT.switchRole),xK=EZ(xZ.CLIENT.startPublishCDNStream),PK=EZ(xZ.CLIENT.startMixTranscode),EK=PZ.apply(void 0,S(xZ.CLIENT.sendSEIMessage)),DK={timesInSecond:30,maxSizeInSecond:8e3,getSize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[0].byteLength}},jK=DK.timesInSecond,RK=DK.maxSizeInSecond,AK=DK.getSize,TK=function(e,t,n){var r=n.value,i=new Map;return DD.on(KD,(function(e){var t=e.client;return i.delete(t)})),n.value=function(){var e=i.get(this);e||(e={callCountInSecond:0,timestamp:0,totalSizeInSecond:0},i.set(this,e)),0===e.timestamp?e.timestamp=Date.now():Date.now()-e.timestamp>1e3&&(e.timestamp=Date.now(),e.callCountInSecond=0,e.totalSizeInSecond=0);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];if(AK&&(e.totalSizeInSecond+=AK.apply(void 0,o)),0!==e.timestamp&&Date.now()-e.timestamp<1e3&&(e.callCountInSecond>=jK||e.totalSizeInSecond>RK))throw new CR({code:kR.INVALID_OPERATION,message:eD({key:JI,data:{isTimes:e.callCountInSecond>=jK,isSize:e.totalSizeInSecond>RK,name:t,timesInSecond:jK,maxSizeInSecond:RK}})});return e.callCountInSecond++,r.apply(this,o)},n},IK=function(){function e(t){var n,r;l(this,e),this.name_=xE,this.mode_=t.mode,this.sdpSemantics_=iE,cD(t.sdpSemantics)?function(){if(!eF())return!1;if(cD(window.RTCRtpTransceiver))return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var e=new RTCPeerConnection,t=!1;try{e.addTransceiver(_x),t=!0}catch(aY){}return e.close(),t}()&&(this.sdpSemantics_=rE):this.sdpSemantics_=t.sdpSemantics,this.sdkAppId_=t.sdkAppId,this.userId_=t.userId,this.log_=Tj.createLogger({id:"c".concat(t.seq,"|").concat(this.userId_),userId:this.userId_,sdkAppId:this.sdkAppId_}),this.userSig_=t.userSig,this.roomId_=0,this.useStringRoomId_=t.useStringRoomId||!1,this.pureAudioPushMode_=null,this.version_=t.version,this.log_.info("using sdpSemantics: "+this.sdpSemantics_),this.signalChannel_=null,this.role_=uP,this.privateMapKey_="",this.tinyId_=0,this.env_="",this.proxy_=null,this.connections_=new Map,this.mutedStates_=new Map,this.userMap_=new Map,this.syncUserListInterval_=-1,this.localStream_=null,this.uplinkConnection_=null,this.emitter_=CD(new ID,this.name_),this.isJoined_=!1,this.heartbeat_=-1,this.lastHeartBeatTime_=-1,this.stats_=new OF(this),this.joinTimeout_=-1,this.changeBigSmallRecords_=new Map,this.networkQuality_=null,this.badCaseDetector_=null,this.networkType_=iD(),this.autoSubscribe_=!!cD(t.autoSubscribe)||t.autoSubscribe,this.joinedTimestamp_=0,this.joinOptions_={},this.basis_=(r={browser:yx().name+"/"+yx().version,os:uF(),displayResolution:cF(),isScreenShareSupported:JA(),isWebRTCSupported:VA(),isGetUserMediaSupported:sF(),isWebAudioSupported:dF(),isWebSocketsSupported:"WebSocket"in window&&2===window.WebSocket.CLOSING,isWebCodecSupported:(n={AudioDecoder:!1,AudioEncoder:!1,VideoDecoder:!1,VideoEncoder:!1,ImageDecoder:!1},cD(window.AudioDecoder)||(n.AudioDecoder=!0),cD(window.AudioEncoder)||(n.AudioEncoder=!0),cD(window.VideoDecoder)||(n.VideoDecoder=!0),cD(window.VideoEncoder)||(n.VideoEncoder=!0),cD(window.ImageDecoder)||(n.ImageDecoder=!0),n),isMediaSessionSupported:"mediaSession"in navigator&&!cD(navigator.mediaSession.setActionHandler),isWebTransportSupported:!cD(window.WebTransport)},navigator.userAgent.includes("miniProgram")&&(r.browser="mini/".concat(r.browser)),r),this.initBussinessInfo_(t),this.publishedCDN_=!1,this.publishCDNData_=null,this.mixedMCU_=!1,this.mixTranscodeData_=null,this.checkSystemResult_=null,this.enableAudioVolumeEvaluation_=!1,this.audioVolumeIntervalId_=null,this.mixTranscodeManager_=null,this.publishCDNManager_=new JZ({client:this}),this.keyPointManager_=new oK({client:this,frameWorkType:t.frameWorkType}),this.isPublishing_=!1,this.isEnableSmallStream_=!1,this.smallStreamConfig_={bitrate:100,frameRate:15,height:120,width:160},this.turnServers_=[],this.iceTransportPolicy_=t.iceTransportPolicy,this.schedule_={domains:null,iceServers:null,iceTransportPolicy:null},this.enableAutoPlayDialog_=!!cD(t.enableAutoPlayDialog)||t.enableAutoPlayDialog,this.signalInfo_={},this.enableSEI_=!cD(t.enableSEI)&&t.enableSEI,this.isDestroyed_=!1}var n,i,o,u,s,d,f,p,v,h,m,g,y,b,_,O,k,x,P,E,T,I,D,j,R,A,F;return c(e,[{key:"initBussinessInfo_",value:function(e){this.bussinessInfo_=e.bussinessInfo;var t={};if(sD(e.bussinessInfo)&&(t=JSON.parse(e.bussinessInfo)),!cD(e.pureAudioPushMode)){if(!Number.isInteger(Number(e.pureAudioPushMode)))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:pT})});this.pureAudioPushMode_=e.pureAudioPushMode,t.Str_uc_params||(t.Str_uc_params={}),t.Str_uc_params.pure_audio_push_mod=this.pureAudioPushMode_}if(!cD(e.streamId)){if(!(sD(e.streamId)&&String(e.streamId)&&String(e.streamId).length<=64))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:vT})});t.Str_uc_params||(t.Str_uc_params={}),t.Str_uc_params.userdefine_streamid_main=e.streamId}if(!cD(e.userDefineRecordId)){if(null===e.userDefineRecordId.match(/^[A-Za-z0-9_-]{1,64}$/gi))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:hT})});t.Str_uc_params||(t.Str_uc_params={}),t.Str_uc_params.userdefine_record_id=e.userDefineRecordId}if(!cD(e.userDefinePushArgs)){if(!(sD(e.userDefinePushArgs)&&String(e.userDefinePushArgs)&&String(e.userDefinePushArgs).length<=256))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:mT})});t.Str_uc_params||(t.Str_uc_params={}),t.Str_uc_params.userdefine_push_args=e.userDefinePushArgs}fA(t)||(this.bussinessInfo_=JSON.stringify(t))}},{key:"setProxyServer",value:function(e){if(this.log_.info("set proxy server: ".concat(JSON.stringify(e))),sD(e)){if(!e.startsWith("wss://"))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:gT})});this.proxy_=e}else if(oD(e)){var t=e.websocketProxy,n=e.loggerProxy;t&&(this.proxy_=t),n&&nP(n)}}},{key:"schedule",value:(F=a(r().mark((function e(n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lK({userId:this.userId_,sdkAppId:this.sdkAppId_,roomId:n,useStringRoomId:this.useStringRoomId_,version:this.version_,userSig:this.userSig_});case 2:(i=e.sent)&&(this.log_.info("schedule: ".concat(JSON.stringify(i))),this.schedule_=t(t({},this.schedule_),i),DD.emit(YD,this.schedule_));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"getSignalChannelUrl",value:function(){var e={mainUrl:"",backupUrl:""},t=tD();return t?e.mainUrl=e.backupUrl="wss://".concat(t,".rtc.qq.com"):this.proxy_?e.mainUrl=e.backupUrl=this.proxy_:Array.isArray(this.schedule_.domains)&&this.schedule_.domains.length>0&&(e.mainUrl=e.backupUrl="wss://".concat(this.schedule_.domains[0]),this.schedule_.domains[1]&&(e.backupUrl="wss://".concat(this.schedule_.domains[1]))),e}},{key:"getUserId",value:function(){return this.userId_}},{key:"getUserSig",value:function(){return this.userSig_}},{key:"getRole",value:function(){return this.role_}},{key:"getSignalInfo",value:function(){return this.signalInfo_}},{key:"getRoomId",value:function(){return this.roomId_}},{key:"getSDKAppId",value:function(){return this.sdkAppId_}},{key:"getTinyId",value:function(){return this.tinyId_}},{key:"setTurnServer",value:function(e){this.log_.info("set turn server: "+JSON.stringify(e));var t=[];Array.isArray(e)?e.forEach((function(e){return t.push(mD(e))})):oD(e)&&t.push(mD(e)),this.turnServers_=t}},{key:"getIceTransportPolicy",value:function(){return this.iceTransportPolicy_||this.schedule_.iceTransportPolicy||"all"}},{key:"initialize",value:function(){var e=this;this.log_.info("setup signal channel");var t=this.getSignalChannelUrl(),n=t.mainUrl,r=t.backupUrl;return this.signalChannel_=new hA({sdkAppId:this.sdkAppId_,userId:this.userId_,userSig:this.userSig_,url:n,backupUrl:r,client:this}),this.networkQuality_||(this.networkQuality_=new kF({connections:this.connections_,signalChannel:this.signalChannel_,userId:this.userId_,client:this}),this.networkQuality_.on(mF.NETWORK_QUALITY,(function(t){e.emitter_.emit(mF.NETWORK_QUALITY,t)}))),this.deviceDetector_||(this.deviceDetector_=new CF({client:this})),this.subscriptionManager_||(this.subscriptionManager_=new RZ({client:this})),this.badCaseDetector_||(this.badCaseDetector_=new HZ({client:this,stats:this.stats_})),this.callDurationCalculator_||(this.callDurationCalculator_=new qZ({client:this})),this.mixTranscodeManager_||(this.mixTranscodeManager_=new $Z({client:this,signalChannel:this.signalChannel_})),this.publishCDNManager_&&this.publishCDNManager_.setSignalChannel({signalChannel:this.signalChannel_}),this.signalChannel_.on($j,(function(t){e.log_.info("SignalChannel state changed from ".concat(t.prevState," to ").concat(t.state)),e.emitter_.emit(mF.CONNECTION_STATE_CHANGED,t)})),this.signalChannel_.on(qj,(function(t){e.reset(),e.emitter_.emit(mF.ERROR,t)})),this.signalChannel_.once(Yj,(function(t){e.tinyId_=t.signalInfo.tinyId,DD.emit(zD,{client:e})})),this.signalChannel_.on(iR.PEER_JOIN,this.onPeerJoin,this),this.signalChannel_.on(iR.PEER_LEAVE,this.onPeerLeave,this),this.signalChannel_.on(iR.UPDATE_REMOTE_MUTE_STAT,(function(t){Date.now()-e.lastHeartBeatTime_>=1e4&&e.doHeartbeat(),DD.emit(BD,{client:e,data:t.data}),e.onPublishedUserList(t.data),e.onUpdateRemoteMuteStat(t.data)})),this.signalChannel_.on(iR.CLIENT_BANNED,(function(t){var n,r=t.data.data.reason;if(vA.uploadEvent({log:"stat-banned:".concat(r),userId:e.userId_}),r===Wx)n="you got banned by the admin";else if(r===Vx)n="duplicated userId joining the room";else if(r===Ux)n="the room has been disbanded by the admin",r=r.replace("_","-");else if(r===Bx)return e.log_.warn("".concat(r," last heart beat time: ").concat(e.lastHeartBeatTime_," interval: ").concat(Date.now()-e.lastHeartBeatTime_,", visibility: ").concat(document.visibilityState)),void e.reJoin();e.log_["kick"===r?"error":"info"]("user was banned because of [".concat(r,"]")),e.reset(),e.emitter_.emit(mF.CLIENT_BANNED,{reason:r,message:eD({key:MT,data:{message:n,reason:r}})||r})})),DD.emit(HD,{client:this}),this.signalChannel_.connect()}},{key:"preJoin",value:(A=a(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.joinOptions_=t,e.next=3,YA();case 3:if(this.checkSystemResult_=e.sent,this.checkDestroy(),(n=tD())||(n=$x,this.proxy_&&(this.proxy_.startsWith(Yx)?n=Jx:this.proxy_.startsWith(Gx)&&(n=qx))),this.env_=n,vA.setConfig({env:n,sdkAppId:this.sdkAppId_,userId:this.userId_,roomId:t.roomId}),this.uploadTrtcStats(),i=this.checkSystemResult_.detail,o=i.isH264EncodeSupported,a=i.isVp8EncodeSupported,VA()&&(o||a)){e.next=13;break}throw new CR({code:kR.NOT_SUPPORTED,message:eD({key:DI})});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return A.apply(this,arguments)})},{key:"join",value:(R=a(r().mark((function e(t){var n,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gD(),DD.emit(jD,{client:this,roomId:t.roomId}),cA(this.userId_,{eventId:ZR,eventDesc:"joining room",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),e.next=5,this.preJoin(t);case 5:return e.abrupt("return",new Promise(function(){var e=a(r().mark((function e(o,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.joinReject_=a,e.prev=1,i.proxy_||i.schedule_.domains){e.next=5;break}return e.next=5,i.schedule(t.roomId);case 5:return i.checkDestroy(),e.next=8,i.initialize(t);case 8:return e.next=10,i.doJoin(t);case 10:i.signalInfo_=i.signalChannel_.getSignalInfo(),DD.emit(FD,{client:i}),i.joinedTimestamp_=gD(),vA.logSuccessEvent({userId:i.userId_,eventType:TP,delta:i.joinedTimestamp_-n}),vA.logSuccessEvent({userId:i.userId_,eventType:EP}),vA.uploadEvent({log:"stat-autoplay-dialog:".concat(i.enableAutoPlayDialog_),userId:i.userId_}),vA.uploadEvent({log:"stat-conv-".concat(hx,"-").concat(location.hostname),userId:i.userId_}),o(),e.next=26;break;case 20:e.prev=20,e.t0=e.catch(1),DD.emit(MD,{client:i,error:e.t0}),vA.logFailedEvent({userId:i.userId_,eventType:EP,error:e.t0}),i.reset(),a(e.t0);case 26:i.joinReject_=null;case 27:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{key:"checkDestroy",value:function(){if(this.isDestroyed_)throw new CR({code:kR.INVALID_OPERATION,message:eD({key:pI,data:{funName:"join"}})})}},{key:"uploadTrtcStats",value:(j=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d,f,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oY.getMicrophones();case 3:i=e.sent,t=i&&i.length,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,e.next=12,oY.getCameras();case 12:o=e.sent,n=o&&o.length,e.next=18;break;case 16:e.prev=16,e.t1=e.catch(9);case 18:a={microphone:t,camera:n},l=this.checkSystemResult_.detail,u=l.isH264EncodeSupported,c=l.isVp8EncodeSupported,s=l.isH264DecodeSupported,d=l.isVp8DecodeSupported,f={webRTC:this.basis_.isWebRTCSupported,getUserMedia:this.basis_.isGetUserMediaSupported,webSocket:this.basis_.isWebSocketsSupported,screenShare:this.basis_.isScreenShareSupported,webAudio:this.basis_.isWebAudioSupported,h264Encode:u,h264Decode:s,vp8Encode:c,vp8Decode:d},p={browser:this.basis_.browser,os:this.basis_.os,trtc:f,devices:a},v={isWebCodecSupported:this.basis_.isWebCodecSupported,isMediaSessionSupported:this.basis_.isMediaSessionSupported,isWebTransportSupported:this.basis_.isWebTransportSupported},vA.uploadEvent({log:"trtcstats-"+JSON.stringify(p),userId:this.userId_}),this.log_.info("TrtcStats-"+JSON.stringify(p)),vA.uploadEvent({log:"trtcadvancedstats-"+JSON.stringify(v),userId:this.userId_});case 26:case"end":return e.stop()}}),e,this,[[0,7],[9,16]])}))),function(){return j.apply(this,arguments)})},{key:"doJoin",value:function(e){var t=this;return new Promise((function(n,r){t.roomId_=e.roomId,cD(e.role)||(t.role_=e.role),cD(e.privateMapKey)||(t.privateMapKey_=e.privateMapKey),t.log_.info("Join() => joining room: ".concat(e.roomId," useStringRoomId: ").concat(t.useStringRoomId_," mode: ").concat(t.mode_," role: ").concat(t.role_));var i={roomId:String(e.roomId),useStringRoomId:t.useStringRoomId_,privateMapKey:t.privateMapKey_,trtcRole:t.role_===uP?aP:lP,trtcScene:t.mode_===oP?iP:rP,sdpSemantics:t.sdpSemantics_,version:PD(t.version_),ua:navigator&&navigator.userAgent||"",autoSubscribe:t.autoSubscribe_,terminalType:vC?4:dC?2:cC?3:BC?12:VC?5:UC?13:1,netType:hE[iD()],bussinessInfo:t.bussinessInfo_};if(t.publishCDNManager_){var o=t.publishCDNManager_.handleCDNConfigForJoinData(t.bussinessInfo_),a=o.bussinessInfo,l=o.pushUserCdnInfo;Object.assign(i,{bussinessInfo:a,pushUserCdnInfo:l})}t.log_.debug("join room signal data: ".concat(JSON.stringify(i))),t.joinTimeout_=setTimeout((function(){t.log_.error("join room timeout observed"),r(new CR({code:kR.JOIN_ROOM_FAILED,message:eD({key:wT})}))}),5e3),DD.emit(RD,{client:t}),t.signalChannel_.once(Gj,(function(e){t.clearJoinTimeout(),DD.emit(zD,{client:t,error:e}),r(e)})),t.signalChannel_.send(aR,i),t.signalChannel_.once(iR.JOIN_ROOM_RESULT,(function(e){t.clearJoinTimeout();var i=e.data,o=i.code,a=i.message,l=i.data;t.onPublishedUserList({data:{userList:l.publishers}}),DD.emit(AD,{client:t,code:o}),0===o?(t.isJoined_=!0,t.log_.info("Join room success, start heartbeat"),t.startHeartbeat(),t.badCaseDetector_&&t.badCaseDetector_.start(),t.syncUserList(),t.startSyncUserListInterval(),n()):(t.log_.error("Join room failed result: "+o+" error: "+a),r(new CR({code:kR.JOIN_ROOM_FAILED,extraCode:o,message:eD({key:ST,data:{error:a,code:o}})})))}))}))}},{key:"reJoin",value:(D=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isJoined_){e.next=3;break}return this.log_.warn("reJoin abort"),e.abrupt("return");case 3:return this.isJoined_=!1,e.prev=4,this.log_.warn("reJoin pending: ".concat(this.joinOptions_.roomId)),this.subscriptionManager_&&this.subscriptionManager_.markAllStream(),this.signalChannel_.close(),e.next=10,this.signalChannel_.connect();case 10:return e.next=12,this.doJoin(t(t({},this.joinOptions_),{},{role:this.role_,privateMapKey:this.privateMapKey_}));case 12:this.log_.warn("reJoin success"),vA.logSuccessEvent({userId:this.userId_,eventType:IP}),this.checkConnectionsToReconnect(),this.republish(),this.mixTranscodeManager_&&this.mixTranscodeManager_.reStartMixTranscode(),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(4),this.log_.warn("reJoin fail "+e.t0),this.reset(),vA.logFailedEvent({userId:this.userId_,eventType:IP,error:e.t0}),this.emitter_.emit(mF.ERROR,new CR({code:kR.JOIN_ROOM_FAILED,message:eD({key:OT,data:{roomId:this.joinOptions_.roomId}})}));case 25:case"end":return e.stop()}}),e,this,[[4,19]])}))),function(){return D.apply(this,arguments)})},{key:"republish",value:function(){var e=this;if(this.uplinkConnection_&&this.localStream_&&!this.uplinkConnection_.getIsReconnecting()){this.log_.warn("republish pending");var t=this.localStream_;this.doUnpublish(t).then((function(){return e.publish(t)})).then((function(){return e.log_.warn("republish success")})).catch((function(t){return e.log_.warn("republish fail "+t)}))}}},{key:"leave",value:(I=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return DD.emit(ND,{client:this}),cA(this.userId_,{eventId:KR,eventDesc:"leaving room",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),e.prev=2,e.next=5,this.doHeartbeat();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:this.doLeave(),DD.emit(WD,{client:this}),vA.logSuccessEvent({userId:this.userId_,eventType:DP}),t=Math.floor((gD()-this.joinedTimestamp_)/1e3),vA.logSuccessEvent({userId:this.userId_,eventType:jP,delta:t});case 14:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(){return I.apply(this,arguments)})},{key:"doLeave",value:function(){this.isJoined_&&(DD.emit(LD,{client:this}),this.log_.info("leave() => leaving room"),this.signalChannel_.send(lR),this.reset())}},{key:"clearNetworkQuality",value:function(){this.networkQuality_&&(this.networkQuality_.stop(),this.networkQuality_=null)}},{key:"closeConnections",value:function(){var e=this;this.connections_.forEach((function(t){e.closeDownLink(t.getTinyId())}))}},{key:"clearJoinTimeout",value:function(){clearTimeout(this.joinTimeout_),this.joinTimeout_=-1}},{key:"destroy",value:function(){var e,t,n;if(this.isJoined_)throw this.log_.warn(qI.INVALID_DESTROY),new CR({code:kR.INVALID_OPERATION,message:eD({key:kT})});this.isDestroyed_||(this.log_.info("destroy client"),this.joinReject_&&(this.joinReject_(new CR({code:kR.INVALID_OPERATION,message:eD({key:pI,data:{funName:"join"}})})),this.clearJoinTimeout(),this.reset()),this.off("*"),null===(e=this.callDurationCalculator_)||void 0===e||e.destroy(),null===(t=this.keyPointManager_)||void 0===t||t.destroy(),null===(n=this.deviceDetector_)||void 0===n||n.destroy(),this.callDurationCalculator_=null,this.keyPointManager_=null,this.deviceDetector_=null,this.badCaseDetector_=null,this.publishCDNManager_=null,this.isDestroyed_=!0,DD.emit(KD,{client:this}))}},{key:"reset",value:function(){this.keyPointManager_&&this.keyPointManager_.prepareReport(),this.mixTranscodeManager_&&(this.mixTranscodeManager_.reset(),this.mixTranscodeManager_=null),this.publishCDNManager_&&this.publishCDNManager_.reset(),this.userMap_.clear(),this.stopSyncUserListInterval(),this.stopHeartbeat(),this.closeConnections(),this.mutedStates_.clear(),this.clearNetworkQuality(),this.badCaseDetector_&&this.callDurationCalculator_&&this.uploadAllCallStats(),this.closeUplink(),this.isJoined_=!1,this.signalChannel_&&(this.log_.info("destroying SignalChannel"),this.signalChannel_.close(),this.signalChannel_=null),this.stats_.reset()}},{key:"startSyncUserListInterval",value:function(){-1===this.syncUserListInterval_&&(this.syncUserListInterval_=AA.setInterval(this.syncUserList.bind(this),1e4))}},{key:"stopSyncUserListInterval",value:function(){AA.clearInterval(this.syncUserListInterval_),this.syncUserListInterval_=-1}},{key:"syncUserList",value:(T=a(r().mark((function e(){var t,n=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserList();case 3:t=e.sent,0!==this.userMap_.size&&this.userMap_.forEach((function(e){t.findIndex((function(t){return t.userId===e.userId}))<0&&(n.log_.info("peer leave detected: ".concat(e.userId)),n.cleanUser({userId:e.userId,tinyId:e.tinyId}))})),t.forEach((function(e){var t=e.userId;n.userMap_.has(t)||t===n.userId_||(n.userMap_.set(t,e),n.emitter_.emit(mF.PEER_JOIN,{userId:t}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.log_.warn("sync user list failed: "+e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return T.apply(this,arguments)})},{key:"getUserList",value:function(){return this.signalChannel_?this.signalChannel_.sendWaitForResponse({command:wR,responseCommand:iR.USER_LIST_RES,enableLog:!1,timeout:2e3}).then((function(e){var t=e.data,n=t.code,r=t.message;if(0===n)return(t.data&&t.data.userList||[]).map((function(e){var t=e.userId,n=e.srcTinyId,r=e.role;return new zZ({userId:t,tinyId:n,role:r})}));throw eD({key:WI,data:{signalResponse:iR.USER_LIST_RES,code:n,message:r}})})):[]}},{key:"publish",value:(E=a(r().mark((function e(t){var n,i,o,a,l=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setPublishState(gE),this.isPublishing_=!0,n=gD(),DD.emit(UD,{client:this,stream:t}),this.log_.info("publish() => publishing local stream"),i=new VZ({userId:this.userId_,tinyId:this.tinyId_,client:this,isUplink:!0,signalChannel:this.signalChannel_,enableSEI:this.enableSEI_}),t.setConnection(i),i.initialize(),i.on(hF.ERROR,(function(e){var t=e.getCode();t!==kR.ICE_TRANSPORT_ERROR&&(t===kR.UPLINK_RECONNECTION_FAILED&&l.closeUplink(),l.emitter_.emit(mF.ERROR,e))})),e.prev=9,e.next=12,i.publish(t);case 12:this.localStream_=e.sent,this.localStream_.getBeautyStatus()&&this.log_.info("beauty stream is published successfully"),this.log_.info("local stream is published successfully"),this.isPublishing_=!1,t.setPublishState(yE),this.uplinkConnection_=i,o=gD(),a=o-n,vA.logSuccessEvent({userId:this.userId_,eventType:RP}),vA.logSuccessEvent({userId:this.userId_,eventType:AP,delta:a}),t.hasAudio()&&cA(this.userId_,{eventId:PR,eventDesc:"publish audio track",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),t.hasVideo()&&cA(this.userId_,{eventId:xR,eventDesc:"publish video track",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),this.networkQuality_&&this.networkQuality_.setUplinkConnection(this.uplinkConnection_),this.deviceDetector_&&this.deviceDetector_.setLocalStream(this.localStream_),DD.emit(aj,{localStream:this.localStream_,client:this}),this.notPublishWithoutH264Supported_=!1,e.next=39;break;case 30:throw e.prev=30,e.t0=e.catch(9),e.t0 instanceof CR&&e.t0.getCode()===kR.NOT_SUPPORTED_H264&&(this.notPublishWithoutH264Supported_=!0),t.setPublishState(mE),i.close(),this.log_.error("failed to publish stream "+e.t0),this.isPublishing_=!1,vA.logFailedEvent({userId:this.userId_,eventType:RP,error:e.t0}),e.t0;case 39:case"end":return e.stop()}}),e,this,[[9,30]])}))),function(e){return E.apply(this,arguments)})},{key:"unpublish",value:(P=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localStream_){e.next=2;break}return e.abrupt("return");case 2:return this.log_.info("unpublish() => unpublishing local stream"),e.prev=3,e.next=6,this.doUnpublish();case 6:vA.logSuccessEvent({userId:this.userId_,eventType:FP}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),vA.logFailedEvent({userId:this.userId_,eventType:FP,error:e.t0}),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return P.apply(this,arguments)})},{key:"doUnpublish",value:function(){var e=this;return this.signalChannel_.sendWaitForResponse({command:dR,commandDesc:"unpublish",responseCommand:iR.UNPUBLISH_RESULT}).then((function(){e.closeUplink()})).catch((function(){e.closeUplink()}))}},{key:"closeUplink",value:function(){this.uplinkConnection_&&(this.uplinkConnection_.getIsReconnecting()&&this.uplinkConnection_.stopReconnection(),this.uplinkConnection_.close(),this.uplinkConnection_=null,this.networkQuality_&&this.networkQuality_.setUplinkConnection(null),this.localStream_.hasAudio()&&cA(this.userId_,{eventId:TR,eventDesc:"unpublish audio track",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),this.localStream_.hasVideo()&&cA(this.userId_,{eventId:ER,eventDesc:"unpublish video track",timestamp:Jk(),userId:this.userId_,tinyId:this.tinyId_}),this.localStream_.setClient(null),this.localStream_.setConnection(null),this.localStream_=null,this.deviceDetector_&&this.deviceDetector_.setLocalStream(null))}},{key:"closeDownLink",value:function(e){var t=this.connections_.get(e);t&&(t.getIsReconnecting()&&t.stopReconnection(),this.subscriptionManager_&&this.subscriptionManager_.delete(t.getUserId()),t.close(),this.connections_.delete(e),this.mutedStates_.delete(e))}},{key:"subscribe",value:(x=a(r().mark((function e(t,n){var i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.log_.info("subscribe() => subscribe to [".concat(t.getUserId(),"] ").concat(t.getType()," stream with options: ").concat(JSON.stringify(n))),cD(n)&&(n={audio:!0,video:!0}),cD(n.video)&&(n.video=!0),cD(n.audio)&&(n.audio=!0),e.prev=4,i=t.getConnection(),DD.emit(tj,{client:this,stream:t}),e.next=9,i.subscribe(t,n);case 9:this.subscriptionManager_&&this.subscriptionManager_.addSubscriptionRecord(t.getUserId(),t,n),this.notSubscribeWithoutH264Supported_=!1,vA.logSuccessEvent({userId:this.userId_,eventType:MP}),e.next=22;break;case 14:throw e.prev=14,e.t0=e.catch(4),(o=e.t0 instanceof CR?e.t0.getCode():kR.UNKNOWN)===kR.NOT_SUPPORTED_H264&&(this.notSubscribeWithoutH264Supported_=!0),a=new CR({code:o,message:eD({key:DT,data:{message:e.t0.message,stream:t}})}),vA.logFailedEvent({userId:this.userId_,eventType:MP,error:a}),this.log_.error(a),a;case 22:case"end":return e.stop()}}),e,this,[[4,14]])}))),function(e,t){return x.apply(this,arguments)})},{key:"unsubscribe",value:(k=a(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.log_.info("unsubscribe() => unsubscribe to [".concat(t.getUserId(),"] ").concat(t.getType()," stream")),e.prev=1,n=t.getConnection(),e.next=5,n.unsubscribe(t);case 5:this.subscriptionManager_&&this.subscriptionManager_.addUnsubscriptionRecord(t.getUserId(),t),DD.emit(rj,{client:this,stream:t}),vA.logSuccessEvent({userId:this.userId_,eventType:NP}),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),vA.logFailedEvent({userId:this.userId_,eventType:NP,error:e.t0}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e){return k.apply(this,arguments)})},{key:"switchRole",value:(O=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.role_!==t){e.next=2;break}return e.abrupt("return");case 2:if(t!==cP||!this.localStream_){e.next=5;break}return e.next=5,this.unpublish(this.localStream_);case 5:return this.log_.info("switchRole() => switch role to: "+t),e.next=8,this.doSwitchRole(t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"doSwitchRole",value:function(e){var t=this,n={command:SR,data:{role:e===uP?aP:lP,privateMapKey:this.privateMapKey_},responseCommand:iR.SWITCH_ROLE_RES};return this.log_.info("switchRole signal data: "+JSON.stringify(n.data)),this.signalChannel_.sendWaitForResponse(n).then((function(n){var r=n.data,i=r.code,o=r.message;if(0!==i)throw new CR({code:kR.SWITCH_ROLE_FAILED,message:eD({key:FT,data:{errMsg:o,errCode:i}})});t.role_=e})).catch((function(e){throw e instanceof CR&&e.getCode()===kR.API_CALL_TIMEOUT&&(e=new CR({code:kR.SWITCH_ROLE_FAILED,message:eD({key:AT})})),t.log_.error(e),e}))}},{key:"on",value:function(e,t,n){this.emitter_.on(e,t,n)}},{key:"off",value:function(e,t,n){"*"===e?this.emitter_.removeAllListeners():this.emitter_.off(e,t,n)}},{key:"getRemoteMutedState",value:function(){var e=this,n=[];return this.mutedStates_.forEach((function(r,i,o){var a=e.connections_.get(i);a&&n.push(t({userId:a.getUserId()},r))})),n}},{key:"getTransportStats",value:(_=a(r().mark((function e(){var t,n,i,o,a,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={rtt:0,downlinksRTT:{}},!this.uplinkConnection_){e.next=6;break}return e.next=4,this.stats_.getSenderStats(this.uplinkConnection_);case 4:n=e.sent,t.rtt=n.rtt;case 6:i=C(this.connections_),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=17;break}return(a=w(o.value,2))[0],l=a[1],e.next=13,this.stats_.getReceiverStats(l);case 13:u=e.sent,t.downlinksRTT[u.userId]=u.rtt;case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:return e.abrupt("return",t);case 26:case"end":return e.stop()}}),e,this,[[7,19,22,25]])}))),function(){return _.apply(this,arguments)})},{key:"getLocalAudioStats",value:(b=a(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={})[this.userId_]={bytesSent:0,packetsSent:0},!this.uplinkConnection_){e.next=7;break}return e.next=5,this.stats_.getSenderStats(this.uplinkConnection_);case 5:n=e.sent,t[this.userId_]={bytesSent:n.audio.bytesSent,packetsSent:n.audio.packetsSent};case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"getLocalVideoStats",value:(y=a(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={})[this.userId_]={bytesSent:0,packetsSent:0,framesEncoded:0,framesSent:0,frameWidth:0,frameHeight:0},!this.uplinkConnection_){e.next=7;break}return e.next=5,this.stats_.getSenderStats(this.uplinkConnection_);case 5:n=e.sent,t[this.userId_]={bytesSent:n.video.bytesSent,packetsSent:n.video.packetsSent,framesEncoded:n.video.framesEncoded,framesSent:n.video.framesSent,frameWidth:n.video.frameWidth,frameHeight:n.video.frameHeight};case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"getRemoteAudioStats",value:(g=a(r().mark((function e(){var t,n,i,o,a,l,u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},n=C(this.connections_),e.prev=2,n.s();case 4:if((i=n.n()).done){e.next=13;break}return(o=w(i.value,2))[0],a=o[1],l=a.getDelay(),u=l.audioDelay,e.next=9,this.stats_.getReceiverStats(a);case 9:(c=e.sent).hasAudio&&(t[c.userId]={bytesReceived:c.audio.bytesReceived,packetsReceived:c.audio.packetsReceived,packetsLost:c.audio.packetsLost,end2EndDelay:u});case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,this,[[2,15,18,21]])}))),function(){return g.apply(this,arguments)})},{key:"getRemoteVideoStats",value:(m=a(r().mark((function e(){var t,n,i,o,a,l,u,c,s,d=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.length>0&&void 0!==d[0]?d[0]:pP,n={},i=C(this.connections_),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=15;break}return(a=w(o.value,2))[0],l=a[1],e.next=9,this.stats_.getReceiverStats(l);case 9:u=e.sent,c=l.getDelay(),s=c.videoDelay,t===pP&&u.hasVideo&&(n[u.userId]={bytesReceived:u.video.bytesReceived,packetsReceived:u.video.packetsReceived,packetsLost:u.video.packetsLost,framesDecoded:u.video.framesDecoded,frameWidth:u.video.frameWidth,frameHeight:u.video.frameHeight,end2EndDelay:s}),t===vP&&u.hasAuxiliary&&(n[u.userId]={bytesReceived:u.auxiliary.bytesReceived,packetsReceived:u.auxiliary.packetsReceived,packetsLost:u.auxiliary.packetsLost,framesDecoded:u.auxiliary.framesDecoded,frameWidth:u.auxiliary.frameWidth,frameHeight:u.auxiliary.frameHeight,end2EndDelay:s});case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[3,17,20,23]])}))),function(){return m.apply(this,arguments)})},{key:"getSdpSemantics",value:function(){return this.sdpSemantics_}},{key:"getIceServers",value:function(){return 0===this.turnServers_.length&&this.schedule_.iceServers?this.schedule_.iceServers:this.turnServers_}},{key:"getConnections",value:function(){return this.connections_}},{key:"getMutedStates",value:function(){return this.mutedStates_}},{key:"startHeartbeat",value:function(){-1===this.heartbeat_&&(this.log_.info("startHeartbeat..."),this.heartbeat_=AA.setInterval(this.doHeartbeat.bind(this),2e3))}},{key:"stopHeartbeat",value:function(){-1!==this.heartbeat_&&(this.log_.info("stopHeartbeat"),AA.clearInterval(this.heartbeat_),this.heartbeat_=-1,this.lastHeartBeatTime_=-1)}},{key:"doHeartbeat",value:(h=a(r().mark((function e(){var n,i,o,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.badCaseDetector_.getMonitorFreeze(),e.next=3,this.stats_.getStatsReport({uplinkConnection:this.uplinkConnection_,downlinkConnections:this.connections_,freezeMap:n});case 3:if(i=e.sent,DD.emit(VD,{client:this,stats:i}),this.badCaseDetector_.resetMonitor(),this.signalChannel_){e.next=8;break}return e.abrupt("return");case 8:o=this.signalChannel_.isConnected()?sA(this.userId_):[],a=t(t({str_sdk_version:this.version_,uint64_datetime:(new Date).getTime(),msg_user_info:{str_identifier:this.userId_,uint64_tinyid:this.tinyId_},msg_device_info:{uint32_terminal_type:15,str_device_name:navigator.platform,str_os_version:"",uint32_net_type:hE[this.networkType_]}},i),{},{msg_event_msg:o}),this.signalChannel_.send(uR,a),l=Date.now(),this.lastHeartBeatTime_>0&&l-this.lastHeartBeatTime_>1e4&&this.log_.warn("heartbeat took ".concat(l-this.lastHeartBeatTime_)),this.lastHeartBeatTime_=l,!this.isRelayChanged_&&this.isRelayMaybeFailed()&&(this.reJoin(),this.isRelayChanged_=!0);case 15:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"onRemoteStreamAdded",value:function(e){var t=e.content,n=t.userId,r=t.tinyId,i=t.audio,o=t.bigVideo,a=t.auxVideo,l=t.smallVideo;if(null!==n){this.userMap_.has(n)||(this.userMap_.set(n,new zZ({userId:n,tinyId:r,role:uP})),this.emitter_.emit(mF.PEER_JOIN,{userId:n}));var u=this.connections_.get(r);if(u){if(u.getIsReconnecting())return;this.log_.warn("duplicated stream-added observed, rebuild the connection"),u.close(),this.connections_.delete(r)}var c={audio:i,video:o,auxiliary:a,smallVideo:l};this.log_.info("remote peer [".concat(n,"] published stream. trackState: ").concat(JSON.stringify(c))),this.createDownlinkConnection({userId:n,tinyId:r,trackState:c})}else this.log_.warn("received null userId on stream added")}},{key:"createDownlinkConnection",value:function(e){var t=this,n=e.userId,r=e.tinyId,i=e.trackState,o=new BZ({userId:n,tinyId:r,client:this,isUplink:!1,signalChannel:this.signalChannel_,autoSubscribe:this.autoSubscribe_,trackState:i,enableSEI:this.enableSEI_});this.connections_.set(r,o),this.installDownlinkEvents(o,n,r),this.autoSubscribe_?(o.initialize(),o.connect().catch((function(){!o.getMainStream()&&o.hasMainStream()&&t.initRemoteStream({type:pP,userId:n,downlinkConnection:o}),!o.getAuxStream()&&o.hasAuxStream()&&t.initRemoteStream({type:vP,userId:n,downlinkConnection:o})}))):(o.hasMainStream()&&this.initRemoteStream({type:pP,userId:n,downlinkConnection:o}),o.hasAuxStream()&&this.initRemoteStream({type:vP,userId:n,downlinkConnection:o}))}},{key:"initRemoteStream",value:function(e){var t=e.type,n=e.userId,r=e.downlinkConnection,i=new jZ({type:t,userId:n,client:this});i.setConnection(r),r.setRemoteStream(t===pP?sP:dP,i),i.setIsStreamAddedEventEmitted(!0),DD.emit(ej,{client:this,stream:i}),this.emitter_.emit(mF.STREAM_ADDED,{stream:i})}},{key:"installDownlinkEvents",value:function(e,t,n){var r=this;e.on(hF.SEI_MESSAGE,(function(e){r.emitter_.emit(mF.SEI_MESSAGE,e)})),e.on(hF.STREAM_ADDED,(function(e){e.stream.setIsStreamAddedEventEmitted(!0),DD.emit(ej,{client:r,stream:e.stream}),r.emitter_.emit(mF.STREAM_ADDED,{stream:e.stream})})),e.on(hF.STREAM_REMOVED,(function(e){r.changeBigSmallRecords_.delete(e.stream.getUserId()),e.stream.stop(),e.stream.setIsStreamAddedEventEmitted(!1),r.subscriptionManager_&&r.subscriptionManager_.deleteAutoRecoveryFlag(e.stream.getUserId(),e.stream.getType()),DD.emit(oj,{client:r,stream:e.stream}),r.emitter_.emit(mF.STREAM_REMOVED,{stream:e.stream})})),e.on(hF.STREAM_UPDATED,(function(e){DD.emit(ij,{client:r,stream:e.stream}),r.emitter_.emit(mF.STREAM_UPDATED,{stream:e.stream})})),e.on(hF.STREAM_SUBSCRIBED,(function(e){DD.emit(nj,{client:r,stream:e.stream}),r.emitter_.emit(mF.STREAM_SUBSCRIBED,{stream:e.stream})})),e.on(hF.ERROR,(function(e){var t=e.getCode();t!==kR.ICE_TRANSPORT_ERROR&&(t===kR.DOWNLINK_RECONNECTION_FAILED&&r.closeDownLink(n),r.emitter_.emit(mF.ERROR,e))}))}},{key:"onPeerJoin",value:function(e){var t=e.data.data,n=t.srcTinyId,r=t.userId,i=t.role;this.userMap_.has(r)||(this.userMap_.set(r,new zZ({userId:r,tinyId:n,role:i})),this.emitter_.emit(mF.PEER_JOIN,{userId:r}))}},{key:"onPeerLeave",value:function(e){var t=e.data.data,n=t.srcTinyId,r=t.userId,i=t.reason,o=void 0===i?0:i;this.log_.info("peer leave [".concat(r,"]: ").concat(BE[o])),this.cleanUser({userId:r,tinyId:n})}},{key:"cleanUser",value:function(e){var t=e.userId,n=e.tinyId;this.userMap_.delete(t),this.closeDownLink(n),this.emitter_.emit(mF.PEER_LEAVE,{userId:t})}},{key:"onPublishedUserList",value:function(e){var t=this;try{var n=e.data.userList.map((function(e){return e.userId}));this.connections_.forEach((function(e){var r=e.getUserId(),i=e.getTinyId();n.findIndex((function(e){return e===r}))<0&&(t.log_.info("peer unpublished detected [".concat(r,"]")),t.closeDownLink(i))})),e.data.userList.forEach((function(e){var n=e.userId,r=e.srcTinyId,i=e.flag;if(n!==t.userId_){var o=!!(1&i),a=!!(8&i),l=!!(4&i),u=!!(2&i),c=t.connections_.get(r);if(t.changeBigSmallRecords_.has(n)&&t.checkSubscribeBigSmallVideo(c,u),c){var s=c.getTrackState(),d=s.audio,f=s.video,p=s.auxiliary,v=s.smallVideo;!f&&o&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:pE,kind:wx}),!d&&a&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:pE,kind:_x}),!p&&l&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:pE,kind:Sx}),!v&&u&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:pE,kind:Ox}),f&&!o&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:vE,kind:wx}),d&&!a&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:vE,kind:_x}),p&&!l&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:vE,kind:Sx}),v&&!u&&DD.emit(QD,{client:t,tinyId:r,userId:n,action:vE,kind:Ox})}else t.log_.info("peer published detected [".concat(n,"]")),t.onRemoteStreamAdded({content:{audio:a,bigVideo:o,auxVideo:l,smallVideo:u,userId:n,tinyId:r}})}}))}catch(aY){}}},{key:"onUpdateRemoteMuteStat",value:function(e){var t=this,n=e.data;(n&&n.userList||[]).forEach((function(e){var n=e.srcTinyId,r=e.userId;if(0!==n&&n!==t.tinyId_){var i=t.connections_.get(n);if(i){var o=i.getMainStream();if(o&&o.getIsStreamAddedEventEmitted()){var a=!!(1&e.flag),l=!!(8&e.flag),u=!!(2&e.flag),c=!!(64&e.flag),s=!!(16&e.flag),d=t.mutedStates_.get(n);if(void 0===d)return t.mutedStates_.set(n,{hasAudio:l,hasVideo:a,hasSmall:u,audioMuted:c,videoMuted:s}),a?s?t.emitter_.emit(mF.MUTE_VIDEO,{userId:r}):t.emitter_.emit(mF.UNMUTE_VIDEO,{userId:r}):t.emitter_.emit(mF.MUTE_VIDEO,{userId:r}),void(l?c?t.emitter_.emit(mF.MUTE_AUDIO,{userId:r}):t.emitter_.emit(mF.UNMUTE_AUDIO,{userId:r}):t.emitter_.emit(mF.MUTE_AUDIO,{userId:r}));var f=!c&&l;(!d.audioMuted&&d.hasAudio)!==f&&(f?t.emitter_.emit(mF.UNMUTE_AUDIO,{userId:r}):t.emitter_.emit(mF.MUTE_AUDIO,{userId:r}));var p=!s&&a;(!d.videoMuted&&d.hasVideo)!==p&&(p?t.emitter_.emit(mF.UNMUTE_VIDEO,{userId:r}):t.emitter_.emit(mF.MUTE_VIDEO,{userId:r})),t.mutedStates_.set(n,{hasAudio:l,hasVideo:a,hasSmall:u,audioMuted:c,videoMuted:s})}}else t.mutedStates_.delete(n)}}))}},{key:"getEnv",value:function(){return this.env_}},{key:"getSubscriptionManager",value:function(){return this.subscriptionManager_}},{key:"startPublishCDNStream",value:(v=a(r().mark((function e(){var t,n=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},this.log_.info("startPublishCDNStream params: ".concat(JSON.stringify(t),"; isJoined: ").concat(this.isJoined_,"; isPublished: ").concat(!!this.localStream_)),this.localStream_){e.next=4;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:NT})});case 4:return e.next=6,this.publishCDNManager_.startPublishTencentCDN(t);case 6:if(!(t.appId&&t.bizId&&t.url)){e.next=9;break}return e.next=9,this.publishCDNManager_.startPublishGivenCDN(t);case 9:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"stopPublishCDNStream",value:(p=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publishCDNManager_.getIsPublishingTencentCDN()){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:LT})});case 2:return this.log_.info("stopPublishCDNStream"),e.next=5,this.publishCDNManager_.stopPublishTencentCDN();case 5:if(!this.publishCDNManager_.getIsPublishingGivenCDN()){e.next=8;break}return e.next=8,this.publishCDNManager_.stopPublishGivenCDN();case 8:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"startMixTranscode",value:(f=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isJoined_&&this.mixTranscodeManager_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:UT})});case 2:return cD(t.mode)&&(t.mode=oE.MANUAL),e.prev=3,this.log_.info("startMixTranscode with config ".concat(JSON.stringify(t))),vA.uploadEvent({log:"mix-transcode-mode:".concat(t.mode),userId:this.userId_}),e.next=8,this.mixTranscodeManager_.startMixTranscode(t);case 8:vA.logSuccessEvent({userId:this.userId_,eventType:JP}),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(3),vA.logFailedEvent({userId:this.userId_,eventType:JP,error:e.t0}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(e){return f.apply(this,arguments)})},{key:"stopMixTranscode",value:(d=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isJoined_&&this.mixTranscodeManager_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:HT})});case 2:return e.prev=2,e.next=5,this.mixTranscodeManager_.stopMixTranscode();case 5:vA.logSuccessEvent({userId:this.userId_,eventType:qP}),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),vA.logFailedEvent({userId:this.userId_,eventType:qP,error:e.t0}),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return d.apply(this,arguments)})},{key:"getSystemResult",value:function(){return this.checkSystemResult_}},{key:"enableAudioVolumeEvaluation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!dD(t))throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:zT})});if(this.log_.info("enableAudioVolumeEvaluation with interval: "+t),t<=0)return this.enableAudioVolumeEvaluation_=!1,AA.clearInterval(this.audioVolumeIntervalId_),void(this.audioVolumeIntervalId_=null);t=Math.floor(Math.max(t,16)),DD.emit(GD,{interval:t}),this.audioVolumeIntervalId_&&(AA.clearInterval(this.audioVolumeIntervalId_),this.audioVolumeIntervalId_=null),this.enableAudioVolumeEvaluation_=!0,this.audioVolumeIntervalId_=AA.setInterval((function(){var t=[];if(e.localStream_){var n=Math.floor(100*e.localStream_.getAudioLevel());t.push({userId:e.userId_,audioVolume:n,stream:e.localStream_})}e.connections_.forEach((function(e){var n=e.getSubscribedMainStream();if(n){var r=Math.floor(100*n.getAudioLevel());t.push({userId:e.getUserId(),audioVolume:r,stream:n})}})),e.emitter_.emit(mF.AUDIO_VOLUME,{result:t})}),t,n)}},{key:"callExperimentalAPI",value:function(e,n){return MK.call(e,t({client:this},n))}},{key:"setProperty",value:function(e,t){var n="".concat(e,"_");cD(this[n])||(this[n]=t)}},{key:"uploadAllCallStats",value:function(){var e=this;this.callDurationCalculator_.getDurationMap().forEach((function(t,n){var r={userId:t.userId,type:t.type,duration:e.callDurationCalculator_.getDuration(n,wx),dataFreeze:e.badCaseDetector_.getDataFreezeDuration(n).dataFreeze,renderFreeze:e.badCaseDetector_.getRenderFreezeDuration(n).renderFreeze};vA.uploadEvent({log:"callStats-"+JSON.stringify(r),userId:e.userId_})})),this.badCaseDetector_.stop(),this.callDurationCalculator_.reset()}},{key:"enableSmallStream",value:(s=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPublished()&&!this.isPublishing_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:ZT})});case 2:if(!fF()){e.next=7;break}this.setIsEnableSmallStream(!0),this.log_.info("SmallStream successfully enabled"),e.next=8;break;case 7:throw new CR({code:kR.INVALID_OPERATION,message:eD({key:YT})});case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"disableSmallStream",value:(u=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPublished()&&!this.isPublishing_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:KT})});case 2:this.setIsEnableSmallStream(!1),this.log_.info("SmallStream successfully disabled");case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"setSmallStreamProfile",value:function(e){var t=this;e&&e.framerate&&(e.frameRate=e.framerate),Object.keys(this.smallStreamConfig_).forEach((function(n){e[n]&&(t.smallStreamConfig_[n]=e[n])})),this.log_.info("setSmallStreamProfile: bitrate=".concat(this.smallStreamConfig_.bitrate,", frameRate=").concat(this.smallStreamConfig_.frameRate,", height=").concat(this.smallStreamConfig_.height,", width=").concat(this.smallStreamConfig_.width));var n=this.smallStreamConfig_,r=n.width,i=n.height,o=n.bitrate,a=n.frameRate;if(r<0||i<0||o<0||a<0)throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:GT})})}},{key:"setRemoteVideoStreamType",value:(o=a(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next="big"===e.t0||e.t0===bE?3:6;break;case 3:return e.next=5,this.changeVideoType(t,n);case 5:case 6:return e.abrupt("break",7);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"changeVideoType",value:(i=a(r().mark((function e(t,n){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof jZ){e.next=2;break}throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:$T})});case 2:if(t.getConnection()){e.next=4;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:IT})});case 4:i=t.getUserId(),o={stream:t,options:{video:"big"===n,smallVideo:n===bE},isSubscribing:!1,reSubscribeCount:10},this.changeBigSmallRecords_.set(i,o),this.log_.info("set [".concat(i,"] ").concat(t.getType()," stream video prefer type: ").concat(n));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"checkSubscribeBigSmallVideo",value:(n=a(r().mark((function e(t,n){var i,o,a,l,u,c,s,d,f,p,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isBigStreamSubscribed||t.isSmallStreamSubscribed){e.next=2;break}return e.abrupt("return");case 2:if(i=t.getUserId(),o=this.changeBigSmallRecords_.get(i)||{},a=t.getSubscribeState(),l=a.video,u=a.smallVideo,c=o.stream,s=o.options,d=o.isSubscribing,f=o.reSubscribeCount,!(s.video&&l||s.smallVideo&&u&&n)){e.next=8;break}return e.abrupt("return");case 8:if(!d){e.next=10;break}return e.abrupt("return");case 10:if(p={video:s.video,smallVideo:s.smallVideo},!(n&&t.isBigStreamSubscribed||t.isSmallStreamSubscribed)){e.next=30;break}if(e.prev=12,!(s&&c&&!d&&f>=1)){e.next=23;break}return o.isSubscribing=!0,o.reSubscribeCount=f-1,v=c.getConnection(),!n&&v.isSmallStreamSubscribed&&(p={video:!0,smallVideo:!1}),e.next=20,null==v?void 0:v.subscribe(c,p);case 20:this.log_.info("change [".concat(i,"] to ").concat(p.smallVideo?"small":"big"," video successfully. count ").concat(10-o.reSubscribeCount,".")),o.isSubscribing=!1,o.reSubscribeCount=10;case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(12),this.log_.info("change [".concat(i,"] to ").concat(p.smallVideo?"small":"big"," video failed. count ").concat(10-o.reSubscribeCount,".")),o.isSubscribing=!1,0===f&&this.changeBigSmallRecords_.delete(i);case 30:case"end":return e.stop()}}),e,this,[[12,25]])}))),function(e,t){return n.apply(this,arguments)})},{key:"setIsEnableSmallStream",value:function(e){this.isEnableSmallStream_=e}},{key:"getIsEnableSmallStream",value:function(){return this.isEnableSmallStream_}},{key:"smallStreamConfig",get:function(){return this.smallStreamConfig_}},{key:"isPublished",value:function(){return!!this.localStream_}},{key:"getUplinkConnection",value:function(){return this.uplinkConnection_}},{key:"getLocalStream",value:function(){return this.localStream_}},{key:"getMode",value:function(){return this.mode_}},{key:"getBadCaseDetector",value:function(){return this.badCaseDetector_}},{key:"getCallDurationCalculator",value:function(){return this.callDurationCalculator_}},{key:"getIsJoined",value:function(){return this.isJoined_}},{key:"getAllConnections",value:function(){var e=S(this.connections_.values());return this.uplinkConnection_&&e.push(this.uplinkConnection_),e}},{key:"isRelayMaybeFailed",value:function(){var e=this.getAllConnections();if(0===e.length)return!1;for(var t=0;t<e.length;t++)if(e[t].getReconnectionCount()<6)return!1;return!0}},{key:"getUseStringRoomId",value:function(){return this.useStringRoomId_}},{key:"checkConnectionsToReconnect",value:function(){var e=this;this.getAllConnections().forEach((function(t){if(!t.getIsReconnecting()){var n=t.getPeerConnection();n&&n.connectionState===OP&&(e.log_.warn("[".concat(t.getUserId(),"] pc is closed but not reconnect")),t.startReconnection())}}))}},{key:"getEnableAutoPlayDialog",value:function(){return this.enableAutoPlayDialog_}},{key:"sendSEIMessage",value:function(e,t){this.uplinkConnection_.sendSEI(e,t)}}]),e}(),x(IK.prototype,"join",[vK,hK],Object.getOwnPropertyDescriptor(IK.prototype,"join"),IK.prototype),x(IK.prototype,"leave",[mK],Object.getOwnPropertyDescriptor(IK.prototype,"leave"),IK.prototype),x(IK.prototype,"getUserList",[gK],Object.getOwnPropertyDescriptor(IK.prototype,"getUserList"),IK.prototype),x(IK.prototype,"publish",[yK,bK],Object.getOwnPropertyDescriptor(IK.prototype,"publish"),IK.prototype),x(IK.prototype,"unpublish",[_K,wK],Object.getOwnPropertyDescriptor(IK.prototype,"unpublish"),IK.prototype),x(IK.prototype,"subscribe",[SK],Object.getOwnPropertyDescriptor(IK.prototype,"subscribe"),IK.prototype),x(IK.prototype,"unsubscribe",[OK],Object.getOwnPropertyDescriptor(IK.prototype,"unsubscribe"),IK.prototype),x(IK.prototype,"switchRole",[kK,CK],Object.getOwnPropertyDescriptor(IK.prototype,"switchRole"),IK.prototype),x(IK.prototype,"startPublishCDNStream",[xK],Object.getOwnPropertyDescriptor(IK.prototype,"startPublishCDNStream"),IK.prototype),x(IK.prototype,"startMixTranscode",[PK],Object.getOwnPropertyDescriptor(IK.prototype,"startMixTranscode"),IK.prototype),x(IK.prototype,"sendSEIMessage",[EK,TK],Object.getOwnPropertyDescriptor(IK.prototype,"sendSEIMessage"),IK.prototype),IK),LK=function(){var e=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rF()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,VK(t);case 4:if(n=e.sent,Tj.info("getUserMedia with constraints: "+JSON.stringify(n)),!n.audio){e.next=11;break}return e.next=9,oY.getMicrophones();case 9:i=e.sent,Tj.info("microphones: ".concat(JSON.stringify(i)));case 11:if(!n.video){e.next=16;break}return e.next=14,oY.getCameras();case 14:o=e.sent,Tj.info("cameras: ".concat(JSON.stringify(o)));case 16:return e.prev=16,e.next=19,navigator.mediaDevices.getUserMedia(n);case 19:return e.abrupt("return",e.sent);case 22:if(e.prev=22,e.t0=e.catch(16),"NotFoundError"!==e.t0.name){e.next=29;break}if(!o||0!==o.length){e.next=27;break}throw new CR({code:kR.DEVICE_NOT_FOUND,message:eD({key:LI})});case 27:if(!i||0!==i.length){e.next=29;break}throw new CR({code:kR.DEVICE_NOT_FOUND,message:eD({key:NI})});case 29:throw new CR({code:kR.INITIALIZE_FAILED,name:e.t0.name,message:e.t0.message,constraint:e.t0.constraint});case 30:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t){return e.apply(this,arguments)}}(),WK=kj({retryFunction:LK,settings:{retries:3,timeout:500},onError:function(e,t,n){"NotReadableError"===e.name?t():n(e)},onRetrying:function(e){Tj.warn("getUserMedia NotReadableError observed, retrying [".concat(e,"/3]"))}});function VK(e){return BK.apply(this,arguments)}function BK(){return(BK=a(r().mark((function e(n){var i,o,a,l,u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={echoCancellation:n.echoCancellation,autoGainControl:n.autoGainControl,noiseSuppression:n.noiseSuppression},n.audio){e.next=5;break}i=!1,e.next=15;break;case 5:if(fA(n.microphoneId)){e.next=9;break}i=t({deviceId:{exact:n.microphoneId},sampleRate:n.sampleRate,channelCount:n.channelCount},i),e.next=15;break;case 9:return i=t({sampleRate:n.sampleRate,channelCount:n.channelCount},i),e.next=12,oY.getMicrophones();case 12:o=e.sent,(a=o.filter((function(e){return e.deviceId.length>0}))).length>0&&(i.deviceId={exact:a[0].deviceId});case 15:return l={},u={ideal:n.width,max:n.width},c={ideal:n.height,max:n.height},l=!cD(n.facingMode)&&n.video?{facingMode:n.facingMode,width:u,height:c,frameRate:n.frameRate}:!fA(n.cameraId)&&n.video?{deviceId:{exact:n.cameraId},width:u,height:c,frameRate:n.frameRate}:!!n.video&&(!!cD(n.width)||{width:u,height:c,frameRate:n.frameRate}),e.abrupt("return",{audio:i,video:l});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var UK=function(){var e=a(r().mark((function e(t){var n,i,o,a,l,u,c,s,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rF()){e.next=2;break}return e.abrupt("return");case 2:if(n=null,!(ox&&ax<74||ux)){e.next=27;break}return i=zK(t),Tj.info("getDisplayMedia with constraints: "+JSON.stringify(i)),e.next=8,navigator.mediaDevices.getDisplayMedia(i);case 8:if(o=e.sent,!t.screenAudio){e.next=14;break}return Tj.warn("Your browser not support capture system audio"),e.abrupt("return",o);case 14:if(!t.audio){e.next=24;break}return a=HK(t),Tj.info("getUserMedia with constraints: "+JSON.stringify(a)),e.next=19,navigator.mediaDevices.getUserMedia(a);case 19:return n=e.sent,o.addTrack(n.getAudioTracks()[0]),e.abrupt("return",o);case 24:return e.abrupt("return",o);case 25:e.next=53;break;case 27:if(!t.screenAudio){e.next=37;break}return t.audioConstraints={echoCancellation:!0,noiseSuppression:!0,sampleRate:44100},l=zK(t),Tj.info("getDisplayMedia with constraints: "+JSON.stringify(l)),e.next=33,navigator.mediaDevices.getDisplayMedia(l);case 33:return u=e.sent,e.abrupt("return",u);case 37:return c=zK(t),Tj.info("getDisplayMedia with constraints: "+JSON.stringify(c)),e.next=41,navigator.mediaDevices.getDisplayMedia(c);case 41:if(s=e.sent,!t.audio){e.next=52;break}return d=HK(t),Tj.info("getUserMedia with constraints: "+JSON.stringify(d)),e.next=47,navigator.mediaDevices.getUserMedia(d);case 47:return n=e.sent,s.addTrack(n.getAudioTracks()[0]),e.abrupt("return",s);case 52:return e.abrupt("return",s);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function HK(e){var t={echoCancellation:e.echoCancellation,autoGainControl:e.autoGainControl,noiseSuppression:e.noiseSuppression,sampleRate:e.sampleRate,channelCount:e.channelCount};return cD(e.microphoneId)||(t.deviceId={exact:e.microphoneId}),{audio:t,video:!1}}function zK(e){var t={},n={width:{ideal:e.width,max:e.width},height:{ideal:e.height,max:e.height},frameRate:e.frameRate};return cD(e.screenSource)||(n.displaySurface=e.screenSource),t.video=n,cD(e.audioConstraints)||(t.audio=e.audioConstraints),t}var ZK,KK,YK,GK,$K,JK,qK,XK=new Map([["120p",{width:160,height:120,frameRate:15,bitrate:200}],["120p_2",{width:160,height:120,frameRate:15,bitrate:100}],["180p",{width:320,height:180,frameRate:15,bitrate:350}],["180p_2",{width:320,height:180,frameRate:15,bitrate:150}],["240p",{width:320,height:240,frameRate:15,bitrate:400}],["240p_2",{width:320,height:240,frameRate:15,bitrate:200}],["360p",{width:640,height:360,frameRate:15,bitrate:800}],["360p_2",{width:640,height:360,frameRate:15,bitrate:400}],["480p",{width:640,height:480,frameRate:15,bitrate:900}],["480p_2",{width:640,height:480,frameRate:15,bitrate:500}],["720p",{width:1280,height:720,frameRate:15,bitrate:1500}],["1080p",{width:1920,height:1080,frameRate:15,bitrate:2e3}],["1440p",{width:2560,height:1440,frameRate:30,bitrate:4860}],["4K",{width:3840,height:2160,frameRate:30,bitrate:9e3}]]),QK=new Map([["480p",{width:640,height:480,frameRate:5,bitrate:900}],["480p_2",{width:640,height:480,frameRate:30,bitrate:1e3}],["720p",{width:1280,height:720,frameRate:5,bitrate:1200}],["720p_2",{width:1280,height:720,frameRate:30,bitrate:3e3}],["1080p",{width:1920,height:1080,frameRate:5,bitrate:1600}],["1080p_2",{width:1920,height:1080,frameRate:30,bitrate:4e3}]]),eY=new Map([["standard",{sampleRate:48e3,channelCount:1,bitrate:40}],["standard-stereo",{sampleRate:48e3,channelCount:2,bitrate:64}],["high",{sampleRate:48e3,channelCount:1,bitrate:128}],["high-stereo",{sampleRate:48e3,channelCount:2,bitrate:192}]]),tY=(ZK=EZ.apply(void 0,S(xZ.LOCAL_STREAM.switchDevice)),KK=tK({retries:10,timeout:3e3,onRetryFailed:function(e){vA.logFailedEvent({userId:this.client_?this.client_.getUserId():this.userId_,eventType:GP,error:e}),this.emitter_.emit(wF,new CR({code:kR.DEVICE_AUTO_RECOVER_FAILED,message:e.message}))}}),YK=PZ(xZ.LOCAL_STREAM.setAudioCaptureVolume),GK=function(e){d(S,e);var n,o,u,s,p,v,h,m,g,b,w=y(S);function S(e){var n;l(this,S);var r=t(t({},e),{isRemote:!1,type:"local"});return(n=w.call(this,r)).name_=PE,n.client_=null,n.video_=e.video,n.audio_=e.audio,n.cameraId_=e.cameraId,n.cameraGroupId_="",n.facingMode_=e.facingMode,n.microphoneId_=e.microphoneId,n.microphoneGroupId_="",n.videoSource_=e.videoSource,n.audioSource_=e.audioSource,n.screen_=e.screen,n.screenSource_=e.screenSource,n.screenAudio_=e.screenAudio,n.audioProfile_={echoCancellation:!!cD(e.echoCancellation)||e.echoCancellation,autoGainControl:!!cD(e.autoGainControl)||e.autoGainControl,noiseSuppression:!!cD(e.noiseSuppression)||e.noiseSuppression,sampleRate:48e3,channelCount:1,bitrate:40},n.videoProfile_=XK.get("480p_2"),n.screenProfile_=QK.get("1080p"),n.videoSetting_=null,n.muteState_={video:!1,audio:!1,auxVideo:!1},n.beautyStatus_=!1,n.prevAudioRecoverTime_=0,n.prevVideoRecoverTime_=0,n.isAudioRecovering_=!1,n.isVideoRecovering_=!1,n.initState(),n.canvas_=null,n.canvasInterval_=-1,n.gain_={audioTrack:null,source:null,gainNode:null},n.captureVolume_=100,n.log_.info("stream created: "+n.id_),n}return c(S,[{key:"initState",value:function(){this.isAddingTrack_=!1,this.isRemovingTrack_=!1,this.setIsReadyToPublish(!1),this.setPublishState(mE)}},{key:"installEvents",value:function(){_(f(S.prototype),"installEvents",this).call(this),DD.on(aj,this.onStreamPublished,this),DD.on(hj,this.onVideoTrackStopped,this),DD.on(sj,this.onVideoTrackStopped,this),DD.on(gj,this.onAudioTrackStopped,this),DD.on(mj,this.onAudioTrackStopped,this)}},{key:"uninstallEvents",value:function(){_(f(S.prototype),"uninstallEvents",this).call(this),DD.off(aj,this.onStreamPublished,this),DD.off(hj,this.onVideoTrackStopped,this),DD.off(sj,this.onVideoTrackStopped,this),DD.off(gj,this.onAudioTrackStopped,this),DD.off(mj,this.onAudioTrackStopped,this)}},{key:"initialize",value:function(){var e=this;return new Promise((function(t,n){if(iF())n(new CR({code:kR.INVALID_OPERATION,message:eD({key:II})}));else{if(cD(e.audio_)){var r=new MediaStream;return cD(e.audioSource_)||(r.addTrack(e.audioSource_),e.updateAudioPlayingState(!0)),cD(e.videoSource_)||(r.addTrack(e.videoSource_),e.updateVideoPlayingState(!0)),e.setMediaStream(r),vA.logSuccessEvent({userId:e.client_?e.client_.getUserId():e.userId_,eventType:ZP,kind:"custom"}),e.setIsReadyToPublish(!0),t()}e.screen_?(e.log_.info("initialize stream audio: "+e.audio_+" screenAudio: "+e.screenAudio_+" screen: "+e.screen_),UK({audio:e.audio_,screenAudio:e.screenAudio_,microphoneId:e.microphoneId_,screenSource:e.screenSource_,width:e.screenProfile_.width,height:e.screenProfile_.height,frameRate:e.screenProfile_.frameRate,sampleRate:e.audioProfile_.sampleRate,channelCount:e.audioProfile_.channelCount,autoGainControl:e.audioProfile_.autoGainControl,noiseSuppression:e.audioProfile_.noiseSuppression,echoCancellation:e.audioProfile_.echoCancellation}).then((function(n){e.setMediaStream(n),e.updateAudioPlayingState(e.audio_||e.screenAudio_),e.updateVideoPlayingState(!0);var r=e.getVideoTrack();return e.listenForScreenSharingStopped(r),e.setVideoContentHint(Fx),e.updateDeviceIdInUse(),e.setIsReadyToPublish(!0),e.log_.info(JSON.stringify(r.getSettings())),vA.logSuccessEvent({userId:e.client_?e.client_.getUserId():e.userId_,eventType:ZP,kind:"getDisplayMedia"}),t()})).catch((function(t){vA.logFailedEvent({userId:e.client_?e.client_.getUserId():e.userId_,eventType:ZP,kind:"getDisplayMedia",error:t}),e.log_.error("getDisplayMedia error observed "+t),n(t instanceof CR?t:new CR({code:kR.INITIALIZE_FAILED,name:t.name,message:t.message}))}))):(DD.emit(lj,{stream:e,audio:e.audio_,video:e.video_}),e.log_.info("initialize stream audio: "+e.audio_+" video: "+e.video_),WK({audio:e.audio_,video:e.video_,facingMode:e.facingMode_,cameraId:e.cameraId_,microphoneId:e.microphoneId_,width:e.videoProfile_.width,height:e.videoProfile_.height,frameRate:e.videoProfile_.frameRate,sampleRate:e.audioProfile_.sampleRate,channelCount:e.audioProfile_.channelCount,autoGainControl:e.audioProfile_.autoGainControl,noiseSuppression:e.audioProfile_.noiseSuppression,echoCancellation:e.audioProfile_.echoCancellation}).then((function(n){DD.emit(uj,{stream:e,audio:e.audio_,video:e.video_}),e.setMediaStream(n);var r=e.getVideoTrack();return r&&(pF&&(e.videoSetting_=r.getSettings()),vF&&e.log_.info("video capabilities: "+JSON.stringify(r.getCapabilities()))),e.updateAudioPlayingState(e.audio_),e.updateVideoPlayingState(e.video_),e.updateDeviceIdInUse(),e.log_.info("gotStream hasAudio: "+e.hasAudio()+" hasVideo: "+e.hasVideo()),e.setIsReadyToPublish(!0),vA.logSuccessEvent({userId:e.client_?e.client_.getUserId():e.userId_,eventType:ZP,kind:"getUserMedia"}),t()})).catch((function(t){DD.emit(cj,{stream:e,audio:e.audio_,video:e.video_,error:t}),vA.logFailedEvent({userId:e.client_?e.client_.getUserId():e.userId_,eventType:ZP,kind:"getUserMedia",error:t}),e.log_.error("getUserMedia error observed "+t),n(t)})))}}))}},{key:"listenForScreenSharingStopped",value:function(e){var t=this;e.addEventListener("ended",(function(e){t.log_.info("screen sharing was stopped because the video track is ended"),t.emitter_.emit(yF)}))}},{key:"muteAudio",value:function(){var e=_(f(S.prototype),"muteAudio",this).call(this);return e&&(this.log_.info("localStream mute audio"),this.sendMutedFlag(_x,!0)),e}},{key:"muteVideo",value:function(){var e=_(f(S.prototype),"muteVideo",this).call(this);return e&&(this.log_.info("localStream mute video"),this.sendMutedFlag(wx,!0)),e}},{key:"unmuteAudio",value:function(){var e=_(f(S.prototype),"unmuteAudio",this).call(this);return e&&(this.log_.info("localStream unmute audio"),this.sendMutedFlag(_x,!1)),e}},{key:"unmuteVideo",value:function(){var e=_(f(S.prototype),"unmuteVideo",this).call(this);return e&&(this.log_.info("localStream unmute video"),this.sendMutedFlag(wx,!1)),e}},{key:"sendMutedFlag",value:function(e,t){this.setMuteState(e,t);var n=this.getConnection();if(n){n.sendMutedFlag(this.muteState_);var r=n.getUserId(),i=n.getTinyId(),o="".concat(t?xx:Px," local ").concat(e," track");cA(r,{eventId:e===_x?t?IR:jR:t?DR:RR,eventDesc:o,timestamp:Jk(),userId:r,tinyId:i})}}},{key:"setMuteState",value:function(e,t){this.muteState_[e]=t,this.log_.info("set ".concat(e," muted state: [").concat(t?"mute":"unmute","]"))}},{key:"setAudioProfile",value:function(e){var n;"object"===i(e)?n=e:void 0===(n=eY.get(e))&&(n=eY.get("standard")),this.log_.info("setAudioProfile: "+JSON.stringify(n)),this.audioProfile_=t(t({},this.audioProfile_),n)}},{key:"setVideoProfile",value:(b=a(r().mark((function e(n){var i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection_||nF()){e.next=2;break}throw new CR({code:kR.NOT_SUPPORTED,message:eD({key:jI})});case 2:if(oD(n)?i=t(t({},this.videoProfile_),n):sD(n)&&(i=XK.get(n),cD(i)&&(i=XK.get("480p_2"))),i&&i.width*i.height>921600&&vx&&(i.width=1280,i.height=720,this.log_.warn("reset to 1280 * 720 on iOS 13~14")),this.log_.info("setVideoProfile "+JSON.stringify(i)),!(o=this.getVideoTrack())){e.next=9;break}return e.next=9,o.applyConstraints(i);case 9:if(a=this.videoProfile_.bitrate!==i.bitrate,this.videoProfile_=i,!a||!this.connection_){e.next=15;break}return e.next=14,this.connection_.setBandwidth(i.bitrate,wx);case 14:this.connection_.updateMediaSettings(this.mediaStream_);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getVideoBitrate",value:function(){return this.screen_?this.screenProfile_.bitrate:this.videoProfile_.bitrate}},{key:"getAudioBitrate",value:function(){return this.audioProfile_.bitrate}},{key:"setScreenProfile",value:function(e){var t=e;sD(e)&&(t=QK.get(e)||QK.get("1080p")),this.log_.info("setScreenProfile "+JSON.stringify(e)),this.screenProfile_=t}},{key:"getVideoProfile",value:function(){return this.screen_?this.screenProfile_:this.videoProfile_}},{key:"getAudioProfile",value:function(){return this.audioProfile_}},{key:"setVideoContentHint",value:function(e){var t=this.getVideoTrack();t&&"contentHint"in t&&(this.log_.info("set video track contentHint to: "+e),t.contentHint=e,t.contentHint!==e&&this.log_.warn("Invalid video track contentHint: "+e))}},{key:"switchDevice",value:(g=a(r().mark((function e(t,n){var i,o,a,l,u,c,s,d,f,p,v,h,m,g,y,b,_;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t===_x)){e.next=8;break}if(this.microphoneId_!==n){e.next=4;break}return e.abrupt("return");case 4:this.microphoneId_=n,this.audio_=!0,e.next=12;break;case 8:if(this.cameraId_!==n){e.next=10;break}return e.abrupt("return");case 10:n===kx||n===Cx?this.facingMode_=n:this.cameraId_=n,this.video_=!0;case 12:if(this.getMediaStream()){e.next=14;break}return e.abrupt("return");case 14:return this.setIsReadyToPublish(!1),this.log_.info("switchDevice "+t+" to: "+n),i||((o=this.getVideoTrack())&&o.stop(),$C&&(a=this.getAudioTrack())&&(this.log_.info("stop audio track first in huawei env"),a.stop())),i&&(l=this.getAudioTrack(),u=this.getMicrophoneTrackMixed(),l&&l.stop(),u&&u.stop()),e.next=20,WK({audio:this.audio_&&t===_x||$C,video:this.video_&&t===wx,facingMode:n===kx||n===Cx?n:void 0,cameraId:this.cameraId_,microphoneId:this.microphoneId_,width:this.videoProfile_.width,height:this.videoProfile_.height,frameRate:this.videoProfile_.frameRate,sampleRate:this.audioProfile_.sampleRate,channelCount:this.audioProfile_.channelCount});case 20:if(c=e.sent,s=null,!i){e.next=27;break}(d=c.getAudioTracks()[0])&&this.isAudioTrackMixed()?(f=this.getAudioTrack(),p=oY.AudioMixerPlugin.getAudioTrackMap(),v=oY.AudioMixerPlugin.mix({targetTrack:d,sourceList:p.get(f.id).sourceList,trackList:p.get(f.id).trackList}),s=v):s=d,e.next=36;break;case 27:if(!(s=c.getVideoTracks()[0])||!this.isVideoTrackBeautified()){e.next=32;break}return e.next=31,this.generateBeautyTrack(s);case 31:s=e.sent;case 32:if(!(h=c.getAudioTracks()[0])||!$C){e.next=36;break}return e.next=36,this.replaceTrack_(h);case 36:return e.next=38,this.replaceTrack_(s);case 38:this.updateDeviceIdInUse(),(m=this.getConnection())&&(g=m.getUserId(),y=m.getTinyId(),b=NR,_="switch camera",i&&(b=LR,_="switch microphone"),cA(g,{eventId:b,eventDesc:_,timestamp:Jk(),userId:g,tinyId:y})),this.log_.info("switch ".concat(i?"microphone":"camera"," success ")),this.setIsReadyToPublish(!0);case 43:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"addTrack",value:(m=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isAddingTrack_){e.next=2;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:eI})});case 2:if(!this.isRemovingTrack_){e.next=4;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:tI})});case 4:if(this.publishState_!==gE){e.next=6;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:nI})});case 6:if(n=this.getMediaStream()){e.next=9;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:rI})});case 9:if(!(t.kind===_x&&n.getAudioTracks().length>0||t.kind===wx&&n.getVideoTracks().length>0)){e.next=11;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:iI})});case 11:if(t.kind===wx&&pF&&(i=t.getSettings(),!this.videoSetting_||i.width===this.videoSetting_.width&&i.height===this.videoSetting_.height||this.log_.warn("video resolution of the track (".concat(i.width," x ").concat(i.height,") shall be kept the same as the previous: ").concat(this.videoSetting_.width," x ").concat(this.videoSetting_.height,". It may cause abnormal Cloud Recording."))),e.prev=12,this.isAddingTrack_=!0,this.keepMuteState(t),n.addTrack(t),!(o=this.getConnection())){e.next=20;break}return e.next=20,o.addTrack(t);case 20:t.kind===_x?(this.audio_=!0,this.updateAudioPlayingState(!0)):(this.video_=!0,this.updateVideoPlayingState(!0)),this.isAddingTrack_=!1,e.next=29;break;case 24:throw e.prev=24,e.t0=e.catch(12),n.removeTrack(t),this.isAddingTrack_=!1,e.t0;case 29:case"end":return e.stop()}}),e,this,[[12,24]])}))),function(e){return m.apply(this,arguments)})},{key:"removeTrack",value:(h=a(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.kind!==_x){e.next=2;break}throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:oI})});case 2:if(!this.isAddingTrack_){e.next=4;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:aI})});case 4:if(!this.isRemovingTrack_){e.next=6;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:lI})});case 6:if(this.publishState_!==gE){e.next=8;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:uI})});case 8:if(n=this.getMediaStream()){e.next=11;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:rI})});case 11:if(-1!==n.getTracks().indexOf(t)){e.next=13;break}throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:cI})});case 13:if(1!==n.getTracks().length){e.next=15;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:sI})});case 15:if(e.prev=15,this.isRemovingTrack_=!0,!(i=this.getConnection())){e.next=21;break}return e.next=21,i.removeTrack(t);case 21:n.removeTrack(t),t.kind===_x?(this.audio_=!1,this.updateAudioPlayingState(!1)):(this.video_=!1,this.updateVideoPlayingState(!1)),this.isRemovingTrack_=!1,e.next=30;break;case 26:throw e.prev=26,e.t0=e.catch(15),this.isRemovingTrack_=!1,e.t0;case 30:case"end":return e.stop()}}),e,this,[[15,26]])}))),function(e){return h.apply(this,arguments)})},{key:"replaceTrack",value:(v=a(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getMediaStream()){e.next=3;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:QT})});case 3:if(this.publishState_!==gE){e.next=5;break}throw new CR({code:kR.INVALID_OPERATION,message:eD({key:XT})});case 5:if(!(t.kind===_x&&n.getAudioTracks().length<=0||t.kind===wx&&n.getVideoTracks().length<=0)){e.next=7;break}throw new CR({code:kR.INVALID_PARAMETER,message:eD({key:dI,data:t})});case 7:if(t.kind===wx&&pF&&(i=t.getSettings(),!this.videoSetting_||i.width===this.videoSetting_.width&&i.height===this.videoSetting_.height||this.log_.warn("video resolution of the track (".concat(i.width," x ").concat(i.height,") shall be kept the same as the previous: ").concat(this.videoSetting_.width," x ").concat(this.videoSetting_.height,". It may cause abnormal Cloud Recording."))),this.keepMuteState(t),t.kind!==_x){e.next=18;break}if(n.removeTrack(n.getAudioTracks()[0]),n.addTrack(t),_(f(S.prototype),"restartAudio",this).call(this),!this.gain_.gainNode){e.next=16;break}return this.reconnectGainNode(t),e.abrupt("return");case 16:e.next=21;break;case 18:n.removeTrack(n.getVideoTracks()[0]),n.addTrack(t),_(f(S.prototype),"restartVideo",this).call(this);case 21:if(!(o=this.getConnection())){e.next=25;break}return e.next=25,o.replaceTrack(t);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"recoverCapture",value:(p=a(r().mark((function e(t){var n,i,o,a,l,u,c,s,d,f,p,v,h,m,g,y,b;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.mediaStream_){e.next=2;break}return e.abrupt("return");case 2:return this.log_.warn("recoverCapture() trying "+JSON.stringify(t)),n=this.audio_&&t.audio,i=this.video_&&t.video,e.prev=5,e.next=8,oY.getCameras();case 8:return o=e.sent,e.next=11,oY.getMicrophones();case 11:if(a=e.sent,i&&0===o.length&&(i=!1,this.log_.warn("recoverCapture() video flag is true, but no camera detected, set video to false")),n&&0===a.length&&(n=!1,this.log_.warn("recoverCapture() audio flag is true, but no microphone detected, set audio to false")),!1!==n||!1!==i){e.next=17;break}return this.log_.warn("recoverCapture() both audio and video are false, aborted"),e.abrupt("return");case 17:return l=t&&o.findIndex((function(e){return e.deviceId===t.cameraId}))>=0,u=t&&a.findIndex((function(e){return e.deviceId===t.microphoneId}))>=0,e.next=21,WK({audio:n,video:i,cameraId:l?t.cameraId:void 0,microphoneId:u?t.microphoneId:void 0,facingMode:this.facingMode_,width:this.videoProfile_.width,height:this.videoProfile_.height,frameRate:this.videoProfile_.frameRate,sampleRate:this.audioProfile_.sampleRate,channelCount:this.audioProfile_.channelCount});case 21:c=e.sent,s=c.getTracks(),d=0;case 24:if(!(d<s.length)){e.next=51;break}if((f=s[d]).kind!==_x||!this.isAudioTrackMixed()){e.next=37;break}if(p=this.getAudioTrack(),v=oY.AudioMixerPlugin.getAudioTrackMap(),(h=v.get(p.id)).hasMicrophone){e.next=33;break}return f.stop(),e.abrupt("continue",48);case 33:return m=oY.AudioMixerPlugin.mix({targetTrack:f,sourceList:h.sourceList,trackList:h.trackList}),e.next=36,this.replaceTrack_(m);case 36:return e.abrupt("continue",48);case 37:if(f.kind!==wx||!this.isVideoTrackBeautified()){e.next=44;break}return e.next=40,this.generateBeautyTrack(f);case 40:return g=e.sent,e.next=43,this.replaceTrack_(g);case 43:return e.abrupt("continue",48);case 44:return f.kind===_x&&(null===(y=this.getAudioTrack())||void 0===y||y.stop()),f.kind===wx&&(null===(b=this.getVideoTrack())||void 0===b||b.stop()),e.next=48,this.replaceTrack_(f);case 48:d++,e.next=24;break;case 51:this.updateDeviceIdInUse(),vA.logSuccessEvent({userId:this.client_?this.client_.getUserId():this.userId_,eventType:GP}),this.log_.warn("recoverCapture() successfully"),this.emitter_.emit(_F,{isCamera:t.video,isMicrophone:t.audio,cameraId:this.cameraId_,microphoneId:this.microphoneId_}),e.next=61;break;case 57:throw e.prev=57,e.t0=e.catch(5),this.log_.warn("recoverCapture() failed, "+e.t0),e.t0;case 61:case"end":return e.stop()}}),e,this,[[5,57]])}))),function(e){return p.apply(this,arguments)})},{key:"replaceTrack_",value:(s=a(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mediaStream_.getAudioTracks(),i=this.mediaStream_.getVideoTracks(),!(t.kind===_x&&n.length<=0||t.kind===wx&&i.length<=0)){e.next=5;break}return this.log_.info("there is no previous ".concat(t.kind," track, replacement ignored")),e.abrupt("return");case 5:if(this.keepMuteState(t),t.kind!==_x){e.next=15;break}if(this.mediaStream_.removeTrack(n[0]),this.mediaStream_.addTrack(t),_(f(S.prototype),"restartAudio",this).call(this),!this.gain_.gainNode){e.next=13;break}return this.reconnectGainNode(t),e.abrupt("return");case 13:e.next=19;break;case 15:pF&&(o=t.getSettings(),!this.videoSetting_||o.width===this.videoSetting_.width&&o.height===this.videoSetting_.height||this.log_.warn("the resolution of video track to be replaced (".concat(o.width," x ").concat(o.height,") is different from the previous video settings (").concat(this.videoSetting_.width," x ").concat(this.videoSetting_.height,"). It may cause a cloud recording exception"))),this.mediaStream_.removeTrack(i[0]),this.mediaStream_.addTrack(t),_(f(S.prototype),"restartVideo",this).call(this);case 19:if(!(a=this.getConnection())){e.next=23;break}return e.next=23,a.replaceTrack(t);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateDeviceIdInUse",value:function(){var e=this;if(!this.mediaStream_)return this.cameraId_="",this.cameraGroupId_="",this.microphoneId_="",void(this.microphoneGroupId_="");pF&&this.mediaStream_.getTracks().forEach((function(t){if(t.kind===_x&&e.isAudioTrackMixed()){var n=e.getMicrophoneTrackMixed();if(n){var r=n.getSettings(),i=r.deviceId,o=r.groupId;i&&(e.microphoneId_=i,e.microphoneGroupId_=o)}}else if(t.kind===wx&&e.isVideoTrackBeautified()){var a=e.getBeautyOriginTrack();if(a){var l=a.getSettings(),u=l.deviceId,c=l.groupId;u&&(e.cameraId_=u,e.cameraGroupId_=c)}}else{var s=t.getSettings(),d=s.deviceId,f=s.groupId;d&&(t.kind===_x?(e.microphoneId_=d,e.microphoneGroupId_=f):t.kind!==wx||e.screen_||(e.cameraId_=d,e.cameraGroupId_=f))}}));var t=this.mediaStream_.getAudioTracks(),n=this.mediaStream_.getVideoTracks();t&&0===t.length&&(this.microphoneId_="",this.microphoneGroupId_=""),n&&0===n.length&&(this.cameraId_="",this.cameraGroupId_="")}},{key:"isAudioTrackMixed",value:function(){if(oY.AudioMixerPlugin){var e=oY.AudioMixerPlugin.getAudioTrackMap(),t=this.getAudioTrack();if(e&&t&&e.has(t.id))return!0}return!1}},{key:"getMicrophoneTrackMixed",value:function(){if(oY.AudioMixerPlugin){var e=oY.AudioMixerPlugin.getAudioTrackMap(),t=this.getAudioTrack();if(e&&t&&e.has(t.id)){var n=e.get(t.id);return n.hasMicrophone?n.microphoneTrack:null}}return null}},{key:"isVideoTrackBeautified",value:function(){if(oY.beautyTrackMap){var e=oY.beautyTrackMap,t=this.getVideoTrack();if(t&&e.has(t.id))return!0}return!1}},{key:"getBeautyOriginTrack",value:function(){if(oY.beautyTrackMap){var e=oY.beautyTrackMap,t=this.getVideoTrack();if(t&&e.has(t.id)){var n=e.get(t.id);if(n.originTrack)return n.originTrack}}return null}},{key:"generateBeautyTrack",value:(u=a(r().mark((function e(t){var n,i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,i=this.getVideoTrack(),o=oY.beautyTrackMap.get(i.id),a=o.param,o.type){e.next=8;break}n=o.pluginInstance.generateBeautyTrack(t),e.next=22;break;case 8:e.t0=o.type,e.next="beauty"===e.t0?11:"virtual"===e.t0?13:"mixed"===e.t0?17:21;break;case 11:return n=o.pluginInstance.generateBeautyTrack(t),e.abrupt("break",22);case 13:return e.next=15,o.pluginInstance.generateVirtualTrack({videoTrack:t,type:a.type,img:a.img});case 15:case 19:return n=e.sent,e.abrupt("break",22);case 17:return e.next=19,o.pluginInstance.generateMixedTrack({videoTrack:t,type:a.type,img:a.img});case 21:return e.abrupt("break",22);case 22:return o.pluginInstance.deleteSource(i.id),this.log_.info("regenerate beauty track, track id = ".concat(t.id)),e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getScreen",value:function(){return this.screen_}},{key:"hasScreenTrack",value:function(){if(this.screen_)return!0;var e=this.getVideoTrack();return!!e&&(e.contentHint===Fx||e.contentHint===Mx)}},{key:"getVideo",value:function(){return this.video_}},{key:"getAudio",value:function(){return this.audio_}},{key:"getCameraId",value:function(){return this.cameraId_}},{key:"getMicrophoneId",value:function(){return this.microphoneId_}},{key:"getMicrophoneGroupId",value:function(){return this.microphoneGroupId_}},{key:"getIsReadyToPublish",value:function(){return this.isReadyToPublish_}},{key:"setIsReadyToPublish",value:function(e){this.isReadyToPublish_=e}},{key:"setPublishState",value:function(e){this.publishState_=e}},{key:"setBeautyStatus",value:function(e){this.beautyStatus_=!!e}},{key:"getBeautyStatus",value:function(){return this.beautyStatus_}},{key:"onStreamPublished",value:function(e){var t=e.localStream,n=e.client;t===this&&(this.client_=n,this.log_.setUserId(n.getUserId()),this.log_.setSdkAppId(n.getSDKAppId()),this.syncMuteState())}},{key:"syncMuteState",value:function(){var e=this.getAudioTrack(),t=this.getVideoTrack();if(e){var n=!e.enabled;this.setMuteState(_x,n)}if(t){var r=!t.enabled;this.setMuteState(wx,r)}this.connection_&&this.connection_.sendMutedFlag(this.muteState_)}},{key:"keepMuteState",value:function(e){e instanceof MediaStreamTrack&&this.muteState_[e.kind]&&(e.enabled=!1,this.log_.warn("prev ".concat(e.kind," track is muted, keep mute state")))}},{key:"onVideoTrackStopped",value:(o=a(r().mark((function e(t){var n,i,o,a,l=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.stream,i=t.type,n===this&&this.video_&&this.cameraId_&&!this.isVideoRecovering_&&(!(BC&&ux||pC&&Number(dx)>=15.1)||i!==xx)){e.next=3;break}return e.abrupt("return");case 3:if(!(Date.now()-this.prevVideoRecoverTime_<UE)){e.next=6;break}return setTimeout((function(){return l.onVideoTrackStopped({stream:n,type:i})}),UE),e.abrupt("return");case 6:if(!(o=this.getVideoTrack())){e.next=14;break}return a=o.getSettings().deviceId,e.next=11,oY.getCameras();case 11:if(!(e.sent.findIndex((function(e){return e.deviceId===a}))<0)){e.next=14;break}return e.abrupt("return");case 14:i===xx?setTimeout((function(){var e=l.getVideoTrack();null!=e&&e.muted&&"visible"===document.visibilityState&&l.recoverVideoCapture(i)}),1e3):this.recoverVideoCapture(i);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"onAudioTrackStopped",value:(n=a(r().mark((function e(t){var n,i,o,a,l,u,c=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.stream,i=t.type,n===this&&this.audio_&&this.microphoneId_&&!this.isAudioRecovering_&&(!(BC&&ux||pC&&Number(dx)>=15.1)||i!==xx)){e.next=3;break}return e.abrupt("return");case 3:if(!(Date.now()-this.prevAudioRecoverTime_<UE)){e.next=6;break}return setTimeout((function(){return c.onAudioTrackStopped({stream:n,type:i})}),UE),e.abrupt("return");case 6:if(!(o=this.getAudioTrack())){e.next=14;break}return a=o.getSettings(),l=a.groupId,u=a.deviceId,e.next=11,oY.getMicrophones();case 11:if(!(e.sent.findIndex((function(e){return e.deviceId===u&&(cD(l)||l===e.groupId)}))<0)){e.next=14;break}return e.abrupt("return");case 14:i===xx?setTimeout((function(){var e=c.getAudioTrack();null!=e&&e.muted&&"visible"===document.visibilityState&&c.recoverAudioCapture(i)}),1e3):this.recoverAudioCapture(i);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"recoverAudioCapture",value:function(e){var t=this;this.prevAudioRecoverTime_=Date.now(),vA.uploadEvent({log:"stat-local-audio-".concat(e),userId:this.userId_}),this.isAudioRecovering_=!0,this.recoverCapture({audio:!0,video:!1,microphoneId:this.microphoneId_}).then((function(){t.isAudioRecovering_=!1})).catch((function(){t.isAudioRecovering_=!1}))}},{key:"recoverVideoCapture",value:function(e){var t=this;this.prevVideoRecoverTime_=Date.now(),vA.uploadEvent({log:"stat-local-video-".concat(e),userId:this.userId_}),this.isVideoRecovering_=!0,this.recoverCapture({audio:!1,video:!0,cameraId:this.cameraId_}).then((function(){t.isVideoRecovering_=!1})).catch((function(){t.isVideoRecovering_=!1}))}},{key:"setAudioVolume",value:function(e){_(f(S.prototype),"setAudioVolume",this).call(this,e)}},{key:"clearCanvas",value:function(){this.canvasInterval_&&(AA.clearInterval(this.canvasInterval_),this.canvasInterval_=-1,this.canvas_=null)}},{key:"genCanvasTrack",value:function(e){var t=this;this.log_.info("gen canvas track");var n=e.getSettings(),r=n.width,i=n.height,o=n.frameRate;this.canvas_=document.createElement("canvas");var a=this.canvas_.getContext("2d");return this.canvas_.width=r,this.canvas_.height=i,this.canvasInterval_=AA.setInterval((function(){if(t.hasVideo()){var e=t.getVideoTrack().getSettings();e.width===t.canvas_.width&&e.height===t.canvas_.height||(t.canvas_.width=e.width,t.canvas_.height=e.height)}t.videoPlayer_&&t.videoPlayer_.element_&&a.drawImage(t.videoPlayer_.element_,0,0,t.canvas_.width,t.canvas_.height)}),Math.max(66,Math.floor(1e3/o))),this.canvas_.captureStream().getVideoTracks()[0]}},{key:"setClient",value:function(e){this.client_=e}},{key:"setAudioCaptureVolume",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;if(!this.hasAudio()||t<0||!tF())return!1;if(this.captureVolume_===t)return!0;this.captureVolume_=t,this.log_.info("setCaptureVolume "+t),t/=100;var n=OD();if(this.gain_.gainNode)this.gain_.gainNode.gain.value=t;else{var r,i=new MediaStream;i.addTrack(this.getAudioTrack());var o=n.createMediaStreamDestination(),a=n.createMediaStreamSource(i),l=n.createGain();l.gain.value=t,a.connect(l),l.connect(o);var u=o.stream.getAudioTracks()[0],c=function(t){return e.log_.info("gained audio track ".concat(t))};u.onmute=function(){return c("muted")},u.onunmute=function(){return c("unmuted")},u.onended=function(){return c("ended")},this.gain_={source:a,audioTrack:u,gainNode:l},null===(r=this.connection_)||void 0===r||r.replaceTrack(u),_(f(S.prototype),"restartAudio",this).call(this)}return!0}},{key:"getGainedTrack",value:function(){return this.gain_.audioTrack}},{key:"reconnectGainNode",value:function(e){this.log_.warn("reconnect gain node");var t=new MediaStream;t.addTrack(e);var n=OD().createMediaStreamSource(t);n.connect(this.gain_.gainNode),this.gain_.source.disconnect(),this.gain_.source=n}},{key:"close",value:function(){this.setIsReadyToPublish(!1);var e=this.gain_,t=e.audioTrack,n=e.source,r=e.gainNode;r&&(n.disconnect(),r.disconnect(),t.onmute=null,t.onunmute=null,t.onended=null,t.stop(),this.gain_={source:null,gainNode:null,audioTrack:null}),_(f(S.prototype),"close",this).call(this)}}]),S}(DZ),x(GK.prototype,"switchDevice",[ZK],Object.getOwnPropertyDescriptor(GK.prototype,"switchDevice"),GK.prototype),x(GK.prototype,"recoverCapture",[KK],Object.getOwnPropertyDescriptor(GK.prototype,"recoverCapture"),GK.prototype),x(GK.prototype,"setAudioCaptureVolume",[YK],Object.getOwnPropertyDescriptor(GK.prototype,"setAudioCaptureVolume"),GK.prototype),GK),nY=0,rY=0,iY=($K=PZ(xZ.TRTC.createClient),JK=PZ(xZ.TRTC.createStream),qK=function(){function e(){l(this,e),this.name_=CE,this.VERSION=XS,this.Logger={loggerManager:Tj,LogLevel:WE,setLogLevel:function(e){Tj.setLogLevel(e),e<=1&&QI()},enableUploadLog:function(){Tj.enableUploadLog()},disableUploadLog:function(){Tj.warn("disableUploadLog"),Tj.disableUploadLog()}}}var n,i,o,u,s;return c(e,[{key:"checkSystemRequirements",value:(s=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YA();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"isScreenShareSupported",value:function(){return JA()}},{key:"isSmallStreamSupported",value:function(){return fF()}},{key:"getDevices",value:(u=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iF()&&!rF()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.kind!==Rx||e.deviceId!=LE})).map((function(e,t){var n=e.label;e.label||(n=e.kind+"_"+t);var r={label:n,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(r.groupId=e.groupId),e.getCapabilities&&(r.getCapabilities=function(){return e.getCapabilities()}),r})));case 6:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"getCameras",value:(o=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iF()&&!rF()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.kind===Ax})).map((function(e,t){var n=e.label;e.label||(n="camera_"+t);var r={label:n,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(r.groupId=e.groupId),e.getCapabilities&&(r.getCapabilities=function(){return e.getCapabilities()}),r})));case 6:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"getMicrophones",value:(i=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iF()&&!rF()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.kind===Rx&&e.deviceId!==LE})).map((function(e,t){var n=e.label;e.label||(n="microphone_"+t);var r={label:n,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(r.groupId=e.groupId),e.getCapabilities&&(r.getCapabilities=function(){return e.getCapabilities()}),r})));case 6:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"getSpeakers",value:(n=a(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!iF()&&!rF()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return"audiooutput"===e.kind})).map((function(e,t){var n=e.label;e.label||(n="speaker_"+t);var r={label:n,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(r.groupId=e.groupId),r})));case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"createClient",value:function(e){Ij&&(Ij=!1,Tj.getLogLevel()!=oY.Logger.LogLevel.NONE&&(console.info("******************************************************************************"),console.info("*   TRTC Web SDK"),console.info("*   API Document: "+"".concat(FE,"index.html")),console.info("*   Changelog: https://cloud.tencent.com/document/product/647/38958"),console.info("*   Report issues: https://github.com/LiteAVSDK/TRTC_Web/issues"),console.info("******************************************************************************")),Tj.info("TRTC Web SDK Version: 4.14.3"),Tj.info("UserAgent: "+navigator.userAgent),Tj.info("URL of current page: "+location.href));var n={version:this.VERSION},r=new NK(t(t(t({},n),e),{},{seq:++nY}));return DD.emit(ZD,{client:r}),r}},{key:"createStream",value:function(e){return new tY(t(t({},e),{},{seq:++rY}))}}]),e}(),x(qK.prototype,"createClient",[$K],Object.getOwnPropertyDescriptor(qK.prototype,"createClient"),qK.prototype),x(qK.prototype,"createStream",[JK],Object.getOwnPropertyDescriptor(qK.prototype,"createStream"),qK.prototype),qK),oY=new iY;return oY}))},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},1020:function(e,t,n){"use strict";n.d(t,{WB:function(){return se},Q_:function(){return Se}});n(1703);var r=n(4870),i=n(3396),o=!1;function a(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function l(){return u().__VUE_DEVTOOLS_GLOBAL_HOOK__}function u(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const c="function"===typeof Proxy,s="devtools-plugin:setup",d="plugin:settings:set";let f,p,v;function h(){var e;return void 0!==f||("undefined"!==typeof window&&window.performance?(f=!0,p=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(f=!0,p=n.g.perf_hooks.performance):f=!1),f}function m(){return h()?p.now():Date.now()}class g{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const a in e.settings){const t=e.settings[a];n[a]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return m()}},t&&t.on(d,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function y(e,t){const n=e,r=u(),i=l(),o=c&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new g(n,i):null,a=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];a.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(s,e,t)}const b=e=>v=e,_=Symbol();function w(e){return e&&"object"===typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!==typeof e.toJSON}var S;(function(e){e["direct"]="direct",e["patchObject"]="patch object",e["patchFunction"]="patch function"})(S||(S={}));const O="undefined"!==typeof window,k=!1,C=(()=>"object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof global&&global.global===global?global:"object"===typeof globalThis?globalThis:{HTMLElement:null})();function x(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function P(e,t,n){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){j(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function E(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function T(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}const I="object"===typeof navigator?navigator:{userAgent:""},D=(()=>/Macintosh/.test(I.userAgent)&&/AppleWebKit/.test(I.userAgent)&&!/Safari/.test(I.userAgent))(),j=O?"undefined"!==typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!D?R:"msSaveOrOpenBlob"in I?A:F:()=>{};function R(e,t="download",n){const r=document.createElement("a");r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?E(r.href)?P(e,t,n):(r.target="_blank",T(r)):T(r)):(r.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(r.href)}),4e4),setTimeout((function(){T(r)}),0))}function A(e,t="download",n){if("string"===typeof e)if(E(e))P(e,t,n);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){T(t)}))}else navigator.msSaveOrOpenBlob(x(e,n),t)}function F(e,t,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"===typeof e)return P(e,t,n);const i="application/octet-stream"===e.type,o=/constructor/i.test(String(C.HTMLElement))||"safari"in C,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&o||D)&&"undefined"!==typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!==typeof e)throw r=null,new Error("Wrong reader.result type");e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function M(e,t){const n="🍍 "+e;"function"===typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function N(e){return"_a"in e&&"install"in e}function L(){if(!("clipboard"in navigator))return M("Your browser doesn't support the Clipboard API","error"),!0}function W(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(M('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function V(e){if(!L())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),M("Global state copied to clipboard.")}catch(t){if(W(t))return;M("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}async function B(e){if(!L())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),M("Global state pasted from clipboard.")}catch(t){if(W(t))return;M("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}async function U(e){try{j(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){M("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}let H;function z(){function e(){return new Promise(((e,t)=>{H.onchange=async()=>{const t=H.files;if(!t)return e(null);const n=t.item(0);return e(n?{text:await n.text(),file:n}:null)},H.oncancel=()=>e(null),H.onerror=t,H.click()}))}return H||(H=document.createElement("input"),H.type="file",H.accept=".json"),e}async function Z(e){try{const t=await z(),n=await t();if(!n)return;const{text:r,file:i}=n;e.state.value=JSON.parse(r),M(`Global state imported from "${i.name}".`)}catch(t){M("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function K(e){return{_custom:{display:e}}}const Y="🍍 Pinia (root)",G="_root";function $(e){return N(e)?{id:G,label:Y}:{id:e.$id,label:e.$id}}function J(e){if(N(e)){const t=Array.from(e._s.keys()),n=e._s,r={state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>n.get(e)._getters)).map((e=>{const t=n.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,n)=>(e[n]=t[n],e)),{})}}))};return r}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function q(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:K(e.type),key:K(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function X(e){switch(e){case S.direct:return"mutation";case S.patchFunction:return"$patch";case S.patchObject:return"$patch";default:return"unknown"}}let Q=!0;const ee=[],te="pinia:mutations",ne="pinia",re=e=>"🍍 "+e;function ie(e,t){y({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e},(n=>{"function"!==typeof n.now&&M("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:te,label:"Pinia 🍍",color:15064968}),n.addInspector({id:ne,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{V(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await B(t),n.sendInspectorTree(ne),n.sendInspectorState(ne)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{U(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Z(t),n.sendInspectorTree(ne),n.sendInspectorState(ne)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:e=>{const n=t._s.get(e);n?n._isOptionsAPI?(n.$reset(),M(`Store "${e}" reset.`)):M(`Cannot reset "${e}" store because it's a setup store.`,"warn"):M(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((e,t)=>{const n=e.componentInstance&&e.componentInstance.proxy;if(n&&n._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:re(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:(0,r.IU)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,n)=>(e[n]=t.$state[n],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:re(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,n)=>{try{e[n]=t[n]}catch(r){e[n]=r}return e}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===e&&n.inspectorId===ne){let e=[t];e=e.concat(Array.from(t._s.values())),n.rootNodes=(n.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(n.filter.toLowerCase()):Y.toLowerCase().includes(n.filter.toLowerCase()))):e).map($)}})),n.on.getInspectorState((n=>{if(n.app===e&&n.inspectorId===ne){const e=n.nodeId===G?t:t._s.get(n.nodeId);if(!e)return;e&&(n.state=J(e))}})),n.on.editInspectorState(((n,r)=>{if(n.app===e&&n.inspectorId===ne){const e=n.nodeId===G?t:t._s.get(n.nodeId);if(!e)return M(`store "${n.nodeId}" not found`,"error");const{path:r}=n;N(e)?r.unshift("state"):1===r.length&&e._customProperties.has(r[0])&&!(r[0]in e.$state)||r.unshift("$state"),Q=!1,n.set(e,r,n.state.value),Q=!0}})),n.on.editComponentState((e=>{if(e.type.startsWith("🍍")){const n=e.type.replace(/^🍍\s*/,""),r=t._s.get(n);if(!r)return M(`store "${n}" not found`,"error");const{path:i}=e;if("state"!==i[0])return M(`Invalid path for store "${n}":\n${i}\nOnly state can be modified.`);i[0]="$state",Q=!1,e.set(r,i,e.state.value),Q=!0}}))}))}function oe(e,t){ee.includes(re(t.$id))||ee.push(re(t.$id)),y({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ee,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const n="function"===typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:r,onError:i,name:o,args:a})=>{const l=le++;e.addTimelineEvent({layerId:te,event:{time:n(),title:"🛫 "+o,subtitle:"start",data:{store:K(t.$id),action:K(o),args:a},groupId:l}}),r((r=>{ae=void 0,e.addTimelineEvent({layerId:te,event:{time:n(),title:"🛬 "+o,subtitle:"end",data:{store:K(t.$id),action:K(o),args:a,result:r},groupId:l}})})),i((r=>{ae=void 0,e.addTimelineEvent({layerId:te,event:{time:n(),logType:"error",title:"💥 "+o,subtitle:"end",data:{store:K(t.$id),action:K(o),args:a,error:r},groupId:l}})}))}),!0),t._customProperties.forEach((o=>{(0,i.YP)((()=>(0,r.SU)(t[o])),((t,r)=>{e.notifyComponentUpdate(),e.sendInspectorState(ne),Q&&e.addTimelineEvent({layerId:te,event:{time:n(),title:"Change",subtitle:o,data:{newValue:t,oldValue:r},groupId:ae}})}),{deep:!0})})),t.$subscribe((({events:r,type:i},o)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(ne),!Q)return;const a={time:n(),title:X(i),data:{store:K(t.$id),...q(r)},groupId:ae};ae=void 0,i===S.patchFunction?a.subtitle="⤵️":i===S.patchObject?a.subtitle="🧩":r&&!Array.isArray(r)&&(a.subtitle=r.type),r&&(a.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:r}}),e.addTimelineEvent({layerId:te,event:a})}),{detached:!0,flush:"sync"});const o=t._hotUpdate;t._hotUpdate=(0,r.Xl)((r=>{o(r),e.addTimelineEvent({layerId:te,event:{time:n(),title:"🔥 "+t.$id,subtitle:"HMR update",data:{store:K(t.$id),info:K("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne)}));const{$dispose:a}=t;t.$dispose=()=>{a(),e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne),e.getSettings().logStoreChanges&&M(`Disposed "${t.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(ne),e.sendInspectorState(ne),e.getSettings().logStoreChanges&&M(`"${t.$id}" store installed 🆕`)}))}let ae,le=0;function ue(e,t){const n=t.reduce(((t,n)=>(t[n]=(0,r.IU)(e)[n],t)),{});for(const r in n)e[r]=function(){const t=le,i=new Proxy(e,{get(...e){return ae=t,Reflect.get(...e)},set(...e){return ae=t,Reflect.set(...e)}});return n[r].apply(i,arguments)}}function ce({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),"function"===typeof n.state){ue(t,Object.keys(n.actions));const e=t._hotUpdate;(0,r.IU)(t)._hotUpdate=function(n){e.apply(this,arguments),ue(t,Object.keys(n._hmrPayload.actions))}}oe(e,t)}}function se(){const e=(0,r.B)(!0),t=e.run((()=>(0,r.iH)({})));let n=[],i=[];const a=(0,r.Xl)({install(e){b(a),o||(a._a=e,e.provide(_,a),e.config.globalProperties.$pinia=a,k&&ie(e,a),i.forEach((e=>n.push(e))),i=[])},use(e){return this._a||o?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return k&&"undefined"!==typeof Proxy&&a.use(ce),a}const de=()=>{};function fe(e,t,n,r=de){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&(0,i.FN)()&&(0,i.Ah)(o),o}function pe(e,...t){e.slice().forEach((e=>{e(...t)}))}function ve(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];w(o)&&w(i)&&e.hasOwnProperty(n)&&!(0,r.dq)(i)&&!(0,r.PG)(i)?e[n]=ve(o,i):e[n]=i}return e}const he=Symbol(),me=new WeakMap;function ge(e){return o?!me.has(e):!w(e)||!e.hasOwnProperty(he)}const{assign:ye}=Object;function be(e){return!(!(0,r.dq)(e)||!e.effect)}function _e(e,t,n,l){const{state:u,actions:c,getters:s}=t,d=n.state.value[e];let f;function p(){d||(o?a(n.state.value,e,u?u():{}):n.state.value[e]=u?u():{});const t=(0,r.BK)(n.state.value[e]);return ye(t,c,Object.keys(s||{}).reduce(((t,a)=>(t[a]=(0,r.Xl)((0,i.Fl)((()=>{b(n);const t=n._s.get(e);if(!o||t._r)return s[a].call(t,t)}))),t)),{}))}return f=we(e,p,t,n,l,!0),f.$reset=function(){const e=u?u():{};this.$patch((t=>{ye(t,e)}))},f}function we(e,t,n={},l,u,c){let s;const d=ye({actions:{}},n);const f={deep:!0};let p,v;let h,m=(0,r.Xl)([]),g=(0,r.Xl)([]);const y=l.state.value[e];c||y||(o?a(l.state.value,e,{}):l.state.value[e]={});(0,r.iH)({});let _;function w(t){let n;p=v=!1,"function"===typeof t?(t(l.state.value[e]),n={type:S.patchFunction,storeId:e,events:h}):(ve(l.state.value[e],t),n={type:S.patchObject,payload:t,storeId:e,events:h});const r=_=Symbol();(0,i.Y3)().then((()=>{_===r&&(p=!0)})),v=!0,pe(m,n,l.state.value[e])}const O=de;function k(){s.stop(),m=[],g=[],l._s.delete(e)}function C(t,n){return function(){b(l);const r=Array.from(arguments),i=[],o=[];function a(e){i.push(e)}function u(e){o.push(e)}let c;pe(g,{args:r,name:t,store:P,after:a,onError:u});try{c=n.apply(this&&this.$id===e?this:P,r)}catch(s){throw pe(o,s),s}return c instanceof Promise?c.then((e=>(pe(i,e),e))).catch((e=>(pe(o,e),Promise.reject(e)))):(pe(i,c),c)}}const x={_p:l,$id:e,$onAction:fe.bind(null,g),$patch:w,$reset:O,$subscribe(t,n={}){const r=fe(m,t,n.detached,(()=>o())),o=s.run((()=>(0,i.YP)((()=>l.state.value[e]),(r=>{("sync"===n.flush?v:p)&&t({storeId:e,type:S.direct,events:h},r)}),ye({},f,n))));return r},$dispose:k};o&&(x._r=!1);const P=(0,r.qj)(ye({},x));l._s.set(e,P);const E=l._e.run((()=>(s=(0,r.B)(),s.run((()=>t())))));for(const i in E){const t=E[i];if((0,r.dq)(t)&&!be(t)||(0,r.PG)(t))c||(y&&ge(t)&&((0,r.dq)(t)?t.value=y[i]:ve(t,y[i])),o?a(l.state.value[e],i,t):l.state.value[e][i]=t);else if("function"===typeof t){const e=C(i,t);o?a(E,i,e):E[i]=e,d.actions[i]=t}else 0}return o?Object.keys(E).forEach((e=>{a(P,e,E[e])})):(ye(P,E),ye((0,r.IU)(P),E)),Object.defineProperty(P,"$state",{get:()=>l.state.value[e],set:e=>{w((t=>{ye(t,e)}))}}),o&&(P._r=!0),l._p.forEach((e=>{ye(P,s.run((()=>e({store:P,app:l._a,pinia:l,options:d}))))})),y&&c&&n.hydrate&&n.hydrate(P.$state,y),p=!0,v=!0,P}function Se(e,t,n){let r,o;const a="function"===typeof t;function l(e,n){const l=(0,i.FN)();e=e||l&&(0,i.f3)(_),e&&b(e),e=v,e._s.has(r)||(a?we(r,t,o,e):_e(r,o,e));const u=e._s.get(r);return u}return"string"===typeof e?(r=e,o=a?n:t):(o=e,r=e.id),l.$id=r,l}},1524:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}n.d(t,{_:function(){return i}});var i=r},7214:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(7246),i=n(4942),o=n(8030),a=i._,l=o.i,u="[object Symbol]";function c(e){return"symbol"==(0,r._)(e)||l(e)&&a(e)==u}var s=c},3930:function(e,t,n){"use strict";n.d(t,{c:function(){return r},g:function(){return i}});n(1703);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}},8654:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r=9007199254740991;function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var o=i},3916:function(e,t,n){"use strict";n.d(t,{a:function(){return h},b:function(){return m},c:function(){return f},g:function(){return p},k:function(){return d},r:function(){return g}});var r=n(3396),i=n(7572),o=n(8137),a=n(9211),l=n(9),u=n(6546),c=u.a,s=c((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),d=s;function f(e){var t;return(0,l.i)(e)&&"defaultNode"in e?t=e.defaultNode:((0,r.lA)(e)||(0,o.i)(e))&&(t=e),t}function p(e){return(0,l.i)(e)&&"params"in e?e.params:{}}function v(e,t,n){var r,i,o,a,l=null===(r=(i=e.$slots)[(0,u.c)(n)])||void 0===r?void 0:r.call(i,t);return l||(l=null===(o=(a=e.$slots)[d(n)])||void 0===o?void 0:o.call(a,t),l||null)}var h=function(e,t,n){var i,o=p(n),l=f(n);if(t in e&&(i=e[t]),!1!==i){if(!0===i&&l)return v(e,o,t)||l;if((0,a.i)(i))return i(r.h,o);var c=[void 0,o,""].includes(i);return c&&(e.$slots[(0,u.c)(t)]||e.$slots[d(t)])?v(e,o,t):i}},m=function(e,t,n){var r=f(n);return h(e,t,n)||r},g=function(e,t,n,r){var o=p(r),a=f(r),l=o?{params:o}:void 0,u=h(e,t,l),c=h(e,n,l),s=(0,i.i)(u)?c:u;return(0,i.i)(s)?a:s}},8031:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});var r=n(8196),i=n(6971),o=r.a,a=r._,l=r.b,u=i.t;function c(e){return function(t){t=u(t);var n=a(t)?l(t):void 0,r=n?n[0]:t.charAt(0),i=n?o(n,1).join(""):t.slice(1);return r[e]()+i}}var s=c,d=s,f=d("toUpperCase"),p=f},2855:function(e,t,n){"use strict";n.d(t,{_:function(){return Xt},a:function(){return H}});var r=n(3063),i=n(4438),o=n(4551),a=n(796),l=n(6782),u=n(4942),c=n(2378),s=n(643),d=n(8030),f=n(137),p=n(9);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function v(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}var h=v,m=r._,g=o.k;function y(e,t){return e&&m(t,g(t),e)}var b=y,_=r._,w=r.k;function S(e,t){return e&&_(t,w(t),e)}var O=S,k=r._,C=o._;function x(e,t){return k(e,C(e),t)}var P=x,E=a._,T=r.a,I=o._,D=o.s,j=Object.getOwnPropertySymbols,R=j?function(e){var t=[];while(e)E(t,I(e)),e=T(e);return t}:D,A=R,F=r._,M=A;function N(e,t){return F(e,M(e),t)}var L=N,W=o.a,V=A,B=r.k;function U(e){return W(e,B,V)}var H=U,z=Object.prototype,Z=z.hasOwnProperty;function K(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Y=K,G=r.b;function $(e,t){var n=t?G(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var J=$,q=/\w*$/;function X(e){var t=new e.constructor(e.source,q.exec(e));return t.lastIndex=e.lastIndex,t}var Q=X,ee=u.b,te=ee?ee.prototype:void 0,ne=te?te.valueOf:void 0;function re(e){return ne?Object(ne.call(e)):{}}var ie=re,oe=r.b,ae=J,le=Q,ue=ie,ce=r.c,se="[object Boolean]",de="[object Date]",fe="[object Map]",pe="[object Number]",ve="[object RegExp]",he="[object Set]",me="[object String]",ge="[object Symbol]",ye="[object ArrayBuffer]",be="[object DataView]",_e="[object Float32Array]",we="[object Float64Array]",Se="[object Int8Array]",Oe="[object Int16Array]",ke="[object Int32Array]",Ce="[object Uint8Array]",xe="[object Uint8ClampedArray]",Pe="[object Uint16Array]",Ee="[object Uint32Array]";function Te(e,t,n){var r=e.constructor;switch(t){case ye:return oe(e);case se:case de:return new r(+e);case be:return ae(e,n);case _e:case we:case Se:case Oe:case ke:case Ce:case xe:case Pe:case Ee:return ce(e,n);case fe:return new r;case pe:case me:return new r(e);case ve:return le(e);case he:return new r;case ge:return ue(e)}}var Ie=Te,De=l.a,je=d.i,Re="[object Map]";function Ae(e){return je(e)&&De(e)==Re}var Fe=Ae,Me=Fe,Ne=f._,Le=s.b.exports,We=Le&&Le.isMap,Ve=We?Ne(We):Me,Be=Ve,Ue=l.a,He=d.i,ze="[object Set]";function Ze(e){return He(e)&&Ue(e)==ze}var Ke=Ze,Ye=Ke,Ge=f._,$e=s.b.exports,Je=$e&&$e.isSet,qe=Je?Ge(Je):Ye,Xe=qe,Qe=r.d,et=h,tt=i._,nt=b,rt=O,it=r.e.exports,ot=r.f,at=P,lt=L,ut=o.b,ct=H,st=l.a,dt=Y,ft=Ie,pt=r.g,vt=c.i,ht=s.i.exports,mt=Be,gt=p.i,yt=Xe,bt=o.k,_t=r.k,wt=1,St=2,Ot=4,kt="[object Arguments]",Ct="[object Array]",xt="[object Boolean]",Pt="[object Date]",Et="[object Error]",Tt="[object Function]",It="[object GeneratorFunction]",Dt="[object Map]",jt="[object Number]",Rt="[object Object]",At="[object RegExp]",Ft="[object Set]",Mt="[object String]",Nt="[object Symbol]",Lt="[object WeakMap]",Wt="[object ArrayBuffer]",Vt="[object DataView]",Bt="[object Float32Array]",Ut="[object Float64Array]",Ht="[object Int8Array]",zt="[object Int16Array]",Zt="[object Int32Array]",Kt="[object Uint8Array]",Yt="[object Uint8ClampedArray]",Gt="[object Uint16Array]",$t="[object Uint32Array]",Jt={};function qt(e,t,n,r,i,o){var a,l=t&wt,u=t&St,c=t&Ot;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!gt(e))return e;var s=vt(e);if(s){if(a=dt(e),!l)return ot(e,a)}else{var d=st(e),f=d==Tt||d==It;if(ht(e))return it(e,l);if(d==Rt||d==kt||f&&!i){if(a=u||f?{}:pt(e),!l)return u?lt(e,rt(a,e)):at(e,nt(a,e))}else{if(!Jt[d])return i?e:{};a=ft(e,d,l)}}o||(o=new Qe);var p=o.get(e);if(p)return p;o.set(e,a),yt(e)?e.forEach((function(r){a.add(qt(r,t,n,r,e,o))})):mt(e)&&e.forEach((function(r,i){a.set(i,qt(r,t,n,i,e,o))}));var v=c?u?ct:ut:u?_t:bt,h=s?void 0:v(e);return et(h||e,(function(r,i){h&&(i=r,r=e[i]),tt(a,i,qt(r,t,n,i,e,o))})),a}Jt[kt]=Jt[Ct]=Jt[Wt]=Jt[Vt]=Jt[xt]=Jt[Pt]=Jt[Bt]=Jt[Ut]=Jt[Ht]=Jt[zt]=Jt[Zt]=Jt[Dt]=Jt[jt]=Jt[Rt]=Jt[At]=Jt[Ft]=Jt[Mt]=Jt[Nt]=Jt[Kt]=Jt[Yt]=Jt[Gt]=Jt[$t]=!0,Jt[Et]=Jt[Tt]=Jt[Lt]=!1;var Xt=qt},6858:function(e,t,n){"use strict";n.d(t,{_:function(){return l},a:function(){return d},b:function(){return P},i:function(){return o}});var r=n(1837);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e){return e}var o=i;function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var l=a,u=l,c=Math.max;function s(e,t,n){return t=c(void 0===t?e.length-1:t,0),function(){var r=arguments,i=-1,o=c(r.length-t,0),a=Array(o);while(++i<o)a[i]=r[t+i];i=-1;var l=Array(t+1);while(++i<t)l[i]=r[i];return l[t]=n(a),u(e,this,l)}}var d=s;function f(e){return function(){return e}}var p=f,v=p,h=r._,m=o,g=h?function(e,t){return h(e,"toString",{configurable:!0,enumerable:!1,value:v(t),writable:!0})}:m,y=g,b=800,_=16,w=Date.now;function S(e){var t=0,n=0;return function(){var r=w(),i=_-(r-n);if(n=r,i>0){if(++t>=b)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var O=S,k=y,C=O,x=C(k),P=x},2435:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});var r=n(2855),i=r._,o=1,a=4;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function l(e){return i(e,o|a)}var u=l},1633:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:function(){return r}})},9:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(7246);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e){var t=(0,r._)(e);return null!=e&&("object"==t||"function"==t)}var o=i},889:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}n.d(t,{_:function(){return i}});var i=r},5383:function(e,t,n){"use strict";n.d(t,{_:function(){return p}});var r=n(4438),i=n(1735),o=n(1271),a=n(9),l=r._,u=i.a,c=o._,s=a.i,d=i.b;function f(e,t,n,r){if(!s(e))return e;t=u(t,e);var i=-1,o=t.length,a=o-1,f=e;while(null!=f&&++i<o){var p=d(t[i]),v=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(i!=a){var h=f[p];v=r?r(h,p,f):void 0,void 0===v&&(v=s(h)?h:c(t[i+1])?[]:{})}l(f,p,v),f=f[p]}return e}var p=f},7572:function(e,t,n){"use strict";n.d(t,{i:function(){return w}});var r=n(6782),i=n(229),o=n(2378),a=n(8373),l=n(643),u=r._,c=r.a,s=i.i,d=o.i,f=a.i,p=l.i.exports,v=l._,h=l.a,m="[object Map]",g="[object Set]",y=Object.prototype,b=y.hasOwnProperty;function _(e){if(null==e)return!0;if(f(e)&&(d(e)||"string"==typeof e||"function"==typeof e.splice||p(e)||h(e)||s(e)))return!e.length;var t=c(e);if(t==m||t==g)return!e.size;if(v(e))return!u(e).length;for(var n in e)if(b.call(e,n))return!1;return!0}var w=_},8411:function(e,t,n){"use strict";n.d(t,{d:function(){return m}});n(1703);var r=n(9),i=n(4942),o=n(9331),a=i.a,l=function(){return a.Date.now()},u=l,c=r.i,s=u,d=o.t,f="Expected a function",p=Math.max,v=Math.min;function h(e,t,n){var r,i,o,a,l,u,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(f);function b(t){var n=r,o=i;return r=i=void 0,h=t,a=e.apply(o,n),a}function _(e){return h=e,l=setTimeout(O,t),m?b(e):a}function w(e){var n=e-u,r=e-h,i=t-n;return g?v(i,o-r):i}function S(e){var n=e-u,r=e-h;return void 0===u||n>=t||n<0||g&&r>=o}function O(){var e=s();if(S(e))return k(e);l=setTimeout(O,w(e))}function k(e){return l=void 0,y&&r?b(e):(r=i=void 0,a)}function C(){void 0!==l&&clearTimeout(l),h=0,r=u=i=l=void 0}function x(){return void 0===l?a:k(s())}function P(){var e=s(),n=S(e);if(r=arguments,i=this,u=e,n){if(void 0===l)return _(u);if(g)return clearTimeout(l),l=setTimeout(O,t),b(u)}return void 0===l&&(l=setTimeout(O,t)),a}return t=d(t)||0,c(n)&&(m=!!n.leading,g="maxWait"in n,o=g?p(d(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),P.cancel=C,P.flush=x,P}var m=h},9211:function(e,t,n){"use strict";n.d(t,{i:function(){return f}});var r=n(4942),i=n(9),o=r._,a=i.i,l="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";function d(e){if(!a(e))return!1;var t=o(e);return t==u||t==c||t==l||t==s}var f=d},3063:function(e,t,n){"use strict";n.d(t,{_:function(){return ce},a:function(){return ee},b:function(){return U},c:function(){return Z},d:function(){return F},e:function(){return M},f:function(){return Y},g:function(){return oe},h:function(){return we},i:function(){return W},k:function(){return Fe}});var r=n(779),i=n(8198),o=n(4942),a=n(9),l=n(643),u=n(4438),c=n(229),s=n(2378),d=n(1271),f=n(8373),p=r.a;function v(){this.__data__=new p,this.size=0}var h=v;function m(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var g=m;function y(e){return this.__data__.get(e)}var b=y;function _(e){return this.__data__.has(e)}var w=_,S=r.a,O=i._,k=r._,C=200;function x(e,t){var n=this.__data__;if(n instanceof S){var r=n.__data__;if(!O||r.length<C-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new k(r)}return n.set(e,t),this.size=n.size,this}var P=x,E=r.a,T=h,I=g,D=b,j=w,R=P;function A(e){var t=this.__data__=new E(e);this.size=t.size}A.prototype.clear=T,A.prototype["delete"]=I,A.prototype.get=D,A.prototype.has=j,A.prototype.set=R;var F=A,M={exports:{}};(function(e,t){var n=o.a,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r,l=a?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function c(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}e.exports=c})(M,M.exports);M.exports;var N=o.a,L=N.Uint8Array,W=L,V=W;function B(e){var t=new e.constructor(e.byteLength);return new V(t).set(new V(e)),t}var U=B,H=U;function z(e,t){var n=t?H(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Z=z;function K(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var Y=K,G=a.i,$=Object.create,J=function(){function e(){}return function(t){if(!G(t))return{};if($)return $(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),q=J,X=l.c,Q=X(Object.getPrototypeOf,Object),ee=Q,te=q,ne=ee,re=l._;function ie(e){return"function"!=typeof e.constructor||re(e)?{}:te(ne(e))}var oe=ie,ae=u._,le=u.a;function ue(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;while(++o<a){var l=t[o],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?le(n,l,u):ae(n,l,u)}return n}var ce=ue;function se(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var de=se,fe=de,pe=c.i,ve=s.i,he=l.i.exports,me=d._,ge=l.a,ye=Object.prototype,be=ye.hasOwnProperty;function _e(e,t){var n=ve(e),r=!n&&pe(e),i=!n&&!r&&he(e),o=!n&&!r&&!i&&ge(e),a=n||r||i||o,l=a?fe(e.length,String):[],u=l.length;for(var c in e)!t&&!be.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||me(c,u))||l.push(c);return l}var we=_e;function Se(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var Oe=Se,ke=a.i,Ce=l._,xe=Oe,Pe=Object.prototype,Ee=Pe.hasOwnProperty;function Te(e){if(!ke(e))return xe(e);var t=Ce(e),n=[];for(var r in e)("constructor"!=r||!t&&Ee.call(e,r))&&n.push(r);return n}var Ie=Te,De=we,je=Ie,Re=f.i;function Ae(e){return Re(e)?De(e,!0):je(e)}var Fe=Ae},1837:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(8198),i=r.a,o=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),a=o;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */},779:function(e,t,n){"use strict";n.d(t,{_:function(){return Me},a:function(){return D}});var r=n(8198),i=n(8576),o=n(7246);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function a(){this.__data__=[],this.size=0}var l=a,u=i.e;function c(e,t){var n=e.length;while(n--)if(u(e[n][0],t))return n;return-1}var s=c,d=s,f=Array.prototype,p=f.splice;function v(e){var t=this.__data__,n=d(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():p.call(t,n,1),--this.size,!0}var h=v,m=s;function g(e){var t=this.__data__,n=m(t,e);return n<0?void 0:t[n][1]}var y=g,b=s;function _(e){return b(this.__data__,e)>-1}var w=_,S=s;function O(e,t){var n=this.__data__,r=S(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var k=O,C=l,x=h,P=y,E=w,T=k;function I(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=C,I.prototype["delete"]=x,I.prototype.get=P,I.prototype.has=E,I.prototype.set=T;var D=I,j=r.a,R=j(Object,"create"),A=R,F=A;function M(){this.__data__=F?F(null):{},this.size=0}var N=M;function L(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var W=L,V=A,B="__lodash_hash_undefined__",U=Object.prototype,H=U.hasOwnProperty;function z(e){var t=this.__data__;if(V){var n=t[e];return n===B?void 0:n}return H.call(t,e)?t[e]:void 0}var Z=z,K=A,Y=Object.prototype,G=Y.hasOwnProperty;function $(e){var t=this.__data__;return K?void 0!==t[e]:G.call(t,e)}var J=$,q=A,X="__lodash_hash_undefined__";function Q(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?X:t,this}var ee=Q,te=N,ne=W,re=Z,ie=J,oe=ee;function ae(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=te,ae.prototype["delete"]=ne,ae.prototype.get=re,ae.prototype.has=ie,ae.prototype.set=oe;var le=ae,ue=le,ce=D,se=r._;function de(){this.size=0,this.__data__={hash:new ue,map:new(se||ce),string:new ue}}var fe=de;function pe(e){var t=(0,o._)(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var ve=pe,he=ve;function me(e,t){var n=e.__data__;return he(t)?n["string"==typeof t?"string":"hash"]:n.map}var ge=me,ye=ge;function be(e){var t=ye(this,e)["delete"](e);return this.size-=t?1:0,t}var _e=be,we=ge;function Se(e){return we(this,e).get(e)}var Oe=Se,ke=ge;function Ce(e){return ke(this,e).has(e)}var xe=Ce,Pe=ge;function Ee(e,t){var n=Pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Te=Ee,Ie=fe,De=_e,je=Oe,Re=xe,Ae=Te;function Fe(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}Fe.prototype.clear=Ie,Fe.prototype["delete"]=De,Fe.prototype.get=je,Fe.prototype.has=Re,Fe.prototype.set=Ae;var Me=Fe},2378:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r=Array.isArray,i=r},8196:function(e,t,n){"use strict";n.d(t,{_:function(){return m},a:function(){return a},b:function(){return Z}});var r=n(889),i=r._;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function o(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var a=o,l="\\ud800-\\udfff",u="\\u0300-\\u036f",c="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",d=u+c+s,f="\\ufe0e\\ufe0f",p="\\u200d",v=RegExp("["+p+l+d+f+"]");function h(e){return v.test(e)}var m=h;function g(e){return e.split("")}var y=g,b="\\ud800-\\udfff",_="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",S="\\u20d0-\\u20ff",O=_+w+S,k="\\ufe0e\\ufe0f",C="["+b+"]",x="["+O+"]",P="\\ud83c[\\udffb-\\udfff]",E="(?:"+x+"|"+P+")",T="[^"+b+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",D="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",R=E+"?",A="["+k+"]?",F="(?:"+j+"(?:"+[T,I,D].join("|")+")"+A+R+")*",M=A+R+F,N="(?:"+[T+x+"?",x,I,D,C].join("|")+")",L=RegExp(P+"(?="+P+")|"+N+M,"g");function W(e){return e.match(L)||[]}var V=W,B=y,U=m,H=V;function z(e){return U(e)?H(e):B(e)}var Z=z},8373:function(e,t,n){"use strict";n.d(t,{i:function(){return u}});var r=n(9211),i=n(8654),o=r.i,a=i.i;function l(e){return null!=e&&a(e.length)&&!o(e)}var u=l},1085:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e){return function(t){return null==t?void 0:t[e]}}n.d(t,{_:function(){return i}});var i=r},6913:function(e,t,n){"use strict";n.d(t,{_:function(){return p}});var r=n(7246),i=n(8576),o=n(8373),a=n(1271),l=n(9),u=i.e,c=o.i,s=a._,d=l.i;function f(e,t,n){if(!d(n))return!1;var i=(0,r._)(t);return!!("number"==i?c(n)&&s(t,n.length):"string"==i&&t in n)&&u(n[t],e)}var p=f},1146:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n.d(t,{_:function(){return r},a:function(){return i}})},6546:function(e,t,n){"use strict";n.d(t,{_:function(){return f},a:function(){return Ae},c:function(){return Le}});var r=n(6971),i=n(8031),o=r.t,a=i.u;function l(e){return a(o(e).toLowerCase())}var u=l;function c(e,t,n,r){var i=-1,o=null==e?0:e.length;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}var s=c;function d(e){return function(t){return null==e?void 0:e[t]}}var f=d,p=f,v={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},h=p(v),m=h,g=m,y=r.t,b=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",S="\\u20d0-\\u20ff",O=_+w+S,k="["+O+"]",C=RegExp(k,"g");function x(e){return e=y(e),e&&e.replace(b,g).replace(C,"")}var P=x,E=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function T(e){return e.match(E)||[]}var I=T,D=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function j(e){return D.test(e)}var R=j,A="\\ud800-\\udfff",F="\\u0300-\\u036f",M="\\ufe20-\\ufe2f",N="\\u20d0-\\u20ff",L=F+M+N,W="\\u2700-\\u27bf",V="a-z\\xdf-\\xf6\\xf8-\\xff",B="\\xac\\xb1\\xd7\\xf7",U="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",H="\\u2000-\\u206f",z=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z="A-Z\\xc0-\\xd6\\xd8-\\xde",K="\\ufe0e\\ufe0f",Y=B+U+H+z,G="['’]",$="["+Y+"]",J="["+L+"]",q="\\d+",X="["+W+"]",Q="["+V+"]",ee="[^"+A+Y+q+W+V+Z+"]",te="\\ud83c[\\udffb-\\udfff]",ne="(?:"+J+"|"+te+")",re="[^"+A+"]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",oe="[\\ud800-\\udbff][\\udc00-\\udfff]",ae="["+Z+"]",le="\\u200d",ue="(?:"+Q+"|"+ee+")",ce="(?:"+ae+"|"+ee+")",se="(?:"+G+"(?:d|ll|m|re|s|t|ve))?",de="(?:"+G+"(?:D|LL|M|RE|S|T|VE))?",fe=ne+"?",pe="["+K+"]?",ve="(?:"+le+"(?:"+[re,ie,oe].join("|")+")"+pe+fe+")*",he="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ge=pe+fe+ve,ye="(?:"+[X,ie,oe].join("|")+")"+ge,be=RegExp([ae+"?"+Q+"+"+se+"(?="+[$,ae,"$"].join("|")+")",ce+"+"+de+"(?="+[$,ae+ue,"$"].join("|")+")",ae+"?"+ue+"+"+se,ae+"+"+de,me,he,q,ye].join("|"),"g");function _e(e){return e.match(be)||[]}var we=_e,Se=I,Oe=R,ke=r.t,Ce=we;function xe(e,t,n){return e=ke(e),t=n?void 0:t,void 0===t?Oe(e)?Ce(e):Se(e):e.match(t)||[]}var Pe=xe,Ee=s,Te=P,Ie=Pe,De="['’]",je=RegExp(De,"g");function Re(e){return function(t){return Ee(Ie(Te(t).replace(je,"")),e,"")}}var Ae=Re,Fe=u,Me=Ae,Ne=Me((function(e,t,n){return t=t.toLowerCase(),e+(n?Fe(t):t)})),Le=Ne},1825:function(e,t,n){"use strict";n.d(t,{a:function(){return u},t:function(){return d}});var r=n(9331),i=r.t,o=1/0,a=17976931348623157e292;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function l(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=e<0?-1:1;return t*a}return e===e?e:0}var u=l,c=u;function s(e){var t=c(e),n=t%1;return t===t?n?t-n:t:0}var d=s},1735:function(e,t,n){"use strict";n.d(t,{_:function(){return V},a:function(){return j},b:function(){return M},c:function(){return p}});n(1703);var r=n(2378),i=n(7246),o=n(7214),a=n(779),l=n(6971),u=r.i,c=o.i,s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/;function f(e,t){if(u(e))return!1;var n=(0,i._)(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!c(e))||(d.test(e)||!s.test(e)||null!=t&&e in Object(t))}var p=f,v=a._,h="Expected a function";function m(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(h);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(m.Cache||v),n}m.Cache=v;var g=m,y=g,b=500;function _(e){var t=y(e,(function(e){return n.size===b&&n.clear(),e})),n=t.cache;return t}var w=_,S=w,O=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,C=S((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(O,(function(e,n,r,i){t.push(r?i.replace(k,"$1"):n||e)})),t})),x=C,P=r.i,E=p,T=x,I=l.t;function D(e,t){return P(e)?e:E(e,t)?[e]:T(I(e))}var j=D,R=o.i,A=1/0;function F(e){if("string"==typeof e||R(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}var M=F,N=j,L=M;function W(e,t){t=N(t,e);var n=0,r=t.length;while(null!=e&&n<r)e=e[L(t[n++])];return n&&n==r?e:void 0}var V=W},8030:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(7246);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e){return null!=e&&"object"==(0,r._)(e)}var o=i},9331:function(e,t,n){"use strict";n.d(t,{t:function(){return w}});var r=n(9),i=n(7214),o=/\s/;function a(e){var t=e.length;while(t--&&o.test(e.charAt(t)));return t}var l=a,u=l,c=/^\s+/;function s(e){return e?e.slice(0,u(e)+1).replace(c,""):e}var d=s,f=d,p=r.i,v=i.i,h=NaN,m=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,y=/^0o[0-7]+$/i,b=parseInt;function _(e){if("number"==typeof e)return e;if(v(e))return h;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=f(e);var n=g.test(e);return n||y.test(e)?b(e.slice(2),n?2:8):m.test(e)?h:+e}var w=_},2946:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(1735),i=r._;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function o(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var a=o},4894:function(e,t,n){"use strict";n.d(t,{i:function(){return m}});var r=n(4942),i=n(3063),o=n(8030),a=r._,l=i.a,u=o.i,c="[object Object]",s=Function.prototype,d=Object.prototype,f=s.toString,p=d.hasOwnProperty,v=f.call(Object);function h(e){if(!u(e)||a(e)!=c)return!1;var t=l(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==v}var m=h},8198:function(e,t,n){"use strict";n.d(t,{_:function(){return W},a:function(){return F},b:function(){return m}});var r=n(9211),i=n(4942),o=n(9),a=i.a,l=a["__core-js_shared__"],u=l,c=u,s=function(){var e=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function d(e){return!!s&&s in e}var f=d,p=Function.prototype,v=p.toString;function h(e){if(null!=e){try{return v.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var m=h,g=r.i,y=f,b=o.i,_=m,w=/[\\^$.*+?()[\]{}|]/g,S=/^\[object .+?Constructor\]$/,O=Function.prototype,k=Object.prototype,C=O.toString,x=k.hasOwnProperty,P=RegExp("^"+C.call(x).replace(w,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function E(e){if(!b(e)||y(e))return!1;var t=g(e)?P:S;return t.test(_(e))}var T=E;function I(e,t){return null==e?void 0:e[t]}var D=I,j=T,R=D;function A(e,t){var n=R(e,t);return j(n)?n:void 0}var F=A,M=F,N=i.a,L=M(N,"Map"),W=L},7724:function(e,t,n){"use strict";n.d(t,{o:function(){return N}});var r=n(1524),i=n(2855),o=n(1735),a=n(889),l=n(3063),u=n(4894),c=n(3553);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function s(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var d=s,f=o._,p=a._;function v(e,t){return t.length<2?e:f(e,p(t,0,-1))}var h=v,m=o.a,g=d,y=h,b=o.b;function _(e,t){return t=m(t,e),e=y(e,t),null==e||delete e[b(g(t))]}var w=_,S=u.i;function O(e){return S(e)?void 0:e}var k=O,C=r._,x=i._,P=w,E=o.a,T=l._,I=k,D=c._,j=i.a,R=1,A=2,F=4,M=D((function(e,t){var n={};if(null==e)return n;var r=!1;t=C(t,(function(t){return t=E(t,e),r||(r=t.length>1),t})),T(e,j(e),n),r&&(n=x(n,R|A|F,I));var i=t.length;while(i--)P(n,t[i]);return n})),N=M},9589:function(e,t,n){"use strict";n.d(t,{_:function(){return p},a:function(){return P},b:function(){return T},c:function(){return D},d:function(){return h}});var r=n(779),i="__lodash_hash_undefined__";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function o(e){return this.__data__.set(e,i),this}var a=o;function l(e){return this.__data__.has(e)}var u=l,c=r._,s=a,d=u;function f(e){var t=-1,n=null==e?0:e.length;this.__data__=new c;while(++t<n)this.add(e[t])}f.prototype.add=f.prototype.push=s,f.prototype.has=d;var p=f;function v(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}var h=v;function m(e){return e!==e}var g=m;function y(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}var b=y,_=h,w=g,S=b;function O(e,t,n){return t===t?S(e,t,n):_(e,w,n)}var k=O,C=k;function x(e,t){var n=null==e?0:e.length;return!!n&&C(e,t,0)>-1}var P=x;function E(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}var T=E;function I(e,t){return e.has(t)}var D=I},6782:function(e,t,n){"use strict";n.d(t,{_:function(){return v},a:function(){return J}});var r=n(643),i=n(8198),o=n(4942),a=r.c,l=a(Object.keys,Object),u=l,c=r._,s=u,d=Object.prototype,f=d.hasOwnProperty;function p(e){if(!c(e))return s(e);var t=[];for(var n in Object(e))f.call(e,n)&&"constructor"!=n&&t.push(n);return t}var v=p,h=i.a,m=o.a,g=h(m,"DataView"),y=g,b=i.a,_=o.a,w=b(_,"Promise"),S=w,O=i.a,k=o.a,C=O(k,"Set"),x=C,P=i.a,E=o.a,T=P(E,"WeakMap"),I=T,D=y,j=i._,R=S,A=x,F=I,M=o._,N=i.b,L="[object Map]",W="[object Object]",V="[object Promise]",B="[object Set]",U="[object WeakMap]",H="[object DataView]",z=N(D),Z=N(j),K=N(R),Y=N(A),G=N(F),$=M;(D&&$(new D(new ArrayBuffer(1)))!=H||j&&$(new j)!=L||R&&$(R.resolve())!=V||A&&$(new A)!=B||F&&$(new F)!=U)&&($=function(e){var t=M(e),n=t==W?e.constructor:void 0,r=n?N(n):"";if(r)switch(r){case z:return H;case Z:return L;case K:return V;case Y:return B;case G:return U}return t});var J=$},9370:function(e,t,n){"use strict";n.d(t,{E:function(){return he},_:function(){return ae},c:function(){return ge},d:function(){return me},m:function(){return ye}});var r=n(3063),i=n(4438),o=n(8576),a=n(229),l=n(2378),u=n(3159),c=n(643),s=n(9211),d=n(9),f=n(4894),p=n(6913),v={classPrefix:"t",animation:{include:["ripple","expand","fade"],exclude:[]},calendar:{firstDayOfWeek:1,fillWithZero:!0,controllerConfig:void 0},icon:{},input:{autocomplete:""},dialog:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,confirmBtnTheme:{default:"primary",info:"primary",warning:"primary",danger:"primary",success:"primary"}},popconfirm:{confirmBtnTheme:{default:"primary",warning:"primary",danger:"primary"}},table:{expandIcon:void 0,sortIcon:void 0,filterIcon:void 0,treeExpandAndFoldIcon:void 0,hideSortTips:!1},select:{clearIcon:void 0,filterable:!1},drawer:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,size:"small"},tree:{folderIcon:void 0},datePicker:{firstDayOfWeek:1},steps:{errorIcon:void 0},tag:{closeIcon:void 0},form:{requiredMark:!0}},h={pagination:{itemsPerPage:"{size} 条/页",jumpTo:"跳至",page:"页",total:"共 {total} 项数据"},cascader:{empty:"暂无数据",loadingText:"",placeholder:"请选择"},calendar:{yearSelection:"{year} 年",monthSelection:"{month} 月",yearRadio:"年",monthRadio:"月",hideWeekend:"隐藏周末",showWeekend:"显示周末",today:"今天",thisMonth:"本月",week:"一,二,三,四,五,六,日",cellMonth:"一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月"},transfer:{title:"{checked} / {total} 项",empty:"暂无数据",placeholder:"请输入关键词搜索"},timePicker:{now:"此刻",confirm:"确定",anteMeridiem:"上午",postMeridiem:"下午",placeholder:"选择时间"},dialog:{confirm:"确认",cancel:"取消"},drawer:{confirm:"确认",cancel:"取消"},popconfirm:{confirm:{content:"确定"},cancel:{content:"取消"}},table:{empty:"暂无数据",loadingText:"正在加载中，请稍后",loadingMoreText:"点击加载更多",filterInputPlaceholder:"请输入内容（无默认值）",sortAscendingOperationText:"点击升序",sortCancelOperationText:"点击取消排序",sortDescendingOperationText:"点击降序",clearFilterResultButtonText:"清空筛选",columnConfigButtonText:"列配置",columnConfigTitleText:"表格列配置",columnConfigDescriptionText:"请选择需要在表格中显示的数据列",confirmText:"确认",cancelText:"取消",resetText:"重置",selectAllText:"全选",searchResultText:"搜索“{result}”，找到 {count} 条结果"},select:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},tree:{empty:"暂无数据"},treeSelect:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},datePicker:{placeholder:{date:"请选择日期",month:"请选择月份",year:"请选择年份"},weekdays:["一","二","三","四","五","六","日"],months:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],quarters:["一季度","二季度","三季度","四季度"],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"日",weekAbbreviation:"周",yearAriaLabel:"年",monthAriaLabel:"月",confirm:"确定",selectTime:"选择时间",selectDate:"选择日期",nextYear:"下一年",preYear:"上一年",nextMonth:"下个月",preMonth:"上个月",preDecade:"上个十年",nextDecade:"下个十年",now:"当前"},upload:{sizeLimitMessage:"图片大小不能超过 {sizeLimit}",cancelUploadText:"取消上传",triggerUploadText:{fileInput:"选择文件",image:"点击上传图片",normal:"点击上传",reupload:"重新上传",continueUpload:"继续上传",delete:"删除"},dragger:{dragDropText:"释放鼠标",draggingText:"拖拽到此区域",clickAndDragText:"点击上方“选择文件”或将文件拖拽到此区域"},file:{fileNameText:"文件名",fileSizeText:"文件大小",fileStatusText:"状态",fileOperationText:"操作",fileOperationDateText:"上传日期"},progress:{uploadingText:"上传中",waitingText:"待上传",failText:"上传失败",successText:"上传成功"}},form:{errorMessage:{date:"请输入正确的${name}",url:"请输入正确的${name}",required:"${name}必填",max:"${name}字符长度不能超过 ${validate} 个字符，一个中文等于两个字符",min:"${name}字符长度不能少于 ${validate} 个字符，一个中文等于两个字符",len:"${name}字符长度必须是 ${validate}",enum:"${name}只能是${validate}等",idcard:"请输入正确的${name}",telnumber:"请输入正确的${name}",pattern:"请输入正确的${name}",validator:"${name}不符合要求",boolean:"${name}数据类型必须是布尔类型",number:"${name}必须是数字"}},input:{placeholder:"请输入"},list:{loadingText:"正在加载中，请稍等",loadingMoreText:"点击加载更多"},alert:{expandText:"展开更多",collapseText:"收起"},anchor:{copySuccessText:"链接复制成功",copyText:"复制链接"},colorPicker:{swatchColorTitle:"系统预设颜色",recentColorTitle:"最近使用颜色",clearConfirmText:"确定清空最近使用的颜色吗？"}},m=i.a,g=o.e;function y(e,t,n){(void 0!==n&&!g(e[t],n)||void 0===n&&!(t in e))&&m(e,t,n)}var b=y;function _(e){return function(t,n,r){var i=-1,o=Object(t),a=r(t),l=a.length;while(l--){var u=a[e?l:++i];if(!1===n(o[u],u,o))break}return t}}var w=_,S=w,O=S(),k=O;function C(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var x=C,P=r._,E=r.k;function T(e){return P(e,E(e))}var I=T,D=b,j=r.e.exports,R=r.c,A=r.f,F=r.g,M=a.i,N=l.i,L=u.i,W=c.i.exports,V=s.i,B=d.i,U=f.i,H=c.a,z=x,Z=I;function K(e,t,n,r,i,o,a){var l=z(e,n),u=z(t,n),c=a.get(u);if(c)D(e,n,c);else{var s=o?o(l,u,n+"",e,t,a):void 0,d=void 0===s;if(d){var f=N(u),p=!f&&W(u),v=!f&&!p&&H(u);s=u,f||p||v?N(l)?s=l:L(l)?s=A(l):p?(d=!1,s=j(u,!0)):v?(d=!1,s=R(u,!0)):s=[]:U(u)||M(u)?(s=l,M(l)?s=Z(l):B(l)&&!V(l)||(s=F(u))):d=!1}d&&(a.set(u,s),i(s,u,r,o,a),a["delete"](u)),D(e,n,s)}}var Y=K,G=r.d,$=b,J=k,q=Y,X=d.i,Q=r.k,ee=x;function te(e,t,n,r,i){e!==t&&J(t,(function(o,a){if(i||(i=new G),X(o))q(e,t,a,n,te,r,i);else{var l=r?r(ee(e,a),o,a+"",e,t,i):void 0;void 0===l&&(l=o),$(e,a,l)}}),Q)}var ne=te,re=u._,ie=p._;function oe(e){return re((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&ie(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);while(++r<i){var l=n[r];l&&e(t,l,r,o)}return t}))}var ae=oe,le=ne,ue=ae,ce=ue((function(e,t,n,r){le(e,t,n,r)})),se=ce,de=ne,fe=ae,pe=fe((function(e,t,n){de(e,t,n)})),ve=pe,he=function(e){return e["ripple"]="ripple",e["expand"]="expand",e["fade"]="fade",e}(he||{}),me=ve(v,h),ge=Symbol("configProvide"),ye=function(e,t){return se(e,t,(function(e,t){if(Array.isArray(e))return t}))}},3159:function(e,t,n){"use strict";n.d(t,{_:function(){return v},i:function(){return c}});var r=n(8373),i=n(8030),o=n(6858),a=r.i,l=i.i;function u(e){return l(e)&&a(e)}var c=u,s=o.i,d=o.a,f=o.b;function p(e,t){return f(d(e,t,s),e+"")}var v=p},4551:function(e,t,n){"use strict";n.d(t,{_:function(){return O},a:function(){return P},b:function(){return j},k:function(){return f},s:function(){return m}});var r=n(796),i=n(2378),o=n(3063),a=n(6782),l=n(8373),u=o.h,c=a._,s=l.i;function d(e){return s(e)?u(e):c(e)}var f=d;function p(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var v=p;function h(){return[]}var m=h,g=v,y=m,b=Object.prototype,_=b.propertyIsEnumerable,w=Object.getOwnPropertySymbols,S=w?function(e){return null==e?[]:(e=Object(e),g(w(e),(function(t){return _.call(e,t)})))}:y,O=S,k=r._,C=i.i;function x(e,t,n){var r=t(e);return C(e)?r:k(r,n(e))}var P=x,E=P,T=O,I=f;function D(e){return E(e,I,T)}var j=D},4438:function(e,t,n){"use strict";n.d(t,{_:function(){return p},a:function(){return l}});var r=n(1837),i=n(8576),o=r._;function a(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var l=a,u=l,c=i.e,s=Object.prototype,d=s.hasOwnProperty;function f(e,t,n){var r=e[t];d.call(e,t)&&c(r,n)&&(void 0!==n||t in e)||u(e,t,n)}var p=f},5796:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});n(1703);var r=n(1146);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function i(e){if(Array.isArray(e))return(0,r._)(e)}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return i(e)||o(e)||(0,r.a)(e)||a()}},6971:function(e,t,n){"use strict";n.d(t,{_:function(){return h},t:function(){return y}});var r=n(4942),i=n(1524),o=n(2378),a=n(7214),l=r.b,u=i._,c=o.i,s=a.i,d=1/0,f=l?l.prototype:void 0,p=f?f.toString:void 0;function v(e){if("string"==typeof e)return e;if(c(e))return u(e,v)+"";if(s(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-d?"-0":t}var h=v,m=h;function g(e){return null==e?"":m(e)}var y=g},3553:function(e,t,n){"use strict";n.d(t,{_:function(){return C},a:function(){return g}});var r=n(796),i=n(4942),o=n(229),a=n(2378),l=n(6858),u=i.b,c=o.i,s=a.i,d=u?u.isConcatSpreadable:void 0;function f(e){return s(e)||c(e)||!!(d&&e&&e[d])}var p=f,v=r._,h=p;function m(e,t,n,r,i){var o=-1,a=e.length;n||(n=h),i||(i=[]);while(++o<a){var l=e[o];t>0&&n(l)?t>1?m(l,t-1,n,r,i):v(i,l):r||(i[i.length]=l)}return i}var g=m,y=g;function b(e){var t=null==e?0:e.length;return t?y(e,1):[]}var _=b,w=_,S=l.a,O=l.b;function k(e){return O(S(e,void 0,w),e+"")}var C=k},8576:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){return e===t||e!==e&&t!==t}n.d(t,{e:function(){return i}});var i=r},1612:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});n(1703);var r=n(1146);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function i(e){if(Array.isArray(e))return e}function o(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),t&&o.length===t)break}catch(u){l=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(l)throw i}}return o}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return i(e)||o(e,t)||(0,r.a)(e,t)||a()}},229:function(e,t,n){"use strict";n.d(t,{i:function(){return m}});var r=n(4942),i=n(8030),o=r._,a=i.i,l="[object Arguments]";function u(e){return a(e)&&o(e)==l}var c=u,s=c,d=i.i,f=Object.prototype,p=f.hasOwnProperty,v=f.propertyIsEnumerable,h=s(function(){return arguments}())?s:function(e){return d(e)&&p.call(e,"callee")&&!v.call(e,"callee")},m=h},715:function(e,t,n){"use strict";n.d(t,{i:function(){return k}});var r=n(1524),i=n(9589),o=n(137),a=n(3159),l=i._,u=i.a,c=i.b,s=r._,d=o._,f=i.c,p=Math.min;function v(e,t,n){var r=n?c:u,i=e[0].length,o=e.length,a=o,v=Array(o),h=1/0,m=[];while(a--){var g=e[a];a&&t&&(g=s(g,d(t))),h=p(g.length,h),v[a]=!n&&(t||i>=120&&g.length>=120)?new l(a&&g):void 0}g=e[0];var y=-1,b=v[0];e:while(++y<i&&m.length<h){var _=g[y],w=t?t(_):_;if(_=n||0!==_?_:0,!(b?f(b,w):r(m,w,n))){a=o;while(--a){var S=v[a];if(!(S?f(S,w):r(e[a],w,n)))continue e}b&&b.push(w),m.push(_)}}return m}var h=v,m=a.i;function g(e){return m(e)?e:[]}var y=g,b=r._,_=h,w=a._,S=y,O=w((function(e){var t=b(e,S);return t.length&&t[0]===e[0]?_(t):[]})),k=O},137:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e){return function(t){return e(t)}}n.d(t,{_:function(){return i}});var i=r},1271:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(7246),i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function a(e,t){var n=(0,r._)(e);return t=null==t?i:t,!!t&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}var l=a},3430:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function i(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{_:function(){return i}})},643:function(e,t,n){"use strict";n.d(t,{_:function(){return d},a:function(){return q},b:function(){return Z},c:function(){return u},i:function(){return f}});var r=n(4942),i=n(8654),o=n(8030),a=n(137);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function l(e,t){return function(n){return e(t(n))}}var u=l,c=Object.prototype;function s(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||c;return e===n}var d=s,f={exports:{}};function p(){return!1}var v=p;(function(e,t){var n=r.a,i=v,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,l=a&&a.exports===o,u=l?n.Buffer:void 0,c=u?u.isBuffer:void 0,s=c||i;e.exports=s})(f,f.exports);f.exports;var h=r._,m=i.i,g=o.i,y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",S="[object Error]",O="[object Function]",k="[object Map]",C="[object Number]",x="[object Object]",P="[object RegExp]",E="[object Set]",T="[object String]",I="[object WeakMap]",D="[object ArrayBuffer]",j="[object DataView]",R="[object Float32Array]",A="[object Float64Array]",F="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",L="[object Uint8Array]",W="[object Uint8ClampedArray]",V="[object Uint16Array]",B="[object Uint32Array]",U={};function H(e){return g(e)&&m(e.length)&&!!U[h(e)]}U[R]=U[A]=U[F]=U[M]=U[N]=U[L]=U[W]=U[V]=U[B]=!0,U[y]=U[b]=U[D]=U[_]=U[j]=U[w]=U[S]=U[O]=U[k]=U[C]=U[x]=U[P]=U[E]=U[T]=U[I]=!1;var z=H,Z={exports:{}};(function(e,t){var n=r.c,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i,l=a&&n.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e||l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=u})(Z,Z.exports);Z.exports;var K=z,Y=a._,G=Z.exports,$=G&&G.isTypedArray,J=$?Y($):K,q=J},7140:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(7246),i=n(3930),o={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(i.c,(function(){var e=1e3,t=6e4,n=36e5,i="millisecond",o="second",a="minute",l="hour",u="day",c="week",s="month",d="quarter",f="year",p="date",v="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,s),o=n-i<0,a=t.clone().add(r+(o?-1:1),s);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:s,y:f,w:c,d:u,D:p,h:l,m:a,s:o,ms:i,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",w={};w[_]=g;var S=function(e){return e instanceof x},O=function e(t,n,r){var i;if(!t)return _;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var l=t.name;w[l]=t,i=l}return!r&&i&&(_=i),i||!r&&_},k=function(e,t){if(S(e))return e.clone();var n="object"==(0,r._)(t)?t:{};return n.date=e,n.args=arguments,new x(n)},C=b;C.l=O,C.i=S,C.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function r(e){this.$L=O(e.locale,null,!0),this.parse(e)}var g=r.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===v)},g.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return k(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<k(e)},g.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!C.u(t)||t,i=C.p(e),d=function(e,t){var i=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(u)},v=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(i){case f:return r?d(1,0):d(31,11);case s:return r?d(1,m):d(0,m+1);case c:var b=this.$locale().weekStart||0,_=(h<b?h+7:h)-b;return d(r?g-_:g+(6-_),m);case u:case p:return v(y+"Hours",0);case l:return v(y+"Minutes",1);case a:return v(y+"Seconds",2);case o:return v(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,r=C.p(e),c="set"+(this.$u?"UTC":""),d=(n={},n[u]=c+"Date",n[p]=c+"Date",n[s]=c+"Month",n[f]=c+"FullYear",n[l]=c+"Hours",n[a]=c+"Minutes",n[o]=c+"Seconds",n[i]=c+"Milliseconds",n)[r],v=r===u?this.$D+(t-this.$W):t;if(r===s||r===f){var h=this.clone().set(p,1);h.$d[d](v),h.init(),this.$d=h.set(p,Math.min(this.$D,h.daysInMonth())).$d}else d&&this.$d[d](v);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[C.p(e)]()},g.add=function(r,i){var d,p=this;r=Number(r);var v=C.p(i),h=function(e){var t=k(p);return C.w(t.date(t.date()+Math.round(e*r)),p)};if(v===s)return this.set(s,this.$M+r);if(v===f)return this.set(f,this.$y+r);if(v===u)return h(1);if(v===c)return h(7);var m=(d={},d[a]=t,d[l]=n,d[o]=e,d)[v]||1,g=this.$d.getTime()+r*m;return C.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||v;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),o=this.$H,a=this.$m,l=this.$M,u=n.weekdays,c=n.months,s=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},d=function(e){return C.s(o%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:C.s(l+1,2,"0"),MMM:s(n.monthsShort,l,c,3),MMMM:s(c,l),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:s(n.weekdaysMin,this.$W,u,2),ddd:s(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:C.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:C.s(a,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return r.replace(m,(function(e,t){return t||p[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,i,p){var v,h=C.p(i),m=k(r),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,b=C.m(this,m);return b=(v={},v[f]=b/12,v[s]=b,v[d]=b/3,v[c]=(y-g)/6048e5,v[u]=(y-g)/864e5,v[l]=y/n,v[a]=y/t,v[o]=y/e,v)[h]||y,p?b:C.a(b)},g.daysInMonth=function(){return this.endOf(s).$D},g.$locale=function(){return w[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=O(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},r}(),P=x.prototype;return k.prototype=P,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",u],["$M",s],["$y",f],["$D",p]].forEach((function(e){P[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,x,k),e.$i=!0),k},k.locale=O,k.isDayjs=S,k.unix=function(e){return k(1e3*e)},k.en=w[_],k.Ls=w,k.p={},k}))})(o,o.exports);var a=o.exports},8137:function(e,t,n){"use strict";n.d(t,{i:function(){return d}});var r=n(4942),i=n(2378),o=n(8030),a=r._,l=i.i,u=o.i,c="[object String]";function s(e){return"string"==typeof e||!l(e)&&u(e)&&a(e)==c}var d=s},7246:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{_:function(){return r}})},7216:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});n(1703);var r=n(3930),i={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(r.c,(function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},a=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},s=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=s(e,!1)}],a:[i,function(e){this.afternoon=s(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,l("seconds")],ss:[r,l("seconds")],m:[r,l("minutes")],mm:[r,l("minutes")],H:[r,l("hours")],h:[r,l("hours")],HH:[r,l("hours")],hh:[r,l("hours")],D:[r,l("day")],DD:[n,l("day")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,l("month")],MM:[n,l("month")],MMM:[i,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,l("year")],Z:u,ZZ:u};function f(n){var r,i;r=n,i=o&&o.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),l=a.length,u=0;u<l;u+=1){var c=a[u],s=d[c],f=s&&s[0],p=s&&s[1];a[u]=p?{regex:f,parser:p}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<l;n+=1){var i=a[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,u=i.parser,c=e.slice(r),s=o.exec(c)[0];u.call(t,s),e=e.replace(s,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var l=a[1];if("string"==typeof l){var u=!0===a[2],c=!0===a[3],s=u||c,d=a[2];c&&(d=a[2]),o=this.$locale(),!u&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=f(t)(e),i=r.year,o=r.month,a=r.day,l=r.hours,u=r.minutes,c=r.seconds,s=r.milliseconds,d=r.zone,p=new Date,v=a||(i||o?1:p.getDate()),h=i||p.getFullYear(),m=0;i&&!o||(m=o>0?o-1:p.getMonth());var g=l||0,y=u||0,b=c||0,_=s||0;return d?new Date(Date.UTC(h,m,v,g,y,b,_+60*d.offset*1e3)):n?new Date(Date.UTC(h,m,v,g,y,b,_)):new Date(h,m,v,g,y,b,_)}catch(e){return new Date("")}}(t,l,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),s&&t!=this.format(l)&&(this.$d=new Date("")),o={}}else if(l instanceof Array)for(var p=l.length,v=1;v<=p;v+=1){a[1]=l[v-1];var h=n.apply(this,a);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}v===p&&(this.$d=new Date(""))}else i.call(this,e)}}}))})(i,i.exports);var o=i.exports},5802:function(e,t,n){"use strict";n.d(t,{h:function(){return w}});var r=n(1735),i=n(229),o=n(2378),a=n(1271),l=n(8654);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function u(e,t){return null!=e&&t in Object(e)}var c=u,s=r.a,d=i.i,f=o.i,p=a._,v=l.i,h=r.b;function m(e,t,n){t=s(t,e);var r=-1,i=t.length,o=!1;while(++r<i){var a=h(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=null==e?0:e.length,!!i&&v(i)&&p(a,i)&&(f(e)||d(e)))}var g=m,y=c,b=g;function _(e,t){return null!=e&&b(e,t,y)}var w=_},4942:function(e,t,n){"use strict";n.d(t,{_:function(){return j},a:function(){return s},b:function(){return p},c:function(){return a}});var r=n(3930),i=n(7246),o="object"==(0,i._)(r.c)&&r.c&&r.c.Object===Object&&r.c,a=o,l=a,u="object"==("undefined"===typeof self?"undefined":(0,i._)(self))&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),s=c,d=s,f=d.Symbol,p=f,v=p,h=Object.prototype,m=h.hasOwnProperty,g=h.toString,y=v?v.toStringTag:void 0;function b(e){var t=m.call(e,y),n=e[y];try{e[y]=void 0;var r=!0}catch(o){}var i=g.call(e);return r&&(t?e[y]=n:delete e[y]),i}var _=b,w=Object.prototype,S=w.toString;function O(e){return S.call(e)}var k=O,C=p,x=_,P=k,E="[object Null]",T="[object Undefined]",I=C?C.toStringTag:void 0;function D(e){return null==e?void 0===e?T:E:I&&I in Object(e)?x(e):P(e)}var j=D},796:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}n.d(t,{_:function(){return i}});var i=r},2434:function(e,t,n){"use strict";n.d(t,{p:function(){return b}});var r=n(1735),i=n(5383),o=n(5802),a=n(3553),l=r._,u=i._,c=r.a;function s(e,t,n){var r=-1,i=t.length,o={};while(++r<i){var a=t[r],s=l(e,a);n(s,a)&&u(o,c(a,e),s)}return o}var d=s,f=d,p=o.h;function v(e,t){return f(e,t,(function(t,n){return p(e,n)}))}var h=v,m=h,g=a._,y=g((function(e,t){return null==e?{}:m(e,t)})),b=y},2662:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r={pagination:{itemsPerPage:"{size} / page",jumpTo:"jump to",page:"",total:"{total} items"},cascader:{empty:"Empty Data",loadingText:"",placeholder:""},calendar:{yearSelection:"{year}",monthSelection:"{month}",yearRadio:"year",monthRadio:"month",hideWeekend:"Hide Week",showWeekend:"Show Week",today:"Today",thisMonth:"This Month",week:"Monday,Tuesday,Wedsday,Thuresday,Friday,Staturday,Sunday",cellMonth:"January,February,March,April,May,June,July,August,September,October,November,December"},transfer:{title:"{checked} / {total}",empty:"Empty Data",placeholder:"enter keyworkd to search"},timePicker:{now:"Now",confirm:"Confirm",anteMeridiem:"AM",postMeridiem:"PM",placeholder:""},dialog:{confirm:"Confirm",cancel:"Cancel"},drawer:{confirm:"Confirm",cancel:"Cancel"},popconfirm:{confirm:{content:"OK"},cancel:{content:"Cancel"}},table:{empty:"Empty Data",loadingText:"loading...",loadingMoreText:"loading more",filterInputPlaceholder:"",sortAscendingOperationText:"click to sort ascending",sortCancelOperationText:"click to cancel sorting",sortDescendingOperationText:"click to sort descending",clearFilterResultButtonText:"Clear",columnConfigButtonText:"Column Config",columnConfigTitleText:"Table Column Config",columnConfigDescriptionText:"Please select columns to show them in the table",confirmText:"Confirm",cancelText:"Cancel",resetText:"Reset",selectAllText:"Select All",searchResultText:'Search "{result}". Find {count} items.'},select:{empty:"Empty Data",loadingText:"loading...",placeholder:""},tree:{empty:"Empty Data"},treeSelect:{empty:"Empty Data",loadingText:"loading...",placeholder:""},datePicker:{placeholder:{date:"select date",month:"select month",year:"select year"},weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],quarters:["Q1","Q2","Q3","Q4"],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"D",yearAriaLabel:"Y",monthAriaLabel:"M",weekAbbreviation:"W",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",nextYear:"Next Year",preYear:"Last Year",nextMonth:"Next Month",preMonth:"Last Month",preDecade:"Last Decade",nextDecade:"Next Decade",now:"Now"},upload:{sizeLimitMessage:"File is too large to upload. {sizeLimit}",cancelUploadText:"Cancel",triggerUploadText:{fileInput:"Upload",image:"Click to upload",normal:"Upload",reupload:"ReUpload",continueUpload:"Continue Upload",delete:"Delete"},dragger:{dragDropText:"Drop hear",draggingText:"Drag file to this area to upload",clickAndDragText:'Click "Upload" or Drag file to this area to upload'},file:{fileNameText:"filename",fileSizeText:"size",fileStatusText:"status",fileOperationText:"operation",fileOperationDateText:"date"},progress:{uploadingText:"Uploading",waitingText:"Waiting",failText:"Failed",successText:"Success"}},form:{errorMessage:{date:"${name} is invalid",url:"${name} is invalid",required:"${name} is required",max:"${name} must be at least ${validate} characters",min:"${name} cannot be longer than ${validate} characters",len:"${name} must be exactly ${validate} characters",enum:"${name} must be one of ${validate}",idcard:"${name} is invalid",telnumber:"${name} is invalid",pattern:"${name} is invalid",validator:"${name} is invalid",boolean:"${name} is not a boolean",number:"${name} must be a number"}},input:{placeholder:"please enter"},list:{loadingText:"loading...",loadingMoreText:"loading more"},alert:{expandText:"expand",collapseText:"collapse"},anchor:{expandText:"copy the link successfully",collapseText:"copy link"},colorPicker:{swatchColorTitle:"System Default",recentColorTitle:"Recently Used",clearConfirmText:"Clear recently used colors?"}}},3554:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r=new Set,i={warn:function(e,t){console.warn("TDesign ".concat(e," Warn: ").concat(t))},warnOnce:function(e,t){var n="TDesign ".concat(e," Warn: ").concat(t);r.has(n)||(r.add(n),console.warn(n))},error:function(e,t){console.error("TDesign ".concat(e," Error: ").concat(t))},errorOnce:function(e,t){var n="TDesign ".concat(e," Error: ").concat(t);r.has(n)||(r.add(n),console.error(n))},info:function(e,t){console.info("TDesign ".concat(e," Info: ").concat(t))}}},6577:function(e,t,n){"use strict";n.d(t,{AM:function(){return r},EJ:function(){return o},Lw:function(){return d},PM:function(){return i},T_:function(){return s},UP:function(){return u},Wl:function(){return a},iH:function(){return c},sK:function(){return l}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r="am",i="pm",o=[r,i],a=[void 0,void 0],l=[1,1,1],u="HH:mm:ss",c=function(e){return e["hour"]="hour",e["minute"]="minute",e["second"]="second",e["milliSecond"]="millisecond",e["meridiem"]="meridiem",e}(c||{}),s=/(a\s+|A\s+)?(h+|H+)?:?(m+)?:?(s+)?:?(S+)?(\s+a|\s+A)?/,d=/[h]{1}/},4913:function(e,t,n){"use strict";n.d(t,{Vf:function(){return a},dO:function(){return i},so:function(){return o}});var r=n(7140);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e,t){return(0,r.d)(e,t).format(t)===e}function o(e,t){return(0,r.d)(e,t).format(t)}function a(e,t,n){return n<=1?t:e.sort((function(e,n){return Math.abs(t+1-e)-Math.abs(t+1-n)}))[0]}},9930:function(e,t,n){"use strict";n.d(t,{sA:function(){return r}});function r(){var e=navigator,t=e.userAgent,n=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1,r=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1;if(n){var i=new RegExp("MSIE (\\d+\\.\\d+);"),o=t.match(i);if(!o)return-1;var a=parseFloat(o[1]);return a<7?6:a}return r?11:Number.MAX_SAFE_INTEGER}},1934:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){var n=Object.keys(t);n.forEach((function(n){e.style[n]=t[n]}))}n.d(t,{Z:function(){return r}})},8796:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5796),i=n(1633),o=n(3396),a=n(4870),l=n(5100),u={block:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,ghost:Boolean,icon:{type:Function},loading:Boolean,shape:{type:String,default:"rectangle",validator:function(e){return["rectangle","square","round","circle"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},theme:{type:String,default:void 0,validator:function(e){return["default","primary","danger","warning","success"].includes(e)}},type:{type:String,default:"button",validator:function(e){return["submit","reset","button"].includes(e)}},variant:{type:String,default:"base",validator:function(e){return["base","outline","dashed","text"].includes(e)}},onClick:Function},c=n(2725),s=n(9044),d=n(7079),f=n(8048),p=(n(5297),(0,o.aZ)({name:"TButton",inheritAttrs:!1,props:u,setup:function(e,t){var n=t.attrs,u=(0,f.sL)(),p=(0,f.r0)(),v=(0,d.ws)("button"),h=(0,d.RH)(),m=h.STATUS,g=h.SIZE,y=(0,s.D)(),b=(0,a.iH)();(0,c.Z)(b);var _=(0,o.Fl)((function(){return e.disabled||e.loading||y.value})),w=(0,o.Fl)((function(){var t=e.theme,n=e.variant;return t||("base"===n?"primary":"default")})),S=(0,o.Fl)((function(){var t;return["".concat(v.value),g.value[e.size],"".concat(v.value,"--variant-").concat(e.variant),"".concat(v.value,"--theme-").concat(w.value),(t={},(0,i._)(t,m.value.disabled,_.value),(0,i._)(t,m.value.loading,e.loading),(0,i._)(t,"".concat(v.value,"--shape-").concat(e.shape),"rectangle"!==e.shape),(0,i._)(t,"".concat(v.value,"--ghost"),e.ghost),(0,i._)(t,g.value.block,e.block),t)]}));return function(){var t=p("default","content"),a=e.loading?(0,o.Wm)(l.gb,{inheritColor:!0},null):u("icon"),c=a&&!t;return t=t?(0,o.Wm)("span",{class:"".concat(v.value,"__text")},[t]):"",a&&(t=[a,t]),(0,o.Wm)("button",(0,o.dG)({ref:b,class:[].concat((0,r._)(S.value),[(0,i._)({},"".concat(v.value,"--icon-only"),c)]),type:e.type,disabled:_.value},n,{onClick:e.onClick}),[t])}}}))},4993:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(8796),i=n(5306),o=(n(5297),(0,i.Z)(r.Z))},5297:function(){},3482:function(e,t,n){"use strict";n.d(t,{XZ:function(){return P},cO:function(){return E}});var r=n(1612),i=n(1633),o=n(3396),a=n(4870),l={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},name:{type:String,default:""},readonly:Boolean,value:{type:[String,Number]},onChange:Function},u=n(5385),c=n(9044),s=n(2725),d=n(8048),f=n(7079),p=Symbol("CheckboxGroupProvide");
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,o.aZ)({name:"TCheckbox",props:h(h({},l),{},{needRipple:Boolean}),setup:function(e){var t=(0,a.iH)();e.needRipple&&(0,s.Z)(t);var n=(0,a.BK)(e),l=n.checked,v=n.modelValue,h=(0,u.Z)(l,v,e.defaultChecked,e.onChange,"checked"),m=(0,r._)(h,2),g=m[0],y=m[1],b=(0,o.f3)(p,void 0),_=(0,o.Fl)((function(){return e.disabled||!(null===b||void 0===b||!b.disabled)})),w=(0,c.D)(_),S=(0,o.Fl)((function(){return e.name||(null===b||void 0===b?void 0:b.name)})),O=(0,o.Fl)((function(){return e.checkAll?null===b||void 0===b?void 0:b.isCheckAll:b?!!b.checkedMap[e.value]:g.value})),k=(0,o.Fl)((function(){return w?w.value:!(e.checkAll||O.value||null===b||void 0===b||!b.maxExceeded)||(void 0!==e.disabled?e.disabled:!(null===b||void 0===b||!b.disabled))})),C=(0,o.Fl)((function(){return e.checkAll?null===b||void 0===b?void 0:b.indeterminate:e.indeterminate})),x=(0,f.ws)(),P=(0,f.ws)("checkbox"),E=(0,o.Fl)((function(){var e;return["".concat(P.value),(e={},(0,i._)(e,"".concat(x.value,"-is-checked"),O.value),(0,i._)(e,"".concat(x.value,"-is-disabled"),k.value),(0,i._)(e,"".concat(x.value,"-is-indeterminate"),C.value),e)]})),T=function(t){var n=!O.value;y(n,{e:t}),b&&b.handleCheckboxChange&&b.onCheckedChange({checked:n,checkAll:e.checkAll,e:t,option:e})},I=(0,d.r0)();return function(){return(0,o.Wm)("label",{class:E.value,ref:"labelRef"},[(0,o.Wm)("input",{type:"checkbox",class:"".concat(P.value,"__former"),disabled:k.value,readonly:e.readonly,indeterminate:e.indeterminate,name:S.value,value:e.value,checked:O.value,onChange:T},null),(0,o.Wm)("span",{class:"".concat(P.value,"__input")},null),(0,o.Wm)("span",{class:"".concat(P.value,"__label")},[I("default","label")])])}}}),g=n(5796),y=n(7246),b=n(715),_={disabled:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function},w=n(7817);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var C=(0,o.aZ)({name:"TCheckboxGroup",props:_,setup:function(e){var t=(0,f.ws)("checkbox-group"),n=(0,d.sL)(),i=Array.isArray,l=(0,a.BK)(e),c=l.value,s=l.modelValue,v=(0,u.Z)(c,s,e.defaultValue,e.onChange),h=(0,r._)(v,2),_=h[0],S=h[1],C=(0,o.Fl)((function(){var e={};return i(_.value)&&_.value.forEach((function(t){e[t]=!0})),e})),x=(0,a.iH)([]),P=(0,o.Fl)((function(){var e=x.value.map((function(e){return e.value}));if(i(_.value)){var t=(0,b.i)(_.value,e);return t.length}return 0})),E=(0,o.Fl)((function(){return(!i(_.value)||_.value.length===x.value.length-1)&&P.value===x.value.length-1})),T=(0,o.Fl)((function(){return!E.value&&P.value<x.value.length&&0!==P.value})),I=(0,o.Fl)((function(){return void 0!==e.max&&_.value.length===e.max}));(0,o.m0)((function(){if(!e.options)return[];x.value=e.options.map((function(t){var n={};return"object"!==(0,y._)(t)?n={label:String(t),value:t}:(n=O({},t),n.disabled=void 0===n.disabled?e.disabled:n.disabled),n}))}));var D=function(){for(var e=new Set,t=0,n=x.value.length;t<n;t++){var r=x.value[t];if(!r.checkAll&&(e.add(r.value),I.value))break}return(0,g._)(e)},j=function(e,t){var n=e?D():[];S(n,{e:t.e,type:e?"check":"uncheck",current:void 0,option:void 0})},R=function(e){var t=e.option.value;if(i(_.value)){var n=(0,g._)(_.value);if(e.checked)n.push(t);else{var r=n.indexOf(t);n.splice(r,1)}S(n,{e:e.e,current:e.option.value,option:e.option,type:e.checked?"check":"uncheck"})}else console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat((0,y._)(_.value)))},A=function(e){var t=e.checked,n=e.checkAll,r=e.e;n?j(t,{e:r}):R(e)},F=(0,w.N)(),M=function(){var e=F("Checkbox"),t=[];return null===e||void 0===e||e.forEach((function(e){var n=e.props;""!==(null===n||void 0===n?void 0:n["check-all"])&&!0!==(null===n||void 0===n?void 0:n["check-all"])||(n.checkAll=!0),n&&t.push(n)})),t},N=function(e){return"function"===typeof e.label?e.label(o.h):e.label},L=(0,a.BK)(e),W=L.name,V=L.disabled;return(0,o.JJ)(p,(0,a.qj)({name:W,isCheckAll:E,checkedMap:C,maxExceeded:I,disabled:V,indeterminate:T,handleCheckboxChange:R,onCheckedChange:A})),function(){var r,i=null;if(null!==(r=e.options)&&void 0!==r&&r.length){var a;i=null===(a=x.value)||void 0===a?void 0:a.map((function(e,t){var n;return(0,o.Wm)(m,(0,o.dG)({key:"".concat(e.value).concat(t)},e,{checked:C.value[e.value]}),k(n=N(e))?n:{default:function(){return[n]}})}))}else{var l=n("default");x.value=M(),i=l}return(0,o.Wm)("div",{class:t.value},[i])}}}),x=n(5306),P=(0,x.Z)(m),E=(0,x.Z)(C)},1417:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1633),i=n(3396),o=n(7079),a=(0,i.aZ)({name:"TFakeArrow",props:{isActive:{type:Boolean},overlayClassName:{type:[String,Object,Array]},overlayStyle:{type:Object||String}},setup:function(e){var t=(0,o.ws)("fake-arrow"),n=(0,i.Fl)((function(){return[t.value,(0,r._)({},"".concat(t.value,"--active"),e.isActive),e.overlayClassName]}));return{classes:n}},render:function(){return(0,i.Wm)("svg",{class:this.classes,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:this.overlayStyle},[(0,i.Wm)("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black","stroke-opacity":"0.9","stroke-width":"1.3"},null)])}})},3069:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3396),i=n(9370);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function o(e){var t=(0,r.f3)(i.c,null),n=(0,r.Fl)((function(){return(null===t||void 0===t?void 0:t.value)||i.d})),o=(0,r.Fl)((function(){return n.value[e]})),a=(0,r.Fl)((function(){return n.value.classPrefix})),l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n[0];if("string"===typeof e){if(!o)return e;var a=/\{\s*([\w-]+)\s*\}/g,l=e.replace(a,(function(e,t){return o?String(o[t]):""}));return l}return"function"===typeof e?n.length?e.apply(void 0,n):e(r.h):""};return{t:l,globalConfig:o,classPrefix:a}}},639:function(e,t,n){"use strict";n.d(t,{Mt:function(){return Pt},Yn:function(){return Et},Dw:function(){return Tt},x_:function(){return It}});var r=n(1633),i=n(3396),o=n(7140),a=n(7079),l=n(9044),u=n(4870),c=n(6370),s=n(2215),d=n(4344);n(3727);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 3H6V1.5H5V3H3a1 1 0 00-1 1v9a1 1 0 001 1h10a1 1 0 001-1V4a1 1 0 00-1-1h-2V1.5h-1V3zM5 5h1V4h4v1h1V4h2v2H3V4h2v1zM3 7h10v6H3V7z",fillOpacity:.9}}]},h=(0,i.aZ)({name:"CalendarIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:o,style:a}=(0,d.Z)(r),l=(0,i.Fl)((()=>["t-icon","t-icon-calendar",o.value])),u=(0,i.Fl)((()=>p(p({},a.value),n.style))),c=(0,i.Fl)((()=>({class:l.value,style:u.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,s.Z)(v,c.value)}}),m=n(4925),g=n(1612),y=n(3930),b=n(7216),_=n(889),w=n(6913),S=n(1825);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}var k={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),a=n(t),l="("===(i=i||"()")[0],u=")"===i[1];return(l?this.isAfter(o,r):!this.isBefore(o,r))&&(u?this.isBefore(a,r):!this.isAfter(a,r))||(l?this.isBefore(o,r):!this.isAfter(o,r))&&(u?this.isAfter(a,r):!this.isBefore(a,r))}}}))})(k,k.exports);var C=k.exports,x={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return 1===t&&11===e?n+1:0===e&&t>=52?n-1:n}}}))})(x,x.exports);var P=x.exports,E={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var a=e.name?e:e.$locale(),l=i(a[t]),u=i(a[n]),c=l||u.map((function(e){return e.slice(0,r)}));if(!o)return c;var s=a.weekStart;return c.map((function(e,t){return c[(t+(s||0))%7]}))},a=function(){return n.Ls[n.locale()]},l=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},u=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return l(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},n.localeData=function(){var e=a();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return l(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(e){return o(a(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(a(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(a(),"weekdaysMin","weekdays",2,e)}}}))})(E,E.exports);var T=E.exports,I={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){var e="week",t="year";return function(n,r,i){var o=r.prototype;o.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(t).add(1,t).date(r),a=i(this).endOf(e);if(o.isBefore(a))return 1}var l=i(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),u=this.diff(l,e,!0);return u<0?i(this).startOf("week").week():Math.ceil(u)},o.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}))})(I,I.exports);var D=I.exports,j={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){var e="month",t="quarter";return function(n,r){var i=r.prototype;i.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var o=i.add;i.add=function(n,r){return n=Number(n),this.$utils().p(r)===t?this.add(3*n,e):o.bind(this)(n,r)};var a=i.startOf;i.startOf=function(n,r){var i=this.$utils(),o=!!i.u(r)||r;if(i.p(n)===t){var l=this.quarter()-1;return o?this.month(3*l).startOf(e).startOf("day"):this.month(3*l+2).endOf(e).endOf("day")}return a.bind(this)(n,r)}}}))})(j,j.exports);var R=j.exports,A={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){var e="day";return function(t,n,r){var i=function(t){return t.add(4-t.isoWeekday(),e)},o=n.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var n,o,a,l,u=i(this),c=(n=this.isoWeekYear(),o=this.$u,a=(o?r.utc:r)().year(n).startOf("year"),l=4-a.isoWeekday(),a.isoWeekday()>4&&(l+=7),a.add(l,e));return u.diff(c,"week")+1},o.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var a=o.startOf;o.startOf=function(e,t){var n=this.$utils(),r=!!n.u(t)||t;return"isoweek"===n.p(e)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(e,t)}}}))})(A,A.exports);var F=A.exports,M={exports:{}};(function(e,t){!function(t,n){e.exports=n()}(y.c,(function(){return function(e,t,n){var r=t.prototype,i=r.format;n.en.ordinal=function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"},r.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return i.bind(this)(e);var r=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return i.bind(this)(o)}}}))})(M,M.exports);var N=M.exports,L=_._,W=w._,V=S.t,B=Math.ceil,U=Math.max;function H(e,t,n){t=(n?W(e,t,n):void 0===t)?1:U(V(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];var i=0,o=0,a=Array(B(r/t));while(i<r)a[o++]=L(e,i,i+=t);return a}var z=H;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){return e?e[0].toUpperCase().concat(e.substring(1,e.length)):e}function G(e){var t=e.year,n=e.month;return new Date(t,n,1)}function $(e){var t=e.year,n=e.month;return new Date(t,n+1,0).getDate()}function J(e){var t=e.year,n=e.month;return new Date(t,n,$({year:t,month:n}))}function q(e,t){return e.getFullYear()===t.getFullYear()}function X(e,t){return q(e,t)&&(0,o.d)(e).quarter()===(0,o.d)(t).quarter()}function Q(e,t){return q(e,t)&&e.getMonth()===t.getMonth()}function ee(e,t){return Q(e,t)&&(0,o.d)(e).week()===(0,o.d)(t).week()}function te(e,t){return Q(e,t)&&e.getDate()===t.getDate()}function ne(e,t){var n=e.getTime(),r=t.getTime();return n<r?-1:n>r?1:0}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"date",r={isSameYear:q,isSameQuarter:X,isSameMonth:Q,isSameWeek:ee,isSameDate:te};return r["isSame".concat(Y(n))](e,t)}function ie(e,t,n){return t&&-1===ne(e,t)||n&&1===ne(e,n)}function oe(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)}function ae(e,t){return(0,o.d)(e).subtract(t,"month").toDate()}function le(e,t){return(0,o.d)(e).add(t,"month").toDate()}function ue(e,t){var n=e.year,r=e.month,i=t.firstDayOfWeek,a=t.showWeekOfYear,l=void 0!==a&&a,u=t.disableDate,c=void 0===u?function(){return!1}:u,s=t.minDate,d=t.maxDate,f=G({year:n,month:r}),p=J({year:n,month:r}),v=$({year:n,month:r}),h=[],m=1,g=oe();for(m;m<=v;m++){var y=new Date(n,r,m);h.push({text:m,active:!1,value:y,disabled:"function"===typeof c&&c(y)||ie(y,s,d),now:re(g,y),firstDayOfMonth:1===m,lastDayOfMonth:m===v,type:"current-month"})}if(f.getDay()!==i){f.setDate(0);while(1)if(h.unshift({text:f.getDate().toString(),active:!1,value:new Date(f),disabled:"function"===typeof c&&c(f)||ie(f,s,d),additional:!0,type:"prev-month"}),f.setDate(f.getDate()-1),f.getDay()===Math.abs(i+6)%7)break}var b=42;while(h.length<b)p.setDate(p.getDate()+1),h.push({text:p.getDate(),active:!1,value:new Date(p),disabled:"function"===typeof c&&c(p)||ie(p,s,d),additional:!0,type:"next-month"});var _=z(h,7);return l&&_.forEach((function(e){e.unshift(K(K({},e[0]),{},{active:!1,value:e[0].value,text:(0,o.d)(e[0].value).week()}))})),_}function ce(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,i=t.minDate,a=t.maxDate,l=t.quarterLocal,u=[],c=oe(),s=1;s<=4;s++){var d=(0,o.d)(new Date(e,0)).quarter(s).toDate();u.push({value:d,now:re(d,c,"quarter"),disabled:"function"===typeof r&&r(d)||ie(d,i,a),active:!1,text:l[s-1]})}return z(u,4)}function se(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,i=t.minDate,o=t.maxDate,a=10*parseInt((e/10).toString(),10),l=a+9,u=[],c=oe(),s=a;s<=l;s++){for(var d=new Date(s,1),f=0,p=0,v=0;v<12;v++){var h=new Date(s,v);"function"===typeof r&&r(h)&&(f+=1),ie(h,i,o)&&(p+=1)}u.push({value:d,now:re(d,c,"year"),disabled:12===f||12===p,active:!1,text:"".concat(d.getFullYear())})}return z(u,3)}function de(e,t){for(var n=t.disableDate,r=void 0===n?function(){return!1}:n,i=t.minDate,o=t.maxDate,a=t.monthLocal,l=[],u=oe(),c=0;c<=11;c++){for(var s=new Date(e,c),d=0,f=0,p=$({year:e,month:c}),v=1;v<=p;v++){var h=new Date(e,c,v);"function"===typeof r&&r(h)&&(d+=1),ie(h,i,o)&&(f+=1)}l.push({value:s,now:re(s,u,"month"),disabled:d===p||f===p,active:!1,text:a[s.getMonth()]})}return z(l,3)}function fe(e,t){var n=O({},t),r=n.start,i=n.end,a=n.hoverStart,l=n.hoverEnd,u=n.type,c=void 0===u?"date":u,s=n.isRange,d=void 0!==s&&s;return"week"===c?e:d?e.map((function(e){return e.map((function(e){var t=e,n=e.value,u=r&&re(r,n,c),s=a&&re(a,n,c),d=i&&re(i,n,c),f=l&&re(l,n,c);return t.active=(u||d)&&!t.additional,r&&i&&(t.highlight=(0,o.d)(n).isBetween(r,i,c,"[]")&&!t.additional,t.startOfRange=u,t.endOfRange=d),a&&l&&(t.hoverHighlight=(0,o.d)(n).isBetween(a,l,c,"[]")&&!t.additional,t.hoverStartOfRange=s,t.hoverEndOfRange=f),t}))})):e.map((function(e){return e.map((function(e){var t=e;return t.active=r&&re(e.value,r,c)&&!t.additional,t}))}))}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/(a\s)?h{1,2}:m{1,2}(:s{1,2})?(\sa)?/i);return t?t[0]:null}function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.match(/[ap]m/i)||[""],n=/\d{1,2}:\d{1,2}(:\d{1,2})?(:\d{1,3})?/,r=e.match(n)||["0:0:0:0"],i=r[0].split(":"),o=(0,g._)(i,4),a=o[0],l=void 0===a?0:a,u=o[1],c=void 0===u?0:u,s=o[2],d=void 0===s?0:s,f=o[3],p=void 0===f?0:f;return{hours:+l,minutes:+c,seconds:+d,milliseconds:+p,meridiem:t[0]}}o.d.extend(F),o.d.extend(P),o.d.extend(T),o.d.extend(D),o.d.extend(R),o.d.extend(N),o.d.extend(b.c),o.d.extend(C);var he=n(3554),me="HH:mm:ss";function ge(e){var t=e.newDate,n=e.format,r=e.targetFormat;if(!t||!Array.isArray(t))return[];var i=t.map((function(e){return e&&Se(e,n)}));return i[0]&&i[1]&&i[0].toDate().getTime()>i[1].toDate().getTime()&&(i=[i[1],i[0]]),i.some((function(e){return e&&!e.isValid()}))?(he.Z.error("DatePicker","请检查 format、valueType、value 格式是否有效.\nformat: '".concat(n,"' valueType: '").concat(r,"' value: '").concat(t,"'")),[]):"time-stamp"===r?i.map((function(e){return e&&e.toDate().getTime()})):i.map((function(e){return e&&e.format(r)}))}function ye(e){var t=e.newDate,n=e.format,r=e.targetFormat;if(!t)return"";var i=Se(t,n);return i.isValid()?"time-stamp"===r?i.toDate().getTime():i.format(r):(he.Z.error("DatePicker","请检查 format、valueType、value 格式是否有效.\nformat: '".concat(n,"' valueType: '").concat(r,"' value: '").concat(t,"'")),"")}function be(e,t){return Array.isArray(e)?"time-stamp"===t?e.every((function(e){return(0,o.d)(e).isValid()})):e.every((function(e){return(0,o.d)(e,t).isValid()||(0,o.d)(e).isValid()})):"time-stamp"===t?(0,o.d)(e).isValid():(0,o.d)(e,t).isValid()||(0,o.d)(e).isValid()}function _e(e,t){var n,r=t.format,i=t.targetFormat;return n=Array.isArray(e)?ge({newDate:e,format:r,targetFormat:i}):ye({newDate:e,format:r,targetFormat:i}),n}function we(e,t){var n;return n=Array.isArray(e)?e.map((function(e){return(0,o.d)(e).format(t)})):(0,o.d)(e||new Date).format(t),n}function Se(e,t,n){var r=e;if(/[w|W]/g.test(t)){"string"!==typeof r&&(r=(0,o.d)(r).format(t));for(var i=r.split(/[-/.]/)[0],a=r.split(/[-/.]/)[1],l=t.split(/[-/.]/)[1],u=(0,o.d)(i,"YYYY").startOf("year"),c=0;c<=52;c+=1){var s=u.add(c,"week");if("start"===n&&(s=s.subtract(5,"day")),s.format(l)===a)return s}}if(/Q/g.test(t)){"string"!==typeof r&&(r=(0,o.d)(r).format(t));for(var d=r.split(/[-/.]/)[0],f=r.split(/[-/.]/)[1],p=t.split(/[-/.]/)[1],v=(0,o.d)(d,"YYYY").startOf("year"),h=0;h<=52;h+=1){var m=v.add(h,"quarter");if(m.format(p)===f)return m}}return(0,o.d)(r,t).isValid()?(0,o.d)(r,t):(0,o.d)(r)}function Oe(e){var t=e.mode,n=void 0===t?"date":t,r=e.format,i=e.valueType,o=e.enableTimePicker;return"year"===n?{format:r||"YYYY",valueType:i||r||"YYYY",timeFormat:me}:"month"===n?{format:r||"YYYY-MM",valueType:i||r||"YYYY-MM",timeFormat:me}:"quarter"===n?{format:r||"YYYY-[Q]Q",valueType:i||r||"YYYY-[Q]Q",timeFormat:me}:"week"===n?{format:r||"YYYY-wo",valueType:i||r||"YYYY-wo",timeFormat:me}:"date"===n?{format:r||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),valueType:i||r||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),timeFormat:pe(r||"YYYY-MM-DD".concat(o?" HH:mm:ss":""))||me}:void 0}var ke=n(5385);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ce(e){var t=(0,u.BK)(e),n=t.value,r=t.modelValue,a=(0,ke.Z)(n,r,e.defaultValue,e.onChange),l=(0,g._)(a,2),c=l[0],s=l[1],d=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})}));e.enableTimePicker&&(pe(d.value.format)||console.error("format: ".concat(d.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")),pe(d.value.valueType)||"time-stamp"===d.value.valueType||console.error("valueType: ".concat(d.value.valueType," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")));var f=(0,u.iH)(we(c.value,d.value.timeFormat)),p=(0,u.iH)((0,o.d)(c.value).month()||(new Date).getMonth()),v=(0,u.iH)((0,o.d)(c.value).year()||(new Date).getFullYear()),h=(0,u.iH)(_e(c.value,{format:d.value.format,targetFormat:d.value.format}));return(0,i.m0)((function(){c.value?be(c.value,d.value.valueType)&&(h.value=_e(c.value,{format:d.value.format,targetFormat:d.value.format}),f.value=we(c.value,d.value.timeFormat)):h.value=""})),{year:v,month:p,value:c,time:f,cacheValue:h,onChange:s}}var xe=n(3069);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=(0,a.ws)("date-picker"),n=(0,xe.Z)("datePicker"),c=n.globalConfig,s=(0,m.J)({CalendarIcon:h}),d=s.CalendarIcon,f=(0,l.D)(),p=(0,u.iH)(),v=Ce(e),g=v.value,y=v.onChange,b=v.time,_=v.month,w=v.year,S=v.cacheValue,O=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})})),k=(0,u.iH)(!1),C=(0,u.iH)(!1),x=(0,u.iH)(_e(g.value,{format:O.value.format,targetFormat:O.value.format})),P=(0,i.Fl)((function(){return Ee(Ee({},e.inputProps),{},{ref:p,prefixIcon:e.prefixIcon,readonly:!e.allowInput,placeholder:e.placeholder||c.value.placeholder[e.mode],suffixIcon:e.suffixIcon||function(){return(0,i.Wm)(d,null,null)},class:[(0,r._)({},"".concat(t.value,"__input--placeholder"),C.value)],onClear:function(e){var t;null===e||void 0===e||null===(t=e.e)||void 0===t||t.stopPropagation(),k.value=!1,null===y||void 0===y||y("",{dayjsValue:(0,o.d)(""),trigger:"clear"})},onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:n.e})},onFocus:function(t,n){var r,i=n.e;null===(r=e.onFocus)||void 0===r||r.call(e,{value:g.value,e:i})},onChange:function(e){if(x.value=e,be(e,O.value.format)){var t=(0,o.d)(e).month(),n=(0,o.d)(e).year(),r=we(e,O.value.timeFormat);!Number.isNaN(n)&&(w.value=n),!Number.isNaN(t)&&(_.value=t),!Number.isNaN(r)&&(b.value=r)}},onEnter:function(e){(be(e,O.value.format)||be(g.value,O.value.format))&&(k.value=!1,be(e,O.value.format)?null===y||void 0===y||y(_e(e,{format:O.value.format,targetFormat:O.value.valueType}),{dayjsValue:(0,o.d)(e),trigger:"enter"}):be(g.value,O.value.format)?x.value=_e(g.value,{format:O.value.format,targetFormat:O.value.format}):x.value="")}})})),E=(0,i.Fl)((function(){var n,r,i;return Ee(Ee({expandAnimation:!0},e.popupProps),{},{disabled:f.value,overlayInnerStyle:null!==(n=null===(r=e.popupProps)||void 0===r?void 0:r.overlayInnerStyle)&&void 0!==n?n:{width:"auto"},overlayClassName:[null===(i=e.popupProps)||void 0===i?void 0:i.overlayClassName,"".concat(t.value,"__panel-container")],onVisibleChange:function(e,t){f.value||("trigger-element-click"!==t.trigger?(e||(C.value=!1,x.value=_e(g.value,{format:O.value.format,targetFormat:O.value.format})),k.value=e):k.value=!0)}})}));return(0,i.m0)((function(){g.value?be(g.value,O.value.valueType)&&(x.value=_e(g.value,{format:O.value.format,targetFormat:O.value.format})):x.value=""})),{year:w,month:_,value:g,time:b,inputValue:x,popupVisible:k,inputProps:P,popupProps:E,inputRef:p,cacheValue:S,isHoverCell:C,onChange:y}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Ie={allowInput:Boolean,clearable:Boolean,disableDate:{type:[Object,Array,Function]},disabled:Boolean,enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:void 0},inputProps:{type:Object},mode:{type:String,default:"date",validator:function(e){return!e||["year","quarter","month","week","date"].includes(e)}},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return!e||["left","top","right","bottom"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Array,Date],default:void 0},modelValue:{type:[String,Number,Array,Date],default:void 0},defaultValue:{type:[String,Number,Array,Date],default:""},valueType:{type:String,default:""},onBlur:Function,onChange:Function,onFocus:Function,onPick:Function},De=n(6110),je=n(5796),Re=n(3128),Ae=n(2579),Fe=(0,i.aZ)({name:"TDatePickerHeader",props:{mode:{type:String,default:"date"},year:Number,month:Number,onMonthChange:Function,onYearChange:Function,onJumperClick:Function},setup:function(e){var t=(0,xe.Z)("classPrefix"),n=t.classPrefix,r=(0,a.ws)("date-picker__header"),o=(0,xe.Z)("datePicker"),l=o.globalConfig,c=(0,u.iH)(p(e.year)),s="date"===e.mode||"week"===e.mode,d=(0,i.Fl)((function(){var t;return(null===(t=c.value.find((function(t){return t.value-e.year<=9&&t.value-e.year>=0})))||void 0===t?void 0:t.value)||e.year})),f=(0,i.Fl)((function(){return l.value.months.map((function(e,t){return{label:e,value:t}}))}));function p(t){var n=[];if("year"===e.mode)for(var r=t%10,i=t-r-100,o=t-r+100,a=i;a<=o;a+=10)n.push({label:"".concat(a," - ").concat(a+9),value:a+r});else{n.push({label:"".concat(t),value:t});for(var l=1;l<=10;l++)n.push({label:"".concat(t+l),value:t+l}),n.unshift({label:"".concat(t-l),value:t-l})}return n}function v(t,n){var r=[];if("year"===e.mode){var i=t%10;if("add"===n)for(var o=t-i+10;o<=t-i+50;o+=10)r.push({label:"".concat(o," - ").concat(o+9),value:o});else for(var a=t-i-1;a>t-i-50;a-=10)r.unshift({label:"".concat(a-9," - ").concat(a),value:a})}else if("add"===n)for(var l=t+1;l<=t+10;l++)r.push({label:"".concat(l),value:l});else for(var u=t-1;u>t-10;u--)r.unshift({label:"".concat(u),value:u});return r}var h={year:{prev:l.value.preDecade,current:l.value.now,next:l.value.nextDecade},month:{prev:l.value.preYear,current:l.value.now,next:l.value.nextYear},date:{prev:l.value.preMonth,current:l.value.now,next:l.value.nextMonth}};function m(e){var t=e.e;0===t.target.scrollTop?g(t):t.target.scrollTop===t.target.scrollHeight-t.target.clientHeight&&y(t)}function g(e){var t;null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e);var n=c.value[0].value,r=v(n,"reduce");c.value=[].concat((0,je._)(r),(0,je._)(c.value))}function y(e){var t;null===e||void 0===e||null===(t=e.stopPropagation)||void 0===t||t.call(e);var n=c.value.slice(-1)[0].value,r=v(n,"add");c.value=[].concat((0,je._)(c.value),(0,je._)(r))}return function(){return(0,i.Wm)("div",{class:r.value},[(0,i.Wm)("div",{class:"".concat(r.value,"-controller")},[s&&(0,i.Wm)(Ae.Z,{class:"".concat(r.value,"-controller-month"),value:e.month,options:f.value,onChange:function(t){var n;return null===(n=e.onMonthChange)||void 0===n?void 0:n.call(e,t)},popupProps:{overlayClassName:"".concat(r.value,"-controller-month-popup")}},null),(0,i.Wm)(Ae.Z,{class:"".concat(r.value,"-controller-year"),value:"year"===e.mode?d.value:e.year,options:c.value,onChange:function(t){var n;return null===(n=e.onYearChange)||void 0===n?void 0:n.call(e,t)},popupProps:{onScroll:m,overlayClassName:"".concat(r.value,"-controller-year-popup")},panelTopContent:function(){return(0,i.Wm)("div",{class:"".concat(n.value,"-select-option"),onClick:g},[(0,i.Uk)("...")])},panelBottomContent:function(){return(0,i.Wm)("div",{class:"".concat(n.value,"-select-option"),onClick:y},[(0,i.Uk)("...")])}},null)]),(0,i.Wm)(Re.Z,{tips:h[e.mode],size:"small",onChange:e.onJumperClick},null)])}}}),Me=(0,i.aZ)({name:"TDatePickerCell",props:{time:String,text:[String,Number],value:Date,active:Boolean,highlight:Boolean,disabled:Boolean,startOfRange:Boolean,endOfRange:Boolean,hoverHighlight:Boolean,hoverStartOfRange:Boolean,hoverEndOfRange:Boolean,additional:Boolean,now:Boolean,firstDayOfMonth:Boolean,lastDayOfMonth:Boolean,onClick:Function,onMouseEnter:Function},setup:function(e){var t=(0,a.ws)("date-picker__cell"),n=(0,i.Fl)((function(){var n;return[t.value,(n={},(0,r._)(n,"".concat(t.value,"--now"),e.now),(0,r._)(n,"".concat(t.value,"--active"),e.active),(0,r._)(n,"".concat(t.value,"--disabled"),e.disabled),(0,r._)(n,"".concat(t.value,"--highlight"),e.highlight),(0,r._)(n,"".concat(t.value,"--hover-highlight"),e.hoverHighlight),(0,r._)(n,"".concat(t.value,"--active-start"),e.startOfRange),(0,r._)(n,"".concat(t.value,"--active-end"),e.endOfRange),(0,r._)(n,"".concat(t.value,"--hover-start"),e.hoverStartOfRange),(0,r._)(n,"".concat(t.value,"--hover-end"),e.hoverEndOfRange),(0,r._)(n,"".concat(t.value,"--additional"),e.additional),(0,r._)(n,"".concat(t.value,"--first-day-of-month"),e.firstDayOfMonth),(0,r._)(n,"".concat(t.value,"--last-day-of-month"),e.lastDayOfMonth),n)]}));function o(t){var n;if(!e.disabled){if(e.time){var r=ve(e.time),i=r.hours,o=r.minutes,a=r.seconds,l=r.milliseconds,u=r.meridiem,c=i;/am/i.test(u)&&12===c&&(c-=12),/pm/i.test(u)&&c<12&&(c+=12),e.value.setHours(c),e.value.setMinutes(o),e.value.setSeconds(a),e.value.setMilliseconds(l)}null===(n=e.onClick)||void 0===n||n.call(e,e.value,{e:t})}}function l(){var t;if(!e.disabled){if(e.time){var n=ve(e.time),r=n.hours,i=n.minutes,o=n.seconds,a=n.milliseconds,l=n.meridiem,u=r;/am/i.test(l)&&12===u&&(u-=12),/pm/i.test(l)&&u<12&&(u+=12),e.value.setHours(u),e.value.setMinutes(i),e.value.setSeconds(o),e.value.setMilliseconds(a)}null===(t=e.onMouseEnter)||void 0===t||t.call(e,e.value)}}return function(){return(0,i.Wm)("td",{class:n.value,onClick:o,onMouseenter:l},[(0,i.Wm)("div",{class:"".concat(t.value,"-inner")},[e.text])])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We=(0,i.aZ)({name:"TDatePickerTable",props:{mode:{type:String,default:"date"},value:[String,Number,Array,Date],format:String,firstDayOfWeek:Number,data:Array,time:String,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function},setup:function(e){var t=(0,a.ws)("date-picker__table"),n=(0,xe.Z)("datePicker"),o=n.globalConfig,l=o.value,u=l.weekdays,c=l.weekAbbreviation,s=(0,i.Fl)((function(){var t=[],n=e.firstDayOfWeek-1,r=u.length;while(t.length<r)t.push(u[n]),n=(n+r+1)%r;return"week"===e.mode&&t.unshift(c),t})),d=(0,i.Fl)((function(){return"date"===e.mode||"week"===e.mode})),f=function(n,i,o){if("week"!==e.mode)return{};if(Array.isArray(n)){var a;if(!n.length)return{};var l=n.map((function(e){return Se(e,i)})),u=(0,g._)(l,2),c=u[0],s=u[1],d=c.year(),f=c.week(),p=s&&s.year(),v=s&&s.week(),h=Se(o,i),m=h.year(),y=h.week(),b=m===d&&y===f||m===p&&y===v,_=m>=d&&m<=p&&y>f&&y<v;return a={},(0,r._)(a,"".concat(t.value,"-").concat(e.mode,"-row--active"),b),(0,r._)(a,"".concat(t.value,"-").concat(e.mode,"-row--range"),_),a}return(0,r._)({},"".concat(t.value,"-").concat(e.mode,"-row--active"),Se(n,i).week()===Se(o,i).week())};return function(){return(0,i.Wm)("div",{class:t.value,onMouseleave:function(t){var n;return null===(n=e.onCellMouseLeave)||void 0===n?void 0:n.call(e,{e:t})}},[(0,i.Wm)("table",null,[d.value&&(0,i.Wm)("thead",null,[(0,i.Wm)("tr",null,[s.value.map((function(e,t){return(0,i.Wm)("th",{key:t},[e])}))])]),(0,i.Wm)("tbody",null,[e.data.map((function(n,o){return(0,i.Wm)("tr",{key:o,class:Le((0,r._)({},"".concat(t.value,"-").concat(e.mode,"-row"),!0),f(e.value,e.format,n[0].value))},[n.map((function(t,n){return(0,i.Wm)(Me,(0,i.dG)(t,{key:n,time:e.time,onClick:e.onCellClick,onMouseEnter:e.onCellMouseEnter}),null)}))])}))])])])}}}),Ve=n(7477);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=(0,i.aZ)({name:"TPanelContent",props:{mode:String,format:String,enableTimePicker:Boolean,timePickerProps:{type:Object,default:function(){return{}}},year:Number,month:Number,tableData:Array,time:String,firstDayOfWeek:Number,partial:String,popupVisible:Boolean,onYearChange:Function,onMonthChange:Function,onJumperClick:Function,onCellMouseEnter:Function,onCellClick:Function,onCellMouseLeave:Function,onTimePickerChange:Function,value:[String,Number,Array,Date]},setup:function(e){var t=(0,a.ws)("date-picker__panel"),n=Oe({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),r=n.timeFormat,o="00:00:00";return function(){return(0,i.Wm)("div",{class:"".concat(t.value,"-content")},[(0,i.Wm)("div",{class:"".concat(t.value,"-").concat(e.mode)},[(0,i.Wm)(Fe,{mode:e.mode,year:e.year,month:e.month,onMonthChange:function(t){var n;return null===(n=e.onMonthChange)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onYearChange:function(t){var n;return null===(n=e.onYearChange)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onJumperClick:function(t){var n,r=t.trigger;return null===(n=e.onJumperClick)||void 0===n?void 0:n.call(e,{trigger:r,partial:e.partial})}},null),(0,i.Wm)(We,{mode:e.mode,data:e.tableData,time:e.time,value:e.value,format:e.format,firstDayOfWeek:e.firstDayOfWeek,onCellClick:function(t,n){var r,i=n.e;return null===(r=e.onCellClick)||void 0===r?void 0:r.call(e,t,{e:i,partial:e.partial})},onCellMouseEnter:function(t){var n;return null===(n=e.onCellMouseEnter)||void 0===n?void 0:n.call(e,t,{partial:e.partial})},onCellMouseLeave:e.onCellMouseLeave},null)]),e.enableTimePicker&&(0,i.Wm)("div",{class:"".concat(t.value,"-time")},[(0,i.Wm)("div",{class:"".concat(t.value,"-time-viewer")},[e.time||o]),(0,i.Wm)(Ve.Z,Ue({key:e.partial,isShowPanel:e.popupVisible,format:r,value:e.time||o,onChange:e.onTimePickerChange},e.timePickerProps),null)])])}}}),ze=n(4993);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ze(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,i.lA)(e)}var Ke=(0,i.aZ)({name:"TDatePickerTable",props:{enableTimePicker:Boolean,presetsPlacement:String,presets:Object,selectedValue:[Date,String,Number],onPresetClick:Function,onConfirmClick:Function},setup:function(e){var t=(0,a.ws)("date-picker__footer"),n=(0,a.ws)("date-picker__presets"),r=(0,xe.Z)("datePicker"),o=r.t,l=r.globalConfig,u=(0,i.Fl)((function(){return[t.value,"".concat(t.value,"--").concat(e.presetsPlacement)]}));return function(){var t;return(0,i.Wm)("div",{class:u.value},[(0,i.Wm)("div",{class:n.value},[e.presets&&Object.keys(e.presets).map((function(t){return(0,i.Wm)(ze.z,{key:t,size:"small",variant:"text",onClick:function(n){var r;return null===(r=e.onPresetClick)||void 0===r?void 0:r.call(e,e.presets[t],{e:n})}},Ze(t)?t:{default:function(){return[t]}})}))]),e.enableTimePicker&&(0,i.Wm)(ze.z,{disabled:!e.selectedValue,size:"small",theme:"primary",onClick:function(t){var n;return null===(n=e.onConfirmClick)||void 0===n?void 0:n.call(e,{e:t})}},Ze(t=o(l.value.confirm))?t:{default:function(){return[t]}})])}}}),Ye=(0,i.aZ)({name:"TExtraContent",props:{presets:Object,enableTimePicker:Boolean,presetsPlacement:String,onPresetClick:Function,onConfirmClick:Function,selectedValue:[String,Number,Array,Date]},setup:function(e){var t=(0,i.Fl)((function(){return e.enableTimePicker||e.presets}));return function(){return t.value?(0,i.Wm)(Ke,{presets:e.presets,onPresetClick:e.onPresetClick,enableTimePicker:e.enableTimePicker,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement,selectedValue:e.selectedValue},null):null}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ge(e){var t,n=(0,xe.Z)("datePicker"),r=n.globalConfig,i={minDate:e.minDate,maxDate:e.maxDate,disableDate:e.disableDate,firstDayOfWeek:null!==(t=e.firstDayOfWeek)&&void 0!==t?t:r.value.firstDayOfWeek,monthLocal:r.value.months,quarterLocal:r.value.quarters,showWeekOfYear:"week"===e.mode},o=[];return"date"===e.mode||"week"===e.mode?o=ue({year:e.year,month:e.month},i):"quarter"===e.mode?o=ce(e.year,i):"month"===e.mode?o=de(e.year,i):"year"===e.mode&&(o=se(e.year,i)),fe(o,{start:e.start,end:e.end,hoverStart:e.hoverStart,hoverEnd:e.hoverEnd,type:e.mode,isRange:e.isRange})}var $e=n(9);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Je(e){return{disableDate:function(t){return!qe({disableDate:e.disableDate,format:e.format,mode:e.mode,value:t})},minDate:(0,$e.i)(e.disableDate)&&"before"in e.disableDate?new Date(e.disableDate.before):e.start,maxDate:(0,$e.i)(e.disableDate)&&"after"in e.disableDate?new Date(e.disableDate.after):e.end}}function qe(e){if(!e.disableDate)return!0;var t=!0;if("function"===typeof e.disableDate)return!e.disableDate(e.value);if(Array.isArray(e.disableDate)){var n=!1,r=e.disableDate.map((function(t){return(0,o.d)(t,e.format)}));return r.forEach((function(t){t.isSame((0,o.d)(e.value))&&(n=!0)})),!n}if(e.disableDate.from&&e.disableDate.to){var i=(0,o.d)(new Date(e.disableDate.from)),a=(0,o.d)(new Date(e.disableDate.to));return!(0,o.d)(e.value).isBetween(i,a,e.mode,"[]")}var l=e.disableDate.before?new Date(e.disableDate.before):null,u=e.disableDate.after?new Date(e.disableDate.after):null;if(u&&l){var c=(0,o.d)(new Date(l)),s=(0,o.d)(new Date(u));t=(0,o.d)(e.value).isBetween(c,s,e.mode,"[]")}else if(l){var d=(0,o.d)(new Date(l));t=!(0,o.d)(e.value).isBefore(d,e.mode)}else if(u){var f=(0,o.d)(new Date(u));t=!(0,o.d)(e.value).isAfter(f,e.mode)}return t}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=(0,i.aZ)({name:"TSinglePanel",props:{disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:[String,Number,Array,Date],timePickerProps:Object,presets:Object,enableTimePicker:Boolean,firstDayOfWeek:Number,year:Number,month:Number,time:String,popupVisible:Boolean,onPanelClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=(0,a.ws)("date-picker__panel"),n=(0,xe.Z)("datePicker"),o=n.globalConfig,l=Oe({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),u=l.format,c=(0,i.Fl)((function(){return Je({format:u,mode:e.mode,disableDate:e.disableDate})})),s=(0,i.Fl)((function(){return Ge(Qe({year:e.year,month:e.month,mode:e.mode,start:e.value?Se(e.value,u).toDate():void 0,firstDayOfWeek:e.firstDayOfWeek||o.value.firstDayOfWeek},c.value))})),d=(0,i.Fl)((function(){return{format:u,value:e.value,mode:e.mode,year:e.year,month:e.month,firstDayOfWeek:e.firstDayOfWeek||o.value.firstDayOfWeek,tableData:s.value,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,time:e.time,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}})),f=(0,i.Fl)((function(){return{presets:e.presets,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,selectedValue:e.value}}));return function(){return(0,i.Wm)("div",{class:[t.value,(0,r._)({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(t){var n;return null===(n=e.onPanelClick)||void 0===n?void 0:n.call(e,{e:t})}},[["top","left"].includes(e.presetsPlacement)?(0,i.Wm)(Ye,f.value,null):null,(0,i.Wm)(He,d.value,null),["bottom","right"].includes(e.presetsPlacement)?(0,i.Wm)(Ye,f.value,null):null])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=(0,i.aZ)({name:"TDatePicker",props:nt({},Ie),setup:function(e){var t=(0,a.ws)("date-picker"),n=Te(e),r=n.inputValue,u=n.popupVisible,c=n.inputProps,s=n.popupProps,d=n.isHoverCell,f=n.cacheValue,p=n.value,v=n.year,h=n.month,m=n.time,g=n.inputRef,y=n.onChange,b=(0,l.D)(),_=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})}));function w(e){d.value=!0,r.value=_e(e,{format:_.value.format,targetFormat:_.value.format})}function S(){d.value=!1,r.value=_e(f.value,{format:_.value.format,targetFormat:_.value.format})}function O(t){var n;d.value=!1,"date"===e.mode&&(v.value=t.getFullYear(),h.value=t.getMonth()),e.enableTimePicker?f.value=_e(t,{format:_.value.format,targetFormat:_.value.format}):(null===y||void 0===y||y(_e(t,{format:_.value.format,targetFormat:_.value.valueType}),{dayjsValue:(0,o.d)(t),trigger:"pick"}),u.value=!1),null===(n=e.onPick)||void 0===n||n.call(e,t)}function k(t){var n=t.trigger,r={date:1,week:1,month:12,quarter:12,year:120},i=r[e.mode]||0,o=new Date(v.value,h.value),a=null;"prev"===n?a=ae(o,i):"current"===n?a=new Date:"next"===n&&(a=le(o,i));var l=a.getFullYear(),u=a.getMonth();v.value=l,h.value=u}function C(t){var n;m.value=t;var i=ve(t),a=i.hours,l=i.minutes,u=i.seconds,c=i.milliseconds,s=i.meridiem,d=a;/am/i.test(s)&&12===d&&(d-=12),/pm/i.test(s)&&d<12&&(d+=12);var f=(0,o.d)(r.value,_.value.format).isValid()?(0,o.d)(r.value,_.value.format):(0,o.d)(),p=f.hour(d).minute(l).second(u).millisecond(c).toDate();r.value=_e(p,{format:_.value.format,targetFormat:_.value.format}),null===(n=e.onPick)||void 0===n||n.call(e,p)}function x(){var e=_e(r.value,{format:_.value.format,targetFormat:_.value.format});e?null===y||void 0===y||y(_e(r.value,{format:_.value.format,targetFormat:_.value.valueType}),{dayjsValue:(0,o.d)(r.value),trigger:"confirm"}):r.value=_e(p.value,{format:_.value.format,targetFormat:_.value.format}),u.value=!1}function P(e){var t="function"===typeof e?e():e;null===y||void 0===y||y(_e(t,{format:_.value.format,targetFormat:_.value.valueType}),{dayjsValue:(0,o.d)(t),trigger:"preset"}),u.value=!1}function E(e){v.value=e}function T(e){h.value=e}(0,i.YP)(u,(function(e){e&&(v.value=Se(p.value||new Date,_.value.format).year(),h.value=Se(p.value||new Date,_.value.format).month(),m.value=we(p.value||new Date,_.value.timeFormat),p.value&&(f.value=_e(p.value,{format:_.value.format,targetFormat:_.value.format})))}));var I=(0,i.Fl)((function(){return{value:f.value,year:v.value,month:h.value,format:_.value.format,mode:e.mode,presets:e.presets,time:m.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:u.value,onCellClick:O,onCellMouseEnter:w,onCellMouseLeave:S,onJumperClick:k,onConfirmClick:x,onPresetClick:P,onYearChange:E,onMonthChange:T,onTimePickerChange:C,onPanelClick:function(){var e,t;return null===(e=g.value)||void 0===e||null===(t=e.focus)||void 0===t?void 0:t.call(e)}}}));return function(){return(0,i.Wm)("div",{class:t.value},[(0,i.Wm)(De.l,{disabled:b.value,value:r.value,status:e.status,tips:e.tips,clearable:e.clearable,popupProps:s.value,inputProps:c.value,popupVisible:u.value,panel:function(){return(0,i.Wm)(et,I.value,null)}},null)])}}}),it={onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=(0,i.aZ)({name:"TDatePickerPanel",props:at({value:Ie.value,defaultValue:Ie.defaultValue,modelValue:Ie.modelValue,valueType:Ie.valueType,disabled:Ie.disabled,disableDate:Ie.disableDate,enableTimePicker:Ie.enableTimePicker,firstDayOfWeek:Ie.firstDayOfWeek,format:Ie.format,mode:Ie.mode,presets:Ie.presets,presetsPlacement:Ie.presetsPlacement,timePickerProps:Ie.timePickerProps},it),setup:function(e){var t=Ce(e),n=t.cacheValue,r=t.value,a=t.year,l=t.month,u=t.time,c=t.onChange,s=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})}));function d(t,r){var i,u=r.e;null===(i=e.onCellClick)||void 0===i||i.call(e,{date:t,e:u}),"date"===e.mode&&(a.value=t.getFullYear(),l.value=t.getMonth()),e.enableTimePicker?n.value=_e(t,{format:s.value.format,targetFormat:s.value.format}):null===c||void 0===c||c(_e(t,{format:s.value.format,targetFormat:s.value.valueType}),{dayjsValue:(0,o.d)(t),trigger:"pick"})}function f(t){var n=t.trigger,i={prev:"arrow-previous",next:"arrow-next"},u={date:1,week:1,month:12,quarter:12,year:120},c=u[e.mode]||0,s=new Date(a.value,l.value),d=null;"prev"===n?d=ae(s,c):"current"===n?d=new Date:"next"===n&&(d=le(s,c));var f,p,v=d.getFullYear(),h=d.getMonth();a.value!==v&&(null===(f=e.onYearChange)||void 0===f||f.call(e,{year:v,date:(0,o.d)(r.value).toDate(),trigger:"current"===n?"today":"year-".concat(i[n])}));l.value!==h&&(null===(p=e.onMonthChange)||void 0===p||p.call(e,{month:h,date:(0,o.d)(r.value).toDate(),trigger:"current"===n?"today":"month-".concat(i[n])}));a.value=v,l.value=h}function p(t){var i;u.value=t;var a=ve(t),l=a.hours,c=a.minutes,d=a.seconds,f=a.milliseconds,p=a.meridiem,v=l;/am/i.test(p)&&12===v&&(v-=12),/pm/i.test(p)&&v<12&&(v+=12);var h=(0,o.d)(n.value,s.value.format).isValid()?(0,o.d)(n.value,s.value.format):(0,o.d)(),m=h.hour(v).minute(c).second(d).millisecond(f).toDate();n.value=_e(m,{format:s.value.format,targetFormat:s.value.format}),null===(i=e.onTimeChange)||void 0===i||i.call(e,{time:t,date:(0,o.d)(r.value).toDate(),trigger:"time-hour"})}function v(t){var r,i=t.e;null===c||void 0===c||c(_e(n.value,{format:s.value.format,targetFormat:s.value.valueType}),{dayjsValue:(0,o.d)(n.value),trigger:"confirm"}),null===(r=e.onConfirm)||void 0===r||r.call(e,{date:(0,o.d)(n.value).toDate(),e:i})}function h(t,n){var r,i=n.e,a=n.preset,l="function"===typeof t?t():t;null===c||void 0===c||c(_e(l,{format:s.value.format,targetFormat:s.value.valueType}),{dayjsValue:(0,o.d)(l),trigger:"preset"}),null===(r=e.onPresetClick)||void 0===r||r.call(e,{e:i,preset:a})}function m(t){var n;a.value=t,null===(n=e.onYearChange)||void 0===n||n.call(e,{year:a.value,date:(0,o.d)(r.value).toDate(),trigger:"year-select"})}function g(t){var n;l.value=t,null===(n=e.onMonthChange)||void 0===n||n.call(e,{month:l.value,date:(0,o.d)(r.value).toDate(),trigger:"month-select"})}var y=(0,i.Fl)((function(){return{value:n.value,year:a.value,month:l.value,mode:e.mode,format:s.value.format,presets:e.presets,time:u.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,onCellClick:d,onJumperClick:f,onConfirmClick:v,onPresetClick:h,onYearChange:m,onMonthChange:g,onTimePickerChange:p}}));return function(){return(0,i.Wm)(et,y.value,null)}}}),ut={allowInput:Boolean,clearable:Boolean,disableDate:{type:[Object,Array,Function]},disabled:Boolean,enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:""},mode:{type:String,default:"date",validator:function(e){return!e||["year","quarter","month","week","date"].includes(e)}},panelPreselection:{type:Boolean,default:!0},placeholder:{type:[String,Array]},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return!e||["left","top","right","bottom"].includes(e)}},rangeInputProps:{type:Object},separator:{type:String,default:"-"},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueType:{type:String,default:""},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function,onPick:Function},ct=n(5152);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft=(0,i.aZ)({name:"TRangePanel",props:{hoverValue:Array,activeIndex:Number,isFirstValueSelected:Boolean,disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:Array,timePickerProps:Object,presets:Object,popupVisible:Boolean,enableTimePicker:Boolean,panelPreselection:Boolean,firstDayOfWeek:Number,year:Array,month:Array,time:Array,onClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=(0,a.ws)("date-range-picker__panel"),n=(0,xe.Z)("datePicker"),o=n.globalConfig,l=Oe({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),u=l.format,c=!e.panelPreselection&&2===e.value.length,s=(0,i.Fl)((function(){return Je({format:u,mode:e.mode,disableDate:e.disableDate,start:e.isFirstValueSelected&&1===e.activeIndex?new Date(Se(e.value[0],u,"start").toDate().setHours(0,0,0)):void 0,end:e.isFirstValueSelected&&0===e.activeIndex?new Date(Se(e.value[1],u).toDate().setHours(23,59,59)):void 0})})),d=(0,i.Fl)((function(){return Ge(dt({isRange:!0,start:e.value[0]?Se(e.value[0],u).toDate():void 0,end:e.value[1]?Se(e.value[1],u).toDate():void 0,hoverStart:!c&&e.hoverValue[0]?Se(e.hoverValue[0],u).toDate():void 0,hoverEnd:!c&&e.hoverValue[1]?Se(e.hoverValue[1],u).toDate():void 0,year:e.year[0],month:e.month[0],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||o.value.firstDayOfWeek},s.value))})),f=(0,i.Fl)((function(){return Ge(dt({isRange:!0,start:e.value[0]?Se(e.value[0],u).toDate():void 0,end:e.value[1]?Se(e.value[1],u).toDate():void 0,hoverStart:!c&&e.hoverValue[0]?Se(e.hoverValue[0],u).toDate():void 0,hoverEnd:!c&&e.hoverValue[1]?Se(e.hoverValue[1],u).toDate():void 0,year:e.year[1],month:e.month[1],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||o.value.firstDayOfWeek},s.value))})),p=(0,i.Fl)((function(){return{format:u,mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||o.value.firstDayOfWeek,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}}));return function(){return(0,i.Wm)("div",{class:[t.value,(0,r._)({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}},[["top","left"].includes(e.presetsPlacement)?(0,i.Wm)(Ye,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null,(0,i.Wm)("div",{class:"".concat(t.value,"-content-wrapper")},[e.enableTimePicker?(0,i.Wm)(He,(0,i.dG)({key:"start",partial:e.activeIndex?"end":"start",year:e.activeIndex?e.year[1]:e.year[0],month:e.activeIndex?e.month[1]:e.month[0],time:e.activeIndex?e.time[1]:e.time[0],value:e.value,tableData:e.activeIndex?f.value:d.value},p.value),null):[(0,i.Wm)(He,(0,i.dG)({key:"startPanel",partial:"start",year:e.year[0],month:e.month[0],time:e.time[0],value:e.value,tableData:d.value},p.value),null),(0,i.Wm)(He,(0,i.dG)({key:"endPanel",partial:"end",year:e.year[1],month:e.month[1],time:e.time[1],value:e.value,tableData:f.value},p.value),null)]]),["bottom","right"].includes(e.presetsPlacement)?(0,i.Wm)(Ye,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null])}}});function pt(e){var t=e.value,n=e.mode,r=void 0===n?"date":n,i=e.format,a=e.timeFormat,l=void 0===a?"HH:mm:ss":a,u=e.enableTimePicker,c={year:[(0,o.d)().year(),(0,o.d)().year()],month:[(0,o.d)().month(),(0,o.d)().month()],time:[(0,o.d)().format(l),(0,o.d)().format(l)]};return"year"===r?c.year[1]+=10:"month"===r||"quarter"===r?c.year[1]+=1:"date"!==r&&"week"!==r||u||(c.month[1]+=1),t&&Array.isArray(t)&&t.length?{year:t.map((function(e){return Se(e,i).year()})),month:t.map((function(e){return Se(e,i).month()})),time:t.map((function(e){return Se(e,i).format(l)}))}:c}function vt(e){var t=(0,u.BK)(e),n=t.value,r=t.modelValue,o=(0,ke.Z)(n,r,e.defaultValue,e.onChange),a=(0,g._)(o,2),l=a[0],c=a[1],s=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})}));e.enableTimePicker&&(pe(s.value.format)||console.error("format: ".concat(s.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")),pe(s.value.valueType)||"time-stamp"===s.value.valueType||console.error("valueType: ".concat(s.value.valueType," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss"))),Array.isArray(l.value)?be(l.value,s.value.valueType)||console.error("value: ".concat(l.value," is invalid dateTime! Check whether the value is consistent with format: ").concat(s.value.format)):console.error("typeof value: ".concat(l.value," must be Array!"));var d=(0,u.iH)(!1),f=(0,u.iH)(pt({value:l.value,mode:e.mode,format:s.value.format,timeFormat:s.value.timeFormat}).time),p=(0,u.iH)(pt({value:l.value,mode:e.mode,format:s.value.format,enableTimePicker:e.enableTimePicker}).month),v=(0,u.iH)(pt({value:l.value,mode:e.mode,format:s.value.format}).year),h=(0,u.iH)(_e(l.value,{format:s.value.format,targetFormat:s.value.format}));return(0,i.m0)((function(){l.value?be(l.value,s.value.valueType)&&(h.value=_e(l.value,{format:s.value.format,targetFormat:s.value.format}),f.value=we(l.value,s.value.timeFormat)):h.value=[]})),{year:v,month:p,value:l,time:f,isFirstValueSelected:d,cacheValue:h,onChange:c}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt={first:"start",second:"end"};function yt(e){var t=(0,a.ws)("date-range-picker"),n=(0,xe.Z)("datePicker"),l=n.globalConfig,c=(0,m.J)({CalendarIcon:h}),s=c.CalendarIcon,d=(0,u.iH)(!1),f=(0,u.iH)(),p=vt(e),v=p.value,g=p.onChange,y=p.time,b=p.month,_=p.year,w=p.cacheValue,S=p.isFirstValueSelected,O=(0,i.Fl)((function(){return Oe({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.enableTimePicker})})),k=(0,u.iH)(!1),C=(0,u.iH)(!1),x=(0,u.iH)(0),P=(0,u.iH)(_e(e.value,{format:O.value.format,targetFormat:O.value.format})),E=(0,i.Fl)((function(){return mt(mt({},e.rangeInputProps),{},{ref:f,clearable:e.clearable,prefixIcon:e.prefixIcon,readonly:!e.allowInput,separator:e.separator,placeholder:e.placeholder||l.value.placeholder[e.mode],activeIndex:k.value?x.value:void 0,suffixIcon:e.suffixIcon||function(){return(0,i.Wm)(s,null,null)},class:(0,r._)({},"".concat(t.value,"__input--placeholder"),C.value),onClick:function(e){var t=e.position;x.value="first"===t?0:1},onClear:function(e){var t=e.e;t.stopPropagation(),k.value=!1,null===g||void 0===g||g([],{dayjsValue:[],trigger:"clear"})},onBlur:function(t,n){var r,i=n.e,o=n.position;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,partial:gt[o],e:i})},onFocus:function(t,n){var r,i=n.e,o=n.position;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,partial:gt[o],e:i}),x.value="first"===o?0:1},onChange:function(e,t){t.e,t.position;if(P.value=e,be(e,O.value.format)){var n=[],r=[],i=[];e.forEach((function(e,t){n.push((0,o.d)(e).year()||_.value[t]),r.push((0,o.d)(e).month()||b.value[t]),i.push((0,o.d)(e).format(O.value.timeFormat)||y.value[t])})),_.value=n,b.value=r,y.value=i}},onEnter:function(e){(be(e,O.value.format)||be(v.value,O.value.format))&&(k.value=!1,be(e,O.value.format)?null===g||void 0===g||g(_e(e,{format:O.value.format,targetFormat:O.value.valueType}),{dayjsValue:e.map((function(e){return(0,o.d)(e)})),trigger:"enter"}):be(v.value,O.value.format)?P.value=_e(v.value,{format:O.value.format,targetFormat:O.value.format}):P.value=[])}})})),T=(0,i.Fl)((function(){var n,r,i;return mt(mt({expandAnimation:!0},e.popupProps),{},{overlayInnerStyle:null!==(n=null===(r=e.popupProps)||void 0===r?void 0:r.overlayInnerStyle)&&void 0!==n?n:{width:"auto"},overlayClassName:[null===(i=e.popupProps)||void 0===i?void 0:i.overlayClassName,"".concat(t.value,"__panel-container")],onVisibleChange:function(e,t){if("trigger-element-click"===t.trigger){var n={0:"first",1:"second"};return f.value.focus({position:n[x.value]}),void(k.value=!0)}e||(C.value=!1,P.value=_e(v.value,{format:O.value.format,targetFormat:O.value.format})),k.value=e}})}));return(0,i.m0)((function(){v.value?be(v.value,"valueType")&&(P.value=_e(v.value,{format:O.value.format,targetFormat:O.value.format})):P.value=[]})),(0,i.m0)((function(){if(d.value){var e={0:"first",1:"second"};f.value.focus({position:e[x.value]})}else d.value=!0})),{year:_,month:b,value:v,time:y,inputValue:P,popupVisible:k,rangeInputProps:E,popupProps:T,isHoverCell:C,activeIndex:x,isFirstValueSelected:S,cacheValue:w,onChange:g}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=(0,i.aZ)({name:"TDateRangePicker",props:_t({},ut),setup:function(e){var t=(0,a.ws)("date-range-picker"),n=yt(e),r=n.inputValue,c=n.popupVisible,s=n.rangeInputProps,d=n.popupProps,f=n.value,p=n.year,v=n.month,h=n.time,m=n.cacheValue,g=n.activeIndex,y=n.isHoverCell,b=n.isFirstValueSelected,_=n.onChange,w=(0,l.D)(),S=(0,i.Fl)((function(){return Oe({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format,valueType:e.valueType})})),O=(0,u.iH)(!1);function k(e){y.value=!0;var t=(0,je._)(r.value);t[g.value]=_e(e,{format:S.value.format,targetFormat:S.value.format}),r.value=t}function C(){y.value=!1,r.value=m.value}function x(t,n){var i,a=n.e,l=n.partial;null===(i=e.onPick)||void 0===i||i.call(e,t,{e:a,partial:g.value?"end":"start"}),y.value=!1,O.value=!0;var u=(0,je._)(r.value);if(u[g.value]=_e(t,{format:S.value.format,targetFormat:S.value.format}),m.value=u,r.value=u,"date"===e.mode){var s="start"===l?0:1,d=(0,o.d)(t).month()!==v.value[s];d&&(0===g.value&&(v.value=[(0,o.d)(t).month(),Math.min((0,o.d)(t).month()+1,11)]),1===g.value&&(v.value=[Math.max((0,o.d)(t).month()-1,0),(0,o.d)(t).month()]))}if(!e.enableTimePicker){var f=u.findIndex((function(e){return!e||!be(e,S.value.format)}));-1===f&&2===u.length&&!e.enableTimePicker&&b.value?(null===_||void 0===_||_(_e(u,{format:S.value.format,targetFormat:S.value.valueType}),{dayjsValue:u.map((function(e){return(0,o.d)(e)})),trigger:"pick"}),b.value=!1,c.value=!1):-1!==f?(g.value=f,b.value=!0):(g.value=g.value?0:1,b.value=!0)}}function P(t){var n=t.trigger,r=t.partial,i="start"===r?0:1,o={date:1,week:1,month:12,quarter:12,year:120},a=o[e.mode]||0,l=new Date(p.value[i],v.value[i]),u=null;"prev"===n?u=ae(l,a):"current"===n?u=new Date:"next"===n&&(u=le(l,a));var c=(0,je._)(p.value);c[i]=u.getFullYear();var s=(0,je._)(v.value);s[i]=u.getMonth(),0===i&&(c[1]=Math.max(c[0],c[1]),c[0]===c[1]&&(s[1]=Math.max(s[0],s[1]))),1===i&&(c[0]=Math.min(c[0],c[1]),c[0]===c[1]&&(s[0]=Math.min(s[0],s[1]))),p.value=c,v.value=s}function E(e){var t=ve(e),n=t.hours,i=t.minutes,a=t.seconds,l=t.milliseconds,u=t.meridiem,c=(0,je._)(r.value),s=r.value[g.value],d=(0,o.d)(s,S.value.format).isValid()?(0,o.d)(s,S.value.format):(0,o.d)().year(p.value[g.value]).month(v.value[g.value]),f=n;/am/i.test(u)&&12===f&&(f-=12),/pm/i.test(u)&&f<12&&(f+=12);var y=d.hour(f).minute(i).second(a).millisecond(l).toDate();c[g.value]=y;var b=(0,je._)(h.value);b[g.value]=e,h.value=b,O.value=!0,r.value=_e(c,{format:S.value.format,targetFormat:S.value.format}),m.value=_e(c,{format:S.value.format,targetFormat:S.value.format})}function T(){var e=(0,je._)(r.value),t=e.findIndex((function(e){return!e||!be(e,S.value.format)}));-1===t&&2===e.length&&b.value?(null===_||void 0===_||_(_e(e,{format:S.value.format,targetFormat:S.value.valueType}),{dayjsValue:e.map((function(e){return(0,o.d)(e)})),trigger:"confirm"}),p.value=e.map((function(e){return(0,o.d)(e,S.value.format).year()})),v.value=e.map((function(e){return(0,o.d)(e,S.value.format).month()})),c.value=!1,b.value=!1):-1!==t?(g.value=t,b.value=!0):(g.value=g.value?0:1,b.value=!0)}function I(e){var t=e;"function"===typeof e&&(t=e()),Array.isArray(t)?(null===_||void 0===_||_(_e(t,{format:S.value.format,targetFormat:S.value.valueType}),{dayjsValue:t.map((function(e){return(0,o.d)(e)})),trigger:"preset"}),c.value=!1):console.error("preset: ".concat(e," 预设值必须是数组!"))}function D(t,n){var r=n.partial,i="start"===r?0:1;e.enableTimePicker&&(i=g.value);var o=(0,je._)(p.value);o[i]=t,0===i&&(o[1]=Math.max(o[0],o[1])),1===i&&(o[0]=Math.min(o[0],o[1])),p.value=o}function j(t,n){var r=n.partial,i="start"===r?0:1;e.enableTimePicker&&(i=g.value);var o=(0,je._)(v.value);o[i]=t,p[0]===p[1]&&(0===i&&(o[1]=Math.max(o[0],o[1])),1===i&&(o[0]=Math.min(o[0],o[1]))),v.value=o}(0,i.YP)(c,(function(t){if(t)if(O.value=!1,b.value=!1,m.value=_e(f.value||[],{format:S.value.format,targetFormat:S.value.format}),h.value=we(f.value||[(0,o.d)().format(S.value.timeFormat),(0,o.d)().format(S.value.timeFormat)],S.value.timeFormat),f.value.length)if(2!==f.value.length||e.enableTimePicker)p.value=f.value.map((function(e){return Se(e||new Date,S.value.format).year()})),v.value=f.value.map((function(e){return Se(e||new Date,S.value.format).month()}));else{var n=f.value.map((function(e){return Se(e||new Date,S.value.format).month()}));p.value[0]===p.value[1]&&n[0]===n[1]&&(11===n[0]?n[0]-=1:n[1]+=1),v.value=n}else p.value=pt({value:f.value,mode:e.mode,format:S.value.format}).year,v.value=pt({value:f.value,mode:e.mode,format:S.value.format,enableTimePicker:e.enableTimePicker}).month}));var R=(0,i.Fl)((function(){return{hoverValue:y.value?r.value:[],value:O.value?m.value:f.value,isFirstValueSelected:b.value,activeIndex:g.value,year:p.value,month:v.value,format:S.value.format,mode:e.mode,presets:e.presets,time:h.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:c.value,panelPreselection:e.panelPreselection,onCellClick:x,onCellMouseEnter:k,onCellMouseLeave:C,onJumperClick:P,onConfirmClick:T,onPresetClick:I,onYearChange:D,onMonthChange:j,onTimePickerChange:E}}));return function(){return(0,i.Wm)("div",{class:t.value},[(0,i.Wm)(ct.Wp,{disabled:w.value,status:e.status,tips:e.tips,inputValue:r.value,popupProps:d.value,rangeInputProps:s.value,popupVisible:c.value,panel:function(){return(0,i.Wm)(ft,R.value,null)}},null)])}}}),St={onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=(0,i.aZ)({name:"TDateRangePickerPanel",props:kt({value:ut.value,defaultValue:ut.defaultValue,modelValue:ut.modelValue,valueType:ut.valueType,disabled:ut.disabled,disableDate:ut.disableDate,enableTimePicker:ut.enableTimePicker,firstDayOfWeek:ut.firstDayOfWeek,format:ut.format,mode:ut.mode,presets:ut.presets,presetsPlacement:ut.presetsPlacement,timePickerProps:ut.timePickerProps,panelPreselection:ut.panelPreselection},St),setup:function(e){var t=vt(e),n=t.value,r=t.year,a=t.month,l=t.time,c=t.cacheValue,s=t.isFirstValueSelected,d=t.onChange,f=(0,i.Fl)((function(){return Oe({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format,valueType:e.valueType})})),p=(0,u.iH)(!1),v=(0,u.iH)(!1),h=(0,u.iH)([]),m=(0,i.Fl)((function(){return s.value?1:0}));function g(e){v.value=!0;var t=(0,je._)(h.value);t[m.value]=_e(e,{format:f.value.format,targetFormat:f.value.format}),h.value=t}function y(){v.value=!1,h.value=c.value}function b(t,r){var i,a=r.e,l=r.partial;v.value=!1,p.value=!0;var u=(0,je._)(c.value);u[m.value]=_e(t,{format:f.value.format,targetFormat:f.value.format}),c.value=u,e.enableTimePicker||(2===u.length&&!e.enableTimePicker&&s.value?(null===d||void 0===d||d(_e(u,{format:f.value.format,targetFormat:f.value.valueType}),{dayjsValue:u.map((function(e){return(0,o.d)(e)})),trigger:"pick"}),s.value=!1):s.value=!0,null===(i=e.onCellClick)||void 0===i||i.call(e,{date:n.value.map((function(e){return(0,o.d)(e).toDate()})),e:a,partial:l}))}function _(t){var i=t.trigger,l=t.partial,u="start"===l?0:1,c={prev:"arrow-previous",next:"arrow-next"},s={date:1,month:12,year:120},d=s[e.mode]||0,f=new Date(r.value[u],a.value[u]),p=null;"prev"===i?p=ae(f,d):"current"===i?p=new Date:"next"===i&&(p=le(f,d));var v=(0,je._)(r.value);v[u]=p.getFullYear();var h,m,g=(0,je._)(a.value);(g[u]=p.getMonth(),0===u&&(v[1]=Math.max(v[0],v[1]),v[0]===v[1]&&(g[1]=Math.max(g[0],g[1]))),1===u&&(v[0]=Math.min(v[0],v[1]),v[0]===v[1]&&(g[0]=Math.min(g[0],g[1]))),r.value.some((function(e){return!v.includes(e)})))&&(null===(h=e.onYearChange)||void 0===h||h.call(e,{partial:l,year:v[u],date:n.value.map((function(e){return(0,o.d)(e).toDate()})),trigger:"current"===i?"today":"year-".concat(c[i])}));a.value.some((function(e){return!g.includes(e)}))&&(null===(m=e.onMonthChange)||void 0===m||m.call(e,{partial:l,month:g[u],date:n.value.map((function(e){return(0,o.d)(e).toDate()})),trigger:"current"===i?"today":"month-".concat(c[i])}));r.value=v,a.value=g}function w(t){var i,u=ve(t),s=u.hours,d=u.minutes,v=u.seconds,h=u.milliseconds,g=u.meridiem,y=(0,je._)(c.value),b=c.value[m.value],_=(0,o.d)(b,f.value.format).isValid()?(0,o.d)(b,f.value.format):(0,o.d)().year(r.value[m.value]).month(a.value[m.value]),w=s;/am/i.test(g)&&12===w&&(w-=12),/pm/i.test(g)&&w<12&&(w+=12);var S=_.hour(w).minute(d).second(v).millisecond(h).toDate();y[m.value]=S;var O=(0,je._)(l.value);O[m.value]=t,l.value=O,p.value=!0,c.value=_e(y,{format:f.value.format,targetFormat:f.value.format}),null===(i=e.onTimeChange)||void 0===i||i.call(e,{time:t,date:n.value.map((function(e){return(0,o.d)(e).toDate()})),partial:m.value?"end":"start",trigger:"time-hour"})}function S(t){var i,l=t.e,u=(0,je._)(c.value);2===u.length&&s.value?(null===d||void 0===d||d(_e(u,{format:f.value.format,targetFormat:f.value.valueType}),{dayjsValue:u.map((function(e){return(0,o.d)(e)})),trigger:"confirm"}),r.value=u.map((function(e){return(0,o.d)(e,f.value.format).year()})),a.value=u.map((function(e){return(0,o.d)(e,f.value.format).month()})),s.value=!1):s.value=!0,null===(i=e.onConfirm)||void 0===i||i.call(e,{date:n.value.map((function(e){return(0,o.d)(e).toDate()})),e:l})}function O(e){var t=e;"function"===typeof e&&(t=e()),Array.isArray(t)?null===d||void 0===d||d(_e(t,{format:f.value.format,targetFormat:f.value.valueType}),{dayjsValue:t.map((function(e){return(0,o.d)(e)})),trigger:"preset"}):console.error("preset: ".concat(e," 预设值必须是数组!"))}function k(t,i){var a,l=i.partial,u="start"===l?0:1;e.enableTimePicker&&(u=m.value);var c=(0,je._)(r.value);c[u]=t,0===u&&(c[1]=Math.max(c[0],c[1])),1===u&&(c[0]=Math.min(c[0],c[1])),r.value=c,null===(a=e.onYearChange)||void 0===a||a.call(e,{partial:l,year:c[u],date:n.value.map((function(e){return(0,o.d)(e).toDate()})),trigger:"year-select"})}function C(t,i){var l,u=i.partial,c="start"===u?0:1;e.enableTimePicker&&(c=m.value);var s=(0,je._)(a.value);s[c]=t,r[0]===r[1]&&(0===c&&(s[1]=Math.max(s[0],s[1])),1===c&&(s[0]=Math.min(s[0],s[1]))),a.value=s,null===(l=e.onMonthChange)||void 0===l||l.call(e,{partial:u,month:s[c],date:n.value.map((function(e){return(0,o.d)(e).toDate()})),trigger:"month-select"})}var x=(0,i.Fl)((function(){return{hoverValue:v.value?h.value:[],value:p.value?c.value:n.value,activeIndex:m.value,year:r.value,month:a.value,mode:e.mode,format:f.value.format,presets:e.presets,time:l.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,panelPreselection:e.panelPreselection,onCellClick:b,onCellMouseEnter:g,onCellMouseLeave:y,onJumperClick:_,onConfirmClick:S,onPresetClick:O,onYearChange:k,onMonthChange:C,onTimePickerChange:w}}));return function(){return(0,i.Wm)(ft,x.value,null)}}}),xt=n(5306),Pt=(0,xt.Z)(rt),Et=(0,xt.Z)(lt),Tt=(0,xt.Z)(wt),It=(0,xt.Z)(Ct)},2965:function(e,t,n){"use strict";n.d(t,{Lz:function(){return u},RS:function(){return o},jS:function(){return l},rv:function(){return a}});var r=n(3396),i=n(7079),o=function(){var e=(0,i.ws)();return(0,r.Fl)((function(){var t="".concat(e.value,"-form"),n="".concat(e.value,"-input"),r="".concat(e.value,"-is");return{form:t,label:"".concat(t,"__label"),labelTop:"".concat(t,"__label--top"),inline:"".concat(t,"-inline"),formItem:"".concat(t,"__item"),formItemWithHelp:"".concat(t,"__item-with-help"),formItemWithExtra:"".concat(t,"__item-with-extra"),controls:"".concat(t,"__controls"),controlsContent:"".concat(t,"__controls-content"),status:"".concat(t,"__status"),extra:"".concat(n,"__extra"),help:"".concat(n,"__help"),success:"".concat(r,"-success"),successBorder:"".concat(t,"--success-border"),error:"".concat(r,"-error"),warning:"".concat(r,"-warning")}}))},a=function(e){return e["TO_BE_VALIDATED"]="not",e["SUCCESS"]="success",e["FAIL"]="fail",e}(a||{}),l=Symbol("FormProvide"),u=Symbol("FormItemProvide")},9044:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(3396);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e){var t=(0,r.FN)(),n=(0,r.Fl)((function(){return t.props.disabled})),i=(0,r.f3)("formDisabled",Object.create(null)),o=i.disabled;return(0,r.Fl)((function(){return n.value||(null===o||void 0===o?void 0:o.value)||(null===e||void 0===e?void 0:e.value)||!1}))}},7817:function(e,t,n){"use strict";n.d(t,{N:function(){return i},Q:function(){return o}});var r=n(3396);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(){var e=(0,r.FN)();return function(t,n){var i,o;n||(n=e.slots);var a=(null===(i=n)||void 0===i||null===(o=i["default"])||void 0===o?void 0:o.call(i))||[],l=[],u=function e(t){if(Array.isArray(t))return t.forEach((function(t){if(t.children&&Array.isArray(t.children)){if(t.type!==r.HY)return;e(t.children)}else l.push(t)})),l};return u(a).filter((function(e){var n;return null===(n=e.type.name)||void 0===n?void 0:n.endsWith(t)}))}}function o(){var e=(0,r.FN)();return function(){var t,n=e.slots,i=(null===n||void 0===n||null===(t=n["default"])||void 0===t?void 0:t.call(n))||[];return i.filter((function(e){return e.type!==r.sv})).map((function(e){return e.children&&Array.isArray(e.children)&&e.type===r.HY?e.children:e})).flat()}}},8048:function(e,t,n){"use strict";n.d(t,{Mb:function(){return s},r0:function(){return d},sL:function(){return c}});var r=n(3396),i=n(7572),o=n(9211),a=n(6546),l=n(3916);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function u(e,t,n){var r,i,o,u,c=null===(r=(i=e.slots)[(0,a.c)(t)])||void 0===r?void 0:r.call(i,n);return c||(c=null===(o=(u=e.slots)[(0,l.k)(t)])||void 0===o?void 0:o.call(u,n),c||null)}var c=function(){var e=(0,r.FN)();return function(t,n){var i,c=(0,l.g)(n),s=(0,l.c)(n);if(Object.keys(e.props).includes(t)&&(i=e.props[t]),!1!==i){if(!0===i)return u(e,t,c)||s;if((0,o.i)(i))return i(r.h,c);var d=[void 0,c,""].includes(i);return d&&(e.slots[(0,a.c)(t)]||e.slots[(0,l.k)(t)])?u(e,t,c):i}}},s=function(){var e=c();return function(t,n){var r=(0,l.c)(n);return e(t,n)||r}},d=function(){var e=c();return function(t,n,r){var o=(0,l.g)(r),a=(0,l.c)(r),u=o?{params:o}:void 0,c=e(t,u),s=e(n,u),d=(0,i.i)(c)?s:c;return(0,i.i)(d)?a:d}}},7079:function(e,t,n){"use strict";n.d(t,{RH:function(){return a},ws:function(){return o}});var r=n(3396),i=n(3069);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function o(e){var t=(0,i.Z)("classPrefix"),n=t.classPrefix;return(0,r.Fl)((function(){return e?"".concat(n.value,"-").concat(e):n.value}))}function a(){var e=(0,i.Z)("classPrefix"),t=e.classPrefix;return{SIZE:(0,r.Fl)((function(){return{small:"".concat(t.value,"-size-s"),medium:"".concat(t.value,"-size-m"),large:"".concat(t.value,"-size-l"),default:"",xs:"".concat(t.value,"-size-xs"),xl:"".concat(t.value,"-size-xl"),block:"".concat(t.value,"-size-full-width")}})),STATUS:(0,r.Fl)((function(){return{loading:"".concat(t.value,"-is-loading"),loadMore:"".concat(t.value,"-is-load-more"),disabled:"".concat(t.value,"-is-disabled"),focused:"".concat(t.value,"-is-focused"),success:"".concat(t.value,"-is-success"),error:"".concat(t.value,"-is-error"),warning:"".concat(t.value,"-is-warning"),selected:"".concat(t.value,"-is-selected"),active:"".concat(t.value,"-is-active"),checked:"".concat(t.value,"-is-checked"),current:"".concat(t.value,"-is-current"),hidden:"".concat(t.value,"-is-hidden"),visible:"".concat(t.value,"-is-visible"),expanded:"".concat(t.value,"-is-expanded"),indeterminate:"".concat(t.value,"-is-indeterminate")}}))}}},1887:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3396),i=n(4870);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function o(e,t,n,o){var a=(0,r.FN)(),l=a.emit,u=a.attrs,c=(0,i.iH)();return c.value=t,"undefined"!==typeof e.value&&(c.value=e.value),(0,r.YP)(e,(function(e){c.value=e})),[c,function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];u["onUpdate:".concat(o)]&&(null===l||void 0===l||l.apply(void 0,["update:".concat(o),t].concat(i))),"undefined"===typeof e.value&&(c.value=t),null===n||void 0===n||n.apply(void 0,[t].concat(i))}]}},4925:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(3069);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */function i(e){var t=(0,r.Z)("icon"),n=t.globalConfig,i={};return Object.keys(e).forEach((function(t){var r;i[t]=(null===(r=n.value)||void 0===r?void 0:r[t])||e[t]})),i}},2725:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(4870),i=n(3396),o=n(9370),a=n(3069),l=o.E.expand,u=o.E.ripple,c=o.E.fade;function s(){var e=(0,a.Z)("animation"),t=e.globalConfig,n=function(e){var n,r,i=t.value;return i&&!(null!==(n=i.exclude)&&void 0!==n&&n.includes(e))&&(null===(r=i.include)||void 0===r?void 0:r.includes(e))};return{keepExpand:n(l),keepRipple:n(u),keepFade:n(c)}}var d=n(7079);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function f(e,t){var n=Object.keys(t);n.forEach((function(n){e.style[n]=t[n]}))}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var p=200,v="rgba(0, 0, 0, 0)",h="rgba(0, 0, 0, 0.35)",m=function(e,t){var n;if(t)return t;if(null!==e&&void 0!==e&&null!==(n=e.dataset)&&void 0!==n&&n.ripple){var r=e.dataset.ripple;return r}var i=getComputedStyle(e).getPropertyValue("--ripple-color");return i||h};function g(e,t){var n=(0,r.iH)(null),o=(0,d.ws)(),a=s(),l=a.keepRipple,u=function(r){var i=e.value,a=m(i,null===t||void 0===t?void 0:t.value);if(0===r.button&&e&&l&&!(i.classList.contains("".concat(o.value,"-is-active"))||i.classList.contains("".concat(o.value,"-is-disabled"))||i.classList.contains("".concat(o.value,"-is-checked")))){var u=getComputedStyle(i),c=parseInt(u.borderWidth,10),s=c>0?c:0,d=i.offsetWidth,h=i.offsetHeight;null===n.value.parentNode&&(f(n.value,{position:"absolute",left:"".concat(0-s,"px"),top:"".concat(0-s,"px"),width:"".concat(d,"px"),height:"".concat(h,"px"),borderRadius:u.borderRadius,pointerEvents:"none",overflow:"hidden"}),i.appendChild(n.value));var g=document.createElement("div");f(g,{marginTop:"0",marginLeft:"0",right:"".concat(d,"px"),width:"".concat(d+20,"px"),height:"100%",transition:"transform ".concat(p,"ms cubic-bezier(.38, 0, .24, 1), background ").concat(2*p,"ms linear"),transform:"skewX(-8deg)",pointerEvents:"none",position:"absolute",zIndex:0,backgroundColor:a,opacity:"0.9"});for(var y=new WeakMap,b=i.children.length,_=0;_<b;++_){var w=i.children[_];""===w.style.zIndex&&w!==n.value&&(w.style.zIndex="1",y.set(w,!0))}var S=i.style.position?i.style.position:getComputedStyle(i).position;""!==S&&"static"!==S||(i.style.position="relative"),n.value.insertBefore(g,n.value.firstChild),setTimeout((function(){g.style.transform="translateX(".concat(d,"px)")}),0);var O=function t(){g.style.backgroundColor=v,e.value&&(e.value.removeEventListener("pointerup",t,!1),e.value.removeEventListener("pointerleave",t,!1),setTimeout((function(){g.remove(),0===n.value.children.length&&n.value.remove()}),2*p+100))};e.value.addEventListener("pointerup",O,!1),e.value.addEventListener("pointerleave",O,!1)}};(0,i.bv)((function(){var t=e.value;t&&(n.value=document.createElement("div"),t.addEventListener("pointerdown",u,!1))})),(0,i.Ah)((function(){var t;null===(t=e.value)||void 0===t||t.removeEventListener("pointerdown",u,!1)}))}},5385:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3396),i=n(4870);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function o(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"value",l=(0,r.FN)(),u=l.emit,c=l.attrs,s=(0,i.iH)();return s.value=n,"undefined"!==typeof e.value?s.value=e.value:"undefined"!==typeof t.value&&(s.value=t.value),(0,r.YP)(e,(function(e){s.value=e})),(0,r.YP)(t,(function(e){s.value=e})),[s,function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];c["onUpdate:".concat(a)]?null===u||void 0===u||u.apply(void 0,["update:".concat(a),n].concat(i)):c["onUpdate:modelValue"]&&(null===u||void 0===u||u.apply(void 0,["update:modelValue",n].concat(i))),"undefined"===typeof e.value&&"undefined"===typeof t.value&&(s.value=n),null===o||void 0===o||o.apply(void 0,[n].concat(i))}]}},2087:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1633),i=n(4870),o=n(3396);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.data,n=e.container,r=e.fixedHeight,a=void 0!==r&&r,u=e.lineHeight,c=void 0===u?30:u,s=e.bufferSize,d=void 0===s?20:s,f=e.threshold,p=void 0===f?100:f,v=(0,i.qj)({visibleData:[],cachedHeight:[],cachedScrollY:[]}),h=(0,o.Fl)((function(){return t.value.length>p})),m=(0,i.iH)(0),g=new Map,y=0,b=0,_=0,w=0,S=0,O=0,k=function(){t.value.forEach((function(e,t){e.$index=t,a&&(v.cachedScrollY[t]=t*c)})),a||(v.cachedScrollY[t.value.length-1]=void 0)};k();var C=(0,o.Fl)((function(){var e=v.cachedHeight,n=e.length;if(n){var r=e.reduce((function(e,t){return e+t||c}),0);if(e.length===t.value.length)return r;var i=r/e.length;return r+(t.value.length-e.length)*i}return h.value?t.value.length*c:0})),x=(0,o.Fl)((function(){var e=v.visibleData,t=e[0];return t?1===e.length?0:v.cachedScrollY[t.$index]:0})),P=function(){O=Math.min(S+y+2*d,t.value.length),v.visibleData=t.value.slice(S,O)},E=function(){var e,r=g.get(_);if(r){var i=null===r||void 0===r||null===(e=r.getBoundingClientRect())||void 0===e?void 0:e.height;v.cachedScrollY[_]=n.value.scrollTop-w,v.cachedHeight[_]=i;for(var a=_+1;a<=v.visibleData[v.visibleData.length-1].$index;a++){var l=g.get(a),u=(null===l||void 0===l?void 0:l.getBoundingClientRect())||{},c=u.height;v.cachedHeight[a]=c;var s=v.cachedScrollY[a-1]+v.cachedHeight[a-1];v.cachedScrollY.splice(a,1,s)}for(var d=_-1;d>=v.visibleData[0].$index;d--){var f=g.get(d),p=(null===f||void 0===f?void 0:f.getBoundingClientRect())||{},h=p.height;v.cachedHeight[d]=h;var m=v.cachedScrollY[d+1]-v.cachedHeight[d];v.cachedScrollY.splice(d,1,m)}if(v.cachedScrollY[0]>0){for(var y=v.cachedScrollY[0],k=Math.min(O,t.value.length),C=0;C<k;C++)v.cachedScrollY.splice(C,1,v.cachedScrollY[C]-y);var x=v.cachedScrollY[_-1]?v.cachedScrollY[_-1]+w:w;n.value.scrollTop=x,b=x}if(v.cachedScrollY[S]<0){var P=v.cachedHeight.slice(0,Math.max(0,_)).reduce((function(e,t){return e+t}),0)+w;n.value.scrollTop=P,b=P,0===P&&(_=0,w=0)}(0,o.Y3)((function(){var e=n.value,t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;if(t+i===r)for(var o=O-1;o>=S;o--)o===O-1?v.cachedScrollY.splice(o,1,r.value-v.cachedHeight[o]):v.cachedScrollY.splice(o,1,v.cachedScrollY[o+1]-v.cachedHeight[o])}))}},T=function(){if(h.value){var e=n.value.scrollTop,r=e-b;b=e,r+=w;var i=_;if(r){if(r>=0){while(i<t.value.length&&r>(v.cachedHeight[i]||c))v.cachedHeight[i]||(v.cachedHeight[i]=c),r-=v.cachedHeight[i],i++;i>=t.value.length?(_=t.value.length-1,w=0):(_=i,w=r);var o=n.value,a=o.clientHeight,l=o.scrollHeight;e+a===l&&(_=t.value.length-y+1),S<=_-d&&(S=Math.min(t.value.length-y,_-d),S<0&&(S=0))}else{while(r<0)i--,v.cachedHeight[i]||(v.cachedHeight[i]=c),r+=v.cachedHeight[i];i<0?(_=0,w=0):(_=i,w=r),E(),S>_-d&&(S=Math.max(0,_-d))}P()}}};!a&&(0,o.YP)(m,E,{flush:"post"});var I=function(){h.value&&m.value++};(0,o.YP)(t,(function(){k(),v.visibleData=[],v.cachedScrollY=[],v.cachedHeight=[],b=0,_=0,w=0,S=0,g.clear(),t.value.length<=p?v.visibleData=t.value:P(),n.value&&(n.value.scrollTop=0)}));var D=!1,j=function(){D&&(y=Math.ceil(n.value.offsetHeight/c),P())};return(0,o.bv)((function(){if(window&&window.IntersectionObserver){var e=new window.IntersectionObserver((function(t){var r=t[0];(r.isIntersecting||r.intersectionRatio)&&(D=!0,h.value&&j(),e.unobserve(n.value))}));n.value&&e.observe(n.value)}})),l(l({trs:g,scrollHeight:C},(0,i.BK)(v)),{},{translateY:x,handleScroll:T,handleRowMounted:I,refreshContainer:j,fixedHeight:a,calculateScrollY:E})}},6310:function(e,t,n){"use strict";n.d(t,{ZP:function(){return KC}});var r=n(4993),i=n(6370),o=n(3396),a=n(7149),l=n(4344),u="undefined"===typeof window;function c(e,t){if(!u&&document&&e&&"string"===typeof e&&!(document.querySelectorAll(".".concat(t,'[src="').concat(e,'"]')).length>0)){var n=document.createElement("script");n.setAttribute("class",t),n.setAttribute("src",e),document.body.appendChild(n)}}var s={name:{type:String,default:""},size:{type:String,default:void 0},url:{type:[String,Array],default:void 0},loadDefaultIcons:{type:Boolean,default:!0},onClick:Function};n(3727);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var{classPrefix:p}=a.ZP,v="https://tdesign.gtimg.com/icon/0.1.2/fonts/index.js",h=(0,o.aZ)({name:"Icon",props:s,setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),i=(0,o.Fl)((()=>e.name||"")),{className:a,style:u}=(0,l.Z)(r),s=(0,o.Fl)((()=>{var t=[];return t=e.url instanceof Array?e.url.concat():[e.url],e.loadDefaultIcons&&t.push(v),t})),d=(0,o.Fl)((()=>["".concat(p,"-icon"),"".concat(p,"-icon-").concat(i.value),a.value])),h=(0,o.Fl)((()=>f(f({},u.value),n.style)));(0,o.bv)((()=>{Array.from(new Set(s.value)).forEach((e=>{c(e,"".concat(p,"-svg-js-stylesheet--unique-class"))}))}));var m=(0,o.Fl)((()=>({class:d.value,style:h.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,o.h)("svg",m.value,(0,o.h)("use",{href:e.url?"#".concat(i.value):"#t-icon-".concat(i.value)}))}}),m=h,g=n(5306),y=(0,g.Z)(m,"TIcon"),b=n(5796),_=n(1633),w=n(7079),S=n(8048),O={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,hover:{type:String,default:"underline",validator:function(e){return!e||["color","underline"].includes(e)}},href:{type:String,default:""},prefixIcon:{type:Function},size:{type:String,validator:function(e){return!e||["small","medium","large"].includes(e)}},suffixIcon:{type:Function},target:{type:String,default:""},theme:{type:String,default:"default",validator:function(e){return!e||["default","primary","danger","warning","success"].includes(e)}},underline:Boolean,onClick:Function},k=n(3069);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,o.aZ)({name:"TLink",props:x({},O),emits:["click"],setup:function(e,t){var n=t.emit,r=(0,S.r0)(),i=(0,S.sL)(),a=(0,w.ws)("link"),l=(0,w.RH)(),u=l.STATUS,c=l.SIZE,s=(0,k.Z)("classPrefix"),d=s.classPrefix,f=(0,o.Fl)((function(){var t;return["".concat(a.value),c.value[e.size],"".concat(a.value,"--theme-").concat(e.theme),(t={},(0,_._)(t,u.value.disabled,e.disabled),(0,_._)(t,"".concat(d.value,"-is-underline"),e.underline),(0,_._)(t,"".concat(a.value,"--hover-").concat(e.hover),!e.disabled),t)]})),p=function(t){e.disabled||n("click",t)};return function(){var t=r("default","content"),n=i("prefixIcon"),l=i("suffixIcon");return(0,o.Wm)("a",{class:(0,b._)(f.value),href:e.disabled||!e.href?void 0:e.href,target:e.target,onClick:p},[n?(0,o.Wm)("span",{class:"".concat(a.value,"__prefix-icon")},[n]):null,t,l?(0,o.Wm)("span",{class:"".concat(a.value,"__suffix-icon")},[l]):null])}}}),E=(0,g.Z)(P),T=n(4870),I={align:{type:String,default:"top",validator:function(e){return!e||["start","end","center","stretch","baseline","top","middle","bottom"].includes(e)}},gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start",validator:function(e){return!e||["start","end","center","space-around","space-between"].includes(e)}},tag:{type:String,default:"div"}},D=n(9),j=function(e){var t="xs";return t=e<768?"xs":e>=768&&e<992?"sm":e>=992&&e<1200?"md":e>=1200&&e<1400?"lg":e>=1400&&e<1880?"xl":"xxl",t};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function R(e,t){(0,o.bv)((function(){window.addEventListener(e,t)})),(0,o.Jd)((function(){window.removeEventListener(e,t)}))}function A(e,t){R("resize",e);var n=null;(0,o.bv)((function(){window.ResizeObserver&&t&&(n=new window.ResizeObserver(e),n.observe(t))})),(0,o.Jd)((function(){var e;null===(e=n)||void 0===e||e.disconnect()}))}var F=n(3509);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(){var e=(0,T.iH)(j(F.sk?0:window.innerWidth)),t=function(){e.value=j(F.sk?0:window.innerWidth)};return R("resize",t),e}function W(e,t){var n,r=t.justify,i=t.align;return[e,(n={},(0,_._)(n,"".concat(e,"--").concat(r),r),(0,_._)(n,"".concat(e,"--align-").concat(i),i),n)]}function V(e,t){var n={},r=function(e){return Object.assign(n,{marginLeft:"".concat(e/-2,"px"),marginRight:"".concat(e/-2,"px")})},i=function(e){return Object.assign(n,{rowGap:"".concat(e,"px")})},o={isNumber:function(e){"number"===typeof e&&r(e)},isArray:function(e){Array.isArray(e)&&e.length&&(o.isNumber(e[0]),"number"===typeof e[1]&&i(e[1]),(0,D.i)(e[0])&&void 0!==e[0][t]&&r(e[0][t]),(0,D.i)(e[1])&&void 0!==e[1][t]&&i(e[1][t]))},isObject:function(e){(0,D.i)(e)&&e[t]&&(Array.isArray(e)&&e.length?(r(e[t][0]),i(e[t][1])):r(e[t]))}};return Object.keys(o).forEach((function(t){o[t](e)})),n}function B(e){return"number"===typeof e?"".concat(e," ").concat(e," 0"):/^\d+(\.\d+)?(px|r?em|%)$/.test(e)?"0 0 ".concat(e):e}function U(e,t){var n={},r=function(e){return Object.assign(n,{paddingLeft:"".concat(e/2,"px"),paddingRight:"".concat(e/2,"px")})},i={isNumber:function(e){"number"===typeof e&&r(e)},isArray:function(e){Array.isArray(e)&&e.length&&("number"===typeof e[0]&&r(e[0]),(0,D.i)(e[0])&&e[0][t]&&r(e[0][t]))},isObject:function(e){(0,D.i)(e)&&e[t]&&r(e[t])}};return Object.keys(i).forEach((function(t){i[t](e)})),n}function H(e,t){var n,r=t.span,i=t.order,o=t.offset,a=t.push,l=t.pull,u=["xs","sm","md","lg","xl","xxl"],c=u.reduce((function(n,r){var i,o=t[r],a={};return"number"===typeof o?a.span=o:(0,D.i)(o)&&(a=o||{}),N(N({},n),{},(i={},(0,_._)(i,"".concat(e,"-").concat(r,"-").concat(a.span),void 0!==a.span),(0,_._)(i,"".concat(e,"-").concat(r,"-order-").concat(a.order),parseInt(a.order,10)>=0),(0,_._)(i,"".concat(e,"-").concat(r,"-offset-").concat(a.offset),parseInt(a.offset,10)>=0),(0,_._)(i,"".concat(e,"-").concat(r,"-push-").concat(a.push),parseInt(a.push,10)>=0),(0,_._)(i,"".concat(e,"-").concat(r,"-pull-").concat(a.pull),parseInt(a.pull,10)>=0),i))}),{});return N((n={},(0,_._)(n,"".concat(e),!0),(0,_._)(n,"".concat(e,"-").concat(r),void 0!==r),(0,_._)(n,"".concat(e,"-order-").concat(i),i),(0,_._)(n,"".concat(e,"-offset-").concat(o),o),(0,_._)(n,"".concat(e,"-push-").concat(a),a),(0,_._)(n,"".concat(e,"-pull-").concat(l),l),n),c)}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Y=(0,o.aZ)({name:"TRow",props:Z({},I),setup:function(e){var t=(0,T.BK)(e),n=t.gutter,r=(0,S.sL)();(0,o.JJ)("rowContext",(0,T.qj)({gutter:n}));var i=L(),a=(0,w.ws)("row"),l=(0,o.Fl)((function(){return W(a.value,e)})),u=(0,o.Fl)((function(){return V(e.gutter,i.value)}));return function(){var t,n=e.tag;return(0,o.Wm)(n,{class:l.value,style:u.value},K(t=r("default"))?t:{default:function(){return[t]}})}}}),G={flex:{type:[String,Number]},lg:{type:[Number,Object]},md:{type:[Number,Object]},offset:{type:Number,default:0},order:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},sm:{type:[Number,Object]},span:{type:Number,default:12},tag:{type:String,default:"div"},xl:{type:[Number,Object]},xs:{type:[Number,Object]},xxl:{type:[Number,Object]}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var X=(0,o.aZ)({name:"TCol",inject:["rowContext"],props:J({},G),setup:function(e){var t=(0,w.ws)("col"),n=(0,S.sL)(),r=(0,o.f3)("rowContext",Object.create(null)),i=L(),a=(0,o.Fl)((function(){return H(t.value,e)})),l=(0,o.Fl)((function(){var t={},n=e.flex;if(n&&(t.flex=B(n)),r){var o=r.gutter;Object.assign(t,U(o,i.value))}return t}));return function(){var t,r=e.tag;return(0,o.Wm)(r,{class:a.value,style:l.value},q(t=n("default"))?t:{default:function(){return[t]}})}}}),Q=(0,g.Z)(Y),ee=(0,g.Z)(X),te=(0,o.aZ)({name:"TLayout",setup:function(){var e=(0,T.iH)(!1),t=(0,S.sL)(),n=(0,w.ws)("layout"),r=(0,o.Fl)((function(){return[n.value,(0,_._)({},"".concat(n.value,"--with-sider"),e.value)]}));return(0,o.JJ)("layout",{hasSide:e}),function(){return(0,o.Wm)("section",{class:r.value},[t("default")])}}}),ne={height:{type:String,default:""}},re=(0,o.aZ)({name:"THeader",props:ne,setup:function(e){var t=(0,w.ws)("layout__header"),n=(0,S.sL)();return function(){return(0,o.Wm)("header",{class:t.value,style:e.height?{height:e.height}:{}},[n("default")])}}}),ie={height:{type:String,default:""}},oe=(0,o.aZ)({name:"TFooter",props:ie,setup:function(e){var t=(0,w.ws)("layout__footer"),n=(0,S.sL)();return function(){return(0,o.Wm)("footer",{class:t.value,style:e.height?{height:e.height}:{}},[n("default")])}}}),ae={width:{type:String,default:""}},le=(0,o.aZ)({name:"TAside",props:ae,setup:function(e){var t=(0,o.f3)("layout",Object.create(null)),n=t.hasSide,r=(0,w.ws)("layout__sider"),i=(0,S.sL)();if(n)return(0,o.bv)((function(){n.value=!0})),(0,o.Ah)((function(){n.value=!1})),function(){var t=e.width?{width:e.width}:{};return(0,o.Wm)("aside",{class:r.value,style:t},[i("default")])}}}),ue=(0,o.aZ)({name:"TContent",setup:function(){var e=(0,w.ws)("layout__content"),t=(0,S.sL)();return function(){return(0,o.Wm)("main",{class:e.value},[t("default")])}}}),ce=(0,g.Z)(le),se=(0,g.Z)(te),de=(0,g.Z)(re),fe=(0,g.Z)(oe),pe=(0,g.Z)(ue),ve={align:{type:String,default:"center",validator:function(e){return["left","right","center"].includes(e)}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return["horizontal","vertical"].includes(e)}}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=(0,o.aZ)({name:"TDivider",props:me({},ve),setup:function(e){var t=(0,w.ws)("divider"),n=(0,S.r0)();return function(){var r,i=e.layout,a=e.dashed,l=e.align,u=n("default","content"),c=["".concat(t.value),["".concat(t.value,"--").concat(i)],(r={},(0,_._)(r,"".concat(t.value,"--dashed"),!!a),(0,_._)(r,"".concat(t.value,"--with-text"),!!u),(0,_._)(r,"".concat(t.value,"--with-text-").concat(l),!!u),r)];return(0,o.Wm)("div",{class:c},[u&&(0,o.Wm)("span",{class:"".concat(t.value,"__inner-text")},[u])])}}}),ye=(0,g.Z)(ge),be={align:{type:String,validator:function(e){return!e||["start","end","center","baseline"].includes(e)}},breakLine:Boolean,direction:{type:String,default:"horizontal",validator:function(e){return!e||["vertical","horizontal"].includes(e)}},separator:{type:[String,Function]},size:{type:[String,Number],default:"medium"}},_e=n(7817);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=(0,o.aZ)({name:"TSpace",props:Se({},be),setup:function(e){var t=(0,w.ws)("space"),n=(0,S.sL)(),r=(0,_e.Q)(),i=(0,o.Fl)((function(){var t={small:"8px",medium:"16px",large:"24px"},n="";return Array.isArray(e.size)?n=e.size.map((function(e){return"number"===typeof e?"".concat(e,"px"):"string"===typeof e&&t[e]||e})).join(" "):"string"===typeof e.size?n=t[e.size]||e.size:"number"===typeof e.size&&(n="".concat(e.size,"px")),Se({gap:n},e.breakLine?{"flex-wrap":"wrap"}:{})}));function a(){var e=r(),i=n("separator");return e.map((function(n,r){var a=r+1!==e.length&&i;return(0,o.Wm)(o.HY,null,[(0,o.Wm)("div",{class:"".concat(t.value,"-item")},[n]),a&&(0,o.Wm)("div",{class:"".concat(t.value,"-item-separator")},[i])])}))}return function(){var n,r=["".concat(t.value),(n={},(0,_._)(n,"".concat(t.value,"-align-").concat(e.align),e.align),(0,_._)(n,"".concat(t.value,"-").concat(e.direction),e.direction),n)];return(0,o.Wm)("div",{class:r,style:i.value},[a()])}}}),ke=(0,g.Z)(Oe),Ce=(n(1703),n(7246)),xe=n(3930);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Pe(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(cm){return void n(cm)}l.done?t(u):Promise.resolve(u).then(r,i)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pe(o,r,i,a,l,"next",e)}function l(e){Pe(o,r,i,a,l,"throw",e)}a(void 0)}))}}var Te={exports:{}},Ie={exports:{}};(function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports["default"]=e.exports})(Ie);Ie.exports;(function(e){var t=Ie.exports["default"];function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.exports=n=function(){return r},e.exports.__esModule=!0,e.exports["default"]=e.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=O(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}r.wrap=d;var p={};function v(){}function h(){}function m(){}var g={};s(g,l,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==i&&o.call(b,l)&&(g=b);var _=m.prototype=v.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,n){function r(i,a,l,u){var c=f(e[i],e,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==t(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):n.resolve(d).then((function(e){s.value=e,l(s)}),(function(e){return r("throw",e,l,u)}))}u(c.arg)}var i;this._invoke=function(e,t){function o(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(o,o):o()}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m,s(_,"constructor",m),s(m,"constructor",h),h.displayName=s(m,c,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},r.awrap=function(e){return{__await:e}},w(S.prototype),s(S.prototype,u,(function(){return this})),r.AsyncIterator=S,r.async=function(e,t,n,i,o){void 0===o&&(o=Promise);var a=new S(d(e,t,n,i),o);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),s(_,c,"Generator"),s(_,l,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},r.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},r}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports})(Te);Te.exports;var De=Te.exports(),je=De;try{regeneratorRuntime=De}catch(YC){"object"===("undefined"===typeof globalThis?"undefined":(0,Ce._)(globalThis))?globalThis.regeneratorRuntime=De:Function("r","regeneratorRuntime = r")(De)}var Re=n(9211),Ae={container:{type:[String,Function],default:function(){return function(){return window}}},offsetBottom:{type:Number,default:0},offsetTop:{type:Number,default:0},zIndex:{type:Number},onFixedChange:Function},Fe=(0,o.aZ)({name:"TAffix",props:Ae,emits:["fixedChange"],setup:function(e,t){var n=(0,w.ws)("affix"),r=(0,S.sL)(),i=(0,T.iH)(null),a=(0,T.iH)(null),l=(0,T.iH)(document.createElement("div")),u=(0,T.iH)(!1),c=(0,T.iH)(!1),s=(0,T.iH)(),d=function(){u.value||(window.requestAnimationFrame((function(){var r,o,c=null!==(r=i.value.getBoundingClientRect())&&void 0!==r?r:{top:0,width:0,height:0},d=c.top,f=c.width,p=c.height,v=0;s.value instanceof HTMLElement&&(v=s.value.getBoundingClientRect().top);var h=d-v,m=s.value[s.value instanceof Window?"innerHeight":"clientHeight"]-p,g=v+m-e.offsetBottom;if(o=void 0!==e.offsetTop&&h<=e.offsetTop?v+e.offsetTop:void 0!==e.offsetBottom&&d>=g&&g,a.value){var y=!1!==o,b=i.value.contains(l.value);y?(a.value.className=n.value,a.value.style.top="".concat(o,"px"),a.value.style.width="".concat(f,"px"),a.value.style.height="".concat(p,"px"),e.zIndex&&(a.value.style.zIndex="".concat(e.zIndex)),b||(l.value.style.width="".concat(f,"px"),l.value.style.height="".concat(p,"px"),i.value.appendChild(l.value))):(a.value.removeAttribute("class"),a.value.removeAttribute("style"),b&&l.value.remove()),t.emit("fixedChange",y,{top:Number(o)}),(0,Re.i)(e.onFixedChange)&&e.onFixedChange(y,{top:Number(o)})}u.value=!1})),u.value=!0)},f=function(){var t=Ee(je.mark((function t(){return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.Y3)();case 2:if(!c.value){t.next=4;break}return t.abrupt("return");case 4:s.value=(0,F.JX)(e.container),(0,F.on)(s.value,"scroll",d),(0,F.on)(window,"resize",d),c.value=!0;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){s.value&&c.value&&((0,F.S1)(s.value,"scroll",d),(0,F.S1)(window,"resize",d),c.value=!1)};return(0,o.YP)((function(){return e.offsetTop}),(function(){d()})),(0,o.YP)((function(){return e.offsetBottom}),(function(){d()})),(0,o.YP)((function(){return e.zIndex}),(function(){d()})),(0,o.bv)(f),(0,o.dl)(f),(0,o.se)(p),(0,o.Jd)(p),{affixWrapRef:i,affixRef:a,bindScroll:f,unbindScroll:p,handleScroll:d,scrollContainer:s,renderTNodeJSX:r}},render:function(){return(0,o.Wm)("div",{ref:"affixWrapRef"},[(0,o.Wm)("div",{ref:"affixRef"},[this.renderTNodeJSX("default")])])}}),Me=(0,g.Z)(Fe),Ne=/#(\S+)$/;function Le(e,t){var n=e.getBoundingClientRect(),r=n.top;return t===window?r-document.documentElement.clientTop:r-t.getBoundingClientRect().top}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var We={affixProps:{type:Object},bounds:{type:Number,default:5},container:{type:[String,Function],default:function(){return function(){return window}}},cursor:{type:Function},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},targetOffset:{type:Number,default:0},onChange:Function,onClick:Function},Ve=Symbol("AnchorInjectionProvide");
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Be(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Ue=(0,o.aZ)({name:"TAnchor",props:We,setup:function(e,t){var n=t.attrs,r=(0,T.iH)(null),i=(0,T.iH)([]),a=(0,T.iH)(""),l=(0,T.iH)(null),u=(0,T.iH)(!1),c=(0,T.qj)({}),s=(0,w.ws)("anchor"),d=(0,w.ws)("anchor__line"),f=(0,w.ws)("anchor__line-cursor"),p=(0,w.RH)(),v=p.STATUS,h=p.SIZE,m=(0,S.sL)(),g=function(){if(!F.sk){var t=e.container;l.value=(0,F.JX)(t),(0,F.on)(l.value,"scroll",y),y()}},y=function(){if(!u.value){var t=e.bounds,n=e.targetOffset,r=[],o="";if(i.value.forEach((function(e){var i=b(e);if(i){var o=Le(i,l.value);o<t+n&&r.push({link:e,top:o})}})),r.length){var a=r.reduce((function(e,t){return e.top>t.top?e:t}));o=a.link}k(o)}},b=function(e){var t=e.match(Ne);if(t){var n=document.getElementById(t[1]);if(n)return n}},_=function(e){Ne.test(e)&&-1===i.value.indexOf(e)&&i.value.push(e)},O=function(e){i.value=i.value.filter((function(t){return t!==e}))},k=function(){var t=Ee(je.mark((function t(n){var r;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.value!==n){t.next=2;break}return t.abrupt("return");case 2:return a.value=n,null===(r=e.onChange)||void 0===r||r.call(e,n,a.value),t.next=6,(0,o.Y3)();case 6:C();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var e,t=null===(e=r.value)||void 0===e?void 0:e.querySelector(".".concat(v.value.active,">a"));if(t){var n=t.offsetTop,i=t.offsetHeight;Object.assign(c,{top:"".concat(n,"px"),height:"".concat(i,"px"),opacity:1})}else Object.assign(c,{})},x=function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t)},P=function(){var t=Ee(je.mark((function t(n){var r,i,o,a,c;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=b(n),k(n),r){t.next=4;break}return t.abrupt("return");case 4:return u.value=!0,i=e.targetOffset,o=(0,F.O_)(l.value),a=Le(r,l.value),c=o+a-i,t.next=11,(0,F.X5)(c,{container:l.value});case 11:u.value=!1;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=m("cursor");return e||(0,o.Wm)("div",{class:f.value},null)};return(0,o.bv)(Ee(je.mark((function e(){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g(),!a.value){e.next=5;break}return e.next=4,(0,o.Y3)();case 4:P(a.value);case 5:case"end":return e.stop()}}),e)})))),(0,o.Ah)((function(){l.value&&(0,F.S1)(l.value,"scroll",y)})),(0,o.m0)((function(){l.value&&(0,F.S1)(l.value,"scroll",y),g()})),(0,o.JJ)(Ve,(0,T.qj)({registerLink:_,unregisterLink:O,handleScrollTo:P,handleLinkClick:x,active:a})),function(){var t=e.size,i=e.affixProps,a=[s.value,h.value[t]],l=(0,o.Wm)("div",(0,o.dG)({ref:r,class:a},n),[(0,o.Wm)("div",{class:d.value},[(0,o.Wm)("div",{class:"".concat(f.value,"-wrapper"),style:c},[E()])]),m("default")]);return i?(0,o.Wm)(Me,i,Be(l)?l:{default:function(){return[l]}}):l}}}),He={href:{type:String,default:"",required:!0},target:{type:String,default:"_self",validator:function(e){return["_self","_blank","_parent","_top"].includes(e)}},title:{type:[String,Function],default:""}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=Ze(Ze({},He),{},{href:{type:String,required:!0,validator:function(e){return Ne.test(e)}}}),Ye=(0,o.aZ)({name:"TAnchorItem",inject:{tAnchor:{default:void 0}},props:Ke,setup:function(e,t){var n=t.slots,r=(0,o.f3)(Ve,void 0),i=(0,w.ws)("anchor__item"),a=(0,w.RH)(),l=a.STATUS,u=function(){r.registerLink(e.href)},c=function(){var t=e.href;t&&r.unregisterLink(t)},s=function(t){var n=e.href,i=e.title;r.handleScrollTo(n),r.handleLinkClick({href:n,title:"string"===typeof i?i:void 0,e:t})},d=function(){var t,r=e.title,i=n.title;return"string"===typeof r?t=r:"function"===typeof r?t=r(o.h):i&&(t=i(null)),t};return(0,o.YP)((function(){return e.href}),(function(){c(),u()}),{immediate:!0}),(0,o.bv)((function(){u()})),(0,o.Ah)((function(){u()})),function(){var t,a=e.href,u=e.target,c=n["default"],f=n.title,p=d(),v="string"===typeof p?p:null,h=r.active===a,m=(t={},(0,_._)(t,i.value,!0),(0,_._)(t,l.value.active,h),t),g=(0,_._)({},"".concat(i.value,"-link"),!0);return(0,o.Wm)("div",{class:m},[(0,o.Wm)("a",{href:a,title:v,class:g,target:u,onClick:s},[f?f(null):p]),c&&c(null)])}}}),Ge=n(2215);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 1.92C4 1.34 4.52 1 5 1h4.37a1 1 0 01.71.3L13.71 5a1 1 0 01.29.7v6.38c0 .58-.52.92-1 .92H5c-.48 0-1-.34-1-.92V1.92zM5 2v10h8V6.01H9V2H5zm5 .65V5h2.32L10 2.65z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 5v9.01a1 1 0 001 1h8v-1H3V5H2z",fillOpacity:.9}}]},Xe=(0,o.aZ)({name:"FileCopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-file-copy",i.value])),c=(0,o.Fl)((()=>Je(Je({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(qe,s.value)}}),Qe={exports:{}};
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,t){(function(t,n){e.exports=n()})(xe.c,(function(){return function(){var e={686:function(e,t,n){n.d(t,{default:function(){return j}});var r=n(279),i=n.n(r),o=n(370),a=n.n(o),l=n(817),u=n.n(l);function c(e){try{return document.execCommand(e)}catch(t){return!1}}var s=function(e){var t=u()(e);return c("cut"),t},d=s;function f(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=e,n}var p=function(e,t){var n=f(e);t.container.appendChild(n);var r=u()(n);return c("copy"),n.remove(),r},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof e?n=p(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===e||void 0===e?void 0:e.type)?n=p(e.value,t):(n=u()(e),c("copy")),n},h=v;function m(e){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,r=e.container,i=e.target,o=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==i){if(!i||"object"!==m(i)||1!==i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(i.hasAttribute("readonly")||i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?h(o,{container:r}):i?"cut"===n?d(i):h(i,{container:r}):void 0},y=g;function b(e){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){var t=E();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function I(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var D=function(e){O(n,e);var t=C(n);function n(e,r){var i;return _(this,n),i=t.call(this),i.resolveOptions(r),i.listenClick(e),i}return S(n,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof e.action?e.action:this.defaultAction,this.target="function"===typeof e.target?e.target:this.defaultTarget,this.text="function"===typeof e.text?e.text:this.defaultText,this.container="object"===b(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",r=y({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(r?"success":"error",{action:n,text:r,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return I("action",e)}},{key:"defaultTarget",value:function(e){var t=I("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return I("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(e,t)}},{key:"cut",value:function(e){return d(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"===typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),n}(i()),j=D},828:function(e){var t=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function r(e,n){while(e&&e.nodeType!==t){if("function"===typeof e.matches&&e.matches(n))return e;e=e.parentNode}}e.exports=r},438:function(e,t,n){var r=n(828);function i(e,t,n,r,i){var o=a.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}function o(e,t,n,r,o){return"function"===typeof e.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}function a(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=o},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"===typeof e||e instanceof String},t.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},370:function(e,t,n){var r=n(879),i=n(438);function o(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return a(e,t,n);if(r.nodeList(e))return l(e,t,n);if(r.string(e))return u(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function l(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}function u(e,t,n){return i(document.body,e,t,n)}e.exports=o},817:function(e){function t(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=t},279:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),n(686)}()["default"]}))})(Qe,Qe.exports);var et=(0,xe.g)(Qe.exports);function tt(e){var t=document.createElement("div"),n=new et(t,{text:function(){return e}});t.click(),n.destroy(),t.remove()}var nt=n(4123),rt={id:{type:String,default:"",required:!0},tag:{type:String,default:"div"}},it=n(4925),ot=(0,o.aZ)({name:"TAnchorTarget",props:rt,setup:function(e,t){var n=t.slots,r=(0,k.Z)("anchor"),i=r.globalConfig,a=r.classPrefix,l=(0,it.J)({FileCopyIcon:Xe}),u=l.FileCopyIcon,c=(0,w.ws)("anchor"),s=function(){var t=document.createElement("a");t.href="#".concat(e.id),tt(t.href),nt.Z.success(i.value.copySuccessText,1e3)};return function(){var t=n["default"],r=e.tag,l=e.id,d=["".concat(c.value,"__target")],f="".concat(a.value,"-copy");return(0,o.Wm)(r,{id:l,class:d},{default:function(){return[t&&t(null),(0,o.Wm)((0,o.up)("t-popup"),{content:i.value.copyText,placement:"top",showArrow:!0,class:f},{default:function(){return[(0,o.Wm)(u,{onClick:s},null)]}})]}})}}}),at=(0,g.Z)(Ue),lt=(0,g.Z)(Ye),ut=(0,g.Z)(ot),ct={maxItemWidth:{type:String,default:void 0},options:{type:Array},separator:{type:[String,Function]},theme:{type:String,default:"light",validator:function(e){return["light"].includes(e)}}},st=n(742),dt={content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,href:{type:String,default:""},maxWidth:{type:String,default:void 0},replace:Boolean,router:{type:Object},target:{type:String,default:"_self",validator:function(e){return["_blank","_self","_parent","_top"].includes(e)}},to:{type:[String,Object]}},ft=n(1612),pt={delay:{type:Number},destroyOnClose:{type:Boolean,default:!0},duration:{type:Number},placement:{type:String,default:"top"},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","primary","success","danger","warning","light"].includes(e)}}},vt=n(6925),ht=n(7654),mt=function(){var e=(0,T.iH)(0),t=(0,T.iH)(0),n=function(n){e.value=n.clientX,t.value=n.clientY};return F.sk||((0,o.bv)((function(){window.addEventListener("mousemove",n,{passive:!0})})),(0,o.Ah)((function(){window.removeEventListener("mousemove",n)}))),{x:e,y:t}},gt=n(5385);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t=(0,o.aZ)({name:"TTooltip",props:bt(bt({},vt.Z),pt),setup:function(e,t){var n=(0,T.iH)(null),r=(0,T.iH)(null),i=(0,T.BK)(e),a=i.visible,l=i.modelValue,u=(0,gt.Z)(a,l,e.defaultVisible,e.onVisibleChange,"visible"),c=(0,ft._)(u,2),s=c[0],d=c[1],f=(0,T.iH)(e.visible||e.defaultVisible),p=(0,w.ws)(),v=(0,S.sL)(),h=(0,S.r0)(),m=mt(),g=m.x,y=(0,T.iH)(g.value);(0,o.bv)((function(){e.duration&&f.value&&(n.value=setTimeout((function(){f.value=!1,clearTimeout(n.value),n.value=null}),e.duration))}));var b=function(e,t){n.value&&"document"!==(null===t||void 0===t?void 0:t.trigger)||(e&&(y.value=g.value),d(e,t))},O=(0,o.Fl)((function(){return["".concat(p.value,"-tooltip"),(0,_._)({},"".concat(p.value,"-tooltip--").concat(e.theme),e.theme),e.overlayClassName]})),k=(0,o.Fl)((function(){return bt(bt({},e),{},{placement:"mouse"===e.placement?"bottom-left":e.placement,showArrow:"mouse"!==e.placement&&e.showArrow,content:function(){return v("content")},default:function(){return h("default","triggerElement")},overlayClassName:O.value,onVisibleChange:b})})),C=(0,o.Fl)((function(){if("mouse"!==e.placement||0===y.value)return e.overlayInnerStyle;var t=function(e){return{transform:"translateX(".concat(y.value-e.getBoundingClientRect().left,"px)")}};return e.overlayInnerStyle?function(n,r){return bt(bt({},t(n)),(0,Re.i)(e.overlayInnerStyle)?e.overlayInnerStyle(n,r):e.overlayInnerStyle)}:t}));(0,o.YP)((function(){return f.value}),(function(){n.value&&!f.value&&(clearTimeout(n.value),n.value=null)}));var x=function(){var e,t;null===(e=r.value)||void 0===e||null===(t=e.updatePopper)||void 0===t||t.call(e)};return t.expose({updatePopper:x}),function(){return(0,o.Wm)(ht.G,(0,o.dG)({ref:r,visible:s.value},k.value,{overlayInnerStyle:C.value}),null)}}}),wt=(0,g.Z)(_t);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Ct={separator:"",theme:"light",slots:{separator:""},maxItemWidth:void 0},xt=(0,o.aZ)({name:"TBreadcrumbItem",props:dt,setup:function(e,t){var n,r=t.slots,i=t.attrs,a=(0,T.iH)(),l=(0,o.f3)("tBreadcrumb",Ct),u=(0,T.iH)(null===l||void 0===l?void 0:l.theme),c=(0,T.iH)(!1),s=(0,w.ws)("breadcrumb__item"),d=(0,w.ws)("breadcrumb__separator"),f=(0,w.ws)("is-disabled"),p=(0,w.ws)("link"),v=(0,w.ws)("breadcrumb__inner"),h=(0,w.ws)("breadcrumb--text-overflow"),m=(0,it.J)({ChevronRightIcon:st.Z}),g=m.ChevronRightIcon,y=(0,o.Fl)((function(){var t=null===l||void 0===l?void 0:l.maxItemWidth,n=e.maxWidth||t||"120";return{maxWidth:"".concat(n,"px")}}));(0,o.bv)((function(){c.value=(0,F.f9)(a.value)})),(0,o.Xn)((function(){c.value=(0,F.f9)(a.value)}));var b=null===l||void 0===l?void 0:l.separator,_=null===l||void 0===l||null===(n=l.slots)||void 0===n?void 0:n.separator,S=b||_||(0,o.Wm)(g,{color:"rgba(0,0,0,.3)"},null),O=(0,o.FN)(),k=O.proxy,C=function(t){if(!e.disabled){t.preventDefault(),e.href&&(window.location.href=e.href);var n=e.router||k.$root.$router;e.to&&n&&(e.replace?n.replace(e.to):n.push(e.to))}};return function(){var t=[s.value,u.value],n=[h.value];e.disabled&&n.push(f.value);var l={onClick:function(t){var n;e.disabled?t.stopPropagation():null===(n=e.onClick)||void 0===n||n.call(e,{e:t})}},m=(0,o.Wm)("span",(0,o.dG)({ref:a},{class:v.value,style:y.value}),[r["default"]()]),g=(0,o.Wm)("span",Ot({class:n},l),[m]);return!e.href&&!e.to||e.disabled||(n.push(p.value),g=(0,o.Wm)("a",(0,o.dG)({class:n,href:e.href,target:e.target},l,{onClick:C}),[m])),(0,o.Wm)("div",(0,o.dG)({class:t},i),[c.value?(0,o.Wm)(wt,{content:function(){return null===r||void 0===r?void 0:r["default"]()}},kt(g)?g:{default:function(){return[g]}}):g,(0,o.Wm)("span",{class:d.value},["function"===typeof S?S():S])])}}}),Pt=(0,o.aZ)({name:"TBreadcrumb",props:ct,setup:function(e,t){var n=t.slots,r=(0,T.BK)(e),i=r.separator,a=r.theme,l=r.maxItemWidth,u=(0,w.ws)("breadcrumb");(0,o.JJ)("tBreadcrumb",(0,T.qj)({separator:i,theme:a,slots:{separator:n.separator},maxItemWidth:l}));var c=(0,S.sL)();return function(){var t=c("default");return e.options&&e.options.length&&(t=e.options.map((function(e,t){return(0,o.Wm)(xt,(0,o.dG)(e,{key:t}),{default:function(){return[e["default"]||e.content]}})}))),(0,o.Wm)("div",{class:u.value},[t])}}}),Et=(0,g.Z)(Pt),Tt=(0,g.Z)(xt),It={active:Boolean,content:{type:[String,Function],default:""},disabled:Boolean,divider:Boolean,value:{type:[String,Number,Object]},onClick:Function},Dt=n(2725),jt=Symbol("dropdownProvider");
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=(0,o.aZ)({name:"TDropdownItem",props:At(At({},It),{},{path:{type:String,default:""},hasChildren:{type:Boolean,default:!1},onHover:{type:Function}}),setup:function(e){var t=(0,S.r0)(),n=(0,T.iH)();(0,Dt.Z)(n);var r=(0,w.RH)(),i=r.STATUS,a=(0,w.ws)("dropdown__item"),l=(0,w.ws)(),u=(0,it.J)({ChevronRightIcon:st.Z}),c=u.ChevronRightIcon,s=(0,o.f3)(jt),d=s.handleMenuClick,f=function(){return e.hasChildren?(0,o.Wm)(c,{class:"".concat(a.value,"__item-icon")},null):null},p=function(t){if(t.stopPropagation(),!e.hasChildren&&!e.disabled){var n,r={value:e.value,path:e.path||"/".concat(e.value),content:e.content};null===(n=e.onClick)||void 0===n||n.call(e,r,{e:t}),d(r,{e:t})}},v=function(){var t;null===(t=e.onHover)||void 0===t||t.call(e,e.path)};return function(){var r,u=[a.value,(r={},(0,_._)(r,"".concat(l.value,"-dropdown--suffix"),e.hasChildren),(0,_._)(r,i.value.disabled,e.disabled),(0,_._)(r,i.value.active,e.active),r)];return(0,o.Wm)("div",null,[(0,o.Wm)("div",{ref:n,class:u,onClick:p,onMouseover:v},[(0,o.Wm)("div",{class:"".concat(a.value,"-content")},[(0,o.Wm)("span",{class:"".concat(a.value,"-text")},[t("content","default")])]),f()]),e.divider?(0,o.Wm)(ye,null,null):null])}}}),Mt=n(6491),Nt=(0,o.aZ)({name:"TDropdownMenu",props:{options:{type:Array,default:function(){return[]}},maxHeight:{type:Number,default:300},maxColumnWidth:{type:Number||String,default:100},minColumnWidth:{type:Number||String,default:10}},setup:function(e,t){var n=t.slots,r=(0,T.iH)(""),i=(0,S.sL)(),a=(0,w.ws)("dropdown__menu"),l=(0,o.f3)(jt),u=l.maxHeight,c=l.maxColumnWidth,s=l.minColumnWidth,d=function(e){r.value=e},f=function(t,n,r){var i,o,a;null===(i=(o=e.options[r]).onClick)||void 0===i||i.call(o,t,n),null===(a=e.onClick)||void 0===a||a.call(e,t,n)},p=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i="".concat(t,"/").concat(e.value);return(!n||r.value!==i)&&0===r.value.indexOf(i)},v=function(e,t,n){var r=["".concat(a.value,"-column"),"narrow-scrollbar",{submenu__visible:t}];return(0,o.Wm)("div",{class:r,style:{maxHeight:"".concat(u,"px"),maxWidth:(0,Mt.X0)(c),minWidth:(0,Mt.X0)(s)}},[e.map((function(e,t){return(0,o.Wm)(Ft,{key:t,disabled:e.disabled,active:p(e,n)||e.active,value:e.value,content:e.content,divider:e.divider,hasChildren:e.children&&e.children.length>0,path:"".concat(n,"/").concat(e.value),maxColumnWidth:c,minColumnWidth:s,onHover:d,onClick:function(e,n){return f(e,n,t)}},null)}))])};return function(){var t=[],r=e.options,l="";if(n["default"])return(0,o.Wm)("div",{class:a.value},[(0,o.Wm)("div",{class:["".concat(a.value,"-column"),"narrow-scrollbar"],style:{maxHeight:"".concat(u,"px"),maxWidth:"".concat(c,"px"),minWidth:"".concat(s,"px")}},[i("default")])]);while(r&&r.length){var d=r.find((function(e){return p(e,l,!1)}));t.push(v(r,!!d,l)),d?(l="".concat(l,"/").concat(d.value),r=d.children||[]):r=[]}return(0,o.Wm)("div",{class:a.value},[t])}}}),Lt={direction:{type:String,default:"right",validator:function(e){return["left","right"].includes(e)}},disabled:Boolean,hideAfterItemClick:{type:Boolean,default:!0},maxColumnWidth:{type:[String,Number],default:100},maxHeight:{type:Number,default:300},minColumnWidth:{type:[String,Number],default:10},options:{type:Array,default:function(){return[]}},placement:{type:String,default:"bottom-left",validator:function(e){return["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e)}},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return["hover","click","focus","context-menu"].includes(e)}},onClick:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=(0,o.aZ)({name:"TDropdown",props:Lt,setup:function(e,t){var n=t.attrs,r=(t.slots,(0,S.sL)()),i=(0,w.ws)("dropdown"),a=(0,T.iH)(null),l=function(t,n){var r;e.hideAfterItemClick&&a.value&&a.value.handleClose(),null===(r=e.onClick)||void 0===r||r.call(e,t,n)},u=(0,T.BK)(e),c=u.maxHeight,s=u.maxColumnWidth,d=u.minColumnWidth;return(0,o.JJ)(jt,(0,T.qj)({handleMenuClick:l,maxHeight:c,maxColumnWidth:s,minColumnWidth:d})),function(){var t,l=r("default"),u=r("dropdown"),c=Vt(Vt({},n),{},{disabled:e.disabled,placement:e.placement,trigger:e.trigger,overlayClassName:[i.value,null===(t=e.popupProps)||void 0===t?void 0:t.overlayClassName]});return(0,o.Wm)(ht.G,(0,o.dG)(e.popupProps,c,{destroyOnClose:!0,ref:a,expandAnimation:!0}),{default:function(){return[l]},content:function(){return u||(0,o.Wm)(Nt,{options:e.options,maxHeight:e.maxHeight,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth},null)}})}}}),Ut=(0,g.Z)(Bt),Ht=(0,g.Z)(Ft),zt=(0,g.Z)(Nt),Zt=n(3128),Kt=(n(7322),(0,g.Z)(Zt.Z)),Yt={collapsed:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandMutex:Boolean,expandType:{type:String,default:"normal",validator:function(e){return!e||["normal","popup"].includes(e)}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},width:{type:[String,Number,Array],default:"232px"},onChange:Function,onExpand:Function},Gt=n(3916);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t,n){return t&&Jt(e.prototype,t),n&&Jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Xt=function e(t,n,r){if(t)for(var i=0;i<t.children.length;++i){var o=t.children[i];if(o.value===n)return[].concat((0,b._)(r),[t.value]);var a=e(o,n,[].concat((0,b._)(r),[t.value]));if(a)return a}},Qt=function e(t,n){if(!t)return[];for(var r=0;r<t.children.length;++r){var i=t.children[r];if(i.value===n)return t.children;var o=e(i,n);if(o)return o}},en=function e(t,n){if(t.value===n)return t;if(t.children.length>0)for(var r=0,i=t.children.length;r<i;r++){var o=e(t.children[r],n);if(o)return o}},tn=function(){function e(t){$t(this,e),(0,_._)(this,"data",null),(0,_._)(this,"cache",new Set),(0,_._)(this,"isMutex",(0,T.iH)(!1)),(0,_._)(this,"expandValues",null);var n={value:null,parent:null,children:[]};this.data=n,this.isMutex=null===t||void 0===t?void 0:t.isMutex,this.expandValues=new Set(null===t||void 0===t?void 0:t.expandValues)}return qt(e,[{key:"add",value:function(e){var t=e.value,n=e.parent,r=e.vnode,i={value:t,parent:n,children:[],vnode:r};if(this.cache.forEach((function(t,n,r){e.value===t.parent&&(i.children.push(t),r["delete"](t))})),null==e.parent)this.data.children.push(i),i.parent=this.data;else if(this.data.children.length>0){var o=en(this.data,n);o?o.children.push(i):this.cache.add(i)}else this.cache.add(i)}},{key:"select",value:function(e){var t=Xt(this.data,e,[])||[];return t.push(e),t.filter((function(e){return null!=e}))}},{key:"expand",value:function(e){var t=this;if(this.expandValues.has(e))return this.expandValues["delete"](e),(0,b._)(this.expandValues);if(this.expandValues.add(e),!this.isMutex.value)return(0,b._)(this.expandValues);var n=Qt(this.data,e)||[],r=new Set(n.filter((function(t){var n;return(null===(n=t.children)||void 0===n?void 0:n.length)>0&&t.value!==e})).map((function(e){return e.value})));return this.expandValues.forEach((function(e){var n=r.has(e);n&&t.expandValues["delete"](e)})),(0,b._)(this.expandValues)}},{key:"getChild",value:function(e){var t=en(this.data,e);return t?t.children:[]}}]),e}(),nn=n(3554),rn=n(1887);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=(0,o.aZ)({name:"TMenu",props:an({},Yt),setup:function(e,t){var n=(0,w.ws)();(0,o.m0)((function(){t.slots.options&&nn.Z.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")}));var r=(0,T.iH)(e.expandType),i=(0,o.Fl)((function(){return e.theme})),a=(0,o.Fl)((function(){return e.expandMutex})),l=(0,o.Fl)((function(){return["".concat(n.value,"-default-menu"),"".concat(n.value,"-menu--").concat(e.theme),(0,_._)({},"".concat(n.value,"-is-collapsed"),e.collapsed)]})),u=(0,o.Fl)((function(){return["".concat(n.value,"-menu"),(0,_._)({},"".concat(n.value,"-menu--scroll"),"popup"!==r.value),"narrow-scrollbar"]})),c=(0,o.Fl)((function(){var t=e.width,n=function(e){return"number"===typeof e?"".concat(e,"px"):e};return Array.isArray(t)?t.map((function(e){return n(e)})):[n(t),"64px"]})),s=(0,o.Fl)((function(){return{height:"100%",width:e.collapsed?c.value[1]:c.value[0]}})),d=(0,T.BK)(e),f=d.value,p=d.modelValue,v=d.expanded,h=(0,gt.Z)(f,p,e.defaultValue,e.onChange),m=(0,ft._)(h,2),g=m[0],y=m[1],S=(0,rn.Z)(v,e.defaultExpanded,e.onExpand,"expanded"),O=(0,ft._)(S,2),k=O[0],C=O[1],x=(0,T.iH)([]);(0,o.m0)((function(){var t;r.value=e.collapsed?"popup":e.expandType,null===(t=e.onCollapsed)||void 0===t||t.call(e,{collapsed:e.collapsed})}));var P=new tn({isMutex:a,expandValues:k.value?(0,b._)(k.value):[]});(0,o.JJ)("TdMenu",{activeValue:g,activeValues:x,expandValues:k,mode:r,theme:i,isHead:!1,vMenu:P,select:function(e){y(e)},open:function(e,t){if("normal"===r.value)C(P.expand(e));else if("add"===t)-1===k.value.indexOf(e)&&C([].concat((0,b._)(k.value),[e]));else if("remove"===t){var n=k.value.indexOf(e),i=(0,b._)(k.value);i.splice(n,1),C(i)}}}),(0,o.YP)((function(){return e.expanded}),(function(e){P.expandValues=new Set(e)}));var E=function(e){x.value=P.select(e)};return(0,o.YP)(g,E),(0,o.bv)((function(){x.value=P.select(g.value)})),{styles:s,classPrefix:n,menuClass:l,innerClasses:u,activeValue:g,activeValues:x,expandValues:k}},render:function(){var e=(0,Gt.r)(this,"operations","options"),t=(0,Gt.a)(this,"logo");return(0,o.Wm)("div",{class:this.menuClass,style:this.styles},[(0,o.Wm)("div",{class:"".concat(this.classPrefix,"-default-menu__inner")},[t&&(0,o.Wm)("div",{class:"".concat(this.classPrefix,"-menu__logo")},[t]),(0,o.Wm)("ul",{class:this.innerClasses},[(0,Gt.r)(this,"default","content")]),e&&(0,o.Wm)("div",{class:"".concat(this.classPrefix,"-menu__operations")},[e])])])}}),un={expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandType:{type:String,default:"normal",validator:function(e){return!e||["normal","popup"].includes(e)}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function,onExpand:Function},cn=n(9242),sn={default:{type:Function},destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,label:{type:[String,Function]},panel:{type:[String,Function]},removable:Boolean,value:{type:[String,Number]},onRemove:Function},dn="t-display-none-element-refresh";function fn(){var e=(0,T.iH)(0);(0,o.JJ)(dn,e),(0,o.ic)((function(){e.value+=1}))}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn=(0,o.aZ)({name:"TTabPanel",props:vn({},sn),setup:function(e){var t=(0,w.ws)("tab-panel"),n=(0,S.r0)();fn();var r=(0,o.f3)("tabs");return function(){var i=e.value===r.value.value;return e.destroyOnHide&&!i?null:(0,o.wy)((0,o.Wm)("div",{class:t.value},[n("default","panel")]),[[cn.F8,i]])}}}),mn=n(8411),gn=n(5273);function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _n={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.35 8.65v3.85h1.3V8.65h3.85v-1.3H8.65V3.5h-1.3v3.85H3.5v1.3h3.85z",fillOpacity:.9}}]},wn=(0,o.aZ)({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-add",i.value])),c=(0,o.Fl)((()=>bn(bn({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(_n,s.value)}}),Sn={addable:Boolean,disabled:Boolean,dragSort:Boolean,list:{type:Array},placement:{type:String,default:"top",validator:function(e){return!e||["left","top","bottom","right"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return!e||["medium","large"].includes(e)}},theme:{type:String,default:"normal",validator:function(e){return!e||["normal","card"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onAdd:Function,onChange:Function,onDragSort:Function,onRemove:Function},On=function(e){return(null===e||void 0===e?void 0:e.offsetWidth)||0},kn={calcScrollLeft:function(e,t){var n=e.navsContainer,r=e.navsWrap,i=e.rightOperations,o=On(i);if(!r||!n)return t;var a=On(n),l=On(r);return l<=a?0:t+a-o>l?l+o-a:t},calculateCanToLeft:function(e,t,n){if(["left","right"].includes(n.toLowerCase()))return!1;var r=e.navsContainer,i=e.navsWrap,o=e.leftOperations,a=e.toLeftBtn;if(!i||!r)return!1;var l=On(o),u=On(a);return t+Math.round(l-u)>0},calculateCanToRight:function(e,t,n){if(["left","right"].includes(n.toLowerCase()))return!1;var r=e.navsContainer,i=e.navsWrap,o=e.rightOperations,a=e.toRightBtn;if(!i||!r)return!1;var l=On(o),u=On(a);return t+On(r)-(l-u)-On(i)<-1},moveActiveTabIntoView:function(e,t){var n=e.activeTab,r=e.navsContainer,i=e.navsWrap,o=e.leftOperations,a=e.toLeftBtn,l=e.rightOperations,u=e.toRightBtn;if(!n)return t;var c=n.offsetLeft;if(!r)return t;var s=function(){var e=On(o),t=On(a);return 0===c?e-t:e},d=s(),f=t+d>c;if(f)return c-d;var p=n.offsetWidth;if(!r||!i)return t;var v=On(r),h=function(){var e=On(l),t=On(u),n=On(i);return Math.abs(c+p-n)<1?e-t:e},m=h(),g=t+v-m<c+p;return g?c+p-v+m:t},scrollToLeft:function(e,t){var n=e.navsContainer,r=e.leftOperations,i=e.toLeftBtn;if(!n)return 0;var o=On(r),a=On(i),l=On(n);return Math.max(-(o-a),t-l)},scrollToRight:function(e,t){var n=e.navsContainer,r=e.navsWrap,i=e.rightOperations,o=e.toRightBtn,a=On(i),l=On(o),u=On(n),c=On(r);return Math.min(t+u-a-l,c-u+a-l)}},Cn=n(4270),xn=(0,o.aZ)({name:"TTabNavItem",props:{index:Number,active:{type:Boolean},theme:Sn.theme,size:Sn.size,placement:Sn.placement,label:{type:null},disabled:sn.disabled,removable:sn.removable,value:sn.value,onClick:Function,onRemove:Function},setup:function(e){var t=(0,T.iH)();(0,Dt.Z)(t);var n=(0,w.ws)("tabs__nav-item"),r=(0,it.J)({CloseIcon:Cn.Z}),i=r.CloseIcon,a=(0,w.ws)(),l=(0,w.RH)(),u=l.STATUS,c=l.SIZE,s=function(t){var n=t.e;n.stopPropagation(),e.onRemove({e:n,value:e.value,index:e.index})},d=function(t){e.disabled||e.onClick(t)},f=(0,o.Fl)((function(){var t;return t={},(0,_._)(t,n.value,!0),(0,_._)(t,"".concat(a.value,"-tabs__nav--card"),"card"===e.theme),(0,_._)(t,u.value.disabled,e.disabled),(0,_._)(t,u.value.active,e.active),(0,_._)(t,"".concat(a.value,"-is-left"),"left"===e.placement),(0,_._)(t,"".concat(a.value,"-is-right"),"right"===e.placement),(0,_._)(t,c.value.medium,"medium"===e.size),(0,_._)(t,c.value.large,"large"===e.size),t})),p=function(){return(0,o.Wm)("div",{class:f.value,onClick:d,ref:t},[(0,o.Wm)("span",{class:"".concat(n.value,"-text-wrapper")},[e.label]),e.removable&&!e.disabled?(0,o.Wm)(i,{class:"remove-btn",onClick:s},null):null])},v=function(){var r;return(0,o.Wm)("div",{class:f.value,onClick:d},[(0,o.Wm)("div",{class:["".concat(n.value,"-wrapper"),(r={},(0,_._)(r,u.value.disabled,e.disabled),(0,_._)(r,u.value.active,e.active),r)],ref:t},[(0,o.Wm)("span",{class:"".concat(n.value,"-text-wrapper")},[e.label])]),e.removable&&!e.disabled?(0,o.Wm)(i,{class:"remove-btn",onClick:s},null):null])};return function(){return"card"===e.theme?p():v()}}}),Pn=(0,o.aZ)({props:{navs:{type:Array},placement:Sn.placement,value:Sn.value},setup:function(e){var t=(0,w.ws)("tabs"),n=(0,w.ws)(),r=(0,o.Fl)((function(){return["".concat(t.value,"__bar"),"".concat(n.value,"-is-").concat(e.placement)]})),i=(0,T.iH)(null),a=function(){for(var t,n,r=["left","right"].includes(e.placement.toLowerCase()),i=r?["height","top"]:["width","left"],o=(0,ft._)(i,2),a=o[0],l=o[1],u=0,c=0;c<e.navs.length;c++){var s,d;if(e.navs[c].props.value===e.value)break;u+=(null===(s=e.navs[c])||void 0===s||null===(d=s.el)||void 0===d?void 0:d["client".concat((0,Mt.RI)(a))])||0}return e.navs[c]?(n={},(0,_._)(n,l,"".concat(u,"px")),(0,_._)(n,a,"".concat((null===(t=e.navs[c].el)||void 0===t?void 0:t["client".concat((0,Mt.RI)(a))])||0,"px")),n):{}};return(0,o.bv)((function(){(0,o.Y3)((function(){i.value=a()}))})),(0,o.YP)([function(){return e.navs},function(){return e.value},function(){return e.placement}],(function(){(0,o.Y3)((function(){i.value=a()}))})),function(){return(0,o.Wm)("div",{class:r.value,style:i.value},null)}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function En(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tn(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}function Tn(e,t){if(e){if("string"===typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dn=function(e,t){var n,r=En(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.getAttribute("draggable")&&t(i)}}catch(o){r.e(o)}finally{r.f()}},jn=function(e,t){var n;return Dn(t,(function(t){t.contains(e)&&(n=t)})),n};function Rn(e){var t,n=null,r=[],i=function(e){var n=e.target;t=n,n.style.opacity="0.5"},a=function(e){e.target.style.opacity=""},l=function(e){e.preventDefault()},u=function(e){var i=jn(e.target,n.children);i&&i!==t&&(i.firstChild.style.outline="1px dashed #0052d9",r.includes(i)||r.push(i))},c=function(e){var t,n=e.target,i=En(r);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.contains(n)||(o.firstChild.style.outline="none")}}catch(a){i.e(a)}finally{i.f()}},s=function(r){r.preventDefault(),Dn(n.children,(function(e){e.firstChild.style.outline="none"}));var i=jn(r.target,n.children);if(i&&i.parentNode!==t){var o=[].indexOf.call(n.children,t),a=[].indexOf.call(n.children,i);a>o&&(i=n.children[a+1]),n.insertBefore(t,i);var l="card"===e.theme?o:o-1,u="card"===e.theme?a:a-1;e.onDragSort({currentIndex:l,current:e.panels[l].value,targetIndex:u,target:e.panels[u].value})}};function d(e){n=e,n.addEventListener("dragstart",i,!1),n.addEventListener("dragend",a,!1),n.addEventListener("dragover",l,!1),n.addEventListener("dragenter",u,!1),document.addEventListener("dragleave",c,!1),document.addEventListener("mousemove",c,!1),n.addEventListener("drop",s,!1)}return(0,o.Ah)((function(){n.removeEventListener("dragstart",i),n.removeEventListener("dragend",a),n.removeEventListener("dragover",l),n.removeEventListener("dragenter",u),document.removeEventListener("dragleave",c),document.removeEventListener("mousemove",c),n.removeEventListener("drop",s)})),{setNavsWrap:d}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=kn.calculateCanToLeft,Nn=kn.calculateCanToRight,Ln=kn.calcScrollLeft,Wn=kn.scrollToLeft,Vn=kn.scrollToRight,Bn=kn.moveActiveTabIntoView,Un=(0,o.aZ)(Fn(Fn({name:"TTabNav"},{resizeObserver:null}),{},{props:{theme:Sn.theme,panels:{type:Array,default:function(){return[]}},value:Sn.value,placement:Sn.placement,size:Sn.size,disabled:Sn.disabled,addable:Sn.addable,onChange:Sn.onChange,onAdd:Sn.onAdd,onRemove:Sn.onRemove,dragSort:Sn.dragSort,onDragSort:Sn.onDragSort},setup:function(e){var t=(0,w.ws)("tabs"),n=(0,it.J)({ChevronLeftIcon:gn.Z,ChevronRightIcon:st.Z,AddIcon:wn}),r=n.ChevronLeftIcon,i=n.ChevronRightIcon,a=n.AddIcon,l=(0,w.ws)(),u=(0,w.RH)(),c=u.SIZE,s=(0,T.iH)(0),d=(0,T.iH)(!1),f=(0,T.iH)(!1),p=(0,T.iH)(),v=(0,T.iH)(),h=(0,T.iH)(),m=(0,T.iH)(),g=(0,T.iH)(),y=(0,T.iH)(),b=(0,T.iH)(),S=function(){return{navsContainer:p.value,navsWrap:v.value,leftOperations:h.value,toLeftBtn:m.value,rightOperations:g.value,toRightBtn:y.value}},O=(0,o.Fl)((function(){return["left","right"].includes(e.placement.toLowerCase())?{}:{transform:"translate3d(".concat(-s.value,"px, 0, 0)")}})),k=(0,o.Fl)((function(){return e.addable?{"min-height":"48px"}:null})),C=(0,o.Fl)((function(){var n;return n={},(0,_._)(n,"".concat(t.value,"__btn"),!0),(0,_._)(n,c.value.medium,"medium"===e.size),(0,_._)(n,c.value.large,"large"===e.size),n})),x=(0,o.Fl)((function(){return Fn((0,_._)({},"".concat(t.value,"__btn--left"),!0),C.value)})),P=(0,o.Fl)((function(){return Fn((0,_._)({},"".concat(t.value,"__btn--right"),!0),C.value)})),E=(0,o.Fl)((function(){return Fn((0,_._)({},"".concat(t.value,"__add-btn"),!0),C.value)})),I=(0,o.Fl)((function(){var n;return n={},(0,_._)(n,"".concat(t.value,"__nav-container"),!0),(0,_._)(n,"".concat(t.value,"__nav--card"),"card"===e.theme),(0,_._)(n,"".concat(l.value,"-is-").concat(e.placement),!0),(0,_._)(n,"".concat(l.value,"-is-addable"),"card"===e.theme&&e.addable),n})),D=(0,o.Fl)((function(){var e;return e={},(0,_._)(e,"".concat(t.value,"__nav-scroll"),!0),(0,_._)(e,"".concat(l.value,"-is-scrollable"),d.value||f.value),e})),j=(0,o.Fl)((function(){return["".concat(t.value,"__nav-wrap"),"".concat(l.value,"-is-smooth"),(0,_._)({},"".concat(l.value,"-is-vertical"),"left"===e.placement||"right"===e.placement)]})),R=function(){M(),F()};(0,o.YP)([s,function(){return e.placement},function(){return e.panels}],R),A((0,mn.d)(R),p.value),(0,o.bv)(R);var F=function(){s.value=Ln(S(),s.value)},M=function(){d.value=Mn(S(),s.value,e.placement),f.value=Nn(S(),s.value,e.placement)},N=function(e){s.value="left"===e?Wn(S(),s.value):Vn(S(),s.value)},L=function(t){var n;null===(n=e.onAdd)||void 0===n||n.call(e,{e:t})},W=function(t,n){var r=n.value,i=n.disabled;if(i||e.value===r)return!1;e.onChange(r)},V=function(t){var n=t.e,r=t.value,i=t.index;e.onRemove({e:n,value:r,index:i})},B=function(t){(null===t||void 0===t?void 0:t.value)===e.value&&b.value!==t.$el&&(b.value=t.$el,s.value=Bn(Fn({activeTab:b.value},S()),s.value))},U=Rn(e),H=U.setNavsWrap;(0,o.bv)((function(){H(v.value)}));var z=(0,o.Fl)((function(){return e.panels.map((function(t,n){var r,i;return i=null!==t&&void 0!==t&&null!==(r=t.children)&&void 0!==r&&r.label?t.children.label():"function"===typeof t.label?t.label(o.h):t.label||"选项卡".concat(n+1),(0,o.Wm)(xn,{ref:B,draggable:e.dragSort,key:t.value,index:n,theme:e.theme,size:e.size,placement:e.placement,label:i,active:t.value===e.value,disabled:e.disabled||t.disabled,removable:t.removable,value:t.value,onClick:function(e){return W(e,t)},onRemove:V},null)}))})),Z=function(){return[(0,o.Wm)("div",{ref:h,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--left")]},[(0,o.Wm)(cn.uT,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[d.value?(0,o.Wm)("div",{ref:m,class:x.value,onClick:function(){return N("left")}},[(0,o.Wm)(r,null,null)]):null]}})]),(0,o.Wm)("div",{ref:g,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--right")]},[(0,o.Wm)(cn.uT,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[f.value?(0,o.Wm)("div",{ref:y,class:P.value,onClick:function(){return N("right")}},[(0,o.Wm)(i,null,null)]):null]}}),e.addable?(0,o.Wm)("div",{class:E.value,onClick:L},[(0,o.Wm)(a,null,null)]):null])]},K=function(){return(0,o.Wm)("div",{class:I.value},[(0,o.Wm)("div",{class:D.value},[(0,o.Wm)("div",{ref:v,class:j.value,style:O.value},["card"!==e.theme&&(0,o.Wm)(Pn,{placement:e.placement,value:e.value,navs:z.value},null),z.value])])])};return function(){return(0,o.Wm)("div",{ref:p,class:["".concat(t.value,"__nav")],style:k.value},[Z(),K()])}}})),Hn=(0,o.aZ)({name:"TTabs",props:Sn,setup:function(e){var t=(0,w.ws)("tabs"),n=(0,w.ws)(),r=(0,S.sL)(),i=(0,T.BK)(e),a=i.value,l=i.modelValue,u=(0,gt.Z)(a,l,e.defaultValue||"",e.onChange),c=(0,ft._)(u,2),s=c[0],d=c[1];(0,o.JJ)("tabs",{value:s});var f=function(t){var n;null===(n=e.onAdd)||void 0===n||n.call(e,{e:t.e})},p=function(e){d(e)},v=function(t){var n=t.e,r=t.value,i=t.index;e.onRemove({value:r,index:i,e:n})},h=function(){var e=r("default");return e?(e=e.map((function(e){return e.children&&Array.isArray(e.children)?e.children:e})).flat().filter((function(e){return"TTabPanel"===e.type.name})),e):[]},m=function(){var t,r,i=(null!==(t=e.list)&&void 0!==t&&t.length?e.list:h())||[],a=i.map((function(e){var t=e;return e.props&&Object.keys(e.props).forEach((function(n){t[n]=e.props[n]})),t})),l={theme:e.theme,value:s.value,size:e.size,disabled:e.disabled,placement:e.placement,addable:e.addable,panels:a,dragSort:e.dragSort};return(0,o.Wm)("div",{class:(r={},(0,_._)(r,"".concat(n.value,"-tabs__header"),!0),(0,_._)(r,"".concat(n.value,"-is-").concat(e.placement),!0),r)},[(0,o.Wm)(Un,(0,o.dG)(l,{onDragSort:e.onDragSort,onChange:p,onAdd:f,onRemove:v}),null)])},g=function(){var t,r=h();return null!==(t=e.list)&&void 0!==t&&t.length?e.list.map((function(e){return(0,o.Wm)(hn,(0,o.dG)(e,{onRemove:v}),null)})):r&&r.length?(0,o.Wm)("div",{class:["".concat(n.value,"-tabs__content")]},[r]):void console.warn("Tdesign error: list or slots is empty")};return function(){return(0,o.Wm)("div",{class:[t.value]},["bottom"!==e.placement?[m(),g()]:[g(),m()]])}}}),zn=(0,g.Z)(Hn),Zn=(0,g.Z)(hn);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var $n=(0,o.aZ)({name:"THeadMenu",props:Yn({},un),setup:function(e,t){var n=(0,w.ws)();(0,o.m0)((function(){t.slots.options&&nn.Z.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")}));var r=(0,T.BK)(e),i=r.value,a=r.modelValue,l=r.expanded,u=(0,gt.Z)(i,a,e.defaultValue,e.onChange),c=(0,ft._)(u,2),s=c[0],d=c[1],f=(0,rn.Z)(l,e.defaultExpanded,e.onExpand,"expanded"),p=(0,ft._)(f,2),v=p[0],h=p[1],m=(0,T.iH)([]),g=(0,o.Fl)((function(){return e.theme})),y=(0,o.Fl)((function(){return["".concat(n.value,"-menu"),"".concat(n.value,"-head-menu"),"".concat(n.value,"-menu--").concat(e.theme)]})),_=(0,T.iH)(e.expandType),S=(0,T.qj)([]),O=new tn({isMutex:!0,expandValues:v.value});(0,o.JJ)("TdMenu",{mode:_,theme:g,vMenu:O,isHead:!0,expandValues:v,activeValue:s,activeValues:m,select:function(e){d(e)},open:function(e,t){var n=(0,b._)(v.value),r=n.indexOf(e);"popup"===_.value?"add"===t?-1===r&&n.push(e):"remove"===t&&n.splice(r,1):(n.splice(0,1),-1===r&&n.push(e)),h(n)}});var k=function(e){d(e)},C=function(e){var t=O.getChild(e);S.length=0,S.push.apply(S,(0,b._)(t))};(0,o.YP)(v,(function(e){"normal"===_.value&&C(e[0])}));var x=function(e){m.value=O.select(e)};return(0,o.YP)(s,x),(0,o.YP)((function(){return e.expandType}),(function(e){_.value=e})),(0,o.bv)((function(){var e;m.value=O.select(s.value),(null===(e=v.value)||void 0===e?void 0:e.length)>0&&C(v.value[0])})),{classPrefix:n,mode:_,menuClass:y,expandValues:v,activeValue:s,activeValues:m,submenu:S,handleTabChange:k}},methods:{renderNormalSubmenu:function(){var e;return 0===this.submenu.length?null:(0,o.Wm)("ul",{class:["".concat(this.classPrefix,"-head-menu__submenu"),"".concat(this.classPrefix,"-submenu")]},[(0,o.Wm)(zn,{value:this.activeValue,onChange:this.handleTabChange},Gn(e=this.submenu.map((function(e){var t;return(0,o.Wm)(Zn,{value:e.value,label:null===(t=e.vnode()[0])||void 0===t?void 0:t.children},null)})))?e:{default:function(){return[e]}})])}},render:function(){var e=this.classPrefix,t=(0,Gt.r)(this,"operations","options"),n=(0,Gt.a)(this,"logo");return(0,o.Wm)("div",{class:this.menuClass},[(0,o.Wm)("div",{class:"".concat(e,"-head-menu__inner")},[n&&(0,o.Wm)("div",{class:"".concat(e,"-menu__logo")},[n]),(0,o.Wm)("ul",{class:"".concat(e,"-menu")},[(0,Gt.r)(this,"default","content")]),t&&(0,o.Wm)("div",{class:"".concat(e,"-menu__operations")},[t])]),"normal"===this.mode&&this.renderNormalSubmenu()])}}),Jn={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function},title:{type:[String,Function]},value:{type:[String,Number]}},qn=n(1417);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var er=(0,o.aZ)({name:"TSubmenu",props:Jn,setup:function(e,t){var n=(0,w.ws)(),r=(0,o.f3)("TdMenu"),i=r.theme,a=r.activeValues,l=r.expandValues,u=r.mode,c=r.isHead,s=r.open,d=(0,o.f3)("TdSubmenu",null),f=(0,T.iH)([]),p=(0,o.Fl)((function(){return a.value.indexOf(e.value)>-1})),v=(0,T.iH)(!1),h=(0,T.iH)(!1),m=(0,o.Fl)((function(){return"light"===i.value?"#E7E7E7":"#383838"})),g=(0,o.Fl)((function(){var t;return"popup"===u.value?v.value:!!l&&(null===(t=l.value)||void 0===t?void 0:t.includes(e.value))})),y=(0,T.iH)(!1),b=(0,T.iH)();(0,Dt.Z)(b,m);var S=(0,o.Fl)((function(){var t;return["".concat(n.value,"-submenu"),(t={},(0,_._)(t,"".concat(n.value,"-is-disabled"),e.disabled),(0,_._)(t,"".concat(n.value,"-is-opened"),g.value),t)]})),O=(0,o.Fl)((function(){return["".concat(n.value,"-menu__popup"),"".concat(n.value,"-menu__popup--").concat(i.value),"".concat(n.value,"-is-").concat(c?"horizontal":"vertical"),(0,_._)({},"".concat(n.value,"-is-opened"),v.value),"narrow-scrollbar"]})),k=(0,o.Fl)((function(){var t;return["".concat(n.value,"-menu__item"),"".concat(n.value,"-menu__item-spacer"),"".concat(n.value,"-menu__item-spacer--").concat(c&&!y.value?"bottom":"right"),(t={},(0,_._)(t,"".concat(n.value,"-is-disabled"),e.disabled),(0,_._)(t,"".concat(n.value,"-is-opened"),g.value),(0,_._)(t,"".concat(n.value,"-is-active"),p.value),t)]})),C=(0,o.Fl)((function(){return["".concat(n.value,"-menu__sub"),(0,_._)({},"".concat(n.value,"-is-opened"),g.value)]})),x=(0,o.Fl)((function(){return[(0,_._)({},"".concat(n.value,"-fake-arrow--active"),g.value)]})),P=function(){e.disabled||setTimeout((function(){v.value||s(e.value),v.value=!0}),0)},E=function(e){setTimeout((function(){var t,r=null===(t=e.relatedTarget)||void 0===t?void 0:t.classList.contains("".concat(n.value,"-menu__popup"));h.value||r||(v.value=!1)}),0)},I=function(e){var t=e.toElement,n=e.relatedTarget,r=t||n,i=function(e){return e===b.value};while(r!==document&&!i(r))r=r.parentNode;h.value=!1,i(r)||(v.value=!1)},D=function(){h.value=!0},j=function(){e.disabled||s(e.value)};(0,o.YP)(v,(function(t){r.open(e.value,t?"add":"remove")}));var R=(0,T.BK)(e),A=R.value;return(0,o.JJ)("TdSubmenu",(0,T.qj)({value:A,addMenuItem:function(e){f.value.push(e),d&&d.addMenuItem(e)}})),(0,o.bv)((function(){var n;null===r||void 0===r||null===(n=r.vMenu)||void 0===n||n.add({value:e.value,parent:null===d||void 0===d?void 0:d.value,vnode:t.slots["default"]});var i=(0,o.FN)(),a=i.parent;while(a&&!/^t(head)?menu/i.test(null===(l=a)||void 0===l?void 0:l.type.name)){var l,u,c;if(/submenu/i.test(null===(u=a)||void 0===u?void 0:u.type.name)){y.value=!0;break}a=null===(c=a)||void 0===c?void 0:c.parent}})),{classPrefix:n,menuItems:f,mode:u,theme:i,isHead:c,isNested:y,classes:S,subClass:C,arrowClass:x,popupClass:O,submenuClass:k,submenuRef:b,popupVisible:v,isCursorInPopup:h,handleEnterPopup:D,handleMouseEnter:P,handleMouseLeave:E,handleMouseLeavePopup:I,handleSubmenuItemClick:j}},methods:{renderPopup:function(e){var t=this,n="right-top";!this.isNested&&this.isHead&&(n="bottom-left");var r=(0,_._)({},"margin-".concat(this.isHead?"top":"left"),"20px"),i=(0,o.Wm)("div",{class:["".concat(this.classPrefix,"-menu__spacer"),"".concat(this.classPrefix,"-menu__spacer--").concat(!this.isNested&&this.isHead?"top":"left")],onMouseenter:this.handleEnterPopup,onMouseleave:this.handleMouseLeavePopup},[(0,o.Wm)("ul",{class:"".concat(this.classPrefix,"-menu__popup-wrapper")},[(0,Gt.r)(this,"default","content")])]),a=(0,o.Wm)("div",{ref:"submenuRef",class:this.submenuClass},[e,(0,o.Wm)("div",{class:this.popupClass},[i])]),l={content:function(){return i}},u=(0,o.Wm)(ht.G,{overlayInnerClassName:(0,b._)(this.popupClass),visible:this.popupVisible,placement:n,overlayInnerStyle:r},Qn({default:function(){return[(0,o.Wm)("div",{ref:"submenuRef",class:t.submenuClass},[e])]}},l));return this.isNested?a:u},renderHeadSubmenu:function(){var e=(0,Gt.a)(this,"icon"),t=[(0,o.Wm)("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[e,(0,o.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[(0,Gt.a)(this,"title",{silent:!0})])]),(0,o.Wm)("ul",{style:"opacity: 0; width: 0; height: 0; overflow: hidden"},[(0,Gt.r)(this,"default","content")])],n="popup"===this.mode&&this.isNested,r=[e,(0,o.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[(0,Gt.a)(this,"title",{silent:!0})]),(0,o.Wm)(qn.Z,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(n?-90:0,"deg)")}},null)];return"normal"===this.mode?t:this.renderPopup(r)},renderSubmenu:function(){var e=this.$slots.content||this.$slots["default"],t=(0,Gt.a)(this,"icon"),n=(0,Gt.r)(this,"default","content"),r=(0,o.FN)(),i=r.parent,a=44;while(i&&"TMenu"!==i.type.name)"TSubmenu"===i.type.name&&(a+=16),i=i.parent;var l="popup"===this.mode&&this.isNested,u=[(0,o.Wm)("div",{ref:"submenuRef",class:this.submenuClass,onClick:this.handleSubmenuItemClick},[t,(0,o.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[(0,Gt.a)(this,"title",{silent:!0})]),e&&(0,o.Wm)(qn.Z,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(l?-90:0,"deg)")}},null)]),(0,o.Wm)("ul",{class:this.subClass,style:{"--padding-left":"".concat(a,"px")}},[n])],c=[t,(0,o.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[(0,Gt.a)(this,"title",{silent:!0})]),(0,o.Wm)(qn.Z,{overlayClassName:this.arrowClass,overlayStyle:{transform:"rotate(".concat(l?-90:0,"deg)"),"margin-left":"auto"}},null)];return"normal"===this.mode?u:this.renderPopup(c)}},render:function(){var e=null,t={};return"popup"===this.mode&&(t={onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave}),Object.keys(this.$slots).length>0&&(e=this.isHead?this.renderHeadSubmenu():this.renderSubmenu()),(0,o.Wm)("li",(0,o.dG)({class:this.classes},t),[e])}}),tr={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},replace:Boolean,router:{type:Object},target:{type:String,validator:function(e){return!e||["_blank","_self","_parent","_top"].includes(e)}},to:{type:[String,Object]},value:{type:[String,Number]},onClick:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function nr(e,t){var n,r;"string"===typeof t&&(n=(0,Mt.sF)(t));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];"function"===typeof e.$props[n]?(r=e.$props)[n].apply(r,o):e.$emit.apply(e,[t].concat(o))}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var or=(0,o.aZ)({name:"TMenuItem",props:ir({},tr),emits:["click"],setup:function(e,t){var n=(0,w.ws)(),r=(0,o.f3)("TdMenu"),i=(0,T.iH)();(0,Dt.Z)(i);var a=(0,o.f3)("TdSubmenu",null),l=(0,o.Fl)((function(){return r.activeValue.value===e.value})),u=(0,o.Fl)((function(){var i;return["".concat(n.value,"-menu__item"),(i={},(0,_._)(i,"".concat(n.value,"-is-active"),l.value),(0,_._)(i,"".concat(n.value,"-is-disabled"),e.disabled),(0,_._)(i,"".concat(n.value,"-menu__item--plain"),!t.slots.icon&&!e.icon),(0,_._)(i,"".concat(n.value,"-submenu__item"),!!a&&!r.isHead),i)]}));return(0,o.bv)((function(){var n;null===r||void 0===r||null===(n=r.vMenu)||void 0===n||n.add({value:e.value,parent:null===a||void 0===a?void 0:a.value,vnode:t.slots["default"]})})),{classPrefix:n,menu:r,active:l,classes:u,itemRef:i}},methods:{handleClick:function(){if(!this.disabled)if(this.menu.select(this.value),nr(this,"click"),this.href)window.open(this.href,this.target);else if(this.to){var e=this.router||this.$router,t=this.replace?"replace":"push";e[t](this.to)["catch"]((function(e){if("NavigationDuplicated"!==e.name&&!e.message.includes("Avoided redundant navigation to current location"))throw e}))}}},render:function(){return(0,o.Wm)("li",{ref:"itemRef",class:this.classes,onClick:this.handleClick},[(0,Gt.a)(this,"icon"),(0,o.Wm)("span",{class:["".concat(this.classPrefix,"-menu__content")]},[(0,Gt.r)(this,"default","content")])])}}),ar={title:{type:[String,Function]}},lr=(0,o.aZ)({name:"TMenuGroup",props:ar,setup:function(){var e=(0,w.ws)();return{classPrefix:e}},render:function(){var e=this.classPrefix;return(0,o.Wm)("div",{class:"".concat(e,"-menu-group")},[(0,o.Wm)("div",{class:"".concat(e,"-menu-group__title")},[this.title]),(0,Gt.a)(this,"default")])}}),ur=(0,g.Z)(ln),cr=(0,g.Z)($n),sr=(0,g.Z)(er),dr=(0,g.Z)(or),fr=(0,g.Z)(lr),pr=n(3430),vr=n(4942),hr=n(8030),mr=vr._,gr=hr.i,yr="[object Number]";function br(e){return"number"==typeof e||gr(e)&&mr(e)==yr}var _r=br;function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.4 4.46l-.91-.92L7.03 8l4.46 4.46.92-.92L8.86 8l3.55-3.54zM4.8 4v8h1.3V4H4.8z",fillOpacity:.9}}]},kr=(0,o.aZ)({name:"PageFirstIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-page-first",i.value])),c=(0,o.Fl)((()=>Sr(Sr({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Or,s.value)}});function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.6 11.54l.91.92L8.97 8 4.51 3.54l-.92.92L7.14 8l-3.55 3.54zm7.6.46V4H9.9v8h1.3z",fillOpacity:.9}}]},Er=(0,o.aZ)({name:"PageLastIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-page-last",i.value])),c=(0,o.Fl)((()=>xr(xr({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Pr,s.value)}});function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13.04 4.46l-.92-.92L7.66 8l4.46 4.46.92-.92L9.5 8l3.54-3.54z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8.04 4.46l-.92-.92L2.66 8l4.46 4.46.92-.92L4.5 8l3.54-3.54z",fillOpacity:.9}}]},jr=(0,o.aZ)({name:"ChevronLeftDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-chevron-left-double",i.value])),c=(0,o.Fl)((()=>Ir(Ir({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Dr,s.value)}});function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.96 11.54l.92.92L8.34 8 3.88 3.54l-.92.92L6.5 8l-3.54 3.54zm5 0l.92.92L13.34 8 8.88 3.54l-.92.92L11.5 8l-3.54 3.54z",fillOpacity:.9}}]},Mr=(0,o.aZ)({name:"ChevronRightDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-chevron-right-double",i.value])),c=(0,o.Fl)((()=>Ar(Ar({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Fr,s.value)}});function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 9a1 1 0 110-2 1 1 0 010 2zM7 8a1 1 0 102 0 1 1 0 00-2 0zM12 8a1 1 0 102 0 1 1 0 00-2 0z",fillOpacity:.9}}]},Vr=(0,o.aZ)({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-ellipsis",i.value])),c=(0,o.Fl)((()=>Lr(Lr({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Wr,s.value)}});function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.5 7.35h9v1.3h-9v-1.3z",fillOpacity:.9}}]},zr=(0,o.aZ)({name:"RemoveIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-remove",i.value])),c=(0,o.Fl)((()=>Ur(Ur({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Hr,s.value)}}),Zr=n(6652),Kr=n(3585),Yr=n(4230),Gr={align:{type:String,validator:function(e){return!e||["left","center","right"].includes(e)}},autoWidth:Boolean,decimalPlaces:{type:Number,default:void 0},disabled:Boolean,format:{type:Function},inputProps:{type:Object},label:{type:[String,Function]},largeNumber:Boolean,max:{type:[String,Number],default:1/0},min:{type:[String,Number],default:-1/0},placeholder:{type:String,default:void 0},readonly:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},step:{type:[String,Number],default:1},suffix:{type:[String,Function]},theme:{type:String,default:"row",validator:function(e){return!e||["column","row","normal"].includes(e)}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $r(){var e=(0,k.Z)(),t=e.classPrefix,n={small:"".concat(t.value,"-size-s"),medium:"".concat(t.value,"-size-m"),large:"".concat(t.value,"-size-l"),default:"",xs:"".concat(t.value,"-size-xs"),xl:"".concat(t.value,"-size-xl"),block:"".concat(t.value,"-size-full-width")},r={loading:"".concat(t.value,"-is-loading"),loadMore:"".concat(t.value,"-is-load-more"),disabled:"".concat(t.value,"-is-disabled"),focused:"".concat(t.value,"-is-focused"),success:"".concat(t.value,"-is-success"),error:"".concat(t.value,"-is-error"),warning:"".concat(t.value,"-is-warning"),selected:"".concat(t.value,"-is-selected"),active:"".concat(t.value,"-is-active"),checked:"".concat(t.value,"-is-checked"),current:"".concat(t.value,"-is-current"),hidden:"".concat(t.value,"-is-hidden"),visible:"".concat(t.value,"-is-visible"),expanded:"".concat(t.value,"-is-expanded"),indeterminate:"".concat(t.value,"-is-indeterminate")};return{classPrefix:t,sizeClassNames:n,statusClassNames:r,classNames:{size:n,status:r}}}var Jr=n(8137);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function qr(e){return new Array(e).fill(0).join("")}function Xr(e){if(!e)return!0;if("number"===typeof e)return Number.isNaN(e);var t=/^[0-9|e|E|-]+\.*[0-9|e|E|-]*$/.test(e);if(!t)return!1;for(var n=0,r=0,i=0,o=0,a=e.length;o<a;o++){if("."===e[o]&&(i+=1,i>1))return!1;if(/(e|E)+/.test(e[o])&&(n+=1,n>1))return!1;if("-"===e[o]&&(r+=1,r>2))return!1}return!0}function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return-1!==e.indexOf(".")?(nn.Z.error("InputNumber","num is not a integer number."),e):!e||"0"===e&&t?"":"0"===e?e:(t?e.replace(/0+$/,""):e.replace(/^0+/,""))||"0"}function ei(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Qr(e,n),i=Qr(t,n),o=r.length>i.length,a=o?r:i,l=o?i:r,u=[],c=[],s=n?0:a.length-l.length,d=n?l.length:a.length,f=d-1;f>=0;f--){var p=f-s,v=Number(a[f])+(Number(l[p])||0)+(c[f]||0);v>=10&&(c[f-1]=1),u.unshift(String(v%10))}return c[-1]&&u.unshift("1"),n?u.concat(a.slice(d,a.length)).join(""):u.join("")}function ti(e,t){var n=e.split("."),r=(0,ft._)(n,2),i=r[0],o=void 0===i?"0":i,a=r[1],l=void 0===a?"0":a,u=t.split("."),c=(0,ft._)(u,2),s=c[0],d=void 0===s?"0":s,f=c[1],p=void 0===f?"0":f,v=ei(o,d);if("0"===l&&"0"===p)return v;var h=Qr(l,!0),m=Qr(p,!0),g=ei(h,m,!0),y=g.length;return y>h.length&&y>m.length?[Qr(ei(v,"1")),Qr(g.slice(1),!0)].filter((function(e){return e})).join("."):[Qr(v),Qr(g,!0)].filter((function(e){return e})).join(".")}function ni(e,t){var n=Qr(e),r=Qr(t);if(n.length===r.length){for(var i=0,o=n.length;i<o;i++){if(n[i]>r[i])return 1;if(n[i]<r[i])return-1}return 0}return n.length>r.length?1:-1}function ri(e,t){for(var n=e&&"0"!==e?e.replace(/0+$/,""):"0",r=t&&"0"!==t?t.replace(/0+$/,""):"0",i=Math.max(n.length,r.length),o=0,a=i;o<a;o++){if((n[o]||0)>(r[o]||0))return 1;if((n[o]||0)<(r[o]||0))return-1}return 0}function ii(e,t){var n=e.split("."),r=(0,ft._)(n,2),i=r[0],o=r[1],a=t.split("."),l=(0,ft._)(a,2),u=l[0],c=l[1],s=ni(i.replace("-",""),u.replace("-","")),d=i.includes("-"),f=u.includes("-");return d&&!f?-1:!d&&f?1:d&&f?0===s?0:s>0?-1:1:0===s?ri(o,c):s}function oi(e){return[-1/0,1/0].includes(Number(e))}function ai(e){return Number(e)<Number.MAX_SAFE_INTEGER&&Number(e)>Number.MIN_SAFE_INTEGER}function li(e,t,n){var r=ai(e)&&ai(t)&&!n,i=oi(e)||oi(t);return r||i?Number(e)===Number(t)?0:Number(e)>Number(t)?1:-1:ii(String(e),String(t))}function ui(e,t,n){if(e===t)return"0";for(var r=n||{},i=r.decimal,o=r.stayZero,a=Qr(e),l=Qr(t),u=ni(a,l)>0,c=u?a:l,s=u?l:a,d=[],f=[],p=i?0:c.length-s.length,v=i?s.length:c.length,h=v-1;h>=0;h--){var m=h-p,g=Number(c[h])-(Number(s[m])||0)-(f[h]||0);g<0&&(f[h-1]=1,g+=10),d.unshift(String(g))}if(i)return d.concat(c.slice(v,c.length)).join("");var y=d.join("");return o||(y=y.replace(/^0+/,"")),Qr(u?y:"-".concat(y))}function ci(e,t){if(e===t)return"0";var n=li(e,t,!0)>0,r=n?e:t,i=n?t:e,o=r.split("."),a=(0,ft._)(o,2),l=a[0],u=a[1],c=void 0===u?"0":u,s=i.split("."),d=(0,ft._)(s,2),f=d[0],p=d[1],v=void 0===p?"0":p,h=ui(l,f);if("0"===c&&"0"===v)return n?h:"-".concat(h);var m="",g=c;c.length<v.length&&(g="".concat(c).concat(qr(v.length-c.length))),ri(g,v)>=0?m=ui(g,v,{decimal:!0}):(c.length<v.length||"0"===c?(m=ui("1".concat(g),v,{stayZero:!0}),m=qr(v.length-m.length)+m):m=ui(c,v,{decimal:!0}),h=ui(h,"1"));var y=m?[h,m].join("."):h;return n?y:"-".concat(y)}function si(e,t){var n="-"===e[0],r="-"===t[0];if(n&&!r){var i=ti(e.slice(1),t);return"-".concat(i)}return n&&r?ci(t.slice(1),e.slice(1)):!n&&r?ti(e,t.slice(1)):ci(e,t)}function di(e,t){var n="-"===e[0],r="-"===t[0];if(n&&!r)return ci(t,e.slice(1));if(n&&r){var i=ti(t.slice(1),e.slice(1));return"-".concat(i)}return!n&&r?ci(e,t.slice(1)):ti(e,t)}function fi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return Number(e).toFixed(t);if("string"!==typeof e)return String(e);var r=e.split("."),i=(0,ft._)(r,2),o=i[0],a=i[1];if(!a)return t?[e,qr(t)].join("."):e;if(0===t)return Number(a[0])>=5?ti(o,"1"):o;var l=a.slice(0,t);return a.length<t?l+=qr(t-a.length):l=Number(a[t])>=5?ti(l,"1"):l,[o,l].join(".")}function pi(e){var t=e.split("e"),n=(0,ft._)(t,2),r=n[0],i=n[1],o=e.split("."),a=(0,ft._)(o,2),l=a[0],u=a[1],c=void 0===u?"":u,s=Number(i),d=c.split("e"),f=(0,ft._)(d,1),p=f[0];if(s>p.length){var v=qr(s-p.length);return r.replace(/(^0+|\.)/g,"")+v}var h=l.replace(/^0+/,"")+p.slice(0,s),m=p.slice(s);return m?[h,m].join("."):h}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||(n&&(0,Jr.i)(e)?li(e,t,n)<0:e<t)}function hi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||(n&&(0,Jr.i)(e)?li(e,t,n)>0:e>t)}function mi(e,t){if(void 0===e||null===e||""===e)return e;if("-"===e)return 0;if("."===e[e.length-1])return e.slice(0,-1);var n=(null===t||void 0===t?void 0:t.largeNumber)&&(0,Jr.i)(e),r=e;return((0,Jr.i)(e)&&e.includes("e")||_r(e))&&(r=n?pi(e):Number(e)),void 0!==(null===t||void 0===t?void 0:t.decimalPlaces)&&(r=fi(r,t.decimalPlaces,t.largeNumber)),n||void 0!==(null===t||void 0===t?void 0:t.decimalPlaces)?r:Number(r)}function gi(e,t){if(""!==e){var n=t.max,r=t.min,i=t.lastValue,o=t.largeNumber;return Xr(e)?!o||!(0,Jr.i)(n)&&n!==1/0||!(0,Jr.i)(r)&&r!==-1/0?Math.max(Number(r),Math.min(Number(n),Number(e))):li(n,e,o)<0?n:li(r,e,o)>0?r:e:i}}function yi(e,t){var n,r;if(!e||!t)return(e||0)+(t||0);var i=(null===(n=e.toString().split(".")[1])||void 0===n?void 0:n.length)||0,o=(null===(r=t.toString().split(".")[1])||void 0===r?void 0:r.length)||0;if(!i||!o)return e+t;var a=e,l=t,u=Math.abs(i-o),c=Math.pow(10,Math.max(i,o));if(u>0){var s=Math.pow(10,u);i>o?(a=Number(e.toString().replace(".","")),l=Number(t.toString().replace(".",""))*s):(a=Number(e.toString().replace(".",""))*s,l=Number(t.toString().replace(".","")))}else a=Number(e.toString().replace(".","")),l=Number(t.toString().replace(".",""));return(a+l)/c}function bi(e,t){var n,r;if(!e||!t)return(e||0)-(t||0);var i=(null===(n=e.toString().split(".")[1])||void 0===n?void 0:n.length)||0,o=(null===(r=t.toString().split(".")[1])||void 0===r?void 0:r.length)||0,a=Math.pow(10,Math.max(i,o)),l=i>=o?i:o;return Number(((e*a-t*a)/a).toFixed(l))}function _i(e,t){return e<0&&t>0?bi(t,Math.abs(e)):e<0&&t<0?-1*yi(Math.abs(e),Math.abs(t)):e>0&&t<0?bi(e,Math.abs(t)):yi(e,t)}function wi(e,t){return e<0&&t>0?-1*yi(Math.abs(e),t):e<0&&t<0?bi(Math.abs(t),Math.abs(e)):e>0&&t<0?yi(e,Math.abs(t)):bi(e,t)}function Si(e){var t=e.op,n=e.step,r=e.lastValue,i=void 0===r?0:r,o=e.max,a=e.min,l=e.largeNumber;if(n<=0)return nn.Z.error("InputNumber","step must be larger than 0."),i;var u,c=_r(n)?String(n):n;return"add"===t?u=l&&(0,Jr.i)(i)?di(String(i),String(c)):_i(Number(i||0),Number(n)):"reduce"===t&&(u=l&&(0,Jr.i)(i)?si(String(i),String(c)):wi(Number(i||0),Number(n))),void 0===i&&(u=gi(u,{max:o,min:a,lastValue:i,largeNumber:l})),l?u:Number(u)}function Oi(e){var t,n=e.largeNumber,r=e.value,i=e.max,o=e.min;if(void 0!==n)return n&&_r(r)&&nn.Z.warn("InputNumber","largeNumber value must be a string."),t=li(r,i,n)>0?"exceed-maximum":li(r,o,n)<0?"below-minimum":void 0,t}function ki(e,t){if(!e&&"string"===typeof e)return!0;var n=t&&Xr(e)||!Number.isNaN(Number(e));return!(!n&&!["-",".","e","E"].includes(e.slice(-1)))}var Ci=n(9044);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xi(e){var t=$r(),n=t.classPrefix,r=t.sizeClassNames,i=t.statusClassNames,a=(0,T.BK)(e),l=a.value,u=a.modelValue,c=a.max,s=a.min,d=(0,gt.Z)(l,u,e.defaultValue,e.onChange,"change"),f=(0,ft._)(d,2),p=f[0],v=f[1],h=(0,T.iH)(),m=(0,T.iH)(""),g=(0,T.iH)(),y=(0,Ci.D)(),b=(0,T.iH)(),w=(0,o.Fl)((function(){return y.value||!hi(p.value,e.min,e.largeNumber)})),S=(0,o.Fl)((function(){return y.value||!vi(p.value,e.max,e.largeNumber)})),O=(0,o.Fl)((function(){var t;return["".concat(n.value,"-input-number"),r[e.size],(t={},(0,_._)(t,i.disabled,y.value),(0,_._)(t,"".concat(n.value,"-is-controls-right"),"column"===e.theme),(0,_._)(t,"".concat(n.value,"-input-number--").concat(e.theme),e.theme),(0,_._)(t,"".concat(n.value,"-input-number--auto-width"),e.autoWidth),t)]})),k=(0,o.Fl)((function(){return["".concat(n.value,"-input-number__decrease"),(0,_._)({},i.disabled,w.value)]})),C=(0,o.Fl)((function(){return["".concat(n.value,"-input-number__increase"),(0,_._)({},i.disabled,S.value)]})),x=function(t){var n,r;if(!t&&0!==t)return"";var i=String(t);return null!==(n=h.value)&&void 0!==n&&null!==(r=n.inputRef)&&void 0!==r&&r.contains(document.activeElement)||(i=String(mi(i,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber})),e.format&&(i=String(e.format(t,{fixedNumber:i})))),i};(0,o.YP)(p,(function(e){var t=[void 0,null].includes(e)?"":String(e);m.value=x(t)}),{immediate:!0}),(0,o.bv)((function(){m.value=x(p.value)})),(0,o.YP)([p,c,s],(function(){var t;if(![void 0,"",null].includes(p.value)){var n=Oi({value:p.value,largeNumber:e.largeNumber,max:e.max,min:e.min});b.value=n,null===(t=e.onValidate)||void 0===t||t.call(e,{error:n})}}),{immediate:!0});var P=function(t){return Si({op:t,step:e.step,max:e.max,min:e.min,lastValue:p.value,largeNumber:e.largeNumber})},E=function(t){if(!w.value&&!e.readonly){var n=P("reduce");v(n,{type:"reduce",e:t})}},I=function(t){if(!S.value&&!e.readonly){var n=P("add");v(n,{type:"add",e:t})}},D=function(t,n){if(ki(t,e.largeNumber)){m.value=t;var r="deleteContentBackward"===n.e.inputType,i=r||e.largeNumber||!t?t:Number(t);i===p.value||["-",".","e","E"].includes(t.slice(-1))||v(i,{type:"input",e:n.e})}},j=function(t,n){var r;m.value=x(p.value);var i=mi(t,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber});i!==t&&String(i)!==t&&v(i,{type:"blur",e:n.e}),null===(r=e.onBlur)||void 0===r||r.call(e,i,n)},R=function(t,n){var r;m.value=p.value||0===p.value?String(p.value):"",null===(r=e.onFocus)||void 0===r||r.call(e,t,n)},A=function(t,n){var r,i=n.e,o={ArrowUp:I,ArrowDown:E},a=i.code||i.key;void 0!==o[a]&&o[a](i),null===(r=e.onKeydown)||void 0===r||r.call(e,t,n)},F=function(t,n){var r;null===(r=e.onKeyup)||void 0===r||r.call(e,t,n)},M=function(t,n){var r;null===(r=e.onKeypress)||void 0===r||r.call(e,t,n)},N=function(t,n){var r;m.value=x(t);var i=mi(t,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber});i!==t&&String(i)!==t&&v(i,{type:"enter",e:n.e}),null===(r=e.onEnter)||void 0===r||r.call(e,i,n)},L=function(){h.value.focus()},W=function(){h.value.blur()},V={onBlur:j,onFocus:R,onKeydown:A,onKeyup:F,onKeypress:M,onEnter:N,onClick:L};return{classPrefix:n,wrapClasses:O,reduceClasses:k,addClasses:C,displayValue:g,tDisabled:y,isError:b,listeners:V,userInput:m,tValue:p,inputRef:h,focus:L,blur:W,handleReduce:E,handleAdd:I,onInnerInputChange:D}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ti=(0,o.aZ)({name:"TInputNumber",props:Gr,setup:function(e,t){var n=(0,it.J)({AddIcon:wn,RemoveIcon:zr,ChevronDownIcon:Zr.Z,ChevronUpIcon:Kr.Z}),i=n.AddIcon,a=n.RemoveIcon,l=n.ChevronDownIcon,u=n.ChevronUpIcon,c=xi(e),s=c.inputRef;return t.expose(Ei({},c)),function(){var n="column"===e.theme?(0,o.Wm)(l,{size:e.size},null):(0,o.Wm)(a,{size:e.size},null),d="column"===e.theme?(0,o.Wm)(u,{size:e.size},null):(0,o.Wm)(i,{size:e.size},null),f=c.isError.value?"error":e.status;return(0,o.Wm)("div",{class:c.wrapClasses.value},["normal"!==e.theme&&(0,o.Wm)(r.z,{class:c.reduceClasses.value,disabled:c.tDisabled.value,onClick:c.handleReduce,variant:"outline",shape:"square",icon:function(){return n}},null),(0,o.Wm)(Yr.II,(0,o.dG)({ref:s,disabled:c.tDisabled.value,readonly:e.readonly,autocomplete:"off",placeholder:e.placeholder,unselectable:e.readonly?"on":"off",autoWidth:e.autoWidth,align:e.align||("row"===e.theme?"center":void 0),status:f,label:e.label,suffix:e.suffix},c.listeners,e.inputProps,{value:c.userInput.value,onChange:c.onInnerInputChange}),t.slots),"normal"!==e.theme&&(0,o.Wm)(r.z,{class:c.addClasses.value,disabled:c.tDisabled.value,onClick:c.handleAdd,variant:"outline",shape:"square",icon:function(){return d}},null),e.tips&&(0,o.Wm)("div",{class:"".concat(c.classPrefix.value,"-input__tips ").concat(c.classPrefix.value,"-input__tips--").concat(f)},[e.tips])])}}}),Ii=(0,g.Z)(Ti),Di=n(6540),ji={append:{type:[String,Function]},prepend:{type:[String,Function]}},Ri=(0,o.aZ)({name:"TInputAdornment",inheritAttrs:!1,props:ji,setup:function(e,t){var n=t.slots,r=(0,w.ws)("input-adornment"),i=(0,S.sL)(),a=function(e,t,i){var a;return a=n[t]?n[t](null):"string"===typeof i?i:"function"===typeof i?i(e):null,a?(0,o.Wm)("span",{class:"".concat(r.value,"__").concat(t)},[a]):a};return function(){var t,n=a(o.h,"prepend",e.prepend),l=a(o.h,"append",e.append),u=i("default")||[null],c=[r.value,(t={},(0,_._)(t,"".concat(r.value,"--prepend"),n),(0,_._)(t,"".concat(r.value,"--append"),l),t)];return n||l?(0,o.Wm)("div",{class:c},[n,u[0],l]):u[0]}}}),Ai=(0,g.Z)(Ri),Fi={current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:1},disabled:Boolean,foldedMaxPageBtn:{type:Number,default:5},maxPageBtn:{type:Number,default:10},pageEllipsisMode:{type:String,default:"mid",validator:function(e){return!e||["mid","both-ends"].includes(e)}},pageSize:{type:Number,default:void 0},defaultPageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:function(){return[5,10,20,50]}},showFirstAndLastPageBtn:Boolean,showJumper:Boolean,showPageNumber:{type:Boolean,default:!0},showPageSize:{type:Boolean,default:!0},showPreviousAndNextBtn:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return!e||["default","simple"].includes(e)}},total:{type:Number,default:0},totalContent:{type:[Boolean,Function],default:!0},onChange:Function,onCurrentChange:Function,onPageSizeChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Mi(e,t,n,r){var i=(0,w.RH)(),a=i.SIZE,l=i.STATUS,u=(0,o.Fl)((function(){var t=Math.ceil(e.total/n.value);return t>0?t:1})),c=(0,o.Fl)((function(){return["".concat(r.value),a.value[e.size],(0,_._)({},l.value.disabled,e.disabled)]})),s=(0,o.Fl)((function(){return["".concat(r.value,"__total")]})),d=(0,o.Fl)((function(){return["".concat(r.value,"__select")]})),f=(0,o.Fl)((function(){return["".concat(r.value,"__btn"),"".concat(r.value,"__btn-prev"),(0,_._)({},l.value.disabled,e.disabled||1===t.value)]})),p=(0,o.Fl)((function(){return["".concat(r.value,"__btn"),"".concat(r.value,"__btn-next"),(0,_._)({},l.value.disabled,e.disabled||t.value===u.value)]})),v=(0,o.Fl)((function(){return["".concat(r.value,"__pager")]})),h=(0,o.Fl)((function(){return["".concat(r.value,"__number"),"".concat(r.value,"__number--more"),(0,_._)({},l.value.disabled,e.disabled)]})),m=(0,o.Fl)((function(){return["".concat(r.value,"__jump")]})),g=(0,o.Fl)((function(){return["".concat(r.value,"__input")]})),y=(0,o.Fl)((function(){return["".concat(r.value,"__select")]})),b=function(n){var i;return["".concat(r.value,"__number"),(i={},(0,_._)(i,l.value.disabled,e.disabled),(0,_._)(i,l.value.current,t.value===n),i)]};return{pageCount:u,paginationClass:c,totalClass:s,sizerClass:d,preBtnClass:f,nextBtnClass:p,btnWrapClass:v,btnMoreClass:h,jumperClass:m,jumperInputClass:g,simpleClass:y,getButtonClass:b}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ni(e,t,n){var r=(0,T.iH)(!1),i=(0,T.iH)(!1),a=(0,o.Fl)((function(){return Math.ceil((e.foldedMaxPageBtn-1)/2)})),l=(0,o.Fl)((function(){return Math.ceil((e.foldedMaxPageBtn-1)/2)})),u=(0,o.Fl)((function(){return 2+a.value<n.value})),c=(0,o.Fl)((function(){return t.value-1-l.value>n.value}));return{prevMore:r,nextMore:i,curPageLeftCount:a,curPageRightCount:l,isPrevMoreShow:u,isNextMoreShow:c}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Li=_r;function Wi(e){return Li(e)&&e!=+e}var Vi=Wi,Bi=["pageCount"];function Ui(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Hi=1,zi=(0,o.aZ)({name:"TPagination",props:Fi,setup:function(e){var t=(0,T.BK)(e),n=t.modelValue,r=t.pageSize,i=t.current,a=(0,S.sL)(),l=(0,gt.Z)(i,n,e.defaultCurrent,e.onCurrentChange,"current"),u=(0,ft._)(l,2),c=u[0],s=u[1],d=(0,rn.Z)(r,e.defaultPageSize,e.onPageSizeChange,"pageSize"),f=(0,ft._)(d,2),p=f[0],v=f[1],h=(0,k.Z)("pagination"),m=h.t,g=h.globalConfig,y=(0,w.ws)("pagination"),b=(0,it.J)({PageFirstIcon:kr,PageLastIcon:Er,ChevronLeftIcon:gn.Z,ChevronRightIcon:st.Z,ChevronLeftDoubleIcon:jr,ChevronRightDoubleIcon:Mr,EllipsisIcon:Vr}),_=b.PageFirstIcon,O=b.PageLastIcon,C=b.ChevronLeftIcon,x=b.ChevronRightIcon,P=b.ChevronLeftDoubleIcon,E=b.ChevronRightDoubleIcon,I=b.EllipsisIcon,D=Mi(e,c,p,y),j=D.pageCount,R=(0,pr._)(D,Bi),A=Ni(e,j,c),F=A.prevMore,M=A.isPrevMoreShow,N=A.curPageLeftCount,L=A.nextMore,W=A.isNextMoreShow,V=A.curPageRightCount,B=(0,T.iH)(c.value),U=(0,o.Fl)((function(){return j.value>e.maxPageBtn})),H=((0,o.Fl)((function(){for(var e=[],t=1;t<=j.value;t++)e.push({value:t,label:"".concat(t,"/").concat(j.value)});return e})),(0,o.Fl)((function(){var t=e.pageSizeOptions,n=t.map((function(e){return"object"===(0,Ce._)(e)?e:{label:m(g.value.itemsPerPage,{size:e}),value:Number(e)}}));return n.sort((function(e,t){return e.value-t.value}))}))),z=(0,o.Fl)((function(){return"mid"===e.pageEllipsisMode})),Z=(0,o.Fl)((function(){var t,n,r=[];if(U.value)if(M.value&&W.value)t=c.value-N.value,n=c.value+V.value;else{var i=z.value?2:1,o=z.value?j.value-1:j.value;t=M.value?j.value-e.foldedMaxPageBtn+1:i,n=M.value?o:e.foldedMaxPageBtn}else t=1,n=j.value;for(var a=t;a<=n;a++)r.push(a);return r}));(0,o.YP)((function(){return j.value}),(function(){c.value>j.value&&(c.value=1)})),(0,o.YP)((function(){return c.value}),(function(e){return B.value=e}));var K=function(t,n){if(!e.disabled){var r=t;if(t<Hi?r=Hi:t>j.value&&(r=j.value),c.value!==r){var i,o=c.value,a={current:r,previous:o,pageSize:p.value};if(!1!==n)null===(i=e.onChange)||void 0===i||i.call(e,a);s(r,a)}}},Y=function(t){var n={prevPage:function(){return K(c.value-1)},nextPage:function(){return K(c.value+1)},prevMorePage:function(){return K(c.value-e.foldedMaxPageBtn)},nextMorePage:function(){return K(c.value+e.foldedMaxPageBtn)}};n[t]()},G=function(t){var n;if(!e.disabled){var r=parseInt(t,10),i=1;r>0&&(i=Math.ceil(e.total/r));var o=!1;c.value>i&&(o=!0);var a={current:o?i:c.value,previous:c.value,pageSize:r};null===(n=e.onChange)||void 0===n||n.call(e,a),v(r,a),o&&K(i,!1)}},$=function(e){var t=Math.trunc(+e);Vi(t)||(B.value=t,K(t))};return function(){var t,n=e.total,r=e.pageSizeOptions,i=e.size,l=e.disabled,u=e.showPageSize;if(j.value<1)return null;var s=(0,o.Wm)("div",{class:R.jumperClass.value},[m(g.value.jumpTo),(0,o.Wm)(Ai,{append:"/ ".concat(j.value," ").concat(m(g.value.page))},{default:function(){return[(0,o.Wm)(Ii,{class:R.jumperInputClass.value,modelValue:B.value,"onUpdate:modelValue":function(e){return B.value=e},onBlur:$,onEnter:$,max:j.value,min:Hi,size:i,disabled:l,theme:"normal",placeholder:""},null)]}})]);return(0,o.Wm)("div",{class:R.paginationClass.value},[a("totalContent",(0,o.Wm)("div",{class:R.totalClass.value},[m(g.value.total,{total:n})])),u&&r.length>0&&(0,o.Wm)(Di.Ph,{size:i,value:p,disabled:l,class:R.sizerClass.value,autoWidth:!0,onChange:G},Ui(t=H.value.map((function(e,t){return(0,o.Wm)(Di.Wx,{value:e.value,label:e.label,key:t},null)})))?t:{default:function(){return[t]}}),e.showFirstAndLastPageBtn?(0,o.Wm)("div",{class:R.preBtnClass.value,onClick:function(){return K(1)},disabled:e.disabled||e.current===Hi},[(0,o.Wm)(_,null,null)]):null,e.showPreviousAndNextBtn?(0,o.Wm)("div",{class:R.preBtnClass.value,onClick:function(){return Y("prevPage")},disabled:l||c.value===Hi},[(0,o.Wm)(C,null,null)]):null,e.showPageNumber&&"default"===e.theme?(0,o.Wm)("ul",{class:R.btnWrapClass.value},[U.value&&z.value&&(0,o.Wm)("li",{class:R.getButtonClass(1),onClick:function(){return K(Hi)}},[Hi]),U.value&&M.value&&z.value?(0,o.Wm)("li",{class:R.btnMoreClass.value,onClick:function(){return Y("prevMorePage")},onMouseOver:function(){return F.value=!0},onMouseOut:function(){return F.value=!1}},[F.value?(0,o.Wm)(P,null,null):(0,o.Wm)(I,null,null)]):null,Z.value.map((function(e){return(0,o.Wm)("li",{class:R.getButtonClass(e),key:e,onClick:function(){return K(e)}},[e])})),U.value&&W.value&&z.value?(0,o.Wm)("li",{class:R.btnMoreClass.value,onClick:function(){return Y("nextMorePage")},onMouseOver:function(){return L.value=!0},onMouseOut:function(){return L.value=!1}},[L.value?(0,o.Wm)(E,null,null):(0,o.Wm)(I,null,null)]):null,U.value&&z.value?(0,o.Wm)("li",{class:R.getButtonClass(j.value),onClick:function(){return K(j.value)}},[j.value]):null]):null,"simple"===e.theme&&s,e.showPreviousAndNextBtn?(0,o.Wm)("div",{class:R.nextBtnClass.value,onClick:function(){return Y("nextPage")},disabled:l||c.value===j.value},[(0,o.Wm)(x,null,null)]):null,e.showFirstAndLastPageBtn?(0,o.Wm)("div",{class:R.nextBtnClass.value,onClick:function(){return K(j.value)},disabled:l||c.value===j.value},[(0,o.Wm)(O,null,null)]):null,"default"===e.theme&&e.showJumper&&s])}}}),Zi=(0,g.Z)(zi),Ki={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number]},layout:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},options:{type:Array},readonly:Boolean,separator:{type:String,default:"line",validator:function(e){return!e||["line","dashed","arrow"].includes(e)}},sequence:{type:String,default:"positive",validator:function(e){return!e||["positive","reverse"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return!e||["default","dot"].includes(e)}},onChange:Function},Yi={content:{type:[String,Function],default:""},default:{type:[String,Function]},extra:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(e){return!e||["default","process","finish","error"].includes(e)}},title:{type:[String,Function],default:""},value:{type:[String,Number]}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ji=(0,o.aZ)({name:"TSteps",props:$i({},Ki),setup:function(e){var t=(0,w.ws)("steps"),n=(0,T.BK)(e),r=n.current,i=n.modelValue,a=(0,gt.Z)(r,i,e.defaultCurrent,e.onChange,"current"),l=(0,ft._)(a,2),u=l[0],c=l[1];(0,o.JJ)("StepsState",(0,T.qj)({current:u,setCurrent:c})),(0,o.JJ)("StepsProps",e);var s=(0,T.iH)({});(0,o.m0)((function(){var t;e.options&&(null===(t=e.options)||void 0===t||t.forEach((function(e,t){void 0!==e.value&&(s.value[e.value]=t)})))}));var d=function(t,n){if(t.status&&"default"!==t.status)return t.status;if("FINISH"===u.value)return"finish";if(void 0===t.value){if("positive"===e.sequence&&n<u.value)return"finish";if("reverse"===e.sequence&&n>u.value)return"finish"}if(void 0!==t.value){var r=s.value[u.value];if(void 0===r)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if("positive"===e.sequence&&n<r)return"finish";if("reverse"===e.sequence&&n>r)return"finish"}var i=void 0===t.value?n:t.value;return i===u.value?"process":"default"},f=(0,_e.N)(),p=function(t){var n=[];return null===t||void 0===t||t.forEach((function(t){var r=null===t||void 0===t?void 0:t.props,i=null===t||void 0===t?void 0:t.children;if(r||i){if(i&&(0,D.i)(i))for(var o in i)o in Yi&&!r[o]&&(r[o]=i[o]);"reverse"===e.sequence?n.unshift(r):n.push(r)}})),n},v=function(){var t,n;if(null!==(t=e.options)&&void 0!==t&&t.length)n="reverse"===e.sequence?e.options.slice().reverse():e.options;else{var r=f("StepItem");n=p(r)}return n},h=function(){var t=null,n=v(),r=f("StepItem");return t=n.map((function(t,i){var a="reverse"===e.sequence?n.length-i-1:i,l=(0,o.Wm)((0,o.up)("t-step-item"),(0,o.dG)(t,{index:a,status:d(t,i),key:t.value||i}),null);if(r&&r[i]){var u=r[i];return u.props=$i($i({},t),{},{index:a,status:d(t,i)}),u}return l})),t},m=function(){var t=e.theme,n=v();return n.forEach((function(e){void 0!==(null===e||void 0===e?void 0:e.icon)&&(t="default")})),t},g=(0,o.Fl)((function(){return[t.value,"".concat(t.value,"--").concat(e.layout),"".concat(t.value,"--").concat(m(),"-anchor"),"".concat(t.value,"--").concat(e.sequence),"".concat(t.value,"--").concat(e.separator,"-separator")]}));return function(){return(0,o.Wm)("div",{class:g.value},[h()])}}});function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qi={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.43 9.92l6.23-6.22.92.92-7.15 7.14L1.97 7.3l.92-.92 3.54 3.54z",fillOpacity:.9}}]},eo=(0,o.aZ)({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-check",i.value])),c=(0,o.Fl)((()=>Xi(Xi({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Qi,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro=(0,o.aZ)({name:"TStepItem",props:no(no({},Yi),{},{index:Number}),setup:function(e){var t=(0,o.f3)("StepsState",void 0),n=(0,o.f3)("StepsProps",void 0),r=(0,k.Z)("steps"),i=r.globalConfig,a=(0,it.J)({CheckIcon:eo,CloseIcon:Cn.Z}),l=a.CheckIcon,u=a.CloseIcon,c=(0,o.Fl)((function(){return"process"!==e.status&&!(null!==n&&void 0!==n&&n.readonly)})),s=function(n){if(c.value){var r=void 0===e.value?e.index:e.value;t.setCurrent(r,t.current,{e:n})}},d=(0,w.ws)("steps-item"),f=(0,o.Fl)((function(){return(0,_._)({},"".concat(d.value,"--").concat(e.status),e.status)})),p=(0,o.Fl)((function(){return[d.value,f.value]})),v=(0,o.Fl)((function(){return["".concat(d.value,"__icon"),f.value]})),h=(0,S.sL)(),m=(0,S.r0)(),g=function(){var t;if("default"===n.theme){var r="";switch(e.status){case"finish":r=(0,o.Wm)(l,null,null);break;case"error":r=(0,Re.i)(i.value.errorIcon)?i.value.errorIcon(o.h):(0,o.Wm)(u,null,null);break;default:r=String(e.index+1);break}t=(0,o.Wm)("span",{class:"".concat(d.value,"__icon--number")},[r])}return h("icon",t)};return function(){return(0,o.Wm)("div",{class:p.value},[(0,o.Wm)("div",{class:"".concat(d.value,"__inner ").concat(c.value?"".concat(d.value,"--clickable"):""),onClick:s},[(0,o.Wm)("div",{class:v.value},[g()]),(0,o.Wm)("div",{class:"".concat(d.value,"__content")},[(0,o.Wm)("div",{class:"".concat(d.value,"__title")},[h("title")]),(0,o.Wm)("div",{class:"".concat(d.value,"__description")},[m("default","content")]),(0,o.Wm)("div",{class:"".concat(d.value,"__extra")},[h("extra")])])])])}}}),io=(0,g.Z)(Ji),oo=(0,g.Z)(ro),ao=n(7724),lo=n(7572);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function uo(e){var t=e.value,n=e.multiple,r=e.treeStore,i=e.showAllLevels;if(n||!t)return"";if(Array.isArray(t))return"";var o=r&&r.getNodes(t);if(!o||!o.length)return t;var a=o&&o[0].getPath();return a&&a.length?i?a.map((function(e){return e.label})).join(" / "):a[a.length-1].label:t}function co(e){var t=e.value,n=e.multiple,r=e.treeStore,i=e.showAllLevels;if(!n)return[];if(n&&!Array.isArray(t))return[];var o=r&&r.getNodes(t);return o?t.map((function(e){var t=r.getNodes(e);return i?fo(t[0]):t[0].label})).filter((function(e){return!!e})):[]}function so(e){var t=[];return e.forEach((function(e){t[e.level]?t[e.level].push(e):t[e.level]=[e]})),t}function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return null===e||void 0===e?void 0:e.getPath().map((function(e){return e.label})).join(t)}var po=function(e){var t=[];return Array.isArray(e)?e.length>0&&"object"===(0,Ce._)(e[0])?t=e.map((function(e){return e.value})):e.length&&(t=e):e&&(t="object"===(0,Ce._)(e)?[e.value]:[e]),t},vo=function(e,t,n){return"single"===t?e:n?e.map((function(e){return e[e.length-1]})):e[e.length-1]};function ho(e){return!("number"===typeof e&&!isNaN(e))&&(0,lo.i)(e)}function mo(e,t){var n=t.multiple,r=t.showAllLevels;return n&&!Array.isArray(e)||!n&&Array.isArray(e)&&!r}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function go(e,t,n){var r=n.disabled;return["".concat(e,"-cascader__icon"),(0,_._)({},t.disabled,r)]}function yo(e,t,n){var r,i=n.checkStrictly,o=n.multiple,a=n.value,l=n.max,u=!i&&e.expanded&&(!o||!e.isLeaf())||i&&e.expanded,c=e.isLeaf(),s=e.disabled||o&&a.length>=l&&0!==l,d=e.checked||o&&!i&&e.expanded&&!c;return[(r={},(0,_._)(r,t.selected,!s&&d),(0,_._)(r,t.expanded,!s&&u),(0,_._)(r,t.disabled,s),r)]}function bo(e,t,n,r,i){var o,a=i.size;return["".concat(e,"-cascader__item")].concat((0,b._)(yo(t,r,i)),[n[a],(o={},(0,_._)(o,"".concat(e,"-cascader__item--with-icon"),!!t.children),(0,_._)(o,"".concat(e,"-cascader__item--leaf"),t.isLeaf()),o)])}function _o(e,t,n,r){return["".concat(e,"-cascader__item-icon"),"".concat(e,"-icon")].concat((0,b._)(yo(t,n,r)))}var wo=n(3482),So=n(5100);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Oo(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var ko={node:{type:Object,default:function(){return{}}},cascaderContext:{type:Object},onChange:Function,onClick:Function,onMouseenter:Function},Co=(0,o.aZ)({name:"TCascaderItem",props:ko,setup:function(e){var t=(0,T.iH)();(0,Dt.Z)(t);var n=(0,w.ws)("cascader__item"),r=(0,w.ws)(),i=(0,it.J)({ChevronRightIcon:st.Z}),a=i.ChevronRightIcon,l=(0,w.RH)(),u=l.STATUS,c=l.SIZE,s=(0,o.Fl)((function(){return bo(r.value,e.node,c.value,u.value,e.cascaderContext)})),d=(0,o.Fl)((function(){return _o(r.value,e.node,u.value,e.cascaderContext)}));function f(e,t){var r=t.inputVal,i=r?fo(e):e.label;if(r){for(var a=i.split(r),l=[],u=0;u<a.length;u++){if(l.push((0,o.Wm)("span",{key:u},[a[u]])),u===a.length-1)break;l.push((0,o.Wm)("span",{key:"".concat(u,"filter"),class:"".concat(n.value,"-label--filter")},[r]))}return l}return i}function p(e,t){var r=f(e,t),i=(0,o.Wm)("span",{title:t.inputVal?fo(e):e.label,class:["".concat(n.value,"-label"),"".concat(n.value,"-label--ellipsis")],role:"label"},[r]);return i}function v(t,n){var r=n.checkProps,i=n.value,a=n.max,l=n.inputVal,u=f(t,n);return(0,o.Wm)(wo.XZ,(0,o.dG)({checked:t.checked,indeterminate:t.indeterminate,disabled:t.isDisabled()||i.length>=a&&0!==a,name:t.value,title:l?fo(t):t.label,onChange:function(){e.onChange()}},r),Oo(u)?u:{default:function(){return[u]}})}return function(){var n=e.cascaderContext,r=e.node;return(0,o.Wm)("li",{ref:t,class:s.value,onClick:function(t){t.stopPropagation(),e.onClick()},onMouseenter:function(t){t.stopPropagation(),e.onMouseenter()}},[n.multiple?v(r,n):p(r,n),r.children&&(r.loading?(0,o.Wm)(So.gb,{class:d.value,size:"small"},null):(0,o.Wm)(a,{class:d.value},null))])}}}),xo={checkProps:{type:Object},checkStrictly:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},keys:{type:Object},lazy:{type:Boolean,default:!0},load:{type:Function},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},readonly:Boolean,selectInputProps:{type:Object},showAllLevels:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["large","medium","small"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},trigger:{type:String,default:"click",validator:function(e){return!e||["click","hover"].includes(e)}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return!e||["onlyLeaf","parentFirst","all"].includes(e)}},valueType:{type:String,default:"single",validator:function(e){return!e||["single","full"].includes(e)}},onBlur:Function,onChange:Function,onFocus:Function,onPopupVisibleChange:Function,onRemove:Function},Po=n(2435);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Eo(e,t,n,r){var i=r.checkStrictly,o=r.multiple,a=r.treeStore,l=r.setVisible,u=r.setValue,c=r.setTreeNodes,s=r.setExpend,d=r.value,f=r.max,p=r.valueType,v=n.disabled||o&&d.length>=f&&0!==f;if(!v){if(e===t&&!n.isLeaf()){var h=n.setExpanded(!0);a.refreshNodes(),a.replaceExpanded(h);var m=a.getNodes().filter((function(e){return e.visible}));c(m),o&&s(h)}if(!o&&(n.isLeaf()||i)&&"click"===t){a.resetChecked();var g=n.setChecked(!n.checked),y=(0,ft._)(g,1),b=y[0];u("single"===p?b:n.getPath().map((function(e){return e.value})),"check",n.getModel()),i||l(!1,{})}}}function To(e,t){var n=t.disabled,r=t.max,i=t.inputVal,o=t.multiple,a=t.setVisible,l=t.setValue,u=t.treeNodes,c=t.treeStore,s=t.valueType;if(e&&!n&&!e.disabled){var d=e.setChecked(!e.isChecked());if(_r(r)&&r<0&&console.warn("TDesign Warn:","max should > 0"),!(d.length>r&&_r(r)&&r>0)){if(0===d.length){var f=c.getExpanded();setTimeout((function(){c.replaceExpanded(f),c.refreshNodes()}),0)}o||a(!1,{});var p=u.every((function(e){return d.indexOf(e.value)>-1}));i&&p&&a(!1,{});var v="single"===s?d:d.map((function(e){return c.getNode(e).getPath().map((function(e){return e.value}))}));l(v,"check",e.getModel())}}}function Io(e){var t=e.setVisible,n=e.multiple,r=e.setExpend,i=e.setValue;t(!1,{}),n&&r([]),i(n?[]:"","clear")}function Do(e,t,n){var r=e.disabled,i=e.setValue,o=e.value,a=e.valueType,l=e.treeStore;if(!r){var u=(0,Po.c)(o),c=u.splice(t,1),s=l.getNodes(c[0])[0];i(u,"uncheck",s.getModel());var d=s.setChecked(!s.isChecked()),f="single"===a?d:d.map((function(e){return l.getNode(e).getPath().map((function(e){return e.value}))}));i(f,"uncheck",s.getModel()),(0,Re.i)(n)&&n({value:d,node:s})}}var jo=function(e,t,n,r){if(t){var i=[];if(e){var o=function(t){if(t.isLeaf()){if((0,Re.i)(r))return r("".concat(e),t);var n=fo(t,"");return n.indexOf("".concat(e))>-1}};i=t.nodes.filter(o)}else i=t.getNodes().filter((function(e){return e.visible}));n(i)}},Ro=function(e,t,n){var r=po(t);if(e){if(Array.isArray(r)&&0===n.length){var i=new Map,o=(0,ft._)(r,1),a=o[0];if(a){i.set(a,!0);var l=e.getNode(a);if(!l)return void e.refreshNodes();l.getParents().forEach((function(e){i.set(e.value,!0)}));var u=Array.from(i.keys());e.replaceExpanded(u)}else e.resetExpanded()}e.getExpanded()&&n.length&&e.replaceExpanded(n),e.refreshNodes()}},Ao=(0,o.aZ)({name:"TCascaderSubPanel",props:{empty:xo.empty,trigger:xo.trigger,onChange:xo.onChange,cascaderContext:{type:Object}},setup:function(e){var t=(0,S.Mb)(),n=(0,w.ws)("cascader"),r=(0,k.Z)("cascader"),i=r.globalConfig,a=(r.t,(0,o.Fl)((function(){return so(e.cascaderContext.treeNodes)}))),l=function(t,n){var r=e.trigger,i=e.cascaderContext;Eo(r,n,t,i)},u=function(t){return(0,o.Wm)(Co,{key:t.value,node:t,cascaderContext:e.cascaderContext,onClick:function(){l(t,"click")},onMouseenter:function(){l(t,"hover")},onChange:function(){To(t,e.cascaderContext)}},null)},c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1";return(0,o.Wm)("ul",{class:["".concat(n.value,"__menu"),"narrow-scrollbar",(t={},(0,_._)(t,"".concat(n.value,"__menu--segment"),i),(0,_._)(t,"".concat(n.value,"__menu--filter"),r),t)],key:a},[e.map((function(e){return u(e)}))])},s=function(){var t=e.cascaderContext,r=t.inputVal,i=t.treeNodes;return r?c(i,!0):a.value.map((function(e,t){return c(e,!1,t!==a.value.length-1,"".concat(n.value,"__menu").concat(t))}))};return function(){return(0,o.Wm)("div",{class:["".concat(n.value,"__panel"),(0,_._)({},"".concat(n.value,"--normal"),a.value.length)]},[a.value.length?s():t("empty",(0,o.Wm)("div",{class:"".concat(n.value,"__panel--empty")},[i.value.empty]))])}}}),Fo=n(6110),Mo=n(3063),No=n(9589),Lo=n(8576),Wo=n(4551),Vo=n(6782),Bo=n(2378),Uo=n(643);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ho(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var zo=Ho,Zo=No._,Ko=zo,Yo=No.c,Go=1,$o=2;function Jo(e,t,n,r,i,o){var a=n&Go,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e),s=o.get(t);if(c&&s)return c==t&&s==e;var d=-1,f=!0,p=n&$o?new Zo:void 0;o.set(e,t),o.set(t,e);while(++d<l){var v=e[d],h=t[d];if(r)var m=a?r(h,v,d,t,e,o):r(v,h,d,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!Ko(t,(function(e,t){if(!Yo(p,t)&&(v===e||i(v,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(v!==h&&!i(v,h,n,r,o)){f=!1;break}}return o["delete"](e),o["delete"](t),f}var qo=Jo;function Xo(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Qo=Xo;function ea(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ta=ea,na=vr.b,ra=Mo.i,ia=Lo.e,oa=qo,aa=Qo,la=ta,ua=1,ca=2,sa="[object Boolean]",da="[object Date]",fa="[object Error]",pa="[object Map]",va="[object Number]",ha="[object RegExp]",ma="[object Set]",ga="[object String]",ya="[object Symbol]",ba="[object ArrayBuffer]",_a="[object DataView]",wa=na?na.prototype:void 0,Sa=wa?wa.valueOf:void 0;function Oa(e,t,n,r,i,o,a){switch(n){case _a:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ba:return!(e.byteLength!=t.byteLength||!o(new ra(e),new ra(t)));case sa:case da:case va:return ia(+e,+t);case fa:return e.name==t.name&&e.message==t.message;case ha:case ga:return e==t+"";case pa:var l=aa;case ma:var u=r&ua;if(l||(l=la),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=ca,a.set(e,t);var s=oa(l(e),l(t),r,i,o,a);return a["delete"](e),s;case ya:if(Sa)return Sa.call(e)==Sa.call(t)}return!1}var ka=Oa,Ca=Wo.b,xa=1,Pa=Object.prototype,Ea=Pa.hasOwnProperty;function Ta(e,t,n,r,i,o){var a=n&xa,l=Ca(e),u=l.length,c=Ca(t),s=c.length;if(u!=s&&!a)return!1;var d=u;while(d--){var f=l[d];if(!(a?f in t:Ea.call(t,f)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var h=!0;o.set(e,t),o.set(t,e);var m=a;while(++d<u){f=l[d];var g=e[f],y=t[f];if(r)var b=a?r(y,g,f,t,e,o):r(g,y,f,e,t,o);if(!(void 0===b?g===y||i(g,y,n,r,o):b)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(h=!1)}return o["delete"](e),o["delete"](t),h}var Ia=Ta,Da=Mo.d,ja=qo,Ra=ka,Aa=Ia,Fa=Vo.a,Ma=Bo.i,Na=Uo.i.exports,La=Uo.a,Wa=1,Va="[object Arguments]",Ba="[object Array]",Ua="[object Object]",Ha=Object.prototype,za=Ha.hasOwnProperty;function Za(e,t,n,r,i,o){var a=Ma(e),l=Ma(t),u=a?Ba:Fa(e),c=l?Ba:Fa(t);u=u==Va?Ua:u,c=c==Va?Ua:c;var s=u==Ua,d=c==Ua,f=u==c;if(f&&Na(e)){if(!Na(t))return!1;a=!0,s=!1}if(f&&!s)return o||(o=new Da),a||La(e)?ja(e,t,n,r,i,o):Ra(e,t,u,n,r,i,o);if(!(n&Wa)){var p=s&&za.call(e,"__wrapped__"),v=d&&za.call(t,"__wrapped__");if(p||v){var h=p?e.value():e,m=v?t.value():t;return o||(o=new Da),i(h,m,n,r,o)}}return!!f&&(o||(o=new Da),Aa(e,t,n,r,i,o))}var Ka=Za,Ya=Ka,Ga=hr.i;function $a(e,t,n,r,i){return e===t||(null==e||null==t||!Ga(e)&&!Ga(t)?e!==e&&t!==t:Ya(e,t,n,r,$a,i))}var Ja=$a,qa=n(1524),Xa=n(137),Qa=No._,el=No.a,tl=No.b,nl=qa._,rl=Xa._,il=No.c,ol=200;function al(e,t,n,r){var i=-1,o=el,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=nl(t,rl(n))),r?(o=tl,a=!1):t.length>=ol&&(o=il,a=!1,t=new Qa(t));e:while(++i<l){var s=e[i],d=null==n?s:n(s);if(s=r||0!==s?s:0,a&&d===d){var f=c;while(f--)if(t[f]===d)continue e;u.push(s)}else o(t,d,r)||u.push(s)}return u}var ll=al,ul=n(3553),cl=n(3159),sl=n(6546),dl=n(4894),fl=n(6971);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function pl(e){return null==e}var vl=pl,hl=n(2946),ml=n(2434);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bl(e){var t=(0,ml.p)(e,["value","label","data","actived","expanded","checked","indeterminate","loading"]);return t}function _l(e){var t=bl(e),n=yl(yl({},t),{},{getLevel:function(){return e.getLevel()},getIndex:function(){return e.getIndex()},isFirst:function(){return e.isFirst()},isLast:function(){return e.isLast()},isLeaf:function(){return e.isLeaf()},insertBefore:function(t){return e.insertBefore(t)},insertAfter:function(t){return e.insertAfter(t)},appendData:function(t){return e.append(t)},getPath:function(){var t=e.getPath();return t.map((function(e){return e.getModel()}))},getParent:function(){var t;return null===(t=e.parent)||void 0===t?void 0:t.getModel()},getParents:function(){var t=e.getParents();return t.map((function(e){return e.getModel()}))},getRoot:function(){var t=e.getRoot();return null===t||void 0===t?void 0:t.getModel()},getSiblings:function(){var t=e.getSiblings();return t.map((function(e){return e.getModel()}))},getChildren:function(t){var n=!1,r=e.children;if(Array.isArray(r))if(r.length>0)if(t){var i=e.walk();i.shift(),n=i.map((function(e){return e.getModel()}))}else n=r.map((function(e){return e.getModel()}));else n=!1;else"boolean"===typeof r&&(n=r);return n},remove:function(t){if(t){var n=e.tree,r=n.getNode(t);if(r){var i=r.getParents(),o=i.map((function(e){return e.value}));o.indexOf(e.value)<0?nn.Z.warnOnce("Tree","`".concat(t,"` is not a childNode of current node")):r.remove()}else nn.Z.warnOnce("Tree","`".concat(t,"` is not exist"))}else e.remove()},setData:function(t){var n=(0,ao.o)(t,["children"]);Object.assign(e.data,n),Object.assign(e,n)}});return n}function wl(e,t){var n=bl(t);Object.assign(e,n)}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Sl=fl.t,Ol=0;function kl(e){var t=++Ol;return Sl(e)+t}var Cl=kl;function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var El=Object.prototype.hasOwnProperty,Tl={expandMutex:!1,activable:!1,checkable:!1,disabled:!1,draggable:!1,loading:!1},Il=function(){function e(t,n,r){$t(this,e),(0,_._)(this,"tree",void 0),(0,_._)(this,"value",void 0),(0,_._)(this,"label",void 0),(0,_._)(this,"data",void 0),(0,_._)(this,"parent",void 0),(0,_._)(this,"children",void 0),(0,_._)(this,"model",void 0),(0,_._)(this,"vmIsLeaf",void 0),(0,_._)(this,"vmIsFirst",void 0),(0,_._)(this,"vmIsLast",void 0),(0,_._)(this,"vmIsRest",void 0),(0,_._)(this,"vmIsLocked",void 0),(0,_._)(this,"expanded",void 0),(0,_._)(this,"expandMutex",void 0),(0,_._)(this,"actived",void 0),(0,_._)(this,"activable",void 0),(0,_._)(this,"checkable",void 0),(0,_._)(this,"vmCheckable",void 0),(0,_._)(this,"checked",void 0),(0,_._)(this,"indeterminate",void 0),(0,_._)(this,"disabled",void 0),(0,_._)(this,"draggable",void 0),(0,_._)(this,"visible",void 0),(0,_._)(this,"level",void 0),(0,_._)(this,"loading",void 0),this.data=n,this.tree=t;var i=t.config||{},o=i.prefix||"t",a=(0,hl.g)(t,"config.keys")||{},l=a.children||"children",u=a.label||"label",c=a.value||"value";this.model=null,this.children=null,this.vmCheckable=!1,this.vmIsLeaf=!1,this.vmIsFirst=!1,this.vmIsLast=!1,this.vmIsRest=!0,this.vmIsLocked=!1;var s=Pl(Pl({},Tl),{},{actived:!1,expanded:!1,checked:!1},n),d=s[l];this.set(s),this.label=s[u]||"",this.value=vl(s[c])?Cl(o):s[c],this.tree.nodeMap.set(this.value,this),this.parent=r&&r instanceof e?r:null,!0===d&&(this.children=d),this.level=0,this.visible=!0,this.actived=s.actived,this.initActived(),this.expanded=s.expanded,this.initExpanded(),this.checked=s.checked,this.initChecked(),this.update(),t.reflow(this),Array.isArray(d)?this.append(d):!0!==d||i.lazy||this.loadChildren(),this.checked=!1,this.indeterminate=!1,this.updateChecked()}return qt(e,[{key:"initChecked",value:function(){var e=this.tree,t=this.value,n=this.parent,r=e.config.checkStrictly,i=this.checked;i=null===n||void 0===n?void 0:n.isChecked(),i&&!r&&e.checkedMap.set(t,!0),this.checked=i}},{key:"initExpanded",value:function(){var e=this.tree,t=this.expanded,n=e.config;"number"===typeof n.expandLevel&&this.getLevel()<n.expandLevel&&(e.expandedMap.set(this.value,!0),t=!0),n.expandAll&&(t=!0),!0===this.children&&n.lazy&&(t=!1),t?e.expandedMap.set(this.value,!0):e.expandedMap["delete"](this.value),this.expanded=t}},{key:"initActived",value:function(){var e=this.tree,t=this.actived;t&&e.activedMap.set(this.value,!0)}},{key:"append",value:function(t){var n=this,r=[];if(Array.isArray(t)?r.push.apply(r,(0,b._)(t)):r.push(t),!(r.length<=0)){Array.isArray(this.children)||(this.children=[]);var i=this.children,o=this.tree;r.forEach((function(t){var r=null;t instanceof e?(r=t,r.appendTo(n.tree,n)):(r=new e(n.tree,t,n),i.push(r))})),o.reflow(this),this.updateRelated()}}},{key:"appendTo",value:function(t,n,r){var i=this,o=n,a=(null===o||void 0===o?void 0:o.getParents())||[],l=a.some((function(e){return e.value===i.value}));if(!l){if(Array.isArray(null===o||void 0===o?void 0:o.children)){var u=0;"number"===typeof r&&(u=r);var c=null===o||void 0===o?void 0:o.children[u];if((null===c||void 0===c?void 0:c.value)===this.value)return}this.remove(),this.parent=o;var s=null;o instanceof e?(Array.isArray(null===o||void 0===o?void 0:o.children)||(o.children=[]),s=n.children):s=t.children,Array.isArray(s)&&("number"===typeof r?s.splice(r,0,this):s.push(this));var d=this.walk();d.forEach((function(e){var n=e;n.tree=t,t.nodeMap.set(n.value,n),n.expanded&&t.expandedMap.set(n.value,!0)}));var f=(null===o||void 0===o?void 0:o.walk())||t.children.map((function(e){return e.walk()})).flat();f.forEach((function(e){e.update(),e.updateChecked()})),t.reflow()}}},{key:"insert",value:function(t,n){var r=this.tree,i=this.parent,o=this.getSiblings(),a=null;t instanceof e?(a=t,a.appendTo(r,i,n)):t&&(a=new e(r,t,i),"number"===typeof n&&o.splice(n,0,a),o.forEach((function(e){e.update()}))),r.reflow()}},{key:"insertBefore",value:function(e){var t=this.getIndex();this.insert(e,t)}},{key:"insertAfter",value:function(e){var t=this.getIndex();this.insert(e,t+1)}},{key:"remove",value:function(){var e=this.tree,t=this.walk(),n=this.getSiblings(),r=this.getIndex();Array.isArray(n)&&n.splice(r,1),t.forEach((function(e){e.clean()})),n.forEach((function(e){e.update()})),this.updateParents(),e.reflow()}},{key:"clean",value:function(){var e=this.tree,t=this.value;e.activedMap["delete"](t),e.checkedMap["delete"](t),e.expandedMap["delete"](t),e.nodeMap["delete"](t)}},{key:"loadChildren",value:function(){var e=Ee(je.mark((function e(){var t,n;return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(0,hl.g)(this,"tree.config")||{},!0!==this.children||this.loading){e.next=13;break}if("function"!==typeof t.load){e.next=13;break}return this.loading=!0,this.update(),n=[],e.next=8,t.load(this);case 8:n=e.sent,this.tree.emit("load",{node:this,data:n}),this.loading=!1,Array.isArray(n)&&n.length>0?this.append(n):this.children=!1,this.update();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e){var t=this,n=this.tree,r=Object.keys(e);r.forEach((function(n){(El.call(Tl,n)||"label"===n)&&(t[n]=e[n])})),n.updated(this)}},{key:"getParent",value:function(){return this.parent}},{key:"getParents",value:function(){var e=[],t=this.parent;while(t)e.push(t),t=t.parent;return e}},{key:"getSiblings",value:function(){var e=this.parent,t=this.tree,n=[];return e?Array.isArray(e.children)&&(n=e.children):t&&(n=t.children),n}},{key:"getRoot",value:function(){var e=this.getParents();return e[e.length-1]||null}},{key:"getIndex",value:function(){var e=this.getSiblings();return e.indexOf(this)}},{key:"getPath",value:function(){var e=this.getParents();return e.unshift(this),e.reverse()}},{key:"getLevel",value:function(){var e=this.getParents();return e.length}},{key:"isRest",value:function(){var e=this.tree,t=e.config,n=e.filterMap,r=!0;if("function"===typeof t.filter){var i=this.getModel();r=t.filter(i)}return r?n.set(this.value,!0):n.get(this.value)&&n["delete"](this.value),r}},{key:"isVisible",value:function(){var e=this.tree.nodeMap,t=!0;if(this.vmIsLocked)return!0;if(e.get(this.value)){var n=this.isRest(),r=!0,i=this.getParents();i.length>0&&(r=i.every((function(e){return e.isExpanded()}))),t=r&&n}else t=!1;return t}},{key:"isDisabled",value:function(){if(this.vmIsLocked)return!0;var e=(0,hl.g)(this,"tree.config.disabled");return!(!e&&!this.disabled)}},{key:"isDraggable",value:function(){return!(!(0,hl.g)(this,"tree.config.draggable")&&!this.draggable)}},{key:"isExpandMutex",value:function(){return!(!(0,hl.g)(this,"tree.config.expandMutex")&&!this.expandMutex)}},{key:"isActivable",value:function(){return!(!(0,hl.g)(this,"tree.config.activable")&&!this.activable)}},{key:"isCheckable",value:function(){return!(!(0,hl.g)(this,"tree.config.checkable")&&!this.checkable)}},{key:"isActived",value:function(e){var t=this.tree,n=this.value,r=e||t.activedMap;return!(!t.nodeMap.get(n)||!r.get(n))}},{key:"isExpanded",value:function(e){var t=this.tree,n=this.value,r=this.vmIsLocked;if(r)return!0;var i=e||t.expandedMap;return!(!t.nodeMap.get(n)||!i.get(n))}},{key:"isChecked",value:function(e){var t=this.children,n=this.tree,r=n.config.checkStrictly,i=!1,o=e||n.checkedMap;if(n.nodeMap.get(this.value))if(o.get(this.value))i=!0;else if(Array.isArray(t)&&t.length>0&&!r)i=t.every((function(e){var t=e.isChecked(o);return t}));else if(!r){var a=this.getParents();i=a.some((function(e){return o.get(e.value)}))}return!!i}},{key:"isIndeterminate",value:function(){var e=this.children,t=this.tree,n=t.config.checkStrictly;if(n)return!1;var r=!1;if(Array.isArray(e)){var i=null;r=e.some((function(e){return!!e.isIndeterminate()||(null===i&&(i=e.isChecked()),i!==e.isChecked())}))}return r}},{key:"isFirst",value:function(){var e=this.getSiblings();return e[0]===this}},{key:"isLast",value:function(){var e=this.getSiblings();return e[e.length-1]===this}},{key:"isLeaf",value:function(){var e=!1;return e=Array.isArray(this.children)?this.children.length<=0:!this.children,e}},{key:"lock",value:function(e){this.vmIsLocked=e,this.expanded=this.isExpanded(),this.visible=this.isVisible()}},{key:"afterExpanded",value:function(){this.update(),this.expanded&&!0===this.children&&this.loadChildren()}},{key:"toggleExpanded",value:function(){return this.setExpanded(!this.isExpanded())}},{key:"setExpanded",value:function(e,t){var n=this.tree,r=Pl({directly:!1},t),i=n.expandedMap;if(r.directly||(i=new Map(n.expandedMap)),e){var o=[];o.push(this),(0,hl.g)(n,"config.expandParent")&&this.getParents().forEach((function(e){o.push(e)})),o.forEach((function(e){var t,r=!1;e.parent?r=e.parent.isExpandMutex():r=null===n||void 0===n||null===(t=n.config)||void 0===t?void 0:t.expandMutex;if(r){var o=e.getSiblings();o.forEach((function(e){i["delete"](e.value)}))}i.set(e.value,!0)}))}else i["delete"](this.value);return r.directly&&(this.afterExpanded(),this.update(),this.updateChildren()),n.getExpanded(i)}},{key:"toggleActived",value:function(){return this.setActived(!this.isActived())}},{key:"setActived",value:function(e,t){var n=this.tree,r=Pl({directly:!1},t),i=n.config||{},o=n.activedMap;return r.directly||(o=new Map(n.activedMap)),this.isActivable()&&(e?(i.activeMultiple||o.clear(),o.set(this.value,!0)):o["delete"](this.value)),r.directly&&this.update(),n.getActived(o)}},{key:"toggleChecked",value:function(){return this.setChecked(!this.isChecked())}},{key:"setChecked",value:function(e,t){var n=this.tree,r=n.config||{},i=Pl({directly:!1},t),o=n.checkedMap;if(i.directly||(o=new Map(n.checkedMap)),this.isCheckable()&&e!==this.isChecked())if(r.checkStrictly)e?o.set(this.value,!0):o["delete"](this.value);else{var a=this.walk();a.forEach((function(t){e?o.set(t.value,!0):o["delete"](t.value)}));var l=this.getParents();l.forEach((function(e){o["delete"](e.value)}))}if(i.directly)if(r.checkStrictly)this.updateChecked();else{var u=n.getRelatedNodes([this.value]);u.forEach((function(e){e.updateChecked()}))}return n.getChecked(o)}},{key:"update",value:function(){this.level=this.getLevel(),this.actived=this.isActived(),this.expanded=this.isExpanded(),this.vmCheckable=this.isCheckable(),this.visible=this.isVisible(),this.vmIsRest=this.isRest(),this.vmIsFirst=this.isFirst(),this.vmIsLast=this.isLast(),this.vmIsLeaf=this.isLeaf(),this.tree.updated(this)}},{key:"updateChecked",value:function(e){var t=this.tree;this.vmCheckable=this.isCheckable(),!this.vmCheckable||this.disabled&&!e||(this.checked=this.isChecked(),this.checked&&t.checkedMap.set(this.value,!0),this.indeterminate=this.isIndeterminate(),t.updated(this))}},{key:"updateChildren",value:function(){var e=this.children;Array.isArray(e)&&e.forEach((function(e){e.update(),e.updateChecked(),e.updateChildren()}))}},{key:"updateParents",value:function(){var e=this.parent;e&&(e.update(),e.updateChecked(),e.updateParents())}},{key:"updateRelated",value:function(){var e=this.tree,t=e.getRelatedNodes([this.value]);t.forEach((function(e){e.update(),e.updateChecked()})),e.reflow()}},{key:"walk",value:function(){var e=this.children,t=[];return t.push(this),Array.isArray(e)&&e.length>0&&e.forEach((function(e){t=t.concat(e.walk())})),t}},{key:"getModel",value:function(){var e=this.model;return e||(e=_l(this),this.model=e),wl(e,this),e}}]),e}(),Dl=ll,jl=ul.a,Rl=cl._,Al=cl.i,Fl=Rl((function(e,t){return Al(e)?Dl(e,jl(t,1,Al,!0)):[]})),Ml=Fl;function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wl=function(){function e(t){$t(this,e),(0,_._)(this,"children",void 0),(0,_._)(this,"nodes",void 0),(0,_._)(this,"nodeMap",void 0),(0,_._)(this,"config",void 0),(0,_._)(this,"activedMap",void 0),(0,_._)(this,"updatedMap",void 0),(0,_._)(this,"checkedMap",void 0),(0,_._)(this,"expandedMap",void 0),(0,_._)(this,"filterMap",void 0),(0,_._)(this,"updateTimer",void 0),(0,_._)(this,"shouldReflow",void 0),(0,_._)(this,"prevFilter",void 0),(0,_._)(this,"nullNodeModel",void 0);var n=Ll({prefix:"t",keys:{},expandAll:!1,expandLevel:0,expandMutex:!1,expandParent:!1,activable:!1,activeMultiple:!1,checkable:!1,checkStrictly:!1,disabled:!1,draggable:!1,load:null,lazy:!1,valueMode:"onlyLeaf",filter:null,onLoad:null,onReflow:null,onUpdate:null,allowFoldNodeOnFilter:!1},t);this.config=n,this.nodes=[],this.children=[],this.nodeMap=new Map,this.activedMap=new Map,this.expandedMap=new Map,this.checkedMap=new Map,this.updatedMap=new Map,this.filterMap=new Map,this.prevFilter=null,this.updateTimer=null,this.shouldReflow=!1,this.initNullNodeModel()}return qt(e,[{key:"initNullNodeModel",value:function(){var e=new Il(this,{value:"",label:"",children:[]});this.nullNodeModel=e.getModel(),e.remove()}},{key:"setConfig",value:function(e){var t=this,n=!1;Object.keys(e).forEach((function(r){var i=e[r];i!==t.config[r]&&(n=!0,t.config[r]=i)})),n&&this.refreshState()}},{key:"getChildren",value:function(){return this.children}},{key:"getNode",value:function(e){var t=null;return"string"===typeof e||"number"===typeof e?t=this.nodeMap.get(e):e instanceof Il&&(t=this.nodeMap.get(e.value)),t}},{key:"getIndex",value:function(e){return this.nodes.indexOf(e)}},{key:"getParent",value:function(e){var t=null,n=this.getNode(e);return n&&(t=n.getParent()),t}},{key:"getParents",value:function(e){var t=this.getNode(e),n=[];return t&&(n=t.getParents()),n}},{key:"getNodeIndex",value:function(e){var t=this.getNode(e),n=-1;return t&&(n=t.getIndex()),n}},{key:"getNodes",value:function(e,t){var n=[],r="";if("string"===typeof e||"number"===typeof e?r=e:e instanceof Il&&(r=e.value),r){var i=this.getNode(r);i&&(n=i.walk())}else n=this.nodes.slice(0);if(t){var o=Ll({filter:null,level:1/0},t);"number"===typeof o.level&&o.level!==1/0&&(n=n.filter((function(e){return e.level<=o.level}))),"function"===typeof o.filter&&(n=n.filter((function(e){var t=e.getModel();return o.filter(t)}))),(0,dl.i)(o.props)&&(n=n.filter((function(e){var t=Object.keys(o.props).every((function(t){var n=e[t]===o.props[t];return n}));return t})))}return n}},{key:"append",value:function(e){var t=this;e.forEach((function(e){var n=new Il(t,e);t.children.push(n)})),this.reflow()}},{key:"reload",value:function(e){this.expandedMap.clear(),this.checkedMap.clear(),this.activedMap.clear(),this.filterMap.clear(),this.removeAll(),this.append(e)}},{key:"parseNodeData",value:function(e,t){var n="",r=null,i=null;"string"===typeof e||"number"===typeof e?(n=e,i=t,r=this.getNode(n)):e instanceof Il?(r=e,i=t):i=e;var o={node:r,data:i};return o}},{key:"appendNodes",value:function(e,t){var n=this.parseNodeData(e,t);n.data&&(n.node?(n.data instanceof Il?n.data.appendTo(this,n.node):Array.isArray(n.data)?n.node.append(n.data):n.node.append([n.data]),n.node.updateRelated()):n.data instanceof Il?n.data.appendTo(this):Array.isArray(n.data)?this.append(n.data):this.append([n.data]))}},{key:"insertBefore",value:function(e,t){var n=this.getNode(e);n&&n.insertBefore(t)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(e);n&&n.insertAfter(t)}},{key:"refreshNodes",value:function(){var e=this.children,t=this.nodes;t.length=0,e.forEach((function(e){var n=e.walk();Array.prototype.push.apply(t,n)}))}},{key:"refreshState",value:function(){var e=this.nodes;e.forEach((function(e){e.update(),e.updateChecked()}))}},{key:"reflow",value:function(e){this.shouldReflow=!0,this.updated(e)}},{key:"updated",value:function(e){var t=this;null!==e&&void 0!==e&&e.value&&this.updatedMap.set(e.value,!0),this.updateTimer||(this.updateTimer=+setTimeout((function(){var e;clearTimeout(t.updateTimer),t.updateTimer=null,t.shouldReflow&&(t.refreshNodes(),t.emit("reflow")),null!==(e=t.config)&&void 0!==e&&e.allowFoldNodeOnFilter||t.lockFilterPathNodes();var n=Array.from(t.updatedMap.keys());if(n.length>0){var r=n.map((function(e){return t.getNode(e)}));t.emit("update",{nodes:r,map:t.updatedMap})}else t.shouldReflow&&t.emit("update",{nodes:[],map:t.updatedMap});t.shouldReflow=!1,t.updatedMap.clear()})))}},{key:"getActived",value:function(e){var t=e||this.activedMap;return Array.from(t.keys())}},{key:"getActivedNodes",value:function(e){var t=this.getNodes(e);return t=t.filter((function(e){return e.isActived()})),t}},{key:"replaceActived",value:function(e){this.resetActived(),this.setActived(e)}},{key:"setActived",value:function(e){var t=this,n=this.config.activeMultiple,r=e.slice(0);n||(r.length=1),r.forEach((function(e){t.activedMap.set(e,!0);var n=t.getNode(e);n&&n.update()}))}},{key:"resetActived",value:function(){var e=this.getActived();this.activedMap.clear();var t=this.getRelatedNodes(e);t.forEach((function(e){e.update()}))}},{key:"getExpanded",value:function(e){var t=e||this.expandedMap;return Array.from(t.keys())}},{key:"replaceExpanded",value:function(e){var t=this.getExpanded(),n=Ml(e,t),r=Ml(t,e);this.setExpandedDirectly(r,!1),this.updateExpanded(r),this.setExpanded(n)}},{key:"setExpanded",value:function(e){this.setExpandedDirectly(e),this.updateExpanded(e)}},{key:"setExpandedDirectly",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){if(n){t.expandedMap.set(e,!0);var r=t.getNode(e);r&&r.afterExpanded()}else t.expandedMap["delete"](e)}))}},{key:"resetExpanded",value:function(){var e=this.getExpanded();this.expandedMap.clear(),this.updateExpanded(e)}},{key:"updateExpanded",value:function(e){var t=this.getRelatedNodes(e,{withParents:!1});t.forEach((function(e){e.update()}))}},{key:"getChecked",value:function(e){var t=this.nodes,n=this.config,r=n.valueMode,i=n.checkStrictly,o=[],a=e||this.checkedMap;return t.forEach((function(e){e.isChecked(a)&&("parentFirst"!==r||i?("onlyLeaf"!==r||i||e.isLeaf())&&o.push(e.value):e.parent&&e.parent.isChecked(a)||o.push(e.value))})),o}},{key:"getCheckedNodes",value:function(e){var t=this.getNodes(e);return t=t.filter((function(e){return e.isChecked()})),t}},{key:"replaceChecked",value:function(e){this.resetChecked(),this.setChecked(e,!0)}},{key:"setChecked",value:function(e,t){var n=this,r=this.config,i=r.valueMode,o=r.checkStrictly,a=r.checkable;if(a&&(e.forEach((function(e){var r=n.getNode(e);if(r)if("parentFirst"!==i||o)n.checkedMap.set(e,!0),r.updateChecked(t);else{var a=r.walk();a.forEach((function(e){n.checkedMap.set(e.value,!0)}))}})),!o)){var l=this.getChecked(),u=this.getRelatedNodes(l);u.forEach((function(e){e.updateChecked()}))}}},{key:"resetChecked",value:function(){var e=this.getChecked(),t=this.getRelatedNodes(e);this.checkedMap.clear(),t.forEach((function(e){e.updateChecked()}))}},{key:"updateAll",value:function(){var e=this.getNodes();e.forEach((function(e){e.update()}))}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.remove()}},{key:"removeAll",value:function(){var e=this.getNodes();e.forEach((function(e){e.remove()}))}},{key:"getRelatedNodes",value:function(e,t){var n=this,r=Ll({withParents:!0},t),i=new Map;e.forEach((function(e){if(!i.get(e)){var t=n.getNode(e);if(t){var o=t.getParents(),a=t.walk(),l=[];l=r.withParents?o.concat(a):a,l.forEach((function(e){i.set(e.value,e)}))}}}));var o=Array.from(i.values());return o}},{key:"emit",value:function(e,t){var n=this.config||{},r=(0,sl.c)("on-".concat(e)),i=n[r];"function"===typeof i&&i(t)}},{key:"lockFilterPathNodes",value:function(){var e=this,t=this.config,n=this.getNodes();this.prevFilter&&n.forEach((function(e){e.lock(!1)}));var r=t.filter;if(r&&"function"===typeof r&&!r(this.nullNodeModel)){this.prevFilter=t.filter;var i=new Map;n.reverse().forEach((function(e){var t=e,n=t.getParent();t.vmIsRest&&(n&&(n.expanded=!0),t.visible=!0),(t.vmIsRest||i.get(t.value))&&n&&!n.vmIsRest&&i.set(n.value,!0)}));var o=Array.from(i.keys());o.forEach((function(t){var n=e.getNode(t);n&&n.lock(!0)}))}}}]),e}(),Vl=Ja;function Bl(e,t){return Vl(e,t)}var Ul=Bl;function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zl=function(e,t,n,r){var i=(0,T.qj)({treeStore:null,inputVal:null,scopeVal:void 0,treeNodes:[],expend:[]});return{statusContext:i,cascaderContext:(0,o.Fl)((function(){var o=e.size,a=e.checkStrictly,l=e.lazy,u=e.multiple,c=e.filterable,s=e.clearable,d=e.checkProps,f=e.max,p=e.disabled,v=e.showAllLevels,h=e.minCollapsedNum,m=e.valueType;return zl(zl({value:i.scopeVal,size:o,checkStrictly:a,lazy:l,multiple:u,filterable:c,clearable:s,checkProps:d,max:f,disabled:p,showAllLevels:v,minCollapsedNum:h,valueType:m,visible:n.value},i),{},{setTreeNodes:function(e){i.treeNodes=e},setValue:function(e,n,r){Ul(e,i.scopeVal)||t(e,{source:n,node:r})},setVisible:r,setInputVal:function(e){i.inputVal=e},setExpend:function(e){i.expend=e}})}))}},Kl=function(e){var t=(0,Ci.D)(),n=(0,T.BK)(e),r=n.value,i=n.modelValue,a=n.popupVisible,l=(0,gt.Z)(r,i,e.defaultValue,e.onChange),u=(0,ft._)(l,2),c=u[0],s=u[1],d=(0,rn.Z)(a,!1,e.onPopupVisibleChange,"popupVisible"),f=(0,ft._)(d,2),p=f[0],v=f[1],h=Zl(e,s,p,v),m=h.cascaderContext,g=h.statusContext,y=(0,o.Fl)((function(){return Boolean(e.filterable||(0,Re.i)(e.filter))})),b=function(){var t=m.value,n=t.inputVal,r=t.treeStore,i=t.setTreeNodes;jo(n,r,i,e.filter)},_=function(){var e=m.value,t=e.value,n=e.treeStore,r=g.expend;Ro(n,t,r),n.replaceChecked(po(t))};return(0,o.YP)((function(){return e.options}),(function(){var t=e.options,n=e.keys,r=void 0===n?{}:n,i=e.checkStrictly,a=e.lazy,l=e.load,u=e.valueMode,c=g.treeStore;if(t.length||c){if(c){if(Ul(c.config.options,t))return;c.reload(t),c.refreshNodes()}else{var s=new Wl({keys:zl(zl({},r),{},{children:"string"===typeof r.children?r.children:"children"}),checkable:!0,expandMutex:!0,expandParent:!0,lazy:a,load:l,valueMode:u,checkStrictly:i,onLoad:function(){(0,o.Y3)((function(){s.refreshNodes(),b()}))}});s.append(t),g.treeStore=s}_(),b()}}),{immediate:!0}),(0,o.YP)((function(){var t=e.checkStrictly,n=e.lazy,r=e.load,i=e.valueMode;return JSON.stringify({valueMode:i,checkStrictly:t,lazy:n,load:r})}),(function(){var n=g.treeStore;if(n){var r=e.checkStrictly,i=e.lazy,o=e.load,a=e.valueMode,l={checkStrictly:r,disabled:t,load:o,lazy:i,valueMode:a};n.setConfig(l)}}),{immediate:!0}),(0,o.YP)(c,(function(){var e=m.value,t=e.setValue,n=e.multiple,r=e.valueType;mo(c.value,m.value)?t(n?[]:"","invalid-value"):g.scopeVal=n?[]:"",ho(c)||(g.scopeVal=vo(c.value,r,n)),g.treeStore&&(_(),b())}),{immediate:!0}),(0,o.YP)((function(){return p.value&&y.value}),(function(e){var t=m.value.setInputVal;e&&t("")})),(0,o.YP)((function(){return g.inputVal}),(function(){b()})),{cascaderContext:m,isFilterable:y}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $l=(0,o.aZ)({name:"TCascader",props:Gl({},xo),setup:function(e,t){var n=t.slots,r=(0,Ci.D)(),i=(0,w.ws)("cascader"),a=(0,w.ws)(),l=(0,w.RH)(),u=l.STATUS,c=(0,w.ws)("cascader__popup"),s=(0,k.Z)("cascader"),d=s.globalConfig,f=Kl(e),p=f.cascaderContext,v=f.isFilterable,h=(0,o.Fl)((function(){return e.multiple?co(p.value):uo(p.value)})),m=(0,o.Fl)((function(){return so(p.value.treeNodes)})),g=(0,o.Fl)((function(){var t;return p.value.visible&&!e.multiple&&uo(p.value)||(null!==(t=e.placeholder)&&void 0!==t?t:d.value.placeholder)})),y=function(){var e=p.value,t=e.visible,n=e.disabled;return(0,o.Wm)(qn.Z,{overlayClassName:go(a.value,u.value,p.value),isActive:t,disabled:n},null)};return function(){var t,a=p.value,l=a.setVisible,u=a.visible,s=a.inputVal,d=a.setInputVal;return(0,o.Wm)(Fo.l,(0,o.dG)({class:i.value,value:h.value,inputValue:u?s:"",popupVisible:u,keys:e.keys,allowInput:v.value,"min-collapsed-num":e.minCollapsedNum,"collapsed-items":e.collapsedItems,readonly:e.readonly,disabled:e.disabled,clearable:e.clearable,placeholder:g.value,multiple:e.multiple,loading:e.loading,status:e.status,tips:e.tips,suffixIcon:function(){return y()},popupProps:Gl(Gl({},e.popupProps),{},{overlayInnerStyle:m.value.length?{width:"auto"}:"",overlayInnerClassName:[c.value,null===(t=e.popupProps)||void 0===t?void 0:t.overlayClassName]}),inputProps:Gl({size:e.size},e.inputProps),tagInputProps:Gl({size:e.size},e.tagInputProps),tagProps:Gl({},e.tagProps),onInputChange:function(t,n){var r,i;v.value&&(d("".concat(t)),null===e||void 0===e||null===(r=e.selectInputProps)||void 0===r||null===(i=r.onInputChange)||void 0===i||i.call(r,t,n))},onTagChange:function(t,n){var r,i;"enter"!==n.trigger&&(Do(p.value,n.index,e.onRemove),null===e||void 0===e||null===(r=e.selectInputProps)||void 0===r||null===(i=r.onTagChange)||void 0===i||i.call(r,t,n))},onPopupVisibleChange:function(t,n){var i,o;r.value||(l(t,n),null===e||void 0===e||null===(i=e.selectInputProps)||void 0===i||null===(o=i.onPopupVisibleChange)||void 0===o||o.call(i,t,n))},onBlur:function(t,n){var r,i,o;null===(r=e.onBlur)||void 0===r||r.call(e,{value:p.value.value,e:n.e}),null===e||void 0===e||null===(i=e.selectInputProps)||void 0===i||null===(o=i.onBlur)||void 0===o||o.call(i,t,n)},onFocus:function(t,n){var r,i,o;null===(r=e.onFocus)||void 0===r||r.call(e,{value:p.value.value,e:n.e}),null===e||void 0===e||null===(i=e.selectInputProps)||void 0===i||null===(o=i.onFocus)||void 0===o||o.call(i,t,n)},onClear:function(){var t,n;Io(p.value);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===e||void 0===e||null===(t=e.selectInputProps)||void 0===t||null===(n=t.onClear)||void 0===n||n.call.apply(n,[t].concat(i))}},(0,ao.o)(e.selectInputProps,["onTagChange","onInputChange","onPopupVisibleChange","onBlur","onFocus","onClear"])),{panel:function(){return(0,o.Wm)(Ao,{empty:e.empty,visible:u,trigger:e.trigger,cascaderContext:p.value},{empty:n.empty})},collapsedItems:n.collapsedItems})}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xl=(0,o.aZ)({name:"TCascaderPanel",props:ql({},xo),setup:function(e,t){var n=t.slots,r=Kl(e),i=r.cascaderContext;return function(){return(0,o.Wm)(Ao,{trigger:e.trigger,cascaderContext:i.value,empty:e.empty},{empty:n.empty})}}}),Ql=(0,g.Z)($l),eu=(0,g.Z)(Xl),tu=n(639),nu=vr._,ru=hr.i,iu="[object Boolean]";function ou(e){return!0===e||!1===e||ru(e)&&nu(e)==iu}var au=ou,lu={colon:Boolean,data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:void 0},errorMessage:{type:Object},formControlledComponents:{type:Array},labelAlign:{type:String,default:"right",validator:function(e){return!e||["left","right","top"].includes(e)}},labelWidth:{type:[String,Number],default:"100px"},layout:{type:String,default:"vertical",validator:function(e){return!e||["vertical","inline"].includes(e)}},preventSubmitDefault:{type:Boolean,default:!0},requiredMark:{type:Boolean,default:void 0},resetType:{type:String,default:"empty",validator:function(e){return!e||["empty","initial"].includes(e)}},rules:{type:Object},scrollToFirstError:{type:String,default:"",validator:function(e){return!e||["","smooth","auto"].includes(e)}},showErrorMessage:{type:Boolean,default:!0},statusIcon:{type:[Boolean,Function],default:void 0},submitWithWarningMessage:Boolean,onReset:Function,onSubmit:Function,onValidate:Function},uu=n(2965);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var du=(0,o.aZ)({name:"TForm",props:su({},lu),setup:function(e,t){var n=t.expose,r=(0,S.sL)(),i=(0,T.BK)(e),a=i.disabled;(0,o.JJ)("formDisabled",{disabled:a});var l=(0,T.iH)(null),u=(0,T.iH)([]),c=(0,T.BK)(e),s=c.showErrorMessage,d=c.labelWidth,f=c.labelAlign,p=c.data,v=c.colon,h=c.requiredMark,m=c.rules,g=c.errorMessage,y=c.resetType;(0,o.JJ)(uu.jS,(0,T.qj)({showErrorMessage:s,labelWidth:d,labelAlign:f,data:p,colon:v,requiredMark:h,rules:m,errorMessage:g,resetType:y,children:u,renderContent:r}));var b=(0,w.ws)("form"),O=(0,uu.RS)(),k=(0,o.Fl)((function(){return[O.value.form,(0,_._)({},"".concat(b.value,"-inline"),"inline"===e.layout)]})),C=(0,w.ws)("form-item__"),x=function(t){if(au(t))return"";var n=Object.keys(t),r=(0,ft._)(n,1),i=r[0];e.scrollToFirstError&&P(".".concat(C.value+i));var o=t[i];return(0,Bo.i)(o)?o.filter((function(e){return!e.result}))[0].message:""},P=function(t){var n,r=null===(n=l.value)||void 0===n?void 0:n.querySelector(t),i=e.scrollToFirstError;i&&r&&r.scrollIntoView({behavior:i})},E=function(e,t){return!t||!Array.isArray(t)||-1!==t.indexOf("".concat(e))},I=function(e){var t=e.reduce((function(e,t){return Object.assign(e||{},t)}),{});return Object.keys(t).forEach((function(e){!0===t[e]&&delete t[e]})),!!(0,lo.i)(t)||t},D=function(){var t=Ee(je.mark((function t(n){var r,i,o,a,l,c,s,d,f,p;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=n||{},o=i.fields,a=i.trigger,l=void 0===a?"all":a,c=i.showErrorMessage,s=u.value.filter((function(e){return(0,Re.i)(e.validate)&&E(String(e.name),o)})).map((function(e){return e.validate(l,c)})),t.next=4,Promise.all(s);case 4:return d=t.sent,f=I(d),p=x(f),null===(r=e.onValidate)||void 0===r||r.call(e,{validateResult:f,firstError:p}),t.abrupt("return",f);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var e=Ee(je.mark((function e(t){var n,r,i,o,a,l;return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t||{},r=n.fields,i=n.trigger,o=void 0===i?"all":i,a=u.value.filter((function(e){return(0,Re.i)(e.validateOnly)&&E(String(e.name),r)})).map((function(e){return e.validateOnly(o)})),e.next=4,Promise.all(a);case 4:return l=e.sent,e.abrupt("return",I(l));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=(0,T.iH)(),A=function(t){e.preventSubmitDefault&&t&&(t.preventDefault(),t.stopPropagation()),D(R.value).then((function(n){var r;null===(r=e.onSubmit)||void 0===r||r.call(e,{validateResult:n,firstError:x(n),e:t})})),R.value=void 0},M=function(){var e=Ee(je.mark((function e(t){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:R.value=t,(0,F.Bt)(l.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(0,T.iH)(),L=function(t){var n;e.preventSubmitDefault&&t&&(t.preventDefault(),t.stopPropagation()),u.value.filter((function(e){var t;return(0,Re.i)(e.resetField)&&E(String(e.name),null===(t=N.value)||void 0===t?void 0:t.fields)})).forEach((function(e){var t;return e.resetField(null===(t=N.value)||void 0===t?void 0:t.type)})),N.value=void 0,null===(n=e.onReset)||void 0===n||n.call(e,{e:t})},W=function(e){N.value=e,l.value.reset()},V=function(e){u.value.forEach((function(t){(0,Re.i)(t.resetHandler)&&E(String(t.name),e)&&t.resetHandler()}))},B=function(e){var t=Object.keys(e);if(t.length){var n=u.value.filter((function(e){return(0,Re.i)(e.setValidateMessage)&&t.includes("".concat(e.name))})).map((function(t){return t.setValidateMessage(e[t.name])}));Promise.all(n)}};return n({validate:D,submit:M,reset:W,clearValidate:V,setValidateMessage:B,validateOnly:j}),function(){return(0,o.Wm)("form",{ref:l,class:k.value,onSubmit:function(e){return A(e)},onReset:function(e){return L(e)}},[r("default")])}}}),fu=n(7173),pu=n(8420),vu=n(2596),hu=n(5383),mu=hu._;function gu(e,t,n){return null==e?e:mu(e,t,n)}var yu=gu,bu=n(9370),_u=n(6858),wu=n(6913),Su={exports:{}},Ou={exports:{}};(function(e,t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"],e.exports["default"]=t["default"]})(Ou,Ou.exports);Ou.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=v;var n=r(Ou.exports);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return l(e)||a(e,t)||c(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw o}}return n}}function l(e){if(Array.isArray(e))return e}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function f(e){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(e)}function p(e,t){for(var n=[],r=Math.min(e.length,t.length),i=0;i<r;i++)n.push([e[i],t[i]]);return n}function v(e,t){if(t="string"===typeof t?(0,n["default"])({format:t},d):(0,n["default"])(t,d),"string"===typeof e&&f(t.format)){var r,o=t.delimiters.find((function(e){return-1!==t.format.indexOf(e)})),a=t.strictMode?o:t.delimiters.find((function(t){return-1!==e.indexOf(t)})),l=p(e.split(a),t.format.toLowerCase().split(o)),c={},s=u(l);try{for(s.s();!(r=s.n()).done;){var v=i(r.value,2),h=v[0],m=v[1];if(h.length!==m.length)return!1;c[m.charAt(0)]=h}}catch(g){s.e(g)}finally{s.f()}return new Date("".concat(c.m,"/").concat(c.d,"/").concat(c.y)).getDate()===+c.d}return!t.strictMode&&("[object Date]"===Object.prototype.toString.call(e)&&isFinite(e))}e.exports=t["default"],e.exports["default"]=t["default"]})(Su,Su.exports);var ku=(0,xe.g)(Su.exports),Cu={exports:{}},xu={exports:{}};(function(e,t){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t="string"===typeof e||e instanceof String;if(!t){var r=n(e);throw null===e?r="null":"object"===r&&(r=e.constructor.name),new TypeError("Expected a string but received a ".concat(r))}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"],e.exports["default"]=t["default"]})(xu,xu.exports);xu.exports;var Pu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(xu.exports);function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var r,o;(0,n["default"])(e),"object"===i(t)?(r=t.min||0,o=t.max):(r=arguments[1],o=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=r&&("undefined"===typeof o||a<=o)}e.exports=t["default"],e.exports["default"]=t["default"]})(Pu,Pu.exports);Pu.exports;var Eu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=i(xu.exports),r=i(Ou.exports);function i(e){return e&&e.__esModule?e:{default:e}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function a(e,t){(0,n["default"])(e),t=(0,r["default"])(t,o),t.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var i=e.split("."),a=i[i.length-1];if(t.require_tld){if(i.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&i.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))}e.exports=t["default"],e.exports["default"]=t["default"]})(Eu,Eu.exports);Eu.exports;var Tu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c;var n=r(xu.exports);function r(e){return e&&e.__esModule?e:{default:e}}var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(i,"[.]){3}").concat(i),a=new RegExp("^".concat(o,"$")),l="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(o,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(o,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(o,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(o,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(o,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(o,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(o,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,n["default"])(e),t=String(t),!t)return c(e,4)||c(e,6);if("4"===t){if(!a.test(e))return!1;var r=e.split(".").sort((function(e,t){return e-t}));return r[3]<=255}return"6"===t&&!!u.test(e)}e.exports=t["default"],e.exports["default"]=t["default"]})(Tu,Tu.exports);Tu.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=g;var n=l(xu.exports),r=l(Ou.exports),i=l(Pu.exports),o=l(Eu.exports),a=l(Tu.exports);function l(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,d=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,h=254;function m(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;var n=/[\.";<>]/.test(t);if(n){if(t===e)return!1;var r=t.split('"').length===t.split('\\"').length;if(!r)return!1}return!0}function g(e,t){if((0,n["default"])(e),t=(0,r["default"])(t,u),t.require_display_name||t.allow_display_name){var l=e.match(c);if(l){var g=l[1];if(e=e.replace(g,"").replace(/(^<|>$)/g,""),g.endsWith(" ")&&(g=g.substr(0,g.length-1)),!m(g))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>h)return!1;var y=e.split("@"),b=y.pop(),_=b.toLowerCase();if(t.host_blacklist.includes(_))return!1;var w=y.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){w=w.toLowerCase();var S=w.split("+")[0];if(!(0,i["default"])(S.replace(/\./g,""),{min:6,max:30}))return!1;for(var O=S.split("."),k=0;k<O.length;k++)if(!d.test(O[k]))return!1}if(!1===t.ignore_max_length&&(!(0,i["default"])(w,{max:64})||!(0,i["default"])(b,{max:254})))return!1;if(!(0,o["default"])(b,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,a["default"])(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var C=b.substr(1,b.length-2);if(0===C.length||!(0,a["default"])(C))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?v.test(w):f.test(w);for(var x=t.allow_utf8_local_part?p:s,P=w.split("."),E=0;E<P.length;E++)if(!x.test(P[E]))return!1;return!t.blacklisted_chars||-1===w.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))}e.exports=t["default"],e.exports["default"]=t["default"]})(Cu,Cu.exports);var Iu=(0,xe.g)(Cu.exports),Du={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=g;var n=a(xu.exports),r=a(Eu.exports),i=a(Tu.exports),o=a(Ou.exports);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return f(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(i)throw o}}return n}}function f(e){if(Array.isArray(e))return e}var p={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},v=/^\[([^\]]+)\](?::([0-9]+))?$/;function h(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||h(r)&&r.test(e))return!0}return!1}function g(e,t){if((0,n["default"])(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if(t=(0,o["default"])(t,p),t.validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var a,u,c,s,d,f,h,g;if(h=e.split("#"),e=h.shift(),h=e.split("?"),e=h.shift(),h=e.split("://"),h.length>1){if(a=h.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(a))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;h[0]=e.substr(2)}}if(e=h.join("://"),""===e)return!1;if(h=e.split("/"),e=h.shift(),""===e&&!t.require_host)return!0;if(h=e.split("@"),h.length>1){if(t.disallow_auth)return!1;if(""===h[0])return!1;if(u=h.shift(),u.indexOf(":")>=0&&u.split(":").length>2)return!1;var y=u.split(":"),b=l(y,2),_=b[0],w=b[1];if(""===_&&""===w)return!1}s=h.join("@"),f=null,g=null;var S=s.match(v);if(S?(c="",g=S[1],f=S[2]||null):(h=s.split(":"),c=h.shift(),h.length&&(f=h.join(":"))),null!==f&&f.length>0){if(d=parseInt(f,10),!/^[0-9]+$/.test(f)||d<=0||d>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?m(c,t.host_whitelist):!!((0,i["default"])(c)||(0,r["default"])(c,t)||g&&(0,i["default"])(g,6))&&(c=c||g,!t.host_blacklist||!m(c,t.host_blacklist))}e.exports=t["default"],e.exports["default"]=t["default"]})(Du,Du.exports);var ju=(0,xe.g)(Du.exports);function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fu(e){var t=Object.prototype.toString.call(e),n={Date:"[object Date]"};return t!==n.Date&&("object"===(0,Ce._)(e)?(0,lo.i)(e):["",void 0,null].includes(e))}var Mu={date:ku,url:ju,email:Iu,required:function(e){return!Fu(e)},whitespace:function(e){return!(/^\s+$/.test(e)||""===e)},boolean:function(e){return"boolean"===typeof e},max:function(e,t){return _r(e)?e<=t:(0,Mt.p_)(e)<=t},min:function(e,t){return _r(e)?e>=t:(0,Mt.p_)(e)>=t},len:function(e,t){return(0,Mt.p_)(e)===t},number:function(e){return _r(e)},enum:function(e,t){return t.includes(e)},idcard:function(e){return/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/i.test(e)},telnumber:function(e){return/^1[3-9]\d{9}$/.test(e)},pattern:function(e,t){return t.test(e)},validator:function(e,t){return t(e)}};function Nu(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=Ee(je.mark((function e(t,n){var r,i,o,a,l,u,c;return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r={result:!0},i=Object.keys(n),l=0;case 3:if(!(l<i.length)){e.next=15;break}if(u=i[l],n.required||!Fu(t)||n.validator){e.next=7;break}return e.abrupt("return",r);case 7:if(c=Mu[u],!c||!n[u]){e.next=12;break}return o=!0===n[u]?void 0:n[u],a=c,e.abrupt("break",15);case 12:l++,e.next=3;break;case 15:if(!a){e.next=23;break}return e.next=18,a(t,o);case 18:if(r=e.sent,"boolean"!==typeof r){e.next=21;break}return e.abrupt("return",Au(Au({},n),{},{result:r}));case 21:if("object"!==(0,Ce._)(r)){e.next=23;break}return e.abrupt("return",r);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Wu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=Ee(je.mark((function e(t,n){var r,i;return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.map((function(e){return Nu(t,e)})),e.next=3,Promise.all(r);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Bu={for:{type:String,default:""},help:{type:[String,Function]},label:{type:[String,Function],default:""},labelAlign:{type:String,validator:function(e){return!e||["left","right","top"].includes(e)}},labelWidth:{type:[String,Number]},name:{type:[String,Number]},requiredMark:{type:Boolean,default:void 0},rules:{type:Array},showErrorMessage:{type:Boolean,default:void 0},statusIcon:{type:[Boolean,Function],default:void 0},successBorder:Boolean},Uu=Mo._,Hu=bu._,zu=Mo.k,Zu=Hu((function(e,t,n,r){Uu(t,zu(t),e,r)})),Ku=Zu,Yu=vr._,Gu=hr.i,$u=dl.i,Ju="[object DOMException]",qu="[object Error]";function Xu(e){if(!Gu(e))return!1;var t=Yu(e);return t==qu||t==Ju||"string"==typeof e.message&&"string"==typeof e.name&&!$u(e)}var Qu=Xu,ec=_u._,tc=cl._,nc=Qu,rc=tc((function(e,t){try{return ec(e,void 0,t)}catch(n){return nc(n)?n:new Error(n)}})),ic=rc,oc=qa._;function ac(e,t){return oc(t,(function(t){return e[t]}))}var lc=ac,uc=Lo.e,cc=Object.prototype,sc=cc.hasOwnProperty;function dc(e,t,n,r){return void 0===e||uc(e,cc[n])&&!sc.call(r,n)?t:e}var fc=dc,pc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function vc(e){return"\\"+pc[e]}var hc=vc,mc=/<%=([\s\S]+?)%>/g,gc=mc,yc=sl._,bc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_c=yc(bc),wc=_c,Sc=wc,Oc=fl.t,kc=/[&<>"']/g,Cc=RegExp(kc.source);function xc(e){return e=Oc(e),e&&Cc.test(e)?e.replace(kc,Sc):e}var Pc=xc,Ec=/<%-([\s\S]+?)%>/g,Tc=Ec,Ic=/<%([\s\S]+?)%>/g,Dc=Ic,jc=Pc,Rc=Tc,Ac=Dc,Fc=gc,Mc={escape:Rc,evaluate:Ac,interpolate:Fc,variable:"",imports:{_:{escape:jc}}},Nc=Mc,Lc=Ku,Wc=ic,Vc=lc,Bc=fc,Uc=hc,Hc=Qu,zc=wu._,Zc=Wo.k,Kc=gc,Yc=Nc,Gc=fl.t,$c="Invalid `variable` option passed into `_.template`",Jc=/\b__p \+= '';/g,qc=/\b(__p \+=) '' \+/g,Xc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qc=/[()=,{}\[\]\/\s]/,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ts=/($^)/,ns=/['\n\r\u2028\u2029\\]/g,rs=Object.prototype,is=rs.hasOwnProperty;function os(e,t,n){var r=Yc.imports._.templateSettings||Yc;n&&zc(e,t,n)&&(t=void 0),e=Gc(e),t=Lc({},t,r,Bc);var i,o,a=Lc({},t.imports,r.imports,Bc),l=Zc(a),u=Vc(a,l),c=0,s=t.interpolate||ts,d="__p += '",f=RegExp((t.escape||ts).source+"|"+s.source+"|"+(s===Kc?es:ts).source+"|"+(t.evaluate||ts).source+"|$","g"),p=is.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(t,n,r,a,l,u){return r||(r=a),d+=e.slice(c,u).replace(ns,Uc),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),l&&(o=!0,d+="';\n"+l+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var v=is.call(t,"variable")&&t.variable;if(v){if(Qc.test(v))throw new Error($c)}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(Jc,""):d).replace(qc,"$1").replace(Xc,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var h=Wc((function(){return Function(l,p+"return "+d).apply(void 0,u)}));if(h.source=d,Hc(h))throw h;return h}var as=os;function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cs=(0,o.aZ)({name:"TFormItem",props:us({},Bu),setup:function(e){var t=(0,S.sL)(),n=(0,uu.RS)(),r=(0,k.Z)("form"),i=r.globalConfig,a=(0,it.J)({CheckCircleFilledIcon:fu.Z,CloseCircleFilledIcon:pu.Z,ErrorCircleFilledIcon:vu.Z}),l=a.CheckCircleFilledIcon,u=a.CloseCircleFilledIcon,c=a.ErrorCircleFilledIcon,s=(0,o.f3)(uu.jS,void 0),d=(0,w.ws)("form-item__"),f=(0,o.Fl)((function(){var t=e.requiredMark;if("boolean"===typeof t)return t;var n=void 0===(null===s||void 0===s?void 0:s.requiredMark)?i.value.requiredMark:null===s||void 0===s?void 0:s.requiredMark,r=L.value.filter((function(e){return e.required})).length>0;return Boolean(n&&r)})),p=(0,o.Fl)((function(){return!(null===s||void 0===s||!s.colon||!t("label"))})),v=(0,w.ws)("form__label"),h=(0,o.Fl)((function(){return vl(e.labelAlign)?null===s||void 0===s?void 0:s.labelAlign:e.labelAlign})),m=(0,o.Fl)((function(){return vl(e.labelWidth)?null===s||void 0===s?void 0:s.labelWidth:e.labelWidth})),g=(0,o.Fl)((function(){var e;return[n.value.label,(e={},(0,_._)(e,"".concat(v.value,"--required"),f.value),(0,_._)(e,"".concat(v.value,"--colon"),p.value),(0,_._)(e,"".concat(v.value,"--top"),"top"===h.value||!m.value),(0,_._)(e,"".concat(v.value,"--left"),"left"===h.value&&m.value),(0,_._)(e,"".concat(v.value,"--right"),"right"===h.value&&m.value),e)]})),y=function(){if(0!==Number(m.value)){var n={};return m.value&&"top"!==h.value&&(n="number"===typeof m.value?{width:"".concat(m.value,"px")}:{width:m.value}),(0,o.Wm)("div",{class:g.value,style:n},[(0,o.Wm)("label",{for:e["for"]},[t("label")])])}},b=function(){var e=function(e){return(0,o.Wm)("span",{class:n.value.status},[(0,o.Wm)(e,null,null)])},t=E.value;if(D.value===uu.rv.SUCCESS)return e(l);if(null!==t&&void 0!==t&&t[0]){var r=t[0].type||"error",i={error:u,warning:c}[r]||l;return e(i)}return null},O=function(){var r=e.statusIcon;if(!1!==r){var i=t("statusIcon",{defaultNode:b()});if(i)return(0,o.Wm)("span",{class:n.value.status},[i]);if(!1!==i)return i=null===s||void 0===s?void 0:s.renderContent("statusIcon",{defaultNode:b()}),i||void 0}},C=(0,o.Fl)((function(){if(!$.value)return"";if(D.value===uu.rv.SUCCESS)return e.successBorder?[n.value.success,n.value.successBorder].join(" "):n.value.success;if(E.value.length){var t=E.value[0].type||"error";return"error"===t?n.value.error:n.value.warning}})),x=(0,o.Fl)((function(){return[n.value.controls,C.value]})),P=(0,o.Fl)((function(){var e={};return m.value&&"top"!==h.value&&(e="number"===typeof m.value?{marginLeft:"".concat(m.value,"px")}:{marginLeft:m.value}),e})),E=(0,T.iH)([]),I=(0,T.iH)([]),D=(0,T.iH)(uu.rv.TO_BE_VALIDATED),j=(0,T.iH)(!1),R=(0,T.iH)(!1),A=function(){R.value=!1,E.value=[],I.value=[],D.value=uu.rv.TO_BE_VALIDATED},F=function(){var t,n=Object.prototype.toString.call((0,hl.g)(null===s||void 0===s?void 0:s.data,e.name));return"[object String]"===n&&(t=""),"[object Array]"===n&&(t=[]),"[object Object]"===n&&(t={}),t},M=function(){var t=Ee(je.mark((function t(){var n,r=arguments;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:null===s||void 0===s?void 0:s.resetType,e.name){t.next=3;break}return t.abrupt("return");case 3:return"empty"===n?yu(null===s||void 0===s?void 0:s.data,e.name,F()):"initial"===n&&yu(null===s||void 0===s?void 0:s.data,e.name,z.value),t.next=6,(0,o.Y3)();case 6:j.value?R.value=!0:A();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=(0,o.Fl)((function(){var e;return null!==(e=null===s||void 0===s?void 0:s.errorMessage)&&void 0!==e?e:i.value.errorMessage})),L=(0,o.Fl)((function(){var t;if(null!==(t=e.rules)&&void 0!==t&&t.length)return e.rules;if(!e.name)return[];var n="".concat(e.name).lastIndexOf(".")||-1,r="".concat(e.name).slice(n+1);return(0,hl.g)(null===s||void 0===s?void 0:s.rules,e.name)||(0,hl.g)(null===s||void 0===s?void 0:s.rules,r)||[]})),W=function(){var t=Ee(je.mark((function t(n){var r,i;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={successList:[],errorList:[],rules:[],resultList:[],allowSetValue:!1},i.rules="all"===n?L.value:L.value.filter((function(e){return(e.trigger||"change")===n})),!L.value.length||null!==(r=i.rules)&&void 0!==r&&r.length){t.next=4;break}return t.abrupt("return",i);case 4:return i.allowSetValue=!0,t.next=7,Wu(H.value,i.rules);case 7:return i.resultList=t.sent,i.errorList=i.resultList.filter((function(e){return!0!==e.result})).map((function(t){return Object.keys(t).forEach((function(n){if(!t.message&&N.value[n]){var r=as(N.value[n]),i="string"===typeof e.label?e.label:e.name;t.message=r({name:i,validate:t[n]})}})),t})),i.successList=i.resultList.filter((function(e){return!0===e.result&&e.message&&"success"===e.type})),t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Ee(je.mark((function t(n,r){var i,o,a,l,u,c;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return j.value=!0,G.value=r,t.next=4,W(n);case 4:return i=t.sent,o=i.successList,a=i.errorList,l=i.rules,u=i.resultList,c=i.allowSetValue,c&&(I.value=o,E.value=a),l.length?D.value=a.length?uu.rv.FAIL:uu.rv.SUCCESS:D.value=uu.rv.TO_BE_VALIDATED,R.value&&A(),j.value=!1,t.abrupt("return",(0,_._)({},e.name,0===a.length||u));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),B=function(){var t=Ee(je.mark((function t(n){var r,i,o;return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W(n);case 2:return r=t.sent,i=r.errorList,o=r.resultList,t.abrupt("return",(0,_._)({},e.name,0===i.length||o));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(e){(e||Array.isArray(e))&&(0===e.length&&(E.value=[],D.value=uu.rv.SUCCESS),E.value=e.map((function(e){return us(us({},e),{},{result:!1})})),D.value=uu.rv.FAIL)},H=(0,o.Fl)((function(){return(null===s||void 0===s?void 0:s.data)&&(0,hl.g)(null===s||void 0===s?void 0:s.data,e.name)})),z=(0,T.iH)(void 0),Z=(0,T.BK)(e),K=Z.name,Y=(0,T.qj)({name:K,resetHandler:A,resetField:M,validate:V,validateOnly:B,setValidateMessage:U});(0,o.bv)((function(){z.value=(0,Po.c)(H.value),null===s||void 0===s||s.children.push(Y)})),(0,o.Jd)((function(){s&&(s.children=null===s||void 0===s?void 0:s.children.filter((function(e){return e!==Y})))})),(0,o.YP)(H,Ee(je.mark((function e(){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V("change");case 2:case"end":return e.stop()}}),e)}))),{deep:!0});var G=(0,T.iH)(void 0),$=(0,o.Fl)((function(){return"boolean"===typeof G.value?G.value:"boolean"===typeof e.showErrorMessage?e.showErrorMessage:null===s||void 0===s?void 0:s.showErrorMessage})),J=(0,o.Fl)((function(){var t;return[n.value.formItem,d.value+(e.name||""),(t={},(0,_._)(t,n.value.formItemWithHelp,q.value),(0,_._)(t,n.value.formItemWithExtra,X.value),t)]})),q=(0,o.Fl)((function(){var e=t("help");return e?(0,o.Wm)("div",{class:n.value.help},[e]):null})),X=(0,o.Fl)((function(){var e,t=function(e){return(0,o.Wm)("div",{class:n.value.extra},[e])},r=E.value;return $.value&&null!==r&&void 0!==r&&null!==(e=r[0])&&void 0!==e&&e.message?t(r[0].message):I.value.length?t(I.value[0].message):null})),Q=function(){var e=Ee(je.mark((function e(){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V("blur");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.JJ)(uu.Lz,{handleBlur:Q}),function(){return(0,o.Wm)("div",{class:J.value},[y(),(0,o.Wm)("div",{class:x.value,style:P.value},[(0,o.Wm)("div",{class:n.value.controlsContent},[t("default"),O()]),[q.value,X.value]])])}}}),ss=(0,g.Z)(du),ds=(0,g.Z)(cs),fs={allowUncheck:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},label:{type:[String,Function]},name:{type:String,default:""},value:{type:[String,Number,Boolean],default:void 0},onChange:Function,onClick:Function},ps=Symbol("RadioGroupProvide"),vs=Symbol("RadioButtonProvide");
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var ys=(0,o.aZ)({name:"TRadio",inheritAttrs:!1,props:ms({},fs),setup:function(e,t){var n=t.attrs,r=(0,T.BK)(e),i=r.checked,a=r.modelValue,l=(0,gt.Z)(i,a,e.defaultChecked,e.onChange,"checked"),u=(0,ft._)(l,2),c=u[0],s=u[1],d=(0,o.Fl)((function(){return f?e.value===f.value:c.value})),f=(0,o.f3)(ps,void 0),p=function(t){if(null!==f&&void 0!==f&&f.setValue)f.setValue(e.value,{e:t});else{var n=t.target.checked;s(n,{e:t})}},v=function(t){var n;t.stopPropagation(),null===(n=e.onClick)||void 0===n||n.call(e,{e:t}),d.value&&e.allowUncheck&&(f?f.setValue(void 0,{e:t}):s(!1,{e:t}))},h=(0,o.Fl)((function(){return gs({focus:n.onFocus,blur:n.onBlur,keydown:n.onKeydown,keyup:n.onKeyup,keypresss:n.onKeypresss})})),m=(0,o.Fl)((function(){var e=[].concat((0,b._)(Object.keys(h.value)),["input","change"]).map((function(e){return"on".concat(e[0].toUpperCase()).concat(e.slice(1))}));return(0,Mt.CE)(n,e)})),g=(0,o.Fl)((function(){return null===f||void 0===f?void 0:f.disabled})),y=(0,Ci.D)(g),O=(0,o.Fl)((function(){return{name:f?f.name:e.name,checked:d.value,disabled:y.value,value:e.value}})),k=(0,w.RH)(),C=k.STATUS,x=(0,o.f3)(vs,void 0),P=(0,w.ws)("radio-button"),E=(0,w.ws)("radio"),I=(0,o.Fl)((function(){return x?P.value:E.value})),D=(0,o.Fl)((function(){var e;return["".concat(I.value),(e={},(0,_._)(e,C.value.checked,O.value.checked),(0,_._)(e,C.value.disabled,O.value.disabled),e)]})),j=(0,S.r0)();return function(){return(0,o.Wm)("label",(0,o.dG)({class:D.value},m.value),[(0,o.Wm)("input",(0,o.dG)({type:"radio",class:"".concat(I.value,"__former")},h.value,O.value,{onChange:p,onClick:v}),null),(0,o.Wm)("span",{class:"".concat(I.value,"__input")},null),(0,o.Wm)("span",{class:"".concat(I.value,"__label")},[j("default","label")])])}}}),bs={disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:void 0},variant:{type:String,default:"outline",validator:function(e){return["outline","primary-filled","default-filled"].includes(e)}},onChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ss=(0,o.aZ)({name:"TRadioGroup",props:ws({},bs),setup:function(e){var t=(0,T.BK)(e),n=t.value,r=t.modelValue,i=(0,gt.Z)(n,r,e.defaultValue,e.onChange),a=(0,ft._)(i,2),l=a[0],u=a[1],c=(0,T.iH)(),s=(0,w.ws)("radio-button"),d=(0,w.RH)(),f=d.STATUS,p=d.SIZE,v=(0,o.Fl)((function(){return".".concat(s.value,".").concat(f.value.checked)})),h=(0,T.iH)({width:"0px",left:"0px"}),m=function(){var e=document.createElement("div");e.setAttribute("style","position: absolute; visibility: hidden;"),e.appendChild(c.value.cloneNode(!0)),document.body.appendChild(e);var t=e.querySelector(v.value),n=t.offsetWidth,r=t.offsetLeft;h.value={width:"".concat(n,"px"),left:"".concat(r,"px")},document.body.removeChild(e)},g=function(){if("outline"!==e.variant){var t=c.value.querySelector(v.value);if(t){var n=t.offsetWidth,r=t.offsetLeft;n?h.value={width:"".concat(n,"px"),left:"".concat(r,"px")}:m()}else h.value={width:"0px",left:"0px"}}};(0,o.YP)(l,Ee(je.mark((function e(){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Y3)();case 2:g();case 3:case"end":return e.stop()}}),e)})))),(0,o.bv)((function(){g()}));var y=(0,T.BK)(e),b=y.name,O=y.disabled;(0,o.JJ)(ps,(0,T.qj)({name:b,disabled:O,value:l,setValue:u}));var k=(0,w.ws)("radio-group"),C=(0,S.Mb)(),x=function(){if(e.variant.includes("filled")&&!vl(l.value))return(0,o.Wm)("div",{style:h.value,class:"".concat(k.value,"__bg-block")},null)},P=function(){var t;return null===(t=e.options)||void 0===t?void 0:t.map((function(t){var n=t;return(_r(t)||(0,Jr.i)(t))&&(n={value:t,label:t.toString()}),(0,o.Wm)(ys,{key:"radio-group-options-".concat(n.value,"-").concat(Math.random()),name:e.name,checked:l.value===n.value,disabled:"disabled"in n?n.disabled:e.disabled,value:n.value},{default:function(){return["function"===typeof n.label?n.label(o.h):n.label]}})}))},E=(0,o.Fl)((function(){var t;return["".concat(k.value),p.value[e.size],(t={},(0,_._)(t,"".concat(k.value,"__outline"),"outline"===e.variant),(0,_._)(t,"".concat(k.value,"--filled"),e.variant.includes("filled")),(0,_._)(t,"".concat(k.value,"--primary-filled"),"primary-filled"===e.variant),t)]}));return function(){return(0,o.Wm)("div",{ref:c,class:E.value},[C("default")||P(),x()])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cs(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var xs=(0,o.aZ)({name:"TRadioButton",inheritAttrs:!1,props:ks({},fs),setup:function(e,t){var n=t.attrs;(0,o.JJ)(vs,(0,T.qj)({}));var r=(0,o.Fl)((function(){var t=ks(ks({},e),(0,Mt.CE)(n,Object.keys(n).filter((function(e){return e.startsWith("on")}))));return t})),i=(0,S.Mb)();return function(){var e;return(0,o.Wm)(ys,r.value,Cs(e=i("default"))?e:{default:function(){return[e]}})}}}),Ps=(0,g.Z)(ys),Es=(0,g.Z)(Ss),Ts=(0,g.Z)(xs),Is={disabled:Boolean,inputNumberProps:{type:[Boolean,Object],default:!1},label:{type:[String,Boolean,Function],default:!1},layout:{type:String,default:"horizontal",validator:function(e){return["vertical","horizontal"].includes(e)}},marks:{type:[Object,Array]},max:{type:Number,default:100},min:{type:Number,default:0},range:Boolean,step:{type:Number,default:1},showStep:{type:Boolean,default:!1},modelValue:{type:[Number,Array],default:void 0},tooltipProps:{type:Object},value:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array]},onChange:Function},Ds=function(e,t){return t?{top:"calc(".concat(100-e,"% - 1px)")}:{left:"".concat(e,"%")}},js=function(e,t){return"first"===t?e instanceof Array?e[0]:e:e instanceof Array?e[1]:0},Rs=function(e,t){if(!1===Boolean(e))return String(t);if("string"===typeof e){var n=String(t);try{var r=/\${value}%/g,i=r.test(e);if(!i)throw n=e,new Error;n=e.replace(r,String(t))}catch(o){console.warn("fail to parse label prop, please pass string such as '${value}%'")}return n}return function(){return e}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ms={visible:!1,trigger:"hover",showArrow:!0,overlayInnerStyle:void 0,overlayClassName:void 0,attach:"body",theme:"default"},Ns=function(e){var t=(0,T.iH)(),n=(0,o.Fl)({get:function(){return!1===!e.value.tooltipProps},set:function(e){return e}}),r=(0,T.iH)(Fs({},Ms)),i=function(e){n.value&&(r.value.visible=e)},a=(0,o.Fl)((function(){var t=e.value,n=t.vertical,i=t.tooltipProps,o=t.label,a=t.value,l=n?"right":"top",u=Rs(o,a);return i instanceof Object?(null!==i&&void 0!==i&&i.placement||(r.value.placement=l),Fs(Fs(Fs({},r.value),i),{},{content:u})):Fs(Fs({},r.value),{},{placement:l,content:u})}));return{tooltipRef:t,tooltipProps:a,toggleTooltip:i,showTooltip:n}},Ls=Symbol("sliderProps"),Ws=(0,o.aZ)({name:"TSliderButton",props:{value:{type:[Number],default:0},vertical:{type:Boolean,default:!1},tooltipProps:{type:[Boolean,Object],default:!0},label:{type:[String,Boolean,Function],default:!1}},emits:["input"],setup:function(e,t){var n=(0,w.ws)("slider__button"),r=(0,o.Fl)((function(){return e})),i=Ns(r),a=i.tooltipRef,l=i.tooltipProps,u=i.toggleTooltip,c=i.showTooltip,s=(0,o.f3)(Ls),d=(0,T.iH)(),f=(0,T.qj)({dragging:!1,isClick:!1,startX:0,startY:0,startPos:0,newPos:null}),p=(0,o.Fl)((function(){return Number(s.max)-Number(s.min)})),v=(0,o.Fl)((function(){return"".concat((e.value-s.min)/p.value*100,"%")})),h=(0,o.Fl)((function(){return s.step})),m=(0,o.Fl)((function(){return e.vertical?{bottom:v.value}:{left:v.value}}));(0,o.m0)((function(){s.toggleDragging(f.dragging)}));var g=function(e){var n=e;if(null!==n&&!Number.isNaN(n)){n>100?n=100:n<0&&(n=0);var r=100*h.value/p.value,i=Math.round(n/r),l=i*r*p.value*.01;l+=s.min,l=Number(parseFloat("".concat(l)).toFixed(s.precision)),t.emit("input",l),(0,o.Y3)((function(){var e,t;a.value&&(null===(e=(t=a.value).updatePopper)||void 0===e||e.call(t))}))}},y=function(){d.value.focus(),u(!0)},b=function(){f.dragging||u(!1)},S=function(t){f.dragging=!0,f.isClick=!0;var n=t.type,r=t.clientY,i=t.clientX;if("touchstart"===n){var o=t.touches,a=[o[0].clientY,o[0].clientX];r=a[0],i=a[1]}e.vertical?f.startY=r:f.startX=i,f.startPos=parseFloat(v.value),f.newPos=f.startPos},O=function(t){var n=t;if(f.dragging){f.isClick=!1,null!==s&&void 0!==s&&s.resetSize&&"function"===typeof(null===s||void 0===s?void 0:s.resetSize)&&s.resetSize();var r=0,i=s.sliderSize;r=e.vertical?f.startY-n.clientY:n.clientX-f.startX,r=r/i*100,f.newPos=f.startPos+r,g(f.newPos)}},k=function e(){f.dragging&&(setTimeout((function(){f.dragging=!1,u(!1),f.isClick||g(f.newPos)}),0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("contextmenu",e))};function C(e){s.disabled||(e.preventDefault(),S(e),window.addEventListener("mousemove",O),window.addEventListener("mouseup",k),window.addEventListener("touchmove",O),window.addEventListener("touchend",k),window.addEventListener("contextmenu",k))}var x=function(e){if(!s.disabled){var t=h.value/p.value*100;"sub"===e&&(t=-t),f.newPos=parseFloat(v.value)+t,g(f.newPos)}},P=function(e){var t=e.code;e.preventDefault(),"ArrowDown"!==t&&"ArrowLeft"!==t||x("sub"),"ArrowUp"!==t&&"ArrowRight"!==t||x("add")};return t.expose({setPosition:g}),function(){return(0,o.Wm)("div",{ref:d,class:"".concat(n.value,"-wrapper"),style:m.value,tabindex:"0","show-tooltip":c.value,disabled:s.disabled,onmouseenter:y,onmouseleave:b,onmousedown:C,onTouchstart:C,onfocus:y,onblur:b,onKeydown:P},[c.value?(0,o.Wm)(wt,(0,o.dG)({ref:a,disabled:!c.value},l.value),{default:function(){return[(0,o.Wm)("div",{class:[n.value,(0,_._)({},"".concat(n.value,"--dragging"),f.dragging)]},null)]}}):(0,o.Wm)("div",{class:[n.value,(0,_._)({},"".concat(n.value,"--dragging"),f.dragging)]},null)])}}}),Vs=(0,o.aZ)({name:"TSliderMark",props:{mark:{type:[Object,Array,String,Number]},point:{type:Number},onClickMarkPoint:{type:Function,default:function(){}}},setup:function(e){var t=(0,w.ws)("slider__mark"),n=function(t){var n;t.stopPropagation(),null===e||void 0===e||null===(n=e.onClickMarkPoint)||void 0===n||n.call(e,e.point)};return function(){return(0,o.Wm)("div",{class:"".concat(t.value,"-text"),onClick:n},[e.mark])}}}),Bs=function(e){var t=e.value.prefixName,n=(0,o.Fl)((function(){var t=e.value;if(!t.marks)return[];var n=[];if(Array.isArray(t.marks)){var r=(0,Po.c)(t.marks).sort((function(e,t){return e-t})),i=Math.max.apply(Math,(0,b._)(r).concat([t.max])),o=Math.min.apply(Math,(0,b._)(r).concat([t.min]));o<t.min&&nn.Z.errorOnce("TSlider","marks min value should >= props min"),i>t.max&&nn.Z.errorOnce("TSlider","marks max value should <= props max"),r.forEach((function(e){n.push({point:e,position:(e-o)/(i-o)*100,mark:e})}))}else Object.keys(t.marks).map(parseFloat).sort((function(e,t){return e-t})).filter((function(e){return e<=t.max&&e>=t.min})).forEach((function(e){var r={point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]};n.push(r)}));return n})),r=function(r){if(n.value.length)return(0,o.Wm)("div",null,[(0,o.Wm)("div",null,[n.value.map((function(n,r){return(0,o.Wm)("div",{class:"".concat(t,"__stop ").concat(t,"__mark-stop"),style:Ds(n.position,e.value.vertical),key:r},null)}))]),(0,o.Wm)("div",{class:"".concat(t,"__mark")},[n.value.map((function(t,n){return(0,o.Wm)(Vs,{mark:t.mark,point:t.point,key:n,style:Ds(t.position,e.value.vertical),onClickMarkPoint:r},null)}))])])};return r};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zs={decimalPlaces:0,format:void 0,placeholder:"",theme:"column"},Zs=function(e){var t=e.value.prefixName,n=(0,o.Fl)((function(){var t=Hs({},zs),n=e.value;if("boolean"!==typeof n.inputNumberProps){var r,i=null===(r=n.inputNumberProps)||void 0===r?void 0:r.theme;t=Hs(Hs({},t),n.inputNumberProps),["column","row","normal"].includes(i)&&(t.theme=i)}return t})),r=(0,o.Fl)((function(){return["".concat(t,"__input"),{"is-vertical":e.value.vertical}]})),i=function(t,i){var a=function(e){void 0===e||isNaN(e)||i(e)};return(0,o.Wm)(Ii,(0,o.dG)(n.value,{class:r.value,value:t,step:e.value.step,onChange:a,disabled:e.value.disabled,min:e.value.min,max:e.value.max}),null)};return i};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ks(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gs=(0,o.aZ)({name:"TSlider",model:{prop:"value",event:"change"},props:Ys({},Is),setup:function(e,t){var n=(0,Ci.D)(),r=(0,w.ws)("slider"),i=(0,w.RH)(),a=i.STATUS,l=(0,T.BK)(e),u=l.value,c=l.modelValue,s=(0,gt.Z)(u,c,e.defaultValue,e.onChange),d=(0,ft._)(s,2),f=d[0],p=d[1],v=(0,T.iH)(),h=(0,T.iH)(),m=(0,T.iH)(),g=(0,T.iH)(),y=(0,T.iH)(js(f.value,"first")),S=(0,T.iH)(js(f.value,"second")),O=(0,T.iH)(!1),k=(0,T.iH)(1),C=(0,o.Fl)((function(){return"vertical"===e.layout})),x=(0,o.Fl)((function(){return["".concat(r.value,"__container"),{"is-vertical":C.value}]})),P=(0,o.Fl)((function(){var t;return["".concat(r.value),(t={"is-vertical":C.value},(0,_._)(t,"".concat(r.value,"--with-input"),e.inputNumberProps),(0,_._)(t,"".concat(r.value,"--vertical"),C.value),(0,_._)(t,a.value.disabled,n.value),t)]})),E=(0,o.Fl)((function(){return["".concat(r.value,"__rail"),{"show-input":e.inputNumberProps,disabled:n.value}]})),I=(0,o.Fl)((function(){return C.value?{height:"100%"}:{}})),D=(0,o.Fl)((function(){var t=e.range?"".concat(100*(R.value-e.min)/j.value,"%"):"0%",n=e.range?A.value-R.value:y.value-e.min,r="".concat(100*n/j.value,"%");return C.value?{height:r,bottom:t}:{width:r,left:t}})),j=(0,o.Fl)((function(){return e.max-e.min})),R=(0,o.Fl)((function(){return Math.min(y.value,S.value)})),A=(0,o.Fl)((function(){return Math.max(y.value,S.value)})),F=(0,o.Fl)((function(){if(!e.showStep||e.min>e.max)return[];if(0===e.step)return console.warn("[Element Warn][Slider]step should not be 0."),[];for(var t=j.value/e.step,n=100*e.step/j.value,r=[],i=1;i<t;i++)r.push(i*n);if(e.range){var o=r.filter((function(t){return t<100*(R.value-e.min)/j.value||e.step>100*(A.value-e.max)/j.value}));return o}return r.filter((function(t){return t>100*(y.value-e.min)/j.value}))})),M=(0,o.Fl)((function(){var t=[e.min,e.max,e.step].map((function(e){var t="".concat(e).split(".");return t[1]?t[1].length:0}));return Math.max.apply(null,t)})),N=function(t){var n=[e.min,e.max],r=n[0],i=n[1];if(!(r>i)){if(e.range&&Array.isArray(t)){var o=[Math.min.apply(Math,(0,b._)(t)),Math.max.apply(Math,(0,b._)(t))],a=o[0],l=o[1];a>i&&(a=y.value),a<r&&(a=r),l<r&&(l=S.value),l>i&&(l=i);var u=[a,l];return y.value=u[0],S.value=u[1],[a,l]}var c=t;return c<r&&(c=r),c>i&&(c=i),c}console.warn("[Slider] max should be greater than min.")},L=function(t){var n=t;void 0===n&&(n=e.range?[y.value,S.value]:y.value);var r=N(n);p(r)},W=function(){h.value&&(k.value=h.value["client".concat(C.value?"Height":"Width")])},V=(0,T.iH)(!1),B=function(){var t;e.range?(Array.isArray(f.value)?(y.value=Math.max(e.min||0,f.value[0]),S.value=Math.min(e.max||100,f.value[1])):(y.value=e.min||0,S.value=e.max||100),t="".concat(y.value,"-").concat(S.value)):("number"!==typeof f.value?y.value=e.min:y.value=Math.min(e.max,Math.max(e.min,f.value)),t=String(y.value)),v.value&&v.value.setAttribute("aria-valuetext",t),W(),window.addEventListener("resize",W)},U=function(t){var n,r=t*j.value/100;(r=e.min+r,e.range||!m.value)?(n=Math.abs(R.value-r)<Math.abs(A.value-r)?y.value<S.value?"button1":"button2":y.value>S.value?"button1":"button2","button1"===n&&m.value&&m.value.setPosition(t),"button2"===n&&g.value&&g.value.setPosition(t)):m.value.setPosition(t)},H=function(e){if(!n.value&&!O.value&&h.value){W();var t=0;if(C.value){var r=h.value.getBoundingClientRect().bottom;t=(r-e.clientY)/k.value*100,U(t)}else{var i=h.value.getBoundingClientRect().left;t=(e.clientX-i)/k.value*100,U(t)}}},z=function(e){if(!n.value&&!O.value){W();var t=Number(e/j.value*100);U(t),L(e)}};(0,o.YP)((function(){return f.value}),(function(t){if(!0!==O.value)if(Array.isArray(t)&&e.range){var n=(0,ft._)(t,2);y.value=n[0],S.value=n[1]}else y.value=t})),(0,o.YP)([y,S,O],(function(t,n){t[0]!==n[0]&&(e.range?L([R.value,A.value]):L(y.value)),t[1]!==n[1]&&e.range&&L([R.value,A.value]),t[2]!==n[2]&&!1===t[2]&&B()})),(0,o.bv)((function(){B(),V.value=!0})),(0,o.Jd)((function(){window.removeEventListener("resize",W)}));var Z=(0,o.Fl)((function(){return{max:e.max,min:e.min,marks:e.marks,vertical:C.value,prefixName:r.value}})),K=Bs(Z),Y=(0,o.Fl)((function(){return{max:e.max,min:e.min,inputNumberProps:e.inputNumberProps,step:e.step,prefixName:r.value,vertical:C.value,disabled:n.value}})),G=Zs(Y),$=function(){var t=y.value,n=function(e){y.value=e},i=S.value,a=function(e){S.value=e};return(0,o.Wm)("div",{class:["".concat(r.value,"__input-container"),{"is-vertical":C.value}]},[G(t,n),e.range&&(0,o.Wm)("div",{class:"".concat(r.value,"__center-line")},null),e.range&&G(i,a)])},J=function(e){O.value=e},q=(0,T.BK)(e),X=q.min,Q=q.max,ee=q.step;return(0,o.JJ)(Ls,(0,T.qj)({min:X,max:Q,step:ee,dragging:O,toggleDragging:J,precision:M,disabled:n,resetSize:W,sliderSize:k})),function(){return(0,o.Wm)("div",{class:x.value,ref:v},[(0,o.Wm)("div",{class:P.value,role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.layout,"aria-disabled":n.value,"tooltip-props":e.tooltipProps},[(0,o.Wm)("div",{class:E.value,style:I.value,onClick:H,ref:h},[(0,o.Wm)("div",{class:"".concat(r.value,"__track"),style:D.value},null),(0,o.Wm)(Ws,{vertical:C.value,value:y.value,ref:m,disabled:n.value,"tooltip-props":e.tooltipProps,label:e.label,onInput:function(e){y.value=e}},null),e.range&&(0,o.Wm)(Ws,{vertical:C.value,value:S.value,ref:g,disabled:n.value,label:e.label,"tooltip-props":e.tooltipProps,onInput:function(e){S.value=e}},null),e.showStep&&(0,o.Wm)("div",null,[F.value.map((function(e,t){return(0,o.Wm)("div",{class:"".concat(r.value,"__stop"),key:t,style:Ds(e,C.value)},null)}))]),K(z)])]),V.value&&e.inputNumberProps&&$()])}}}),$s=(0,g.Z)(Gs),Js=(0,g.Z)(Ws),qs={customValue:{type:Array},disabled:Boolean,label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},modelValue:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:!1},onChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ed,td=(0,o.aZ)({name:"TSwitch",props:Qs({},qs),setup:function(e,t){var n=t.slots,r=(0,Ci.D)(),i=(0,w.ws)("switch"),a=(0,w.RH)(),l=a.STATUS,u=a.SIZE,c=(0,T.BK)(e),s=c.value,d=c.modelValue,f=(0,gt.Z)(s,d,e.defaultValue,e.onChange),p=(0,ft._)(f,2),v=p[0],h=p[1],m=(0,o.Fl)((function(){return!(e.customValue&&e.customValue.length>0)||e.customValue[0]})),g=(0,o.Fl)((function(){return!!(e.customValue&&e.customValue.length>1)&&e.customValue[1]}));function y(){var e=v.value===m.value?g.value:m.value;h(e)}function b(){r.value||e.loading||y()}var S=(0,o.Fl)((function(){var t;return["".concat(i.value),u.value[e.size],(t={},(0,_._)(t,l.value.disabled,r.value),(0,_._)(t,l.value.loading,e.loading),(0,_._)(t,l.value.checked,v.value===m.value||e.modelValue===m.value),t)]})),O=(0,o.Fl)((function(){var t;return["".concat(i.value,"__handle"),(t={},(0,_._)(t,l.value.disabled,r.value),(0,_._)(t,l.value.loading,e.loading),t)]})),k=(0,o.Fl)((function(){return["".concat(i.value,"__content"),u.value[e.size],(0,_._)({},l.value.disabled,r.value)]}));(0,o.YP)(v,(function(t){if(e.customValue&&e.customValue.length&&!e.customValue.includes(t))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))}),{immediate:!0});var C=(0,o.Fl)((function(){if("function"===typeof e.label)return e.label(o.h,{value:v.value});if("string"===typeof e.label)return e.label;if(Array.isArray(e.label)&&e.label.length){var t=v.value===m.value?e.label[0]:e.label[1];if(!t)return;if("string"===typeof t)return t;if("function"===typeof t)return t(o.h)}return n.label?n.label({value:v.value}):null}));return function(){var t,n;return e.loading?n=(0,o.Wm)(So.gb,{size:"small"},null):C.value&&(t=C.value),(0,o.Wm)("div",{class:S.value,disabled:r.value,onClick:b},[(0,o.Wm)("span",{class:O.value},[n]),(0,o.Wm)("div",{class:k.value},[t])])}}}),nd=(0,g.Z)(td),rd=n(5393),id={autofocus:Boolean,autosize:{type:[Boolean,Object],default:!1},disabled:Boolean,maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},readonly:Boolean,status:{type:String,validator:function(e){return["success","warning","error"].includes(e)}},tips:{type:[String,Function]},value:{type:[String,Number]},modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function},od="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",ad=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function ld(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),i=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),o=ad.map((function(e){return"".concat(e,":").concat(t.getPropertyValue(e))})).join(";");return{sizingStyle:o,paddingSize:r,borderSize:i,boxSizing:n}}function ud(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ed||(ed=document.createElement("textarea"),document.body.appendChild(ed));var r=ld(e),i=r.paddingSize,o=r.borderSize,a=r.boxSizing,l=r.sizingStyle;ed.setAttribute("style","".concat(l,";").concat(od)),ed.value=e.value||e.placeholder||"";var u=ed.scrollHeight,c={};"border-box"===a?u+=o:"content-box"===a&&(u-=i),ed.value="";var s=ed.scrollHeight-i;if(null!==t){var d=s*t;"border-box"===a&&(d=d+i+o),u=Math.max(d,u),c.minHeight="".concat(d,"px")}if(null!==n){var f=s*n;"border-box"===a&&(f=f+i+o),u=Math.min(f,u)}return c.height="".concat(u,"px"),ed.parentNode&&ed.parentNode.removeChild(ed),ed=null,c}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dd(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var fd=(0,o.aZ)({name:"TTextarea",inheritAttrs:!1,props:sd({},id),setup:function(e,t){var n=t.attrs,r=t.expose,i=(0,w.ws)(),a=(0,w.ws)("textarea"),l=(0,o.Fl)((function(){return"".concat(a.value,"__tips")})),u=(0,o.Fl)((function(){return"".concat(a.value,"__limit")})),c=(0,T.BK)(e),s=c.value,d=c.modelValue,f=(0,gt.Z)(s,d,e.defaultValue,e.onChange),p=(0,ft._)(f,2),v=p[0],h=p[1],m=(0,Ci.D)(),g=(0,T.iH)({}),y=(0,o.Fl)((function(){var e=n.style;return[e,g.value]})),b=(0,T.iH)(),O=(0,T.iH)(!1),k=function(){var e;return null===(e=b.value)||void 0===e?void 0:e.focus()},C=function(){var e;return null===(e=b.value)||void 0===e?void 0:e.blur()},x=function(){var t,r;if(!0===e.autosize)(0,o.Y3)((function(){g.value=ud(b.value)}));else if("object"===(0,Ce._)(e.autosize)){var i=e.autosize,a=i.minRows,l=i.maxRows;g.value=ud(b.value,a,l)}else n.rows?g.value={height:"auto",minHeight:"auto"}:n.style&&null!==(t=b.value)&&void 0!==t&&null!==(r=t.style)&&void 0!==r&&r.height&&(g.value={height:b.value.style.height})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=b.value,n=String(e);t&&t.value!==n&&(t.value=n,v.value=n)},E=function(t){var n=t.target,r=n.value;if(e.maxcharacter&&e.maxcharacter>=0){var i=(0,Mt.p_)(r,e.maxcharacter);r="object"===(0,Ce._)(i)&&i.characters}h(r,{e:t}),(0,o.Y3)((function(){return P(r)})),x()},I=function(e){e.isComposing||"insertCompositionText"===e.inputType||E(e)},D=function(e){E(e)},j=function(t,n){var r;if(!m.value){var i="on".concat(t[0].toUpperCase()).concat(t.slice(1));null===(r=e[i])||void 0===r||r.call(e,v.value,{e:n})}},R=function(e){j("keydown",e)},A=function(e){j("keyup",e)},F=function(e){j("keypress",e)},M=function(t){var n;x(),m.value||(O.value=!0,null===(n=e.onFocus)||void 0===n||n.call(e,v.value,{e:t}))},N=(0,o.f3)(uu.Lz,void 0),L=function(t){var n;x(),O.value=!1,null===(n=e.onBlur)||void 0===n||n.call(e,v.value,{e:t}),null===N||void 0===N||N.handleBlur()},W=(0,o.Fl)((function(){var t;return[a.value,(t={},(0,_._)(t,"".concat(i.value,"-is-disabled"),m.value),(0,_._)(t,"".concat(i.value,"-is-readonly"),e.readonly),t)]})),V=(0,o.Fl)((function(){return dd({autofocus:e.autofocus,disabled:m.value,readonly:e.readonly,placeholder:e.placeholder,maxlength:e.maxlength||void 0,name:e.name||void 0})})),B=(0,o.Fl)((function(){var e=(0,Mt.p_)(String(v.value||""));return"object"===(0,Ce._)(e)?e.length:e}));(0,o.YP)((function(){return v.value}),(function(){return x()})),(0,o.YP)(b,(function(e){e&&x()})),(0,o.YP)((function(){return e.autofocus}),(function(e){e&&b.value.focus()})),r({focus:k,blur:C}),(0,o.bv)((function(){x()}));var U=(0,S.sL)();return function(){var t,r=dd({onFocus:M,onBlur:L,onKeydown:R,onKeyup:A,onKeypress:F}),c=(0,w.RH)(),s=c.STATUS,d=(0,o.Fl)((function(){var t;return["".concat(a.value,"__inner"),(t={},(0,_._)(t,"".concat(i.value,"-is-").concat(e.status),e.status),(0,_._)(t,s.value.disabled,m.value),(0,_._)(t,s.value.focused,O.value),(0,_._)(t,"".concat(i.value,"-resize-none"),e.maxlength),t),"narrow-scrollbar"]})),f=U("tips");return(0,o.Wm)("div",(0,o.dG)({class:W.value},(0,Mt.CE)(n,["style"])),[(0,o.Wm)("textarea",(0,o.dG)({onInput:I,onCompositionend:D,ref:b,value:v.value,style:y.value,class:d.value},r,V.value),null),e.maxcharacter&&(0,o.Wm)("span",{class:u.value},["".concat(B.value,"/").concat(e.maxcharacter)]),!e.maxcharacter&&e.maxlength?(0,o.Wm)("span",{class:u.value},["".concat(v.value?null===(t=String(v.value))||void 0===t?void 0:t.length:0,"/").concat(e.maxlength)]):null,f&&(0,o.Wm)("div",{class:"".concat(l.value," ").concat(a.value,"__tips--").concat(e.status||"normal")},[f])])}}}),pd=(0,g.Z)(fd);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var md="TTransfer";function gd(e){return Array.isArray(e)?{source:e[0],target:e[1]}:{source:e,target:e}}function yd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isTreeMode,i=void 0!==r&&r,o=n.include,a=void 0===o||o;if(i){var l=[];if(e)for(var u=0;u<e.length;u++){var c=e[u],s=t.includes(c.value);if(a||!s)if(c.children&&c.children.length>0){var d=yd(c.children,t,{isTreeMode:i,include:a});l=l.concat(d)}else(a&&s||!a&&!s)&&l.push(c.value)}return l}return e.filter((function(e){if(!e)return!1;var n=t.includes(e.value);return(a&&n||!a&&!n)&&!e.disabled})).map((function(e){return e.value}))}function bd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.map((function(e,r){var i,o=(null===t||void 0===t?void 0:t.label)||"label",a=(null===t||void 0===t?void 0:t.value)||"value";if(void 0===e[o])throw new Error("".concat(o," is not in DataOption ").concat(JSON.stringify(e)));if(void 0===e[a])throw new Error("".concat(a," is not in DataOption ").concat(JSON.stringify(e)));var l={label:e[o],value:e[a],key:"key__value_".concat(e[a],"_index_").concat(r),disabled:null!==(i=e.disabled)&&void 0!==i&&i,data:e};return n&&e.children&&(l.children=bd(e.children,t,!0)),l}));return r}function _d(e,t,n){return!!t.includes(e.value)&&n}function wd(e,t,n){var r;return e?t.includes(e.value)?n:null!==(r=e.children)&&void 0!==r&&r.length?e.children.some((function(e){return wd(e,t,n)})):!n:!n}function Sd(e,t,n,r){e.forEach((function(e){var i;_d(e,n,r)?(i=(0,Po.c)(e),t.push(i)):wd(e,n,r)&&(i=hd({},e),delete i.children,t.push(i),e.children&&(i.children=[],Sd(e.children,i.children,n,r),0===i.children.length&&delete i.children))}))}function Od(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r)return n?t.map((function(t){return e.find((function(e){return e.value===t}))})).filter((function(e){return!!e})):e.filter((function(e){var n=t.includes(e.value);return!n}));var i=[];return Sd(e,i,t,n),i}function kd(e){var t=0;return e.forEach((function(e){e.children&&e.children.length>0?t+=kd(e.children):t+=1})),t}function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pd={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M9.51 10.22a4.76 4.76 0 11.7-.7l3.54 3.52-.7.71-3.54-3.53zm.77-3.7a3.76 3.76 0 10-7.53 0 3.76 3.76 0 007.53 0z",fillOpacity:.9}}]},Ed=(0,o.aZ)({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-search",i.value])),c=(0,o.Fl)((()=>xd(xd({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Pd,s.value)}}),Td=(0,o.aZ)({name:"TTransferSearch",props:{value:{type:String,default:""},search:{type:[Boolean,Object],default:!1},placeholder:{type:String,default:""},onChange:Function},setup:function(e){var t=(0,w.ws)(),n=(0,it.J)({SearchIcon:Ed}),r=n.SearchIcon,i=function(t,n){var r;null===(r=e.onChange)||void 0===r||r.call(e,{value:t,e:n.e})},a="object"===(0,Ce._)(e.search)?e.search:{clearable:!0};return function(){return(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__search-wrapper")},[(0,o.Wm)(Yr.II,(0,o.dG)(a,{defaultValue:e.value,onChange:i,placeholder:e.placeholder}),{default:function(){return[(0,o.Wm)(r,{slot:"suffix-icon"},null)]}})])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Rd={checkboxProps:{type:Object,default:function(){return{}}},dataSource:{type:Array,default:function(){return[]}},listType:{type:String,default:"target"},title:{type:[String,Function]},checkedValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},search:{type:[Boolean,Object],default:!1},transferItem:Function,empty:{type:[Function,String]},pagination:[Boolean,Object],footer:[Function,String],checkAll:Boolean,isTreeMode:{type:Boolean,default:!1},onCheckedChange:Function},Ad=(0,o.aZ)({name:"TTransferList",props:Dd({},Rd),setup:function(e){var t=(0,w.ws)(),n=(0,k.Z)("transfer"),r=n.t,i=n.globalConfig,a=(0,T.iH)(""),l=(0,T.iH)(1),u=(0,T.iH)(0),c=(0,o.Fl)((function(){var t=e.pagination;return(null===t||void 0===t?void 0:t.current)||l.value||(null===t||void 0===t?void 0:t.defaultCurrent)})),s=(0,o.Fl)((function(){var t=e.pagination;return(null===t||void 0===t?void 0:t.pageSize)||u.value||(null===t||void 0===t?void 0:t.defaultPageSize)})),d=(0,o.Fl)((function(){return e.dataSource.filter((function(e){var t=e&&e.label.toString();return t.toLowerCase().indexOf(a.value.toLowerCase())>-1}))})),f=(0,o.Fl)((function(){return d.value&&d.value.length||0})),p=(0,o.Fl)((function(){var t=d.value;if(!e.pagination)return t;if(0===s.value)return t;var n=(c.value-1)*s.value,r=c.value*s.value;return t=t.slice(n,r),t})),v=(0,o.Fl)((function(){var t={size:"small",theme:"simple",totalContent:!1,pageSizeOptions:[]};return"object"===(0,Ce._)(e.pagination)?Dd(Dd(Dd({},t),e.pagination),{},{current:c.value,total:f.value,pageSize:s.value}):{}})),h=(0,o.Fl)((function(){var t=yd(e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});return e.checkedValue.length>0&&(e.isTreeMode?t.every((function(t){return e.checkedValue.includes(t)})):(e.search?d.value:e.dataSource).every((function(t){return t.disabled||e.checkedValue.includes(t.value)})))})),m=(0,o.Fl)((function(){return!h.value&&e.checkedValue.length>0})),g=(0,o.Fl)((function(){return kd(e.dataSource)}));(0,o.YP)(g,(function(e){if(e<=(c.value-1)*s.value){var t=Math.ceil(e/s.value);l.value=t}}));var y=function(t){var n;null===(n=e.onPageChange)||void 0===n||n.call(e,t),l.value=t.current,u.value=t.pageSize},b=function(t){var n;null===(n=e.onCheckedChange)||void 0===n||n.call(e,t)},_=function(t){if(t){var n=yd(e.search?d.value:e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});b(n)}else b([])},O=function(t){var n;null===(n=e.onScroll)||void 0===n||n.call(e,t)},C=function(t){var n,r={query:t.value,type:e.listType,e:t.e,trigger:t.trigger};a.value=t.value,null===(n=e.onSearch)||void 0===n||n.call(e,r)},x=(0,S.Mb)(),P=function(){var t=e.title&&"string"===typeof e.title?(0,o.Wm)("template",null,[e.title]):null,n=x("title",{defaultNode:t,params:{type:e.listType}});return(0,o.Wm)("span",null,[n])},E=function(){var n,r=(0,o.Wm)(wo.cO,{value:e.checkedValue,onChange:b},jd(n=p.value.map((function(n,r){var i;return(0,o.Wm)(wo.XZ,(0,o.dG)({disabled:e.disabled||n.disabled,value:n.value,needRipple:!0,class:["".concat(t.value,"-transfer__list-item"),e.checkedValue.includes(n.value)?"".concat(t.value,"-is-checked"):""],key:n.key},e.checkboxProps),jd(i=x("transferItem",{defaultNode:(0,o.Wm)("span",null,[n.label]),params:{data:n.data,index:r,type:e.listType}}))?i:{default:function(){return[i]}})})))?n:{default:function(){return[n]}});return(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__list-content narrow-scrollbar"),onScroll:O},[x("tree",{defaultNode:r,params:{data:p.value,value:e.checkedValue,onChange:b}})])},I=function(){var n=e.empty||r(i.value.empty),a="string"===typeof n?(0,o.Wm)("span",null,[n]):null;return(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__empty")},[x("empty",{defaultNode:a,params:{type:e.listType}})])},D=function(){var n="string"===typeof e.footer?(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__footer")},[e.footer]):null;return x("footer",{defaultNode:n,params:{type:e.listType}})};return function(){return(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__list ").concat(t.value,"-transfer__list-").concat(e.listType)},[(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__list-header")},[(0,o.Wm)("div",null,[e.checkAll&&(0,o.Wm)(wo.XZ,{disabled:e.disabled||!e.dataSource.length,checked:h.value,indeterminate:m.value,onChange:_},null),(0,o.Wm)("span",null,[r(i.value.title,{checked:e.checkedValue.length,total:g.value})])]),P()]),(0,o.Wm)("div",{class:["".concat(t.value,"-transfer__list-body"),e.search?"".concat(t.value,"-transfer__list--with-search"):""]},[e.search&&(0,o.Wm)(Td,{searchValue:a.value,placeholder:r(i.value.placeholder),onChange:C,disabled:e.disabled,search:e.search},null),p.value.length>0?E():I()]),e.pagination&&s.value>0&&f.value>0&&(0,o.Wm)("div",{class:"".concat(t.value,"-transfer__list-pagination")},[(0,o.Wm)(Zi,(0,o.dG)(v.value,{onChange:y}),null)]),D()])}}}),Fd={checkboxProps:{type:Object},checked:{type:Array,default:void 0},defaultChecked:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},direction:{type:String,default:"both",validator:function(e){return["left","right","both"].includes(e)}},disabled:{type:[Boolean,Array],default:!1},empty:{type:[String,Array,Function],default:""},footer:{type:[Array,Function]},keys:{type:Object},operation:{type:[Array,Function]},pagination:{type:[Object,Array]},search:{type:[Boolean,Object,Array],default:!1},showCheckAll:{type:[Boolean,Array],default:!0},targetSort:{type:String,default:"original",validator:function(e){return["original","push","unshift"].includes(e)}},title:{type:[Array,Function],default:function(){return[]}},transferItem:{type:Function},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function,onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Md(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Nd=(0,o.aZ)({name:"TTransferOperations",props:{leftDisabled:{type:Boolean,required:!0},rightDisabled:{type:Boolean,required:!0},operation:Fd.operation},emits:["moveToRight","moveToLeft"],setup:function(e,t){var n=t.slots,i=t.emit,a=(0,w.ws)(),l=(0,it.J)({ChevronRightIcon:st.Z,ChevronLeftIcon:gn.Z}),u=l.ChevronRightIcon,c=l.ChevronLeftIcon,s=function(){i("moveToRight")},d=function(){i("moveToLeft")},f=function(){return(0,o.Wm)(u,null,null)},p=function(){return(0,o.Wm)(c,null,null)},v=function(t){return"function"===typeof e.operation||"right"===t&&e.operation&&"function"===typeof e.operation[0]||"left"===t&&e.operation&&"function"===typeof e.operation[1]||n.operation?null:"left"===t?p:f},h=function(t,r){if("function"===typeof n.operation)return n.operation({direction:r});if("function"===typeof e.operation){var i=e.operation;return i(t,{direction:r})}var o;if(Array.isArray(e.operation)){var a=(0,ft._)(e.operation,2),l=a[0],u=a[1];o="right"===r?u:l}else o="";return o};return function(){var t,n;return(0,o.Wm)("div",{class:"".concat(a.value,"-transfer__operations")},[(0,o.Wm)(r.z,{variant:"outline",key:e.rightDisabled?"right-outline":"right-base",disabled:e.rightDisabled,onClick:s,icon:v("right")},Md(t=h(o.h,"right"))?t:{default:function(){return[t]}}),(0,o.Wm)(r.z,{variant:"outline",key:e.rightDisabled?"left-outline":"left-base",disabled:e.leftDisabled,onClick:d,icon:v("left")},Md(n=h(o.h,"left"))?n:{default:function(){return[n]}})])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vd(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Bd="source",Ud="target",Hd=(0,o.aZ)({name:md,props:Wd({},Fd),setup:function(e,t){var n=t.slots,r=(0,Ci.D)(),i=(0,w.ws)(),a=(0,T.BK)(e),l=a.value,u=a.modelValue,c=a.checked,s=(0,gt.Z)(l,u,e.defaultValue,e.onChange),d=(0,ft._)(s,2),f=d[0],p=d[1],v=(0,rn.Z)(c,e.defaultChecked,e.onCheckedChange,"checked"),h=(0,ft._)(v,1),m=h[0],g=(0,o.Fl)((function(){return f.value})),y=(0,o.Fl)((function(){var e=n.tree;return"function"===typeof e})),S=(0,o.Fl)((function(){return"right"===e.direction})),O=(0,o.Fl)((function(){return"left"===e.direction})),k=(0,o.Fl)((function(){return bd(e.data,e.keys,y.value)})),C=(0,o.Fl)((function(){return Od(k.value,g.value,!1,y.value)})),x=(0,o.Fl)((function(){return Od(k.value,g.value,!0,y.value)})),P=(0,o.Fl)((function(){var e;return e={},(0,_._)(e,Bd,yd(C.value,m.value,{isTreeMode:y.value})),(0,_._)(e,Ud,yd(x.value,m.value,{isTreeMode:y.value})),e})),E=(0,o.Fl)((function(){return!!n.footer||!!e.footer})),I=(0,o.Fl)((function(){return!!e.pagination&&!n.content})),D=(0,o.Fl)((function(){return!!e.search})),j=(0,o.Fl)((function(){var t=e.footer||"";return gd(t)})),R=(0,o.Fl)((function(){return gd(e.empty)})),A=(0,o.Fl)((function(){return gd(e.search)})),F=(0,o.Fl)((function(){return gd(e.showCheckAll)})),M=(0,o.Fl)((function(){return gd(r.value)})),N=(0,o.Fl)((function(){return gd(e.title)})),L=(0,o.Fl)((function(){return gd(e.pagination)})),W=function(t,n){var r,i=n===Bd?t:P.value[Bd],o=n===Ud?t:P.value[Ud],a=[].concat((0,b._)(i),(0,b._)(o)),l={checked:a,sourceChecked:i,targetChecked:o,type:n};m.value=a,null===(r=e.onCheckedChange)||void 0===r||r.call(e,l)},V=function(t){var n,r=JSON.parse(JSON.stringify(g.value)),i=t===Ud?P.value[Bd]:P.value[Ud];n=t===Bd?r.filter((function(e){return!i.includes(e)})):"original"===e.targetSort?yd(k.value,r.concat(i),{isTreeMode:y.value}):"unshift"===e.targetSort?i.concat(r):r.concat(i),W([],t===Bd?Ud:Bd);var o={type:t,movedValue:i};p(n,o)},B=function(){V(Ud)},U=function(){V(Bd)},H=function(t,n){var r,i=t.target,o=i.scrollHeight-i.scrollTop-i.clientHeight,a={e:t,bottomDistance:o,type:n};null===(r=e.onScroll)||void 0===r||r.call(e,a)},z=function(t){var n;null===(n=e.onSearch)||void 0===n||n.call(e,t)},Z=function(t,n){var r;null===(r=e.onPageChange)||void 0===r||r.call(e,t,{type:n})},K=function(t){var r=(0,ml.p)(n,["title","empty","footer","operation","transferItem","default","tree"]);return(0,o.Wm)(Ad,{checkboxProps:e.checkboxProps,transferItem:e.transferItem,"list-type":t,title:N.value[t],"data-source":t===Bd?C.value:x.value,"checked-value":P.value[t],disabled:M.value[t],search:A.value[t],pagination:L.value[t],"check-all":F.value[t],footer:j.value[t],empty:R.value[t],onCheckedChange:function(e){return W(e,t)},onScroll:function(e){return H(e,t)},onSearch:z,onPageChange:function(e){return Z(e,t)},isTreeMode:y.value},Vd(r)?r:{default:function(){return[r]}})};return function(){return(0,o.Wm)("div",{class:["".concat(i.value,"-transfer"),D.value?"".concat(i.value,"-transfer__search"):"",E.value?"".concat(i.value,"-transfer__footer"):"",I.value?"".concat(i.value,"-transfer__pagination"):"",y.value?"".concat(i.value,"-transfer--with-tree"):""]},[K(Bd),(0,o.Wm)(Nd,{leftDisabled:M.value[Ud]||S.value||0===P.value[Ud].length,rightDisabled:M.value[Bd]||O.value||0===P.value[Bd].length,operation:e.operation,onMoveToRight:B,onMoveToLeft:U},{operation:n.operation}),K(Ud)])}}}),zd=(0,g.Z)(Hd),Zd=n(7140),Kd=n(7216);function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $d={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 4v4.39L10 11l.7-.7-2.2-2.33V4h-1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M15 8A7 7 0 111 8a7 7 0 0114 0zm-1 0A6 6 0 102 8a6 6 0 0012 0z",fillOpacity:.9}}]},Jd=(0,o.aZ)({name:"TimeIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-time",i.value])),c=(0,o.Fl)((()=>Gd(Gd({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)($d,s.value)}}),qd=n(7477),Xd=n(4913),Qd=n(2084);n(2277);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Zd.d.extend(Kd.c);var nf=(0,o.aZ)({name:"TTimePicker",props:tf({},Qd.Z),setup:function(e){var t=(0,T.iH)(""),n=(0,T.iH)(!1),r=(0,k.Z)("timePicker"),i=r.globalConfig,a=(0,it.J)({TimeIcon:Jd}),l=a.TimeIcon,u=(0,T.BK)(e),c=u.value,s=u.modelValue,d=(0,gt.Z)(c,s,e.defaultValue,e.onChange),f=(0,ft._)(d,2),p=f[0],v=f[1],h=(0,Ci.D)(),m=(0,T.BK)(e),g=m.allowInput,y=m.format,b=(0,k.Z)("classPrefix"),S=b.classPrefix,O=(0,w.ws)("time-picker"),C=(0,o.Fl)((function(){return["".concat(O.value,"__group"),(0,_._)({},"".concat(S.value,"-is-focused"),n.value)]})),x=function(t,r){var i,o;n.value=t,t?null===(i=e.onOpen)||void 0===i||i.call(e,r):null===(o=e.onClose)||void 0===o||o.call(e,r)},P=function(e){var n=e.e;n.stopPropagation(),t.value=null,v(null)},E=function(e){t.value=e},I=function(n,r){var i,o=r.e;if(g.value){var a=(0,Xd.dO)(t.value,y.value);a&&v((0,Xd.so)(t.value,y.value))}null===(i=e.onBlur)||void 0===i||i.call(e,{value:n,e:o})},D=function(){var e=(0,Xd.dO)(t.value,y.value);e&&v(t.value),n.value=!1},j=function(e){t.value=e};return(0,o.YP)((function(){return n.value}),(function(){var e;t.value=n.value&&null!==(e=p.value)&&void 0!==e?e:""})),function(){var r,a;return(0,o.Wm)("div",{class:O.value},[(0,o.Wm)(Fo.l,{onFocus:e.onFocus,onClear:P,disabled:h.value,clearable:e.clearable,allowInput:g.value,className:C.value,suffixIcon:function(){return(0,o.Wm)(l,null,null)},popupVisible:n.value,onInputChange:E,onBlur:I,onPopupVisibleChange:x,placeholder:p.value?void 0:e.placeholder||i.value.placeholder,value:n.value?t.value:null!==(r=p.value)&&void 0!==r?r:void 0,inputValue:n.value?t.value:null!==(a=p.value)&&void 0!==a?a:void 0,inputProps:e.inputProps,popupProps:tf({overlayInnerStyle:{width:"auto"}},e.popupProps),panel:function(){return(0,o.Wm)(qd.Z,{steps:e.steps,format:y.value,value:t.value,isFooterDisplay:!0,isShowPanel:n.value,disableTime:e.disableTime,onChange:j,hideDisabledTime:e.hideDisabledTime,handleConfirmClick:D},null)}},null)])}}}),rf=n(5152),of=n(6577),af={allowInput:Boolean,clearable:Boolean,disabled:{type:[Boolean,Array],default:!1},disableTime:{type:Function},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object,default:function(){}},rangeInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},steps:{type:Array,default:function(){return[1,1,1]}},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lf(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Zd.d.extend(Kd.c);var cf=(0,o.aZ)({name:"TTimeRangePicker",props:uf(uf({},af),{},{rangeInputProps:Object,popupProps:Object}),setup:function(e){var t=(0,w.ws)("time-range-picker"),n=(0,k.Z)("timePicker"),r=n.globalConfig,i=(0,k.Z)("classPrefix"),a=i.classPrefix,l=(0,it.J)({TimeIcon:Jd}),u=l.TimeIcon,c=(0,Ci.D)(),s=(0,T.iH)(void 0),d=(0,T.iH)(of.Wl),f=(0,T.iH)(!1),p=(0,o.Fl)((function(){return["".concat(t.value,"__group"),(0,_._)({},"".concat(a.value,"-is-focused"),f.value)]})),v=(0,T.BK)(e),h=v.value,m=v.modelValue,g=v.allowInput,y=v.format,b=(0,gt.Z)(h,m,e.defaultValue,e.onChange),S=(0,ft._)(b,2),O=S[0],C=S[1],x=function(e,t){"trigger-element-click"!==t.trigger?f.value=e:f.value=!0},P=function(e){var t=e.e;t.stopPropagation(),d.value=of.Wl,C(null)},E=function(e){var t=e.position;s.value="first"===t?0:1},I=function(e){var t,n;0===s.value?d.value=[e,null!==(t=d.value[1])&&void 0!==t?t:e]:d.value=[null!==(n=d.value[0])&&void 0!==n?n:e,e]},D=function(t,n){var r,i=n.e;if(g.value){var o=(0,Xd.dO)(d.value[s.value],y.value);if(o){var a,l,u=(0,Xd.so)(d.value[s.value],y.value);0===s.value?d.value=[u,null!==(a=d.value[1])&&void 0!==a?a:u]:d.value=[null!==(l=d.value[0])&&void 0!==l?l:u,u]}}null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:i})},j=function(t,n){var r,i=n.e,o=n.position;d.value=t,null===(r=e.onInput)||void 0===r||r.call(e,{value:O.value,e:i,position:"first"===o?"start":"end"})},R=function(){var e=!d.value.find((function(e){return!(0,Xd.dO)(e,y.value)}));e&&C(d.value),f.value=!1},A=function(t,n){var r,i=n.e,o=n.position;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,e:i,position:"first"===o?"start":"end"})};return(0,o.YP)((function(){return f.value}),(function(){var e;d.value=f.value&&null!==(e=O.value)&&void 0!==e?e:of.Wl,f.value||(s.value=void 0)})),function(){var n,i;return(0,o.Wm)("div",{class:t.value},[(0,o.Wm)(rf.Wp,{disabled:c.value,popupVisible:f.value,popupProps:uf({overlayInnerStyle:{width:"auto"},onVisibleChange:x},e.popupProps),onInputChange:j,inputValue:f.value?d.value:null!==(n=O.value)&&void 0!==n?n:of.Wl,rangeInputProps:uf({size:e.size,clearable:e.clearable,class:p.value,value:f.value?d.value:null!==(i=O.value)&&void 0!==i?i:void 0,placeholder:e.placeholder||[r.value.placeholder,r.value.placeholder],suffixIcon:function(){return(0,o.Wm)(u,null,null)},onClear:P,onClick:E,onFocus:A,onBlur:D,readonly:!g.value,activeIndex:s.value},e.rangeInputProps),panel:function(){return(0,o.Wm)(qd.Z,{steps:e.steps,format:y.value,isShowPanel:f.value,disableTime:e.disableTime,hideDisabledTime:e.hideDisabledTime,isFooterDisplay:!0,value:d.value[s.value||0],onChange:I,handleConfirmClick:R,position:0===s.value?"start":"end"},null)}},null)])}}}),sf=(0,g.Z)(nf),df=(0,g.Z)(cf),ff=(0,g.Z)(qd.Z),pf={activable:Boolean,actived:{type:Array,default:void 0},defaultActived:{type:Array},activeMultiple:Boolean,allowFoldNodeOnFilter:Boolean,checkable:Boolean,checkProps:{type:Object},checkStrictly:Boolean,data:{type:Array,default:function(){return[]}},disableCheck:{type:[Boolean,Function],default:!1},disabled:Boolean,draggable:{type:Boolean,default:!1},empty:{type:[String,Function],default:""},expandAll:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:function(){return[]}},expandLevel:{type:Number,default:0},expandMutex:Boolean,expandOnClickNode:Boolean,expandParent:Boolean,filter:{type:Function},hover:Boolean,icon:{type:[Boolean,Function],default:!0},keys:{type:Object},label:{type:[String,Boolean,Function],default:!0},lazy:{type:Boolean,default:!0},line:{type:[Boolean,Function],default:!1},load:{type:Function},operations:{type:Function},transition:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return!e||["onlyLeaf","parentFirst","all"].includes(e)}},onActive:Function,onChange:Function,onClick:Function,onExpand:Function,onLoad:Function},vf=function(){var e=(0,w.ws)();return(0,o.Fl)((function(){var t="".concat(e.value,"-tree");return{icon:"".concat(e.value,"-icon"),folderIcon:"".concat(e.value,"-folder-icon"),actived:"".concat(e.value,"-is-active"),disabled:"".concat(e.value,"-is-disabled"),treeIconRight:"".concat(e.value,"-icon-arrow-right"),treeIconDown:"".concat(e.value,"-icon-arrow-down"),treeNodeToggle:"".concat(e.value,"-tree-toggle"),tree:t,treeTransition:"".concat(t,"--transition"),treeBlockNode:"".concat(t,"--block-node"),treeEmpty:"".concat(t,"__empty"),treeList:"".concat(t,"__list"),treeNode:"".concat(t,"__item"),treeNodeOpen:"".concat(t,"__item--open"),treeHoverAble:"".concat(t,"--hoverable"),treeCheckable:"".concat(t,"--checkable"),treeLabel:"".concat(t,"__label"),treeLabelStrictly:"".concat(t,"__label--strictly"),treeIcon:"".concat(t,"__icon"),treeIconDefault:"".concat(t,"__icon--default"),treeSpace:"".concat(t,"__space"),treeOperations:"".concat(t,"__operations"),treeNodeVisible:"".concat(t,"__item--visible"),treeNodeHidden:"".concat(t,"__item--hidden"),treeNodeEnter:"".concat(t,"__item--enter-active"),treeNodeLeave:"".concat(t,"__item--leave-active"),treeNodeDraggable:"".concat(t,"__item--draggable"),treeNodeDragging:"".concat(t,"__item--dragging"),treeNodeDragTipTop:"".concat(t,"__item--tip-top"),treeNodeDragTipBottom:"".concat(t,"__item--tip-bottom"),treeNodeDragTipHighlight:"".concat(t,"__item--tip-highlight"),line:"".concat(t,"__line"),lineIsLeaf:"".concat(t,"__line--leaf"),lineIsFirst:"".concat(t,"__line--first")}}))},hf=Symbol("treeProvider"),mf=Symbol("onDrag");function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bf={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 5v6l4.5-3L6 5z",fillOpacity:.9}}]},_f=(0,o.aZ)({name:"CaretRightSmallIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-caret-right-small",i.value])),c=(0,o.Fl)((()=>yf(yf({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(bf,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Of(e,t){var n=[],r=e;while(r&&r.parentNode){if(n.push(r),r===t)break;r=r.parentNode}return n}function kf(e,t,n){var r=Of(t,n);return r.map((function(t){var n={name:e,value:t.getAttribute(e)||"",el:t};return n})).filter((function(e){return e.value}))}function Cf(e,t,n){var r=kf(e,t,n),i=r.pop()||null;return i}function xf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,a=Sf({},n);"function"===typeof e?i=e(o.h,null===(t=a.node)||void 0===t?void 0:t.getModel()):"string"===typeof e&&(i=e);return("string"===typeof i||i)&&(r=i),r}function Pf(e){return"string"===typeof e||"number"===typeof e}function Ef(e,t){var n=null,r=null;return"string"===typeof t||"number"===typeof t?r=t:t&&Pf(t.value)&&(r=t.value),n=e.getNode(r),n}var Tf=function(e){var t=(0,ml.p)(e,["keys","expandAll","expandLevel","expandMutex","expandParent","activable","activeMultiple","disabled","draggable","checkable","checkStrictly","load","lazy","valueMode","filter"]);return t},If=mn.d,Df=D.i,jf="Expected a function";function Rf(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(jf);return Df(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),If(e,t,{leading:r,maxWait:t,trailing:i})}var Af=Rf;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ff(e){var t=(0,T.BK)(e),n=t.nodeRef,r=t.node,i=(0,o.f3)(mf),a=(0,T.iH)(!1),l=(0,T.iH)(!1),u=(0,T.iH)(0),c=Af((function(e){if(n.value){var t=n.value.getBoundingClientRect(),r=window.pageYOffset+t.top,i=e.pageY,o=t.height/4,a=i-r;a<o?u.value=-1:a<t.height-o?u.value=0:u.value=1}})),s=function(e,t){var n,o,s,d,f;switch(e){case"dragStart":l.value=!0,u.value=0,null===(n=i.onDragStart)||void 0===n||n.call(i,{node:r.value,e:t});break;case"dragEnd":l.value=!1,a.value=!1,u.value=0,c.cancel(),null===(o=i.onDragEnd)||void 0===o||o.call(i,{node:r.value,e:t});break;case"dragOver":a.value=!0,c(t),null===(s=i.onDragOver)||void 0===s||s.call(i,{node:r.value,e:t});break;case"dragLeave":a.value=!1,u.value=0,c.cancel(),null===(d=i.onDragLeave)||void 0===d||d.call(i,{node:r.value,e:t});break;case"drop":null===(f=i.onDrop)||void 0===f||f.call(i,{node:r.value,dropPosition:u.value,e:t}),a.value=!1,c.cancel();break;default:break}};return{isDragOver:a,isDragging:l,dropPosition:u,setDragStatus:s}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lf(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Wf=(0,o.aZ)({name:"TTreeNode",props:{node:{type:Object},onClick:Function,onChange:Function},setup:function(e){var t=(0,o.f3)(hf),n=(0,T.iH)();(0,Dt.Z)(n);var r=vf(),i=(0,k.Z)("tree"),a=i.globalConfig,l=(0,it.J)({CaretRightSmallIcon:_f}),u=l.CaretRightSmallIcon,c=function(t){var n,r=e.node,i={mouseEvent:t,event:t,node:r,path:r.getPath()};null===(n=e.onClick)||void 0===n||n.call(e,i)},s=(0,T.iH)(),d=Ff((0,T.qj)({nodeRef:s,node:e.node})),f=d.isDragOver,p=d.isDragging,v=d.dropPosition,h=d.setDragStatus,m=function(t){var n,r=e.node;if(r.isDraggable()){t.stopPropagation(),h("dragStart",t);try{var i;null===(i=t.dataTransfer)||void 0===i||i.setData("text/plain","")}catch(o){}null===(n=e.onDragStart)||void 0===n||n.call(e,r,t)}},g=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),h("dragEnd",t))},y=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),t.preventDefault(),h("dragOver",t))},b=function(t){var n=e.node;n.isDraggable()&&(t.stopPropagation(),h("dragLeave",t))},w=function(t){var n,r=e.node;r.isDraggable()&&(t.stopPropagation(),t.preventDefault(),h("drop",t),null===(n=e.onDrop)||void 0===n||n.call(e,r,v.value,t))},S=function(){var t,n=e.node,r=new Event("change"),i={event:r,node:n};null===(t=e.onChange)||void 0===t||t.call(e,i)},O=(0,o.Fl)((function(){var t=e.node.level,n="--level: ".concat(t,";");return n})),C=(0,o.Fl)((function(){var t,n,i=e.node,o=[];return o.push(r.value.treeNode),o.push((t={},(0,_._)(t,r.value.treeNodeOpen,i.expanded),(0,_._)(t,r.value.actived,!!i.isActivable()&&i.actived),(0,_._)(t,r.value.disabled,i.isDisabled()),t)),o.push((n={},(0,_._)(n,r.value.treeNodeDraggable,i.isDraggable()),(0,_._)(n,r.value.treeNodeDragging,p.value),(0,_._)(n,r.value.treeNodeDragTipTop,f.value&&v.value<0),(0,_._)(n,r.value.treeNodeDragTipBottom,f.value&&v.value>0),(0,_._)(n,r.value.treeNodeDragTipHighlight,!p.value&&f.value&&0===v.value),n)),o})),x=function(){var n=e.node,i=t.value,a=i.line,l=i.scopedSlots,u=!!t.value.icon,c=null;if(!0===a){if(null!==l&&void 0!==l&&l.line)c=l.line({node:null===n||void 0===n?void 0:n.getModel()});else if(n.parent&&n.tree){var s=n.vmIsLeaf,d=n.vmIsFirst,f=n.level,p=[];p.push(r.value.line),!s&&u||p.push(r.value.lineIsLeaf),d&&u&&p.push(r.value.lineIsFirst);var v=[],h=n.getParents();h.pop(),h.forEach((function(e,t){e.vmIsLast||v.push("calc(-".concat(t+1," * var(--space)) 0 var(--color)"))}));var m={"--level":f,"box-shadow":v.join(",")};c=(0,o.Wm)("span",{class:p,style:m},null)}}else c=xf(a,{node:n});return c},P=function(){var n=function(){return(0,Re.i)(a.value.folderIcon)?a.value.folderIcon(o.h):(0,o.Wm)(u,null,null)},i=e.node,l=t.value,c=l.icon,s=l.scopedSlots,d=!1,f=null;!0===c?null!==s&&void 0!==s&&s.icon?f=s.icon({node:null===i||void 0===i?void 0:i.getModel()}):i.vmIsLeaf?f="":(d=!0,f=n(),i.loading&&i.expanded&&(f=(0,o.Wm)(So.gb,null,null))):f=xf(c,{node:i});return f=(0,o.Wm)("span",{class:[r.value.treeIcon,r.value.folderIcon,d?r.value.treeIconDefault:""],trigger:"expand",ignore:"active"},[f]),f},E=function(){var n=e.node,i=t.value,a=i.label,l=i.scopedSlots,u=i.disableCheck,c=t.value.checkProps||{},s=null;s=!0===a?l.label?l.label({node:n.getModel()}):n.label||"":xf(a,{node:n});var d=[r.value.treeLabel,r.value.treeLabelStrictly,(0,_._)({},r.value.actived,!!n.isActivable()&&n.actived)];if(n.vmCheckable){var f=!1;f="function"===typeof u?u(n):!!u,n.isDisabled()&&(f=!0);var p=Nf(Nf({},c),{},{disabled:f}),v=function(){return s}();s=(0,o.Wm)(wo.XZ,(0,o.dG)({class:d,checked:n.checked,indeterminate:n.indeterminate,disabled:n.isDisabled(),name:n.value.toString(),onChange:function(){return S()},ignore:"expand",needRipple:!0},p),Lf(s)?s:{default:function(){return[v]}})}else{var h=(0,o.Wm)("span",{style:"position: relative"},[s]);s=n.isActivable()?(0,o.Wm)("span",{key:"1",ref:"label",class:d},[h]):(0,o.Wm)("span",{key:"2",class:d},[h])}return s},I=function(){var n=e.node,i=t.value,a=i.operations,l=i.scopedSlots,u=null;if(u=null!==l&&void 0!==l&&l.operations?l.operations({node:null===n||void 0===n?void 0:n.getModel()}):xf(a,{node:n}),u){(function(){})();u=(0,o.Wm)("span",{class:r.value.treeOperations,ignore:"active,expand"},[u])}return u};return function(){var t=e.node;return(0,o.Wm)("div",{ref:s,class:C.value,"data-value":t.value,"data-level":t.level,style:O.value,onClick:function(e){return c(e)},draggable:t.isDraggable(),onDragstart:function(e){return m(e)},onDragend:function(e){return g(e)},onDragover:function(e){return y(e)},onDragleave:function(e){return b(e)},onDrop:function(e){return w(e)}},[x(),P(),E(),I()])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Vf(e){var t=(0,T.iH)(),n=(0,o.FN)(),r=n.emit,i=function(e){t.value=e.node,null===r||void 0===r||r("dragStart",e)},a=function(e){t.value=e.node,null===r||void 0===r||r("dragEnd",e)},l=function(e){null===r||void 0===r||r("dragOver",e)},u=function(e){null===r||void 0===r||r("dragLeave",e)},c=function(n){var i=n.node,o=n.dropPosition;if(i.value!==t.value.value&&!i.getParents().some((function(e){return e.value===t.value.value}))){var a=e.value.getNodes();a.some((function(n,r){return n.value===i.value&&(0===o?t.value.appendTo(e.value,n):o<0?i.insertBefore(t.value):i.insertAfter(t.value),!0)})),null===r||void 0===r||r("drop",n)}};(0,o.JJ)(mf,{onDragStart:i,onDragEnd:a,onDragOver:l,onDragLeave:u,onDrop:c})}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hf(e){var t=(0,T.iH)(),n=new Map,r=(0,T.iH)([]),i=(0,T.BK)(e),a=i.expanded,l=i.actived,u=i.value,c=i.modelValue,s=(0,gt.Z)(u,c,e.defaultValue,e.onChange),d=(0,ft._)(s,2),f=d[0],p=d[1],v=(0,rn.Z)(l,e.defaultActived,e.onActive,"actived"),h=(0,ft._)(v,2),m=h[0],g=h[1],y=(0,rn.Z)(a,e.defaultExpanded,e.onExpand,"expanded"),b=(0,ft._)(y,2),_=b[0],w=b[1],S=function(n){var r,i=n.node,o={node:i.getModel()};f.value&&f.value.length>0&&t.value.replaceChecked(f.value),_.value&&_.value.length>0&&t.value.replaceExpanded(_.value),m.value&&m.value.length>0&&t.value.replaceActived(m.value),null===(r=e.onLoad)||void 0===r||r.call(e,o)},O=function(n){var r,i=e.expandOnClickNode,o=n.mouseEvent,a=n.event,l=n.node;if(l&&!e.disabled&&!l.disabled){var u=i,c=!0;["trigger","ignore"].forEach((function(e){var t=Cf(e,a.target,a.currentTarget),n=(null===t||void 0===t?void 0:t.value)||"";n.indexOf("expand")>=0&&("trigger"===e?u=!0:"ignore"===e&&(u=!1)),n.indexOf("active")>=0&&"ignore"===e&&(c=!1)}));var s={node:l.getModel(),e:o};if(u){var d=Ef(t.value,l),f=l.setExpanded(!d.isExpanded());w(f,s)}if(c){var p=Ef(t.value,l),v=l.setActived(!p.isActived());g(v,s)}null===(r=e.onClick)||void 0===r||r.call(e,s)}},k=function(n){var r=e.disabled,i=n.node,o=n.mouseEvent;if(i&&!r&&!i.disabled){var a=Ef(t.value,i),l=i.setChecked(!a.isChecked());p(l,{node:i.getModel(),e:o})}},C=function(){var e=t.value.getNodes();r.value=e.filter((function(e){return e.visible})).map((function(e){var t=n.get(e.value);return t||(t=(0,o.Wm)(Wf,{key:e.value,node:e,onChange:k,onClick:O},null),n.set(e.value,t)),t})),(0,o.Y3)((function(){n.forEach((function(e,r){t.value.getNode(r)||n["delete"](r)}))}))};Vf(t);var x=function(){var n=e.expandParent;if(Array.isArray(_.value)){var r=new Map;_.value.forEach((function(e){if(r.set(e,!0),n){var i=t.value.getNode(e);i.getParents().forEach((function(e){r.set(e.value,!0)}))}}));var i=Array.from(r.keys());t.value.setExpanded(i)}},P=function(){var n=e.data,r=new Wl(Uf(Uf({},Tf(e)),{},{onLoad:function(e){S(e)},onUpdate:function(){C()}}));t.value=r,Array.isArray(n)||(n=[]),r.append(n),r.refreshNodes(),Array.isArray(f.value)&&r.setChecked(f.value),x(),Array.isArray(m.value)&&r.setActived(m.value),C()};return(0,o.YP)((function(){return e.data}),(function(r){r=e.data,n.clear(),t.value.reload(r),r.length&&(Array.isArray(f.value)&&t.value.setChecked(f.value),x(),Array.isArray(m.value)&&t.value.setActived(m.value),t.value.refreshState())})),(0,o.YP)((function(){return Tf(e)}),(function(){t.value&&t.value.setConfig(Tf(e))})),(0,o.YP)(f,(function(e){t.value.replaceChecked(e)})),(0,o.YP)(_,(function(e){t.value.replaceExpanded(e)})),(0,o.YP)(m,(function(e){t.value.replaceActived(e)})),P(),{treeStore:t,treeNodeViews:r}}var zf=n(8031);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Zf(e,t){var n=function(t,n){var r=e.value.getNode(t),i=n,o=Object.keys(i);r&&i&&["expanded","actived","checked"].forEach((function(e){o.includes(e)&&r["set".concat((0,zf.u)(e))](i[e],{directly:!0})}))},r=function(t){var n=e.value.getNode(t);return null===n||void 0===n?void 0:n.getModel()},i=function(t){var n=e.value.getNodes(t);return n.map((function(e){return e.getModel()}))},o=function(t,n){var r=[];r=Array.isArray(n)?n:[n],r.forEach((function(n){var r=(null===n||void 0===n?void 0:n.value)||"",i=Ef(e.value,r);i?e.value.appendNodes(t,i):e.value.appendNodes(t,n)}))},a=function(t,n){var r=(null===n||void 0===n?void 0:n.value)||"",i=Ef(e.value,r);i?e.value.insertBefore(t,i):e.value.insertBefore(t,n)},l=function(t,n){var r=(null===n||void 0===n?void 0:n.value)||"",i=Ef(e.value,r);i?e.value.insertAfter(t,i):e.value.insertAfter(t,n)},u=function(t){return e.value.remove(t)},c=function(t){return e.value.getNodeIndex(t)},s=function(t){var n=e.value.getParent(t);return null===n||void 0===n?void 0:n.getModel()},d=function(t){var n=e.value.getParents(t);return n.map((function(e){return e.getModel()}))},f=function(t){var n=e.value.getNode(t),r=[];return n&&(r=n.getPath().map((function(e){return e.getModel()}))),r};t({setItem:n,getItem:r,getItems:i,appendTo:o,insertBefore:a,insertAfter:l,remove:u,getIndex:c,getParent:s,getParents:d,getPath:f})}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var Kf=(0,o.aZ)({name:"TTree",props:pf,setup:function(e,t){var n=t.expose,r=t.slots,i=(0,k.Z)("tree"),a=i.globalConfig,l=i.t,u=vf(),c=(0,S.Mb)(),s=(0,o.Fl)((function(){var t=e.checkProps,n=e.empty,i=e.icon,o=e.label,a=e.line,l=e.disableCheck,u=e.operations;return{checkProps:t,empty:n,icon:i,label:o,line:a,disableCheck:l,operations:u,scopedSlots:r}}));(0,o.JJ)(hf,s);var d=Hf(e),f=d.treeStore,p=d.treeNodeViews;Zf(f,n);var v=(0,o.Fl)((function(){var t;return[u.value.tree,(t={},(0,_._)(t,u.value.disabled,e.disabled),(0,_._)(t,u.value.treeHoverAble,e.hover),(0,_._)(t,u.value.treeCheckable,e.checkable),(0,_._)(t,u.value.treeTransition,e.transition),(0,_._)(t,u.value.treeBlockNode,e.expandOnClickNode),t)]}));return function(){return(0,o.Wm)("div",{class:v.value},[0===p.value.length?(0,o.Wm)("div",{class:u.value.treeEmpty},[c("empty",{defaultNode:l(a.value.empty)})]):(0,o.Wm)(cn.W3,{name:u.value.treeNodeToggle,tag:"div","enter-active-class":u.value.treeNodeEnter,"leave-active-class":u.value.treeNodeLeave},{default:function(){return[p.value]}})])}}}),Yf=(0,g.Z)(Kf),Gf={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},data:{type:Array,default:function(){return[]}},disabled:Boolean,empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:Boolean,selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},tagProps:{type:Object},treeProps:{type:Object},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:Function},valueType:{type:String,default:"value",validator:function(e){return!e||["value","object"].includes(e)}},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qf=(0,o.aZ)({name:"TTreeSelect",props:Gf,setup:function(e,t){var n=t.slots,r=(0,S.sL)(),i=(0,S.Mb)(),a=(0,w.ws)(),l=(0,k.Z)("treeSelect"),u=l.globalConfig,c=(0,Ci.D)(),s=(0,T.iH)(null),d=(0,T.iH)(null),f=(0,T.iH)([]),p=(0,T.iH)([]),v=(0,T.iH)(null),h=(0,T.iH)(0),m=(0,T.BK)(e),g=m.value,y=m.modelValue,O=m.popupVisible,C=m.inputValue,x=(0,gt.Z)(g,y,e.defaultValue,e.onChange),P=(0,ft._)(x,2),E=P[0],I=P[1],D=(0,rn.Z)(O,!1,e.onPopupVisibleChange,"popupVisible"),j=(0,ft._)(D,2),R=j[0],A=j[1],F=(0,rn.Z)(C,e.defaultInputValue,e.onInputChange,"inputValue"),M=(0,ft._)(F,2),N=M[0],L=M[1];(0,o.YP)(E,Ee(je.mark((function t(){return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne();case 2:e.multiple||(f.value=v.value?[v.value.value]:[]);case 3:case"end":return t.stop()}}),t)})))),(0,o.YP)((function(){return e.data}),Ee(je.mark((function e(){return je.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:ae();case 3:case"end":return e.stop()}}),e)}))));var W=(0,o.Fl)((function(){return c.value||e.disabled})),V=(0,o.Fl)((function(){var t;return R.value&&(null===(t=v.value)||void 0===t?void 0:t.label)||e.placeholder||u.value.placeholder})),B=(0,o.Fl)((function(){return["".concat(a.value,"-select__dropdown-inner"),"".concat(a.value,"-select__dropdown"),"narrow-scrollbar"]})),U=(0,o.Fl)((function(){return"object"===e.valueType})),H=(0,o.Fl)((function(){return e.multiple?U.value?(0,Bo.i)(E.value)?E.value.map((function(e){return e.value})):[]:(0,Bo.i)(E.value)?E.value.map((function(e){return e})):[]:[]})),z=(0,o.Fl)((function(){return e.multiple&&!!e.max&&(0,Bo.i)(E.value)&&e.max<=E.value.length})),Z=(0,o.Fl)((function(){return(0,lo.i)(e.treeProps)||(0,lo.i)(e.treeProps.keys)?"label":e.treeProps.keys.label||"label"})),K=(0,o.Fl)((function(){return(0,lo.i)(e.treeProps)||(0,lo.i)(e.treeProps.keys)?"value":e.treeProps.keys.value||"value"})),Y=(0,o.Fl)((function(){return(0,lo.i)(e.treeProps)||(0,lo.i)(e.treeProps.keys)?"children":e.treeProps.keys.children||"children"}));(0,o.bv)(Ee(je.mark((function t(){return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(E.value||!e.defaultValue){t.next=3;break}return t.next=3,G(e.defaultValue,null,"uncheck");case 3:U.value?f.value=(0,Bo.i)(E.value)?E.value.map((function(e){return e.value})):[E.value.value]:f.value=(0,Bo.i)(E.value)?E.value:[E.value],ne();case 5:case"end":return t.stop()}}),t)}))));var G=function(t,n,r){var i;I(t,{node:n}),ne(),null===(i=e.onChange)||void 0===i||i.call(e,t,{node:n,trigger:r})},$=function(t){var n,r=e.multiple?[]:"";f.value=[],G(r,null,"clear"),null===(n=e.onClear)||void 0===n||n.call(e,{e:t.e})},J=function(t,n){var r=t;U.value&&(r=t.map((function(t){return oe(e.data,t)}))),G(r,n.node,"check")},q=function(t,n){if(A(!1),!e.multiple&&E.value!==n.node.data[K.value]){var r=t;if(U.value){var i=(0,lo.i)(t)?"":t[0];r=oe(e.data,i)}else r=(0,lo.i)(t)?"":t[0];G(r,n.node,"check"),f.value=t}},X=function(e){p.value=e},Q=function(){ne()},ee=function(t){var n;if(R.value){if(L(t),!t)return d.value=null,null;d.value=function(n){if((0,Re.i)(e.filter)){var r=e.filter(String(t),n);if(au(r))return r}return n.data[Z.value].indexOf(t)>=0},null===(n=e.onSearch)||void 0===n||n.call(e,String(t))}else{var r;null===(r=e.onSearch)||void 0===r||r.call(e,String(t))}},te=function(t,n){var r,i=n.trigger,o=n.index;["tag-remove","backspace"].includes(i)&&(0,Bo.i)(E.value)&&E.value.splice(o,1),null===(r=e.onRemove)||void 0===r||r.call(e,{value:t,data:null,e:n&&n.e}),G(E.value,null,i)},ne=function(){var t=Ee(je.mark((function t(){return je.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.value;case 2:e.multiple?e.multiple?(0,Bo.i)(E.value)?v.value=ie():v.value=[]:v.value=null:E.value||0===E.value?v.value=re():v.value="";case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),re=function(){var t,n=U.value?E.value.value:E.value;if(s.value&&null!==(t=e.treeProps)&&void 0!==t&&t.load){if(!(0,lo.i)(e.data)){var r=s.value.getItem(n);if(r)return{label:r.data[Z.value],value:r.data[K.value]}}return{label:n,value:n}}var i=oe(e.data,n);return i||{label:n,value:n}},ie=function(){return E.value.map((function(t){var n,r=U.value?t.value:t;if(s.value&&null!==(n=e.treeProps)&&void 0!==n&&n.load){if(!(0,lo.i)(e.data)){var i=s.value.getItem(r);if(i)return{label:i.data[Z.value],value:i.data[K.value]}}return{label:r,value:r}}var o=oe(e.data,r);return o||{label:r,value:r}}))},oe=function e(t,n){for(var r=0,i=t.length;r<i;r++){var o;if(t[r][K.value]===n)return{label:t[r][Z.value],value:t[r][K.value]};if(null!==(o=t[r])&&void 0!==o&&o[Y.value]){var a,l=e(null===(a=t[r])||void 0===a?void 0:a[Y.value],n);if(!vl(l))return l}}return null},ae=function(){h.value+=1},le=function(){return(0,o.wy)((0,o.Wm)(Yf,(0,o.dG)({ref:s,key:h.value,value:(0,b._)(H.value),hover:!0,data:e.data,activable:!e.multiple,checkable:e.multiple,disabled:W.value||z.value,size:e.size,filter:d.value,icon:!d.value,actived:f.value,expanded:p.value,activeMultiple:e.multiple,onChange:J,onActive:q,onExpand:X,onLoad:Q,expandOnClickNode:!0},e.treeProps),{empty:function(){return i("empty",{defaultNode:(0,o.Wm)("div",{class:"".concat(a.value,"-select__empty")},[u.value.empty])})}}),[[cn.F8,!e.loading]])},ue=function(){var t;return(0,o.Wm)(qn.Z,{isActive:R.value,disabled:e.disabled,overlayClassName:(t={},(0,_._)(t,"".concat(a.value,"-fake-arrow--highlight"),R.value),(0,_._)(t,"".concat(a.value,"-fake-arrow--disable"),e.disabled),t)},null)};return function(){return(0,o.Wm)(Fo.l,(0,o.dG)({class:"".concat(a.value,"-tree-select"),value:v.value,inputValue:R.value?N.value:"",popupVisible:R.value,disabled:W.value,multiple:e.multiple,loading:e.loading,clearable:e.clearable,autoWidth:e.autoWidth,borderless:e.borderless,readonly:e.readonly,placeholder:V.value,allowInput:e.filterable||(0,Re.i)(e.filter),minCollapsedNum:e.minCollapsedNum,"collapsed-items":e.collapsedItems,popupProps:Jf({overlayClassName:B.value},e.popupProps),inputProps:Jf({size:e.size},e.inputProps),tagInputProps:{size:e.size},tagProps:Jf({maxWidth:300},e.tagProps),label:function(){return r("prefixIcon")},suffixIcon:function(){return ue()},onClear:$,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,{value:t,e:n.e})},onFocus:function(t,n){var r;null===(r=e.onFocus)||void 0===r||r.call(e,{value:t,e:n.e})},valueDisplay:function(){var t;return r("valueDisplay",{params:e.multiple?{value:v.value,onClose:function(e,t){te(e,t)}}:{value:v.value||(t={},(0,_._)(t,Z.value,""),(0,_._)(t,K.value,void 0),t)}})},onInputChange:ee,onTagChange:te,onPopupVisibleChange:function(e){return A(e)}},e.selectInputProps),{panel:function(){return(0,o.Wm)("div",null,[(0,o.wy)((0,o.Wm)("p",{class:"".concat(a.value,"-select-loading-tips ").concat(a.value,"-select__right-icon-polyfill")},[i("loadingText",{defaultNode:(0,o.Wm)("div",{class:"".concat(a.value,"-select__empty")},[u.value.loadingText])})]),[[cn.F8,e.loading&&!W.value]]),le()])},collapsedItems:n.collapsedItems})}}}),Xf=(0,g.Z)(qf),Qf={closeBtn:{type:[String,Boolean,Function],default:!0},colorModes:{type:Array,default:["monochrome","linear-gradient"]},disabled:Boolean,enableAlpha:Boolean,format:{type:String,default:"RGB",validator:function(e){return!e||["RGB","RGBA","HSL","HSLA","HSB","HSV","HSVA","HEX","CMYK","CSS"].includes(e)}},inputProps:{type:Object},multiple:Boolean,popupProps:{type:Object},recentColors:{type:Array,default:void 0},defaultRecentColors:{type:Array,default:function(){return[]}},selectInputProps:{type:Object},swatchColors:{type:Array},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onChange:Function,onPaletteBarChange:Function,onRecentColorsChange:Function},ep="color-picker",tp=function(e){var t=(0,w.ws)(ep);return(0,o.Fl)((function(){return e?"".concat(t.value,"-").concat(e):t.value}))},np=100,rp={monochrome:"单色","linear-gradient":"渐变"},ip="#001F97",op="linear-gradient(90deg, rgba(241,29,0,1) 0%, rgba(73,106,220,1) 100%);",ap=["#ECF2FE","#D4E3FC","#BBD3FB","#96BBF8","#699EF5","#4787F0","#266FE8","#0052D9","#0034B5","#001F97","#FDECEE","#F9D7D9","#F8B9BE","#F78D94","#F36D78","#E34D59","#C9353F","#B11F26","#951114","#680506","#FEF3E6","#F9E0C7","#F7C797","#F2995F","#ED7B2F","#D35A21","#BA431B","#9E3610","#842B0B","#5A1907","#E8F8F2","#BCEBDC","#85DBBE","#48C79C","#00A870","#078D5C","#067945","#056334","#044F2A","#033017"],lp=230,up=168,cp=186,sp=176;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pp(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var vp=(0,o.aZ)({name:"PanelHeader",props:fp(fp({},Qf),{},{mode:{type:String,default:"color"},togglePopup:{type:Function},onModeChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=tp(),n=(0,it.J)({CloseIcon:Cn.Z}),r=n.CloseIcon,i=(0,T.iH)(e.mode),a=function(t){return e.onModeChange(t)};return(0,o.YP)((function(){return e.mode}),(function(e){return i.value=e})),{baseClassName:t,CloseIcon:r,modeValue:i,handleModeChange:a}},render:function(){var e,t,n,r=this;if(1===(null===(t=this.colorModes)||void 0===t?void 0:t.length))return null;var i=this.baseClassName;this.CloseIcon;return(0,o.Wm)("div",{class:"".concat(i,"__head")},[(0,o.Wm)("div",{class:"".concat(i,"__mode")},[1===(null===(n=this.colorModes)||void 0===n?void 0:n.length)?rp[this.colorModes[0]]:(0,o.Wm)(Es,{variant:"default-filled",size:"small",modelValue:r.modeValue,"onUpdate:modelValue":function(e){return r.modeValue=e},onChange:this.handleModeChange},pp(e=Object.keys(rp).map((function(e){return(0,o.Wm)(Ts,{key:e,value:e},{default:function(){return[rp[e]]}})})))?e:{default:function(){return[e]}})])])}}),hp={disabled:Boolean,color:{type:Object},onChange:{type:Function,default:function(){return function(){}}}},mp={exports:{}};(function(e){(function(t){var n=/^\s+/,r=/\s+$/,i=0,o=t.round,a=t.min,l=t.max,u=t.random;function c(e,t){if(e=e||"",t=t||{},e instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=s(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=i++}function s(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,u=!1,c=!1;return"string"==typeof e&&(e=Y(e)),"object"==(0,Ce._)(e)&&(K(e.r)&&K(e.g)&&K(e.b)?(t=d(e.r,e.g,e.b),u=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):K(e.h)&&K(e.s)&&K(e.v)?(r=U(e.s),i=U(e.v),t=h(e.h,r,i),u=!0,c="hsv"):K(e.h)&&K(e.s)&&K(e.l)&&(r=U(e.s),o=U(e.l),t=p(e.h,r,o),u=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=F(n),{ok:u,format:e.format||c,r:a(255,l(t.r,0)),g:a(255,l(t.g,0)),b:a(255,l(t.b,0)),a:n}}function d(e,t,n){return{r:255*M(e,255),g:255*M(t,255),b:255*M(n,255)}}function f(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=l(e,t,n),u=a(e,t,n),c=(o+u)/2;if(o==u)r=i=0;else{var s=o-u;switch(i=c>.5?s/(2-o-u):s/(o+u),o){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4;break}r/=6}return{h:r,s:i,l:c}}function p(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)r=i=o=n;else{var l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;r=a(u,l,e+1/3),i=a(u,l,e),o=a(u,l,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function v(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var r,i,o=l(e,t,n),u=a(e,t,n),c=o,s=o-u;if(i=0===o?0:s/o,o==u)r=0;else{switch(o){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4;break}r/=6}return{h:r,s:i,v:c}}function h(e,n,r){e=6*M(e,360),n=M(n,100),r=M(r,100);var i=t.floor(e),o=e-i,a=r*(1-n),l=r*(1-o*n),u=r*(1-(1-o)*n),c=i%6,s=[r,l,a,a,u,r][c],d=[u,r,r,l,a,a][c],f=[a,a,u,r,r,l][c];return{r:255*s,g:255*d,b:255*f}}function m(e,t,n,r){var i=[B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,n,r,i){var a=[B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16)),B(H(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function y(e,t,n,r){var i=[B(H(r)),B(o(e).toString(16)),B(o(t).toString(16)),B(o(n).toString(16))];return i.join("")}function b(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=N(n.s),c(n)}function _(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=N(n.s),c(n)}function w(e){return c(e).desaturate(100)}function S(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=N(n.l),c(n)}function O(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=l(0,a(255,n.r-o(-t/100*255))),n.g=l(0,a(255,n.g-o(-t/100*255))),n.b=l(0,a(255,n.b-o(-t/100*255))),c(n)}function k(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=N(n.l),c(n)}function C(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function x(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function P(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function E(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,o=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(c(r));return o}function D(e,t){t=t||6;var n=c(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],l=1/t;while(t--)a.push(c({h:r,s:i,v:o})),o=(o+l)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,i,o,a,l=this.toRgb();return e=l.r/255,n=l.g/255,r=l.b/255,i=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(e){return this._a=F(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=v(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=v(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return g(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*M(this._r,255))+"%",g:o(100*M(this._g,255))+"%",b:o(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*M(this._r,255))+"%, "+o(100*M(this._g,255))+"%, "+o(100*M(this._b,255))+"%)":"rgba("+o(100*M(this._r,255))+"%, "+o(100*M(this._g,255))+"%, "+o(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+y(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+y(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(S,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(k,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(_,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(D,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},c.fromRatio=function(e,t){if("object"==(0,Ce._)(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:U(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:u(),g:u(),b:u()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return c(a)},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r,i,o=c.readability(e,t);switch(i=!1,r=G(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},c.mostReadable=function(e,t,n){var r,i,o,a,l=null,u=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var s=0;s<t.length;s++)r=c.readability(e,t[s]),r>u&&(u=r,l=c(t[s]));return c.isReadable(e,l,{level:o,size:a})||!i?l:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var j=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=c.hexNames=A(j);function A(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function F(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,n){W(e)&&(e="100%");var r=V(e);return e=a(n,l(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function N(e){return a(1,l(0,e))}function L(e){return parseInt(e,16)}function W(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function V(e){return"string"===typeof e&&-1!=e.indexOf("%")}function B(e){return 1==e.length?"0"+e:""+e}function U(e){return e<=1&&(e=100*e+"%"),e}function H(e){return t.round(255*parseFloat(e)).toString(16)}function z(e){return L(e)/255}var Z=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function K(e){return!!Z.CSS_UNIT.exec(e)}function Y(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,i=!1;if(j[e])e=j[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Z.hex8.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:z(t[4]),format:i?"name":"hex8"}:(t=Z.hex6.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:i?"name":"hex"}:(t=Z.hex4.exec(e))?{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:z(t[4]+""+t[4]),format:i?"name":"hex8"}:!!(t=Z.hex3.exec(e))&&{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:i?"name":"hex"}}function G(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}e.exports?e.exports=c:window.tinycolor=c})(Math)})(mp);var gp=mp.exports,yp=function(e,t){for(var n="",r=0;r<e.length;r++)"string"===typeof e[r]?n+=e[r]:n+=e[r].source;return new RegExp(n,t)},bp=function(){var e="gi",t=/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,n=/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,r=/\s*,\s*/,i=/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,o=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,a=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,l=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,u=/[_a-z-][_a-z0-9-]*/,c=yp(["(?:",i,"|","(?:rgb|hsl)",o,"|","(?:rgba|hsla)",a,"|",u,")"],""),s=yp([c,"(?:\\s+",l,"(?:\\s+",l,")?)?"],""),d=yp(["(?:",s,r,")*",s],""),f=yp(["(?:(",t,")|",n,")"],""),p=yp(["(?:(",f,")",r,")?(",d,")"],e),v=yp(["\\s*(",c,")","(?:\\s+","(",l,"))?","(?:",r,"\\s*)?"],e);return{gradientSearch:p,colorStopSearch:v}},_p=function(e,t){var n,r,i;e.gradientSearch.lastIndex=0;var o=e.gradientSearch.exec(t);if(null!==o){n={original:o[0],colorStopList:[]},o[1]&&(n.line=o[1]),o[2]&&(n.angle=o[2]),o[3]&&(n.sideCorner=o[3]),e.colorStopSearch.lastIndex=0,r=e.colorStopSearch.exec(o[4]);while(null!==r)i={color:r[1]},r[2]&&(i.position=r[2]),n.colorStopList.push(i),r=e.colorStopSearch.exec(o[4])}return n},wp=bp(),Sp=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,Op=function(e){return Sp.lastIndex=0,Sp.exec(e)},kp={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},Cp=function(e){var t=Op(e);if(!t)return!1;var n={points:[],degree:0},r=_p(wp,t[1]);if(r.original.trim()!==t[1].trim())return!1;var i=r.colorStopList.map((function(e){var t=e.color,n=e.position,r=Object.create(null);return r.color=gp(t).toRgbString(),r.left=parseFloat(n),r}));n.points=i;var o=parseInt(r.angle,10);return Number.isNaN(o)&&(o=kp[r.sideCorner]||90),n.degree=o,n},xp=function(e,t,n){var r=0,i=0,o=0,a=0,l=parseInt("".concat(e).replace(/\s/g,""),10),u=parseInt("".concat(t).replace(/\s/g,""),10),c=parseInt("".concat(n).replace(/\s/g,""),10);if(0===l&&0===u&&0===c)return a=1,[0,0,0,1];r=1-l/255,i=1-u/255,o=1-c/255;var s=Math.min(r,Math.min(i,o));return r=(r-s)/(1-s),i=(i-s)/(1-s),o=(o-s)/(1-s),a=s,[r,i,o,a]},Pp=function(e,t,n,r){var i=e/100,o=t/100,a=n/100,l=r/100;i=i*(1-l)+l,o=o*(1-l)+l,a=a*(1-l)+l;var u=1-i,c=1-o,s=1-a;return u=Math.round(255*u),c=Math.round(255*c),s=Math.round(255*s),{r:u,g:c,b:s}},Ep=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,Tp=function(e){return Math.max(0,Math.min(255,parseInt(e,10)))},Ip=function(e){if(/cmyk/i.test(e)){var t=e.replace(/\s/g,""),n=t.match(Ep),r=Tp(n[1]),i=Tp(n[2]),o=Tp(n[3]),a=Tp(n[4]),l=Pp(r,i,o,a),u=l.r,c=l.g,s=l.b;return"rgb(".concat(u,", ").concat(c,", ").concat(s,")")}return e};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rp=Math.round,Ap=function(e){return gp(e).toRgb()},Fp=function(e){return gp(e).toHsv()},Mp=function(e){return gp(e).toHsl()},Np=function(e){var t=e.points,n=e.degree,r=t.sort((function(e,t){return e.left-t.left})).map((function(e){return"".concat(e.color," ").concat(Math.round(100*e.left)/100,"%")}));return"linear-gradient(".concat(n,"deg,").concat(r.join(","),")")},Lp=function(){return(1+4294967295*Math.random()).toString(16)},Wp=function(e,t){return{id:Lp(),left:e,color:t}},Vp=function(){function e(t){$t(this,e),(0,_._)(this,"states",{s:100,v:100,h:100,a:1}),(0,_._)(this,"originColor",void 0),(0,_._)(this,"isGradient",void 0),(0,_._)(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(t)}return qt(e,[{key:"update",value:function(e){if(e!==this.originColor){this.originColor=e,this.isGradient=!1;var t=Cp(e),n=e;if(t){var r,i;this.isGradient=!0;var o=t,a=o.points.map((function(e){return Wp(e.left,e.color)}));this.gradientStates={colors:a,degree:o.degree,selectedId:(null===(r=a[0])||void 0===r?void 0:r.id)||null},this.gradientStates.css=this.linearGradient,n=null===(i=this.gradientSelectedPoint)||void 0===i?void 0:i.color}this.updateStates(n)}}},{key:"saturation",get:function(){return this.states.s},set:function(e){this.states.s=Math.max(0,Math.min(100,e)),this.updateCurrentGradientColor()}},{key:"value",get:function(){return this.states.v},set:function(e){this.states.v=Math.max(0,Math.min(100,e)),this.updateCurrentGradientColor()}},{key:"hue",get:function(){return this.states.h},set:function(e){this.states.h=Math.max(0,Math.min(360,e)),this.updateCurrentGradientColor()}},{key:"alpha",get:function(){return this.states.a},set:function(e){this.states.a=Math.max(0,Math.min(1,Math.round(100*e)/100)),this.updateCurrentGradientColor()}},{key:"rgb",get:function(){var e=Ap(this.states),t=e.r,n=e.g,r=e.b;return"rgb(".concat(Rp(t),", ").concat(Rp(n),", ").concat(Rp(r),")")}},{key:"rgba",get:function(){var e=Ap(this.states),t=e.r,n=e.g,r=e.b,i=e.a;return"rgba(".concat(Rp(t),", ").concat(Rp(n),", ").concat(Rp(r),", ").concat(i,")")}},{key:"hsv",get:function(){var e=this.getHsva(),t=e.h,n=e.s,r=e.v;return"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)")}},{key:"hsva",get:function(){var e=this.getHsva(),t=e.h,n=e.s,r=e.v,i=e.a;return"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(i,")")}},{key:"hsl",get:function(){var e=this.getHsla(),t=e.h,n=e.s,r=e.l;return"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)")}},{key:"hsla",get:function(){var e=this.getHsla(),t=e.h,n=e.s,r=e.l,i=e.a;return"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(i,")")}},{key:"hex",get:function(){return gp(this.states).toHexString()}},{key:"hex8",get:function(){return gp(this.states).toHex8String()}},{key:"cmyk",get:function(){var e=this.getCmyk(),t=e.c,n=e.m,r=e.y,i=e.k;return"cmyk(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")}},{key:"css",get:function(){return this.isGradient?this.linearGradient:this.rgba}},{key:"linearGradient",get:function(){var e=this.gradientColors,t=this.gradientDegree;return Np({points:e,degree:t})}},{key:"gradientColors",get:function(){return this.gradientStates.colors},set:function(e){this.gradientStates.colors=e,this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedId",get:function(){return this.gradientStates.selectedId},set:function(e){var t;e!==this.gradientSelectedId&&(this.gradientStates.selectedId=e,this.updateStates(null===(t=this.gradientSelectedPoint)||void 0===t?void 0:t.color))}},{key:"gradientDegree",get:function(){return this.gradientStates.degree},set:function(e){this.gradientStates.degree=Math.max(0,Math.min(360,e)),this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedPoint",get:function(){var e=this.gradientColors,t=this.gradientSelectedId;return e.find((function(e){return e.id===t}))}},{key:"getFormatsColorMap",value:function(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css}}},{key:"updateCurrentGradientColor",value:function(){var e=this.isGradient,t=this.gradientColors,n=this.gradientSelectedId,r=t.length,i=this.gradientSelectedPoint;if(!e||0===r||!i)return!1;var o=t.findIndex((function(e){return e.id===n})),a=jp(jp({},i),{},{color:this.rgba});return t.splice(o,1,a),this.gradientColors=t,this}},{key:"updateStates",value:function(e){var t=gp(Ip(e)),n=t.toHsv();this.states=n}},{key:"getRgba",value:function(){var e=Ap(this.states),t=e.r,n=e.g,r=e.b,i=e.a;return{r:Rp(t),g:Rp(n),b:Rp(r),a:i}}},{key:"getCmyk",value:function(){var e=this.getRgba(),t=e.r,n=e.g,r=e.b,i=xp(t,n,r),o=(0,ft._)(i,4),a=o[0],l=o[1],u=o[2],c=o[3];return{c:Rp(100*a),m:Rp(100*l),y:Rp(100*u),k:Rp(100*c)}}},{key:"getHsva",value:function(){var e=Fp(this.states),t=e.h,n=e.s,r=e.v,i=e.a;return t=Rp(t),n=Rp(100*n),r=Rp(100*r),i*=1,{h:t,s:n,v:r,a:i}}},{key:"getHsla",value:function(){var e=Mp(this.states),t=e.h,n=e.s,r=e.l,i=e.a;return t=Rp(t),n=Rp(100*n),r=Rp(100*r),i*=1,{h:t,s:n,l:r,a:i}}},{key:"equals",value:function(e){return gp.equals(this.rgba,e)}}],[{key:"isValid",value:function(e){return!!Cp(e)||gp(e).isValid()}},{key:"hsva2color",value:function(e,t,n,r){return gp({h:e,s:t,v:n,a:r}).toHsvString()}},{key:"hsla2color",value:function(e,t,n,r){return gp({h:e,s:t,l:n,a:r}).toHslString()}},{key:"rgba2color",value:function(e,t,n,r){return gp({r:e,g:t,b:n,a:r}).toHsvString()}},{key:"hex2color",value:function(e,t){var n=gp(e);return n.setAlpha(t),n.toHexString()}},{key:"object2color",value:function(e,t){if("CMYK"===t){var n=e.c,r=e.m,i=e.y,o=e.k;return"cmyk(".concat(n,", ").concat(r,", ").concat(i,", ").concat(o,")")}var a=gp(e,{format:t});return a.toRgbString()}}]),e}();(0,_._)(Vp,"isGradientColor",(function(e){return!!Op(e)})),(0,_._)(Vp,"compare",(function(e,t){var n=Vp.isGradientColor(e),r=Vp.isGradientColor(t);if(n&&r){var i=Np(Cp(e)),o=Np(Cp(t));return i===o}return!n&&!r&&gp.equals(e,t)}));var Bp=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],Up=function(e){if(!e)return null;var t=Object.create(null);return Bp.forEach((function(n){return t[n]=e[n]})),e.isGradient&&(t.linearGradient=e.linearGradient),t};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zp=["delete","backspace"],Kp=(0,o.aZ)({name:"LinearGradient",inheritAttrs:!1,props:zp({},hp),setup:function(e){var t=tp(),n=(0,w.RH)(),r=n.STATUS,i=r.value,a=(0,T.iH)(null),l=(0,T.qj)({left:0,width:sp}),u=(0,T.iH)(!1),c=(0,T.iH)(!1),s=(0,T.iH)(e.color.gradientDegree),d=(0,T.iH)(e.color.gradientSelectedId),f=(0,T.iH)((0,Po.c)(e.color.gradientColors));(0,o.YP)((function(){return e.color.gradientDegree}),(function(e){return s.value=e})),(0,o.YP)((function(){return e.color.gradientSelectedId}),(function(e){return d.value=e})),(0,o.YP)((function(){return e.color.gradientColors}),(function(e){f.value=(0,Po.c)(e)}),{deep:!0});var p=function(t,n,r){e.disabled||e.onChange({key:t,payload:n,addUsedColor:r})},v=function(t){e.disabled||t===e.color.gradientDegree||(s.value=t,p("degree",t,!0))},h=function(t){e.disabled||(d.value=t,p("selectedId",t))},m=function(t,n){e.disabled||(f.value=t,p("colors",t,n))},g=function(e){var t=f.value.findIndex((function(e){return e.id===d.value}));if(-1!==t){var n=f.value[t];e=Math.max(0,Math.min(l.width,e));var r=e/l.width*100;f.value.splice(t,1,{color:n.color,left:r,id:n.id}),m(f.value)}},y=function(t,n){var r=a.value.getBoundingClientRect();l.left=r.left,l.width=r.width||sp,u.value||e.disabled||(c.value=!1,u.value=!0,n.preventDefault(),n.stopPropagation(),h(t),a.value.focus(),window.addEventListener("mousemove",b,!1),window.addEventListener("mouseup",_,!1),window.addEventListener("contextmenu",_,!1))},b=function(t){if(u.value&&!e.disabled){var n=t.clientX-l.left;c.value=!0,g(n)}},_=function e(){u.value&&(setTimeout((function(){u.value=!1}),0),c.value&&(m(f.value,!0),c.value=!1),window.removeEventListener("mousemove",b,!1),window.removeEventListener("mouseup",e,!1),window.removeEventListener("contextmenu",e,!1))},S=function(t){if(!e.disabled){var n=f.value,r=n.findIndex((function(e){return e.id===d.value})),i=n.length;if(Zp.includes(t.key.toLocaleLowerCase())&&i>2&&r>=0&&r<=i-1){n.splice(r,1),n[r]||(r=n[r+1]?r+1:n[r-1]?r-1:0);var o=n[r];m(n,!0),h(null===o||void 0===o?void 0:o.id)}}},O=function(t){if(!e.disabled){var n=t.clientX-l.left;n=Math.max(0,Math.min(l.width,n));var r=n/l.width*100,i=Wp(r,e.color.rgba);f.value.push(i),m(f.value,!0),h(i.id)}};return(0,o.bv)((function(){var e=a.value.getBoundingClientRect();l.left=e.left,l.width=e.width||sp})),(0,o.Jd)((function(){window.removeEventListener("mousemove",b,!1),window.removeEventListener("mouseup",_,!1),window.removeEventListener("contextmenu",_,!1)})),{baseClassName:t,statusClassNames:i,refSlider:a,degree:s,selectedId:d,colors:f,handleDegreeChange:v,handleStart:y,handleMove:b,handleEnd:_,handleKeyup:S,handleThumbBarClick:O}},render:function(){var e=this,t=this.color,n=t.linearGradient,r=t.gradientColors,i=this.colors,a=this.selectedId,l=this.degree,u=this.disabled,c=this.baseClassName,s=this.statusClassNames,d=Np({points:r,degree:90});return(0,o.Wm)("div",{class:"".concat(c,"__gradient")},[(0,o.Wm)("div",{class:"".concat(c,"__gradient-slider")},[(0,o.Wm)("div",{class:["".concat(c,"__slider"),"".concat(c,"--bg-alpha")],onKeyup:this.handleKeyup,tabindex:0,ref:"refSlider"},[(0,o.Wm)("ul",{class:"gradient-thumbs",onClick:this.handleThumbBarClick,style:{background:d}},[i.map((function(t){var n="".concat(Math.round(100*t.left)/100,"%");return(0,o.Wm)("li",{class:["".concat(c,"__thumb"),"gradient-thumbs__item",a===t.id?s.active:""],key:t.id,title:"".concat(t.color," ").concat(n),style:{color:t.color,left:n},onClick:function(e){return e.stopPropagation()},onMousedown:function(n){return e.handleStart(t.id,n)}},[(0,o.Wm)("span",{class:["gradient-thumbs__item-inner","".concat(c,"--bg-alpha")]},null)])}))])])]),(0,o.Wm)("div",{class:"".concat(c,"__gradient-degree"),title:"".concat(l,"deg")},[(0,o.Wm)(Ii,{size:"small",theme:"normal",min:0,max:360,step:1,format:function(e){return"".concat(e,"°")},modelValue:e.degree,"onUpdate:modelValue":function(t){return e.degree=t},onBlur:this.handleDegreeChange,onEnter:this.handleDegreeChange,disabled:u},null)]),(0,o.Wm)("div",{class:["".concat(c,"__gradient-preview"),"".concat(c,"--bg-alpha")]},[(0,o.Wm)("span",{class:"preview-inner",style:{background:n}},null)])])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yp(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $p(e,t){Jp(e,t),t.add(e)}function Jp(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qp(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var Xp={start:function(e,t){},drag:function(e,t){},end:function(e,t){}},Qp=new WeakSet,ev=new WeakSet,tv=new WeakSet,nv=new WeakSet,rv=function(){function e(t,n){$t(this,e),$p(this,nv),$p(this,tv),$p(this,ev),$p(this,Qp),(0,_._)(this,"dragging",!1),(0,_._)(this,"$el",void 0),(0,_._)(this,"props",void 0),(0,_._)(this,"handles",void 0),this.$el=t,this.props=Gp(Gp({},Xp),n),this.handles={start:qp(this,Qp,iv).bind(this),drag:qp(this,ev,ov).bind(this),end:qp(this,tv,av).bind(this)},this.$el.addEventListener("mousedown",this.handles.start,!1)}return qt(e,[{key:"destroy",value:function(){this.$el.removeEventListener("mousedown",this.handles.start,!1),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}}]),e}();function iv(e){this.dragging||(window.addEventListener("mousemove",this.handles.drag,!1),window.addEventListener("mouseup",this.handles.end,!1),window.addEventListener("contextmenu",this.handles.end,!1),this.dragging=!0,this.props.start(qp(this,nv,lv).call(this,e),e))}function ov(e){this.dragging&&this.props.drag(qp(this,nv,lv).call(this,e),e)}function av(e){var t=this;setTimeout((function(){t.dragging=!1,t.props.end(qp(t,nv,lv).call(t,e),e)}),0),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}function lv(e){var t=this.$el.getBoundingClientRect(),n=e,r=n.clientX-t.left,i=n.clientY-t.top;return{y:Math.min(Math.max(0,i),t.height),x:Math.min(Math.max(0,r),t.width)}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sv=(0,o.aZ)({name:"SaturationPanel",props:cv({},hp),setup:function(e){var t=tp(),n=(0,T.iH)(null),r=(0,T.iH)(null),i=(0,T.iH)(null),a=(0,T.qj)({width:lp,height:up}),l=(0,o.Fl)((function(){var t=e.color,n=t.saturation,r=t.value,i=a.width,o=a.height,l=Math.round((1-r)*o),u=Math.round(n*i);return{color:e.color.rgb,left:"".concat(u,"px"),top:"".concat(l,"px")}})),u=function(e){var t=a.width,n=a.height,r=e.x,i=e.y,o=Math.round(r/t*100),l=Math.round(100*(1-i/n));return{saturation:o,value:l}},c=function(t,n){if(!e.disabled){var r=u(t),i=r.saturation,o=r.value;e.onChange({saturation:i/100,value:o/100,addUsedColor:n})}},s=function(t){e.disabled||(0,o.Y3)((function(){c(t,!0)}))},d=(0,o.Fl)((function(){return"hsl(".concat(e.color.hue,", 100%, 50%)")}));return(0,o.bv)((function(){a.width=n.value.offsetWidth||lp,a.height=n.value.offsetHeight||up,i.value=new rv(n.value,{start:function(){a.width=n.value.offsetWidth,a.height=n.value.offsetHeight},drag:function(e){c(e)},end:s})})),(0,o.Jd)((function(){i.value.destroy()})),{baseClassName:t,refThumb:r,refPanel:n,styles:l,panelBackground:d}},render:function(){var e=this.baseClassName,t=this.styles,n=this.panelBackground;return(0,o.Wm)("div",{class:["".concat(e,"__saturation")],ref:"refPanel",style:{background:n}},[(0,o.Wm)("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:t},null)])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function dv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pv=(0,o.aZ)({name:"ColorSlider",props:fv(fv({},hp),{},{className:{type:String,default:""},value:{type:Number,default:0},maxValue:{type:Number,default:360},railStyle:{type:Object},type:{type:String,default:"hue"}}),setup:function(e){var t=tp(),n=(0,T.iH)(null),r=(0,T.iH)(null),i=(0,T.iH)(null),a=(0,T.qj)({width:cp}),l=(0,o.Fl)((function(){var t=a.width;if(t){var n=Math.round(e.value/e.maxValue*t);return{left:"".concat(n,"px"),color:e.color.rgb}}})),u=function(t,n){if(!e.disabled){var r=a.width,i=t.x,o=Math.round(i/r*e.maxValue*100)/100;e.onChange(o,n)}},c=function(t){e.disabled||u(t,!0)};return(0,o.bv)((function(){a.width=n.value.offsetWidth||cp,i.value=new rv(n.value,{start:function(){a.width=n.value.offsetWidth},drag:function(e){u(e)},end:c})})),(0,o.Jd)((function(){i.value.destroy()})),{baseClassName:t,refThumb:r,refPanel:n,styles:l}},render:function(){var e=this.baseClassName,t=this.className,n=this.railStyle,r=this.styles,i=this.type,a=this.color,l={background:"linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ".concat(a.rgb," 93%, ").concat(a.rgb," 100%)")};return(0,o.Wm)("div",{class:["".concat(e,"__slider-wrapper"),"".concat(e,"__slider-wrapper--").concat(i,"-type")]},["alpha"===i&&(0,o.Wm)("div",{className:"".concat(e,"__slider-padding"),style:l},null),(0,o.Wm)("div",{class:["".concat(e,"__slider"),t],ref:"refPanel"},[(0,o.Wm)("div",{class:"".concat(e,"__rail"),style:n},null),(0,o.Wm)("span",{class:["".concat(e,"__thumb")],role:"slider",tabindex:0,ref:"refThumb",style:r},null)])])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mv=(0,o.aZ)({name:"HueSlider",inheritAttrs:!1,props:hv({},hp),setup:function(){var e=tp();return{baseClassName:e}},render:function(){return(0,o.Wm)(pv,{class:"".concat(this.baseClassName,"__hue"),color:this.color,value:this.color.hue,onChange:this.onChange,disabled:this.disabled,type:"hue"},null)}}),gv=(0,o.aZ)({name:"AlphaSlider",inheritAttrs:!1,props:{color:{type:Object},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var t=tp(),n=function(t,n){e.onChange(t/100,n)},r=(0,o.Fl)((function(){return{background:"linear-gradient(to right, rgba(0, 0, 0, 0), ".concat(e.color.rgb,")")}}));return{baseClassName:t,railStyle:r,handleChange:n}},render:function(){var e=this.baseClassName;return(0,o.Wm)(pv,{class:["".concat(e,"__alpha"),"".concat(e,"--bg-alpha")],color:this.color,value:100*this.color.alpha,onChange:this.handleChange,"rail-style":this.railStyle,"max-value":100,disabled:this.disabled,type:"alpha"},null)}}),yv=["HEX","RGB","HSL","HSV","CMYK","CSS"],bv={RGB:[{key:"r",min:0,max:255,type:"inputNumber"},{key:"g",min:0,max:255,type:"inputNumber"},{key:"b",min:0,max:255,type:"inputNumber"}],HSV:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"v",min:0,max:100,type:"inputNumber"}],HSL:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"l",min:0,max:100,type:"inputNumber"}],CMYK:[{key:"c",min:0,max:255,type:"inputNumber"},{key:"m",min:0,max:255,type:"inputNumber"},{key:"y",min:0,max:255,type:"inputNumber"},{key:"k",min:0,max:255,type:"inputNumber"}],CSS:[{key:"css",type:"input",flex:3}],HEX:[{key:"hex",type:"input",flex:3}]};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sv=(0,o.aZ)({name:"FormatInputs",inheritAttrs:!1,props:wv(wv({},Qf),{},{color:{type:Object},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=(0,o.Fl)((function(){var t=(0,b._)(bv[e.format]);return e.enableAlpha&&t.push({type:"inputNumber",key:"a",min:0,max:100,format:function(e){return"".concat(e,"%")},flex:1.15}),t})),n=(0,T.qj)({}),r=(0,T.qj)({}),i=function(t){var r=e.color;return"encode"===t?{HSV:r.getHsva(),HSL:r.getHsla(),RGB:r.getRgba(),CMYK:r.getCmyk(),CSS:{css:r.css},HEX:{hex:r.hex}}:{HSV:Vp.object2color(n,"HSV"),HSL:Vp.object2color(n,"HSL"),RGB:Vp.object2color(n,"RGB"),CMYK:Vp.object2color(n,"CMYK"),CSS:n.css,HEX:n.hex}},a=function(){var t=e.format,o=e.color,a=i("encode")[t];a.a=Math.round(100*o.alpha),Object.keys(a).forEach((function(e){n[e]=a[e],r[e]=a[e]}))};a();var l=Af(a,100);(0,o.YP)((function(){var t=e.color,n=t.saturation,r=t.hue,i=t.value,o=t.alpha;return[n,r,i,o,e.format]}),l);var u=function(t,o){if(o!==r[t]){var a=i("decode")[e.format];e.onInputChange(a,n.a/100,t,o)}};return{modelValue:n,inputConfigs:t,handleChange:u}},render:function(){var e=this,t=wv({},this.inputProps||{});return(0,o.Wm)("div",{class:"input-group"},[this.inputConfigs.map((function(n){return(0,o.Wm)("div",{class:"input-group__item",key:n.key,style:{flex:n.flex||1}},["input"===n.type?(0,o.Wm)(Yr.II,(0,o.dG)(t,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[n.key],"onUpdate:modelValue":function(t){return e.modelValue[n.key]=t},maxlength:"HEX"===e.format?9:void 0,title:e.modelValue[n.key],onBlur:function(t){return e.handleChange(n.key,t)},onEnter:function(t){return e.handleChange(n.key,t)}}),null):(0,o.Wm)(Ii,(0,o.dG)(t,{align:"center",size:"small",disabled:e.disabled,modelValue:e.modelValue[n.key],"onUpdate:modelValue":function(t){return e.modelValue[n.key]=t},title:e.modelValue[n.key],min:n.min,max:n.max,step:1,format:n.format,theme:"normal",onBlur:function(t){return e.handleChange(n.key,t)},onEnter:function(t){return e.handleChange(n.key,t)}}),null)])}))])}}),Ov=sl.a,kv=Ov((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Cv=kv;function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ev(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Tv=(0,o.aZ)({name:"FormatPanel",inheritAttrs:!1,props:Pv(Pv({},Qf),{},{color:{type:Object},onModeChange:{type:Function,default:function(){return function(){}}},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=tp(),n=(0,T.iH)(e.format);(0,o.YP)((function(){return[e.format]}),(function(){return n.value=e.format}));var r=function(t){n.value=t,e.onModeChange(t)};return{formatModel:n,baseClassName:t,handleModeChange:r}},render:function(){var e,t=this,n=(0,b._)(yv),r=this.baseClassName,i=this.handleModeChange,a=Pv(Pv({},this.$props),{},{format:this.formatModel}),l=Pv({},this.selectInputProps||{});return(0,o.Wm)("div",{class:"".concat(r,"__format")},[(0,o.Wm)("div",{class:"".concat(r,"__format--item")},[(0,o.Wm)(Di.Ph,(0,o.dG)({size:"small",class:"".concat(r,"__format-mode-select")},l,{popupProps:{overlayClassName:"".concat(r,"__select-options")},modelValue:t.formatModel,"onUpdate:modelValue":function(e){return t.formatModel=e},onChange:i}),Ev(e=n.map((function(e){return(0,o.Wm)(Di.Wx,{key:e,value:e,label:Cv(e),style:{fontSize:"12px"}},null)})))?e:{default:function(){return[e]}})]),(0,o.Wm)("div",{class:"".concat(r,"__format--item")},[(0,o.Wm)(Sv,a,null)])])}});function Iv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iv(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jv={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 12V6h1v6H6zM9 6v6h1V6H9z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M10.5 3H14v1h-1v10a1 1 0 01-1 1H4a1 1 0 01-1-1V4H2V3h3.5V1.8c0-.44.36-.8.8-.8h3.4c.44 0 .8.36.8.8V3zm-4 0h3V2h-3v1zM4 4v10h8V4H4z",fillOpacity:.9}}]},Rv=(0,o.aZ)({name:"DeleteIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-delete",i.value])),c=(0,o.Fl)((()=>Dv(Dv({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(jv,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Av(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mv=(0,o.aZ)({name:"SwatchesPanel",props:Fv(Fv({},hp),{},{colors:{type:Array,default:function(){return[]}},title:{type:String,default:"系统色彩"},editable:{type:Boolean,default:!1},onSetColor:{type:Function,default:function(){return function(){}}},handleAddColor:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=tp(),n=(0,it.J)({DeleteIcon:Rv,AddIcon:wn}),r=n.DeleteIcon,i=n.AddIcon,a=(0,w.RH)(),l=a.STATUS,u=l.value,c=(0,T.iH)(!1),s=function(e){c.value=e},d=function(t){return e.onSetColor(t)},f=function(t){return Vp.compare(t,e.color.css)},p=(0,o.Fl)((function(){return e.colors.findIndex((function(e){return f(e)}))})),v=function(){var t=(0,b._)(e.colors),n=p.value;n>-1?t.splice(n,1):t.length=0,e.onChange(t),s(!1)};return{baseClassName:t,DeleteIcon:r,AddIcon:i,statusClassNames:u,selectedColorIndex:p,visiblePopConfirm:c,setVisiblePopConfirm:s,handleClick:d,isEqualCurrentColor:f,handleRemoveColor:v}},render:function(){var e=this,t=this.baseClassName,n=this.DeleteIcon,r=this.AddIcon,i=this.statusClassNames,a=this.title,l=this.editable,u="".concat(t,"__swatches"),c=function(){return l?(0,o.Wm)("div",{class:"".concat(u,"--actions")},[(0,o.Wm)("span",{role:"button",class:"".concat(t,"__icon"),onClick:function(){return e.handleAddColor()}},[(0,o.Wm)(r,null,null)]),e.colors.length>0?(0,o.Wm)("span",{role:"button",class:"".concat(t,"__icon"),onClick:function(){return e.handleRemoveColor()}},[(0,o.Wm)(n,null,null)]):null]):null};return(0,o.Wm)("div",{class:u},[(0,o.Wm)("h3",{class:"".concat(u,"--title")},[(0,o.Wm)("span",null,[a]),c()]),(0,o.Wm)("ul",{class:["".concat(u,"--items"),"narrow-scrollbar"]},[this.colors.map((function(n){return(0,o.Wm)("li",{class:["".concat(u,"--item"),e.isEqualCurrentColor(n)&&l?i.active:""],title:n,key:n,onClick:function(){e.disabled||e.handleClick(n)}},[(0,o.Wm)("div",{class:["".concat(u,"--color"),"".concat(t,"--bg-alpha")]},[(0,o.Wm)("span",{class:"".concat(u,"--inner"),style:{background:n}},null)])])}))])])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Nv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wv=(0,o.aZ)({name:"ColorPanel",props:Lv(Lv({},Qf),{},{togglePopup:{type:Function}}),setup:function(e){var t=tp(),n=(0,w.RH)(),r=n.STATUS,i=(0,k.Z)("colorPicker"),a=i.t,l=i.globalConfig,u=r.value,c=(0,T.BK)(e),s=c.value,d=c.modelValue,f=c.recentColors,p=(0,gt.Z)(s,d,e.defaultValue,e.onChange),v=(0,ft._)(p,2),h=v[0],m=v[1],g=(0,T.iH)(new Vp(h.value||ip)),y=function(){return g.value.update(h.value||ip)},b=(0,T.iH)(g.value.isGradient?"linear-gradient":"monochrome"),_=(0,T.iH)(g.value.isGradient?"CSS":"RGB"),S=(0,rn.Z)(f,e.defaultRecentColors,e.onRecentColorsChange,"recentColors"),O=(0,ft._)(S,2),C=O[0],x=O[1];if(1===e.colorModes.length){var P=e.colorModes[0];b.value=P}var E=function(){return"linear-gradient"===b.value?g.value.linearGradient:g.value.getFormatsColorMap()[e.format]||g.value.css},I=function(){if(null!==C.value&&!1!==C.value){var e=C.value||[],t=g.value.isGradient?g.value.linearGradient:g.value.rgba,n=e.indexOf(t);n>-1&&e.splice(n,1),e.unshift(t),e.length>np&&(e.length=np),D(e)}},D=function(e){C.value=e,x(e)},j=function(e){m(E(),{color:Up(g.value),trigger:e||"palette-saturation-brightness"})};(0,o.YP)((function(){return[e.defaultValue,e.enableAlpha]}),y),(0,o.YP)((function(){return h.value}),(function(e){e!==E()&&(y(),b.value=g.value.isGradient?"linear-gradient":"monochrome")}));var R=function(e){b.value=e,"linear-gradient"!==e?g.value.update(g.value.rgba):g.value.update(g.value.gradientColors.length>0?g.value.linearGradient:op)},A=function(e){return _.value=e},F=function(e){var t=e.saturation,n=e.value,r=g.value,i=r.saturation,o=r.value,a="palette-saturation-brightness";if(n!==o&&t!==i)g.value.saturation=t,g.value.value=n,a="palette-saturation-brightness";else if(t!==i)g.value.saturation=t,a="palette-saturation";else{if(n===o)return;g.value.value=n,a="palette-brightness"}j(a)},M=function(t){var n;g.value.hue=t,j("palette-hue-bar"),null===(n=e.onPaletteBarChange)||void 0===n||n.call(e,{color:Up(g.value)})},N=function(e){g.value.alpha=e,j("palette-alpha-bar")},L=function(e,t){g.value.update(e),g.value.alpha=t,j("input")},W=function(e){var t=e.key,n=e.payload,r="palette-saturation-brightness";switch(t){case"degree":g.value.gradientDegree=n,r="input";break;case"selectedId":g.value.gradientSelectedId=n;break;case"colors":g.value.gradientColors=n;break}j(r)},V=function(t,n){var r=Vp.isGradientColor(n);r?e.colorModes.includes("linear-gradient")?(b.value="linear-gradient",g.value.update(n),g.value.updateCurrentGradientColor()):console.warn("该模式不支持渐变色"):"linear-gradient"===b.value?(g.value.updateStates(n),g.value.updateCurrentGradientColor()):g.value.update(n),j()};return{baseClassName:t,statusClassNames:u,t:a,globalConfig:l,color:g,mode:b,formatModel:_,recentlyUsedColors:C,addRecentlyUsedColor:I,handleModeChange:R,handleSatAndValueChange:F,handleHueChange:M,handleAlphaChange:N,handleGradientChange:W,handleSetColor:V,handleFormatModeChange:A,handleInputChange:L,handleRecentlyUsedColorsChange:D}},render:function(){var e,t=this,n=this.baseClassName,r=this.statusClassNames,i=this.t,a=this.globalConfig,l=this.recentColors,u=(this.recentlyUsedColors,this.swatchColors),c={color:this.color,disabled:this.disabled},s=null!==l&&!1!==l,d=u;void 0===d&&(d=(0,b._)(ap));var f=(null===(e=d)||void 0===e?void 0:e.length)>0,p=function(){return f||s?(0,o.Wm)(o.HY,null,[(0,o.Wm)("div",{class:"".concat(n,"__swatches-wrap")},[s?(0,o.Wm)(Mv,(0,o.dG)(c,{title:i(a.recentColorTitle),editable:!0,colors:t.recentlyUsedColors,handleAddColor:t.addRecentlyUsedColor,onSetColor:function(e){return t.handleSetColor("used",e)},onChange:t.handleRecentlyUsedColorsChange}),null):null,f?(0,o.Wm)(Mv,(0,o.dG)(c,{title:i(a.swatchColorTitle),colors:d,onSetColor:function(e){return t.handleSetColor("system",e)}}),null):null])]):null},v="linear-gradient"===this.mode;return(0,o.Wm)("div",{class:["".concat(n,"__panel"),!!this.disabled&&r.disabled]},[(0,o.Wm)(vp,(0,o.dG)(this.$props,{mode:this.mode,onModeChange:this.handleModeChange}),null),(0,o.Wm)("div",{class:["".concat(n,"__body")]},[v?(0,o.Wm)(Kp,(0,o.dG)(c,{onChange:this.handleGradientChange}),null):null,(0,o.Wm)(sv,(0,o.dG)(c,{onChange:this.handleSatAndValueChange}),null),(0,o.Wm)("div",{class:["".concat(n,"__sliders-wrapper")]},[(0,o.Wm)("div",{class:["".concat(n,"__sliders")]},[(0,o.Wm)(mv,(0,o.dG)(c,{onChange:this.handleHueChange}),null),this.enableAlpha?(0,o.Wm)(gv,(0,o.dG)(c,{onChange:this.handleAlphaChange}),null):null]),(0,o.Wm)("div",{class:["".concat(n,"__sliders-preview"),"".concat(n,"--bg-alpha")]},[(0,o.Wm)("span",{class:"".concat(n,"__sliders-preview-inner"),style:{background:v?this.color.linearGradient:this.color.rgba}},null)])]),(0,o.Wm)(Tv,(0,o.dG)(this.$props,{color:this.color,format:this.formatModel,onModeChange:this.handleFormatModeChange,onInputChange:this.handleInputChange}),null),p()])])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uv=(0,o.aZ)({name:"TColorPickerPanel",props:Bv({},Qf),setup:function(e,t){var n=t.attrs,r=(0,w.ws)();return function(){return(0,o.Wm)(Wv,(0,o.dG)(Bv(Bv({},e),n),{popupProps:null,"close-btn":!1,class:"".concat(r.value,"-is-inline")}),null)}}}),Hv=(0,o.aZ)({name:"DefaultTrigger",inheritAttrs:!1,props:{color:{type:String,default:""},disabled:{type:Boolean,default:!1},inputProps:{type:Object,default:function(){return{autoWidth:!0}}},onTriggerChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var t=tp(),n=(0,T.iH)(e.color);(0,o.YP)((function(){return[e.color]}),(function(){return n.value=e.color}));var r=function(t){t!==e.color&&(Vp.isValid(t)?n.value=t:n.value=e.color,e.onTriggerChange(n.value))};return{baseClassName:t,value:n,handleChange:r}},render:function(){var e=this,t=this.baseClassName,n={label:function(){return(0,o.Wm)("div",{class:["".concat(t,"__trigger--default__color"),"".concat(t,"--bg-alpha")]},[(0,o.Wm)("span",{class:["color-inner"],style:{background:e.value}},null)])}};return(0,o.Wm)("div",{class:"".concat(t,"__trigger--default")},[(0,o.Wm)(Yr.II,(0,o.dG)(this.inputProps,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},disabled:this.disabled,onBlur:this.handleChange}),n)])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kv=(0,o.aZ)({name:"TColorPicker",props:Zv({},Qf),setup:function(e){var t=tp(),n=(0,T.iH)(!1),r=function(e){return n.value=e},i=(0,T.BK)(e),a=i.value,l=i.modelValue,u=(0,gt.Z)(a,l,e.defaultValue,e.onChange),c=(0,ft._)(u,2),s=c[0],d=c[1],f=(0,T.iH)(),p=function(){if(e.disabled)return null;var t=Zv({},e);return delete t.onChange,(0,o.Wm)(Wv,(0,o.dG)(t,{disabled:e.disabled,value:s.value,togglePopup:r,onChange:function(e,t){return d(e,t)}}),null)};return{baseClassName:t,innerValue:s,visible:n,refTrigger:f,renderPopupContent:p,setVisible:r,setInnerValue:d}},render:function(){var e=this,t=this.popupProps,n=this.disabled,r=this.baseClassName,i=Zv(Zv({placement:"bottom-left"},t||{}),{},{trigger:"click",attach:"body",overlayClassName:[r],visible:this.visible,overlayInnerStyle:{padding:0},onVisibleChange:function(t,n){"document"===n.trigger&&e.setVisible(!1)}});return(0,o.Wm)(ht.G,(0,o.dG)(i,{content:this.renderPopupContent}),{default:function(){return[(0,o.Wm)("div",{class:"".concat(r,"__trigger"),onClick:function(){return e.setVisible(!e.visible)},ref:"refTrigger"},[(0,Gt.b)(e,"default",(0,o.Wm)(Hv,{color:e.innerValue,disabled:n,"input-props":e.inputProps,onTriggerChange:e.setInnerValue},null))])]}})}}),Yv=(0,g.Z)(Uv),Gv=(0,g.Z)(Kv),$v={alt:{type:String,default:""},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},size:{type:String,default:""},onError:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jv(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xv=(0,o.aZ)({name:"TAvatar",props:$v,setup:function(e){var t=(0,w.ws)("avatar"),n=(0,S.r0)(),r=(0,S.sL)(),i=(0,w.RH)(),a=i.SIZE,l=(0,o.f3)("avatarGroup",void 0),u=(0,T.iH)(null),c=(0,T.iH)(null),s=(0,T.iH)(!0),d=(0,T.iH)(4),f=(0,T.iH)(""),p=(0,T.iH)(""),v=(0,o.Fl)((function(){return f.value&&!a.value[f.value]})),h=(0,o.Fl)((function(){return v.value?{width:f.value,height:f.value,"font-size":"".concat(Number.parseInt(f.value,10)/2,"px")}:{}})),m=(0,o.Fl)((function(){return v.value?{height:f.value,width:f.value}:{}})),g=(0,o.Fl)((function(){return{transform:p.value}})),y=function(){var t,n=e.hideOnLoadFailed;s.value=!n,null===(t=e.onError)||void 0===t||t.call(e)},b=function(){var e=u.value,t=c.value,n=null===e||void 0===e?void 0:e.offsetWidth,r=null===t||void 0===t?void 0:t.offsetWidth;2*d.value<n&&(p.value=r>n-2*d.value?"scale(".concat((n-2*d.value)/r,")"):"scale(1)")};return(0,o.bv)((function(){f.value=e.size||(null===l||void 0===l?void 0:l.size),(0,o.Y3)((function(){b()}))})),(0,o.ic)((function(){(0,o.Y3)((function(){b()}))})),function(){var i,l=n("default","content"),d=r("icon"),p=d&&!l,v=e.shape,b=e.image,w=e.alt,S=["".concat(t.value),a[f.value],(i={},(0,_._)(i,"".concat(t.value,"--circle"),"circle"===v),(0,_._)(i,"".concat(t.value,"--round"),"round"===v),(0,_._)(i,"".concat(t.value,"__icon"),!!p),i)];return l=(0,o.Wm)("span",{ref:c,style:qv({},g.value)},[l]),d&&(l=[d,p?"":l]),b&&s.value&&(l=(0,o.Wm)("img",{style:qv({},m.value),src:b,alt:w,onError:y},null)),(0,o.Wm)("div",{ref:u,class:S,style:qv({},h.value)},[l])}}}),Qv={cascading:{type:String,default:"right-up",validator:function(e){return["left-up","right-up"].includes(e)}},collapseAvatar:{type:[String,Function]},max:{type:Number},placement:{type:String,validator:function(e){return["left","top","bottom","right"].includes(e)}},popupProps:{type:Object},size:{type:String,default:"medium"}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function eh(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var th=(0,o.aZ)({name:"TAvatarGroup",props:Qv,setup:function(e){(0,o.JJ)("avatarGroup",e);var t=(0,S.r0)(),n=(0,S.sL)(),r=(0,w.ws)("avatar"),i=(0,w.ws)("avatar-group"),a=function(){var e=n("collapseAvatar");return e},l=function(){return a()&&"string"!==typeof e.collapseAvatar?e.collapseAvatar:null},u=function(t){if((null===t||void 0===t?void 0:t.length)>e.max){var n=c(t),r=t.slice(0,e.max);return r.push((0,o.Wm)(Xv,{size:e.size,icon:l()},eh(n)?n:{default:function(){return[n]}})),[r]}return[t]},c=function(n){var r="";return e.collapseAvatar?a()||(r=t("collapseAvatar","content")):r="+".concat(n.length-e.max),r};return function(){var t,a=n("default"),l=e.cascading,c=e.max,s=["".concat(i.value),(t={},(0,_._)(t,"".concat(r.value,"--offset-right"),"right-up"===l),(0,_._)(t,"".concat(r.value,"--offset-left"),"left-up"===l),t)],d=[a];return c&&c>=0&&(d=[u(a)]),(0,o.Wm)("div",{class:s},[d])}}}),nh=(0,g.Z)(Xv),rh=(0,g.Z)(th),ih={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},default:{type:[String,Function]},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},showZero:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lh=(0,o.aZ)({name:"TBadge",props:ah({},ih),setup:function(e){var t=(0,S.sL)(),n=(0,o.Fl)((function(){if(e.dot)return"";if("function"===typeof e.count)return t("count");if(Number.isNaN(Number(e.count)))return e.count;var n=Number(e.count);return n>e.maxCount?"".concat(e.maxCount,"+"):n})),r=function(){return t("default")},i=function(){if(!e.offset)return{};var t=(0,ft._)(e.offset,2),n=t[0],r=t[1];return n=Number.isNaN(Number(n))?n:"".concat(n,"px"),r=Number.isNaN(Number(r))?r:"".concat(r,"px"),{xOffset:n,yOffset:r}},a=(0,k.Z)("classPrefix"),l=a.classPrefix,u="".concat(l.value,"-badge"),c=(0,o.Fl)((function(){return!e.showZero&&(0===n.value||"0"===n.value)})),s=(0,o.Fl)((function(){var t;return[(t={},(0,_._)(t,"".concat(u,"--dot"),!!e.dot),(0,_._)(t,"".concat(u,"--circle"),!e.dot&&"circle"===e.shape),(0,_._)(t,"".concat(u,"--round"),"round"===e.shape),(0,_._)(t,"".concat(l.value,"-size-s"),"small"===e.size),t)]})),d=(0,o.Fl)((function(){var t=i(),n=t.xOffset,r=t.yOffset;return{background:"".concat(e.color),right:n,top:r}}));return{content:n,inlineStyle:d,badgeClassNames:s,isHidden:c,renderChildren:r,name:u}},render:function(){return(0,o.Wm)("div",(0,o.dG)({class:this.name},this.$attrs),[this.renderChildren(),this.isHidden?null:(0,o.Wm)("sup",{class:this.badgeClassNames,style:this.inlineStyle},[this.content])])}}),uh=(0,g.Z)(lh),ch={cell:{type:[String,Function]},cellAppend:{type:[String,Function]},controllerConfig:{type:[Boolean,Object],default:void 0},fillWithZero:{type:Boolean,default:void 0},firstDayOfWeek:{type:Number,validator:function(e){return!e||[1,2,3,4,5,6,7].includes(e)}},format:{type:String,default:"YYYY-MM-DD"},head:{type:[String,Function]},isShowWeekendDefault:{type:Boolean,default:!0},mode:{type:String,default:"month",validator:function(e){return!e||["month","year"].includes(e)}},month:{type:[String,Number]},preventCellContextmenu:Boolean,range:{type:Array},theme:{type:String,default:"full",validator:function(e){return!e||["full","card"].includes(e)}},value:{type:[String,Date]},week:{type:[Array,Function]},year:{type:[String,Number]},onCellClick:Function,onCellDoubleClick:Function,onCellRightClick:Function,onControllerChange:Function,onMonthChange:Function},sh="calendar",dh=1970,fh=1,ph=12,vh=4,hh={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},mh=function(e){var t=(0,Zd.d)(e).day();return 0===t&&(t=7),t},gh=function(e){var t="",n=e.toString();return n in hh&&(t=hh[n]),t},yh=function(e,t){var n=0,r=mh(t);return n=r>=e?r-e:7-e+r,n},bh=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},_h=function(e,t,n){for(var r=[],i=t.year()===e,o=fh;o<=ph;o++){var a=new Date(e,o-1),l=parseInt(t.format("M"),10),u=i&&l===o;r.push({mode:"year",isCurrent:u,date:a,formattedDate:(0,Zd.d)(a).format(n),filterDate:null,formattedFilterDate:null,isShowWeekend:!0})}return r},wh=function(e,t,n,r,i){for(var o=[],a=(0,Zd.d)("".concat(e,"-").concat(t)).startOf("month").toDate(),l=(0,Zd.d)("".concat(e,"-").concat(t)).endOf("month").toDate(),u=l.getDate(),c=yh(n,a),s=[],d=1,f=function(e,t,n,r){var o=mh(n);return{mode:"month",belongTo:e,isCurrent:t,day:o,weekOrder:r,date:n,formattedDate:(0,Zd.d)(n).format(i),filterDate:null,formattedFilterDate:null,isShowWeekend:!0}},p=0;p<c;p++){var v=bh(a,p-c);s.push(f(-1,!1,v,d)),7===s.length&&(o.push(s),s=[],d+=1)}for(var h=0;h<u;h++){var m=bh(a,h);s.push(f(0,r.isSame((0,Zd.d)(m)),m,d)),7===s.length&&(o.push(s),s=[],d+=1)}if(s.length){for(var g=7-s.length,y=0;y<g;y++){var b=bh(l,y+1);s.push(f(1,!1,b,d))}o.push(s)}return o},Sh=function(){return(0,Zd.d)((0,Zd.d)().format("YYYY-MM-DD"))},Oh=n(2035);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function kh(e,t){var n=(0,w.ws)(sh),r=(0,o.Fl)((function(){return["".concat(n.value),"".concat(n.value,"--").concat(e.theme)]})),i=(0,o.Fl)((function(){return["".concat(n.value,"__panel"),"".concat(n.value,"__panel--").concat(t.curSelectedMode)]})),a=(0,o.Fl)((function(){return["".concat(n.value,"__control")]})),l=(0,o.Fl)((function(){return["".concat(n.value,"__title")]})),u=(0,o.Fl)((function(){return["".concat(n.value,"__control-section")]})),c=(0,o.Fl)((function(){return["".concat(n.value,"__control-section-cell")]})),s=(0,o.Fl)((function(){return["".concat(n.value,"__control-tag")]})),d=(0,o.Fl)((function(){return["".concat(n.value,"__table")]})),f=(0,o.Fl)((function(){return["".concat(n.value,"__table-head")]})),p=(0,o.Fl)((function(){return["".concat(n.value,"__table-head-row")]})),v=(0,o.Fl)((function(){return["".concat(n.value,"__table-head-cell")]})),h=(0,o.Fl)((function(){return["".concat(n.value,"__table-body")]})),m=(0,o.Fl)((function(){return["".concat(n.value,"__table-body-row")]}));return{body:r,panel:i,control:a,title:l,controlSection:u,controlSectionCell:c,controlTag:s,table:d,tableHead:f,tableHeadRow:p,tableHeadCell:v,tableBody:h,tableBodyRow:m}}function Ch(){var e=(0,w.ws)(sh),t=(0,o.Fl)((function(){return["".concat(e.value,"__table-body-cell")]})),n=(0,o.Fl)((function(){return"".concat(e.value,"__table-body-cell--now")})),r=(0,o.Fl)((function(){return["".concat(e.value,"__table-body-cell-display")]})),i=(0,o.Fl)((function(){return["".concat(e.value,"__table-body-cell-content")]}));return{tableBodyCell:t,tableBodyCell4Now:n,tableBodyCellDisplay:r,tableBodyCellCsontent:i}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xh(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eh={click:"click",dblclick:"dblclick",contextmenu:"rightclick"},Th=(0,o.aZ)({name:"TCalendarCell",inheritAttrs:!1,props:{item:{type:Object,default:function(){return null}},fillWithZero:{type:Boolean,default:void 0},theme:{type:String,default:function(){return null}},t:Function,global:Object,cell:[String,Function]},emits:(0,b._)(Object.values(Eh)),setup:function(e,t){var n=t.emit,r=(0,S.r0)(),i=Ch(),a=(0,w.RH)(),l=a.STATUS,u=(0,o.Fl)((function(){if("month"===e.item.mode){var t,n,r=e.item.date.getDate(),i=r<10&&(null===(t=null!==(n=e.fillWithZero)&&void 0!==n?n:e.global.fillWithZero)||void 0===t||t);return i?"0".concat(r):r}var o=e.t(e.global.cellMonth).split(",");return o[e.item.date.getMonth().toString()]})),c=(0,o.Fl)((function(){return"full"===e.theme})),s=(0,o.Fl)((function(){return"month"===e.item.mode&&0!==e.item.belongTo})),d=(0,o.Fl)((function(){var t,n=e.item,r=n.mode,o=n.date,a=n.formattedDate,u=n.isCurrent,c="year"===r?(new Date).getMonth()===o.getMonth():a===(0,Zd.d)().format("YYYY-MM-DD");return[i.tableBodyCell.value,(t={},(0,_._)(t,l.value.disabled,s.value),(0,_._)(t,l.value.checked,u),(0,_._)(t,i.tableBodyCell4Now.value,c),t)]})),f=function(e){if(!s.value){var t=Eh[e.type];n(t,e)}},p=function(){return(0,o.Wm)(o.HY,null,[(0,o.Wm)("div",{class:i.tableBodyCellDisplay.value},[u.value]),(0,o.Wm)("div",{class:i.tableBodyCellCsontent.value},[c.value&&r("cellAppend",void 0,{params:Ph({},e.item)})])])};return function(){return e.item&&(0,o.Wm)("td",{class:d.value,onClick:f,ondblclick:f,oncontextmenu:f},["function"===typeof e.cell?e.cell(Ph({},e.item)):r("cell",void 0,{defaultNode:p(),params:Ph({},e.item)})])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ih(e){var t=(0,k.Z)(sh),n=t.globalConfig,r=(0,T.qj)({realFirstDayOfWeek:1,curDate:null,curSelectedYear:null,curSelectedMonth:null,curSelectedMode:null,isShowWeekend:!0,controlSize:"medium"});function i(){var e=Sh();r.curSelectedYear=e.year(),r.curSelectedMonth=parseInt(e.format("M"),10)}function a(e){var t=e?parseInt("".concat(e),10):Sh().year();!isNaN(t)&&t>0&&(r.curSelectedYear=t)}function l(e){var t=e?parseInt("".concat(e),10):parseInt(Sh().format("M"),10);!isNaN(t)&&t>0&&t<=12&&(r.curSelectedMonth=t)}function u(e){r.curDate=e?(0,Zd.d)(e):Sh()}function c(e){var t=!0;return r.isShowWeekend||(t=6!==e&&7!==e),t}return(0,o.YP)((function(){return e.firstDayOfWeek}),(function(){var t,i;r.realFirstDayOfWeek=null!==(t=null!==(i=e.firstDayOfWeek)&&void 0!==i?i:n.value.firstDayOfWeek)&&void 0!==t?t:1}),{immediate:!0}),(0,o.YP)((function(){return e.value}),(function(e){u(e)}),{immediate:!0}),(0,o.YP)((function(){return e.year}),(function(e){a(e)}),{immediate:!0}),(0,o.YP)((function(){return e.month}),(function(e){l(e)}),{immediate:!0}),(0,o.YP)((function(){return e.isShowWeekendDefault}),(function(e){r.isShowWeekend=e}),{immediate:!0}),(0,o.YP)((function(){return e.mode}),(function(e){r.curSelectedMode=e}),{immediate:!0}),{state:r,toToday:i,checkDayVisibled:c}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Dh(e,t){var n=(0,k.Z)(sh),r=n.t,i=n.globalConfig,a=(0,o.Fl)((function(){return e.week||r(i.value.week).split(",")}));function l(e){var t=a.value;return"object"===(0,Ce._)(t)&&t[e-1]?t[e-1]:gh(e)}var u=(0,o.Fl)((function(){for(var e=[],n=1,r=7,i=t.realFirstDayOfWeek;i<=r;i++)e.push({num:i,display:l(i)});if(t.realFirstDayOfWeek>n)for(var o=n;o<t.realFirstDayOfWeek;o++)e.push({num:o,display:l(o)});return e}));return{cellColHeaders:u}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ah=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{visible:e,disabled:!1,mode:{visible:!0,radioGroupProps:{}},year:{visible:!0,selectProps:{}},month:{visible:!0,selectProps:{}},weekend:{visible:!0,showWeekendButtonProps:{},hideWeekendButtonProps:{}},current:{visible:!0,currentDayButtonProps:{},currentMonthButtonProps:{}}}};function Fh(e,t){var n=(0,k.Z)(sh),r=n.globalConfig,i=(0,o.Fl)((function(){var n=(0,Zd.d)("".concat(t.curSelectedYear,"-").concat(t.curSelectedMonth)),r={isShowWeekend:t.isShowWeekend,filterDate:n.toDate(),formattedFilterDate:n.format(e.format),mode:t.curSelectedMode};return r})),a=(0,o.Fl)((function(){var t,n,i=null===(t=null!==(n=e.controllerConfig)&&void 0!==n?n:r.value.controllerConfig)||void 0===t||t;return"boolean"===typeof i?Ah(i):Rh(Rh({},Ah()),i)})),l=(0,o.Fl)((function(){return!!a.value&&a.value.visible}));function u(e){var t=!0,n=a.value;return n&&n.visible&&!1!==n[e]&&(!n[e]||n[e].visible)||(t=!1),t}function c(e,t){var n=!1,r=a.value;return r&&(r.disabled||r[e]&&r[e][t]&&r[e][t].disabled)&&(n=!0),n}function s(){(0,o.Y3)((function(){"function"===typeof e.onControllerChange&&e.onControllerChange(Rh({},i.value))}))}return{options:i,configData:a,visible:l,checkControllerVisible:u,checkControllerDisabled:c,emitControllerChange:s}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mh(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lh(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Wh=(0,o.aZ)({name:"TCalendar",props:Nh({},ch),setup:function(e,t){var n=t.slots,i=(0,S.r0)(),a=(0,k.Z)(sh),l=a.t,u=a.globalConfig,c=Ih(e),s=c.state,d=c.toToday,f=c.checkDayVisibled,p=kh(e,s),v=Dh(e,s),h=v.cellColHeaders,m=Fh(e,s),g=(0,o.Fl)((function(){if(!e.range||e.range.length<2)return null;var t=(0,ft._)(e.range,2),n=t[0],r=t[1];return(0,Zd.d)(n).isBefore((0,Zd.d)(r))?{from:n,to:r}:{from:r,to:n}}));function y(e,t){var n=!1;if(g.value&&g.value.from&&g.value.to){var r=(0,Zd.d)(g.value.from).year(),i=(0,Zd.d)(g.value.to).year();if(e===r){var o=parseInt((0,Zd.d)(g.value.from).format("M"),10);n=t<o}else if(e===i){var a=parseInt((0,Zd.d)(g.value.to).format("M"),10);n=t>a}}return n}(0,o.YP)((function(){return{year:"".concat(s.curSelectedYear),month:"".concat(s.curSelectedMonth)}}),(function(t){"function"===typeof e.onMonthChange&&e.onMonthChange(Nh({},t)),m.emitControllerChange()}));var b={yearSelectOptionList:(0,o.Fl)((function(){var e=[],t=s.curSelectedYear-10,n=s.curSelectedYear+10;g.value&&g.value.from&&g.value.to&&(t=(0,Zd.d)(g.value.from).year(),n=(0,Zd.d)(g.value.to).year()),t<dh&&(t=dh),n<dh&&(n=dh);for(var r=t;r<=n;r++){var i=y(r,s.curSelectedMonth);e.push({value:r,label:l(u.value.yearSelection,{year:r}),disabled:i})}return e})),isYearSelectVisible:(0,o.Fl)((function(){return m.checkControllerVisible("year")})),isYearSelectDisabled:(0,o.Fl)((function(){return m.checkControllerDisabled("year","selectProps")})),monthSelectOptionList:(0,o.Fl)((function(){for(var e=[],t=fh;t<=ph;t++){var n=y(s.curSelectedYear,t);e.push({value:t,label:l(u.value.monthSelection,{month:t}),disabled:n})}return e})),isMonthSelectVisible:(0,o.Fl)((function(){return"month"===s.curSelectedMode&&m.checkControllerVisible("month")})),isMonthSelectDisabled:(0,o.Fl)((function(){return m.checkControllerDisabled("month","selectProps")}))},_={optionList:(0,o.Fl)((function(){return[{value:"month",label:l(u.value.monthRadio)},{value:"year",label:l(u.value.yearRadio)}]})),isVisible:(0,o.Fl)((function(){return m.checkControllerVisible("mode")})),isDisabled:(0,o.Fl)((function(){return m.checkControllerDisabled("mode","radioGroupProps")}))},w={text:(0,o.Fl)((function(){return s.isShowWeekend?l(u.value.hideWeekend):l(u.value.showWeekend)})),vBind:(0,o.Fl)((function(){var e=m.configData.value.weekend;return s.isShowWeekend?e.hideWeekendButtonProps:e.showWeekendButtonProps})),isVisible:(0,o.Fl)((function(){return"full"===e.theme&&m.checkControllerVisible("current")&&m.checkControllerVisible("weekend")})),isDisabled:(0,o.Fl)((function(){var e=s.isShowWeekend?"hideWeekendButtonProps":"showWeekendButtonProps";return m.checkControllerDisabled("weekend",e)}))},O={text:(0,o.Fl)((function(){return"month"===s.curSelectedMode?l(u.value.today):l(u.value.thisMonth)})),vBind:(0,o.Fl)((function(){var e=m.configData.value.current;return"month"===s.curSelectedMode?e.currentDayButtonProps:e.currentMonthButtonProps})),isVisible:(0,o.Fl)((function(){return"full"===e.theme&&m.checkControllerVisible("current")})),isDisabled:(0,o.Fl)((function(){var e="month"===s.curSelectedMode?"currentDayButtonProps":"currentMonthButtonProps";return m.checkControllerDisabled("current",e)}))},C=function(){var e,t,n;return(0,o.Wm)("div",{class:p.control.value},[(0,o.Wm)("div",{class:p.title.value},[i("head",void 0,{params:Nh({},m.options.value)})]),(0,o.Wm)("div",{class:p.controlSection.value},[b.isYearSelectVisible.value&&(0,o.Wm)("div",{class:p.controlSectionCell.value},[(0,o.Wm)(Di.Ph,(0,o.dG)({modelValue:s.curSelectedYear,"onUpdate:modelValue":function(e){return s.curSelectedYear=e},size:s.controlSize,autoWidth:!0},m.configData.value.year.selectProps,{disabled:b.isYearSelectDisabled.value}),Lh(e=b.yearSelectOptionList.value.map((function(e){return(0,o.Wm)(Di.Wx,{key:e.value,value:e.value,label:e.label,disabled:e.disabled},{default:function(){return[e.label]}})})))?e:{default:function(){return[e]}})]),b.isMonthSelectVisible.value&&(0,o.Wm)("div",{class:p.controlSectionCell.value},[(0,o.Wm)(Di.Ph,(0,o.dG)({autoWidth:!0,modelValue:s.curSelectedMonth,"onUpdate:modelValue":function(e){return s.curSelectedMonth=e},size:s.controlSize},m.configData.value.month.selectProps,{disabled:b.isMonthSelectDisabled.value}),Lh(t=b.monthSelectOptionList.value.map((function(e){return(0,o.Wm)(Di.Wx,{key:e.value,value:e.value,label:e.label,disabled:e.disabled},{default:function(){return[e.label]}})})))?t:{default:function(){return[t]}})]),_.isVisible.value&&(0,o.Wm)("div",{class:p.controlSectionCell.value,style:"height: auto"},[(0,o.Wm)(Es,(0,o.dG)({modelValue:s.curSelectedMode,"onUpdate:modelValue":function(e){return s.curSelectedMode=e},variant:"default-filled",size:s.controlSize},m.configData.value.mode.radioGroupProps,{disabled:_.isDisabled.value,onChange:m.emitControllerChange}),Lh(n=_.optionList.value.map((function(e){return(0,o.Wm)(Ts,{key:e.value,value:e.value},{default:function(){return[e.label]}})})))?n:{default:function(){return[n]}})]),w.isVisible.value&&(0,o.Wm)("div",{class:p.controlSectionCell.value},[(0,o.Wm)(Oh.pn,(0,o.dG)({class:p.controlTag.value,theme:s.isShowWeekend?"default":"primary",size:s.controlSize},w.vBind.value,{disabled:w.isDisabled.value,onClick:function(){s.isShowWeekend=!s.isShowWeekend,m.emitControllerChange()}}),{default:function(){return[w.text.value]}})]),O.isVisible.value&&(0,o.Wm)("div",{class:p.controlSectionCell.value},[(0,o.Wm)(r.z,(0,o.dG)({size:s.controlSize},O.vBind.value,{disabled:O.isDisabled.value,onClick:function(){d()}}),{default:function(){return[O.text.value]}})])])])},x=function(t,n,r){if("function"===typeof e[t]){var i={cell:Nh(Nh({},r),m.options.value),e:n};e[t](i)}},P=function(e,t){s.curDate=(0,Zd.d)(t.date),x("onCellClick",e,t)},E=function(e,t){x("onCellDoubleClick",e,t)},T=function(t,n){e.preventCellContextmenu&&t.preventDefault(),x("onCellRightClick",t,n)},I=(0,o.Fl)((function(){var t=wh(s.curSelectedYear,s.curSelectedMonth,s.realFirstDayOfWeek,s.curDate,e.format);return t})),D=function(){return(0,o.Wm)("table",{class:p.table.value},[(0,o.Wm)("thead",{class:p.tableHead.value},[(0,o.Wm)("tr",{class:p.tableHeadRow.value},[h.value.map((function(t,n){return f(t.num)&&(0,o.Wm)("th",{class:p.tableHeadCell.value},[Array.isArray(e.week)?e.week[n]:i("week",void 0,{defaultNode:(0,o.Wm)("span",null,[t.display]),params:{day:t.num}})])}))])]),(0,o.Wm)("tbody",{class:p.tableBody.value},[I.value.map((function(t,r){return(0,o.Wm)("tr",{class:p.tableBodyRow.value},[t.map((function(t,i){return(s.isShowWeekend||t.day<6)&&(0,o.Wm)(Th,{key:"d-".concat(r,"-").concat(i),item:t,theme:e.theme,t:l,global:u.value,cell:e.cell,fillWithZero:e.fillWithZero,onClick:function(e){return P(e,t)},onDblclick:function(e){return E(e,t)},onRightclick:function(e){return T(e,t)}},Nh({},n))}))])}))])])},j=(0,o.Fl)((function(){for(var t=[],n=_h(s.curSelectedYear,s.curDate,e.format),r=Math.ceil(n.length/vh),i=0,o=1;o<=r;o++){for(var a=[],l=1;l<=vh;l++)a.push(n[i]),i+=1;t.push(a)}return t})),R=function(){return(0,o.Wm)("table",{class:p.table.value},[(0,o.Wm)("tbody",{class:p.tableBody.value},[j.value.map((function(t,r){return(0,o.Wm)("tr",{class:p.tableBodyRow.value},[t.map((function(t,i){return(0,o.Wm)(Th,{key:"m-".concat(r,"-").concat(i),item:t,theme:e.theme,t:l,global:u.value,cell:e.cell,fillWithZero:e.fillWithZero,onClick:function(e){return P(e,t)},onDblclick:function(e){return E(e,t)},onRightclick:function(e){return T(e,t)}},Nh({},n))}))])}))])])};return function(){return(0,o.Wm)("div",{class:p.body.value},[m.visible.value&&C(),(0,o.Wm)("div",{class:p.panel.value},["month"===s.curSelectedMode?D():R()])])}}}),Vh=(0,g.Z)(Wh),Bh={actions:{type:[String,Function]},avatar:{type:[String,Function]},bordered:{type:Boolean,default:!0},content:{type:[String,Function]},cover:{type:[String,Function]},default:{type:[String,Function]},description:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},headerBordered:Boolean,hoverShadow:Boolean,loading:{type:[Boolean,Function],default:!1},shadow:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["medium","small"].includes(e)}},status:{type:String,default:""},subtitle:{type:[String,Function]},theme:{type:String,default:"normal",validator:function(e){return!e||["normal","poster1","poster2"].includes(e)}},title:{type:[String,Function]}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Uh(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Hh=(0,o.aZ)({name:"TCard",props:Bh,setup:function(e,t){var n=t.slots,r=(0,S.sL)(),i=(0,w.ws)("card"),a=(0,w.RH)(),l=a.SIZE,u=(0,o.Fl)((function(){var t=[i.value];return"small"===e.size&&t.push("".concat(l.value[e.size])),e.bordered&&t.push("".concat(i.value,"--bordered")),e.shadow&&t.push("".concat(i.value,"--shadow")),e.hoverShadow&&t.push("".concat(i.value,"--shadow-hover")),t})),c=(0,o.Fl)((function(){var t=["".concat(i.value,"__header")];return e.headerBordered?t.concat("".concat(i.value,"__title--bordered")):["".concat(i.value,"__header")]})),s=(0,w.ws)("card__header-wrapper"),d=(0,w.ws)("card__avatar"),f=(0,w.ws)("card__title"),p=(0,w.ws)("card__subtitle"),v=(0,w.ws)("card__description"),h=(0,w.ws)("card__actions"),m=(0,w.ws)("card__body"),g=(0,w.ws)("card__cover"),y=(0,w.ws)("card__footer"),b=(0,w.ws)("card__footer-wrapper"),_=(0,o.Fl)((function(){return"poster2"===e.theme})),O=(0,o.Fl)((function(){return e.title||n.title})),k=(0,o.Fl)((function(){return e.header||n.header})),C=(0,o.Fl)((function(){return e.subtitle||n.subtitle})),x=(0,o.Fl)((function(){return e.avatar||n.avatar})),P=(0,o.Fl)((function(){return e.description||n.description})),E=(0,o.Fl)((function(){return e.status||n.status})),T=(0,o.Fl)((function(){return e.actions||n.actions})),I=(0,o.Fl)((function(){return e.footer||n.footer})),D=(0,o.Fl)((function(){return e.cover||n.cover})),j=(0,o.Fl)((function(){return e.loading||n.loading})),R=(0,o.Fl)((function(){return e.content||n.content||e["default"]||n["default"]})),A=(0,o.Fl)((function(){return k.value||O.value||C.value||P.value||x.value||E.value&&_.value||T.value&&!_.value})),F=(0,o.Fl)((function(){return I.value||T.value&&_.value})),M=function(){return k.value?(0,o.Wm)("div",{class:c.value},[r("header")]):(0,o.Wm)("div",{class:c.value},[(0,o.Wm)("div",{class:s.value},[x.value&&(0,o.Wm)("div",{class:d.value},[r("avatar")]),(0,o.Wm)("div",null,[O.value&&(0,o.Wm)("span",{class:f.value},[r("title")]),C.value&&(0,o.Wm)("span",{class:p.value},[r("subtitle")]),P.value&&(0,o.Wm)("p",{class:v.value},[r("description")])])]),T.value&&!_.value&&(0,o.Wm)("div",{class:h.value},[r("actions")]),E.value&&(0,o.Wm)("div",{class:h.value},[r("status")])])},N=function(){var t="string"===typeof e.cover;return(0,o.Wm)("div",{class:g.value},[t?(0,o.Wm)("img",{src:e.cover},null):r("cover")])};return function(){var e=(0,o.Wm)("div",{class:u.value},[A.value?M():null,D.value?N():null,R.value&&(0,o.Wm)("div",{class:m.value},[r("default")||r("content")]),F.value&&(0,o.Wm)("div",{class:y.value},[(0,o.Wm)("div",{class:b.value},[r("footer")]),T.value&&_.value&&(0,o.Wm)("div",{class:h.value},[r("actions")])])]);return j.value?r("loading")||(0,o.Wm)(So.gb,null,Uh(e)?e:{default:function(){return[e]}}):e}}}),zh=(0,g.Z)(Hh),Zh={actions:{type:Array},author:{type:[String,Function]},avatar:{type:[String,Object,Function]},content:{type:[String,Function]},datetime:{type:[String,Function]},quote:{type:[String,Function]},reply:{type:[String,Function]}},Kh=(0,o.aZ)({name:"TComment",props:Zh,setup:function(){var e=(0,w.ws)("comment"),t=(0,S.sL)();return function(){var n=t("reply"),r=t("author"),i=t("datetime"),a=t("quote"),l=t("actions"),u=t("content"),c=t("avatar"),s=(0,o.Fl)((function(){return r||i})),d=n?(0,o.Wm)("div",{class:"".concat(e.value,"__reply")},[n]):null,f=a?(0,o.Wm)("div",{class:"".concat(e.value,"__quote")},[a]):null,p=c?(0,o.Wm)("div",{class:"".concat(e.value,"__avatar")},["string"===typeof c?(0,o.Wm)("img",{src:c,alt:"",class:"".concat(e.value,"__avatar-image")},null):c]):null,v=s.value&&(0,o.Wm)("div",{class:"".concat(e.value,"__author")},[r&&(0,o.Wm)("span",{class:"".concat(e.value,"__name")},[r]),i&&(0,o.Wm)("span",{class:"".concat(e.value,"__time")},[i])]),h=function(){return l&&l.length?(0,o.Wm)("ul",{class:"".concat(e.value,"__actions")},[(Array.isArray(l)?l:[l]).map((function(e,t){return(0,o.Wm)("li",{key:"action-".concat(t)},[e])}))]):null},m=(0,o.Wm)("div",{class:"".concat(e.value,"__content")},[v,(0,o.Wm)("div",{class:"".concat(e.value,"__detail")},[u]),f,h()]);return(0,o.Wm)("div",{class:e.value},[(0,o.Wm)("div",{class:"".concat(e.value,"__inner")},[p,m]),d])}}}),Yh=(0,g.Z)(Kh),Gh={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return["horizontal","vertical"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function},$h="load-more",Jh="loading";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qh=(0,o.aZ)({name:"TList",props:Xh({},Gh),setup:function(e){var t=(0,k.Z)("list"),n=t.globalConfig,r=(0,w.ws)("list"),i=(0,w.RH)(),a=i.SIZE,l=(0,S.sL)(),u=(0,o.Fl)((function(){var t;return["".concat(r.value),a.value[e.size],(t={},(0,_._)(t,"".concat(r.value,"--split"),e.split),(0,_._)(t,"".concat(r.value,"--stripe"),e.stripe),(0,_._)(t,"".concat(r.value,"--vertical-action"),"vertical"===e.layout),t)]})),c=function(){var e=l("header"),t=l("footer");return[e&&(0,o.Wm)("div",{class:"".concat(r.value,"__header")},[e]),(0,o.Wm)("ul",{class:"".concat(r.value,"__inner")},[l("default")]),t&&(0,o.Wm)("div",{class:"".concat(r.value,"__footer")},[t])]},s=function(t){var n,r=t.target,i=r.scrollTop,o=r.scrollHeight,a=r.clientHeight;null===(n=e.onScroll)||void 0===n||n.call(e,{e:t,scrollTop:i,scrollBottom:o-a-i})},d=(0,o.Fl)((function(){return"string"===typeof e.asyncLoading&&["loading","load-more"].includes(e.asyncLoading)?"".concat(r.value,"__load ").concat(r.value,"__load--").concat(e.asyncLoading):"".concat(r.value,"__load")})),f=function(){if(e.asyncLoading&&"string"===typeof e.asyncLoading){if(e.asyncLoading===Jh)return(0,o.Wm)("div",null,[(0,o.Wm)(So.gb,null,null),(0,o.Wm)("span",null,[n.value.loadingText])]);if(e.asyncLoading===$h)return(0,o.Wm)("span",null,[n.value.loadingMoreText])}return l("asyncLoading")},p=function(t){var n;"string"===typeof e.asyncLoading&&e.asyncLoading!==$h||null===(n=e.onLoadMore)||void 0===n||n.call(e,{e:t})};return{COMPONENT_NAME:r,listClass:u,loadingClass:d,renderLoading:f,renderContent:c,handleScroll:s,handleLoadMore:p}},render:function(){var e=this.renderContent();return e=[e,(0,o.Wm)("div",{class:this.loadingClass,onClick:this.handleLoadMore},[this.renderLoading()])],(0,o.Wm)("div",{class:this.listClass,onScroll:this.handleScroll},[e])}}),em=(0,o.aZ)({name:"TListItem",props:Gh,setup:function(){var e=(0,w.ws)("list-item"),t=(0,S.sL)();return function(){var n=t("content"),r=t("default"),i=t("action");return(0,o.Wm)("li",{class:e.value},[(0,o.Wm)("div",{class:"".concat(e.value,"-main")},[r||n,i&&(0,o.Wm)("li",{class:"".concat(e.value,"__action")},[i])])])}}}),tm={avatar:{type:[String,Function]},description:{type:[String,Function]},image:{type:[String,Function]},title:{type:[String,Function]}},nm=(0,o.aZ)({name:"TListItemMeta",props:tm,setup:function(e,t){var n=(0,w.ws)("list-item__meta"),r=(0,S.r0)(),i=(0,S.sL)(),a=function(){(e.avatar||t.slots.avatar)&&console.warn("`avatar` is going to be deprecated, please use `image` instead");var i=r("avatar","image");if(i)return"string"===typeof i?(0,o.Wm)("div",{class:"".concat(n.value,"-avatar")},[(0,o.Wm)("img",{src:i},null)]):(0,o.Wm)("div",{class:"".concat(n.value,"-avatar")},[i])};return function(){var e=i("title"),t=i("description"),r=[a(),(0,o.Wm)("div",{class:"".concat(n.value,"-content")},[e&&(0,o.Wm)("h3",{class:"".concat(n.value,"-title")},[e]),t&&(0,o.Wm)("p",{class:"".concat(n.value,"-description")},[t])])];return(0,o.Wm)("div",{class:n.value},[r])}}}),rm=(0,g.Z)(Qh),im=(0,g.Z)(em),om=(0,g.Z)(nm);function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?am(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var um={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 2h-1v9h1V2zm.1 10.8H7.4V14h1.2v-1.2z",fillOpacity:.9}}]},cm=(0,o.aZ)({name:"ErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-error",i.value])),c=(0,o.Fl)((()=>lm(lm({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(um,s.value)}}),sm={LINE:"line",PLUMP:"plump",CIRCLE:"circle"},dm={SMALL:"small",MEDIUM:"medium",LARGE:"large"},fm={SMALL:72,MEDIUM:112,LARGE:160},pm={SMALL:14/fm.SMALL,MEDIUM:20/fm.MEDIUM,LARGE:36/fm.LARGE},vm=["success","error","warning"],hm={color:{type:[String,Object,Array],default:""},label:{type:[String,Boolean,Function],default:!0},percentage:{type:Number,default:0},size:{type:[String,Number],default:"medium"},status:{type:String,validator:function(e){return["success","error","warning","active"].includes(e)}},strokeWidth:{type:[String,Number]},theme:{type:String,default:"line",validator:function(e){return["line","plump","circle"].includes(e)}},trackColor:{type:String,default:""}},mm=(0,o.aZ)({name:"TProgress",props:hm,setup:function(e){var t=(0,S.sL)(),n=(0,w.ws)("progress"),r=(0,it.J)({CloseCircleFilledIcon:pu.Z,CheckCircleFilledIcon:fu.Z,ErrorCircleFilledIcon:vu.Z,CloseIcon:Cn.Z,CheckIcon:eo,ErrorIcon:cm}),i=r.CloseCircleFilledIcon,a=r.CheckCircleFilledIcon,l=r.ErrorCircleFilledIcon,u=r.CloseIcon,c=r.CheckIcon,s=r.ErrorIcon,d=(0,o.Fl)((function(){return e.percentage>=100?"success":e.status||"default"})),f=(0,o.Fl)((function(){var t={};if(e.strokeWidth){var n="string"===typeof e.strokeWidth?e.strokeWidth:"".concat(e.strokeWidth,"px");t.height=n,t.borderRadius=n}return e.trackColor&&(t.backgroundColor=e.trackColor),t})),p=(0,o.Fl)((function(){return{width:"".concat(e.percentage,"%"),background:e.color&&(0,Mt.dF)(e.color)}})),v=(0,o.Fl)((function(){var t="object"===(0,Ce._)(e.color)?"":e.color;return{stroke:t}})),h=(0,o.Fl)((function(){var t=fm.MEDIUM;if(!e.size)return t;var n=dm.SMALL,r=dm.LARGE,i=dm.MEDIUM;switch(e.size){case n:t=fm.SMALL;break;case i:t=fm.MEDIUM;break;case r:t=fm.LARGE;break;default:t=Number(e.size);break}return t})),m=(0,o.Fl)((function(){return h.value/2})),g=(0,o.Fl)((function(){return m.value-b.value/2})),y=(0,o.Fl)((function(){if(e.theme!==sm.CIRCLE)return{};var t=h.value*pm.MEDIUM;return h.value<=fm.SMALL?t=h.value*pm.SMALL:h.value>=fm.LARGE&&(t=h.value*pm.LARGE),{width:"".concat(h.value,"px"),height:"".concat(h.value,"px"),fontSize:"".concat(t,"px")}})),b=(0,o.Fl)((function(){var t=e.size===dm.SMALL?4:6;return e.strokeWidth?Number(e.strokeWidth):t})),O=(0,o.Fl)((function(){var t=(h.value-b.value)/2,n=2*Math.PI*t,r=e.percentage/100;return"".concat(n*r,"  ").concat(n*(1-r))})),k=function(){var t={success:c,warning:s,error:u},n={success:a,warning:l,error:i};return e.theme===sm.CIRCLE?t:n},C=function(){var t="".concat(e.percentage,"%"),r=e.status||"";if(vm.includes(r)&&e.theme!==sm.PLUMP){var i=k(),a=i[r];a&&(t=(0,o.Wm)(a,{class:["".concat(n.value,"__icon")]},null))}return t};return function(){var r=(0,o.Wm)("div",{class:"".concat(n.value,"__info")},[t("label",C())]),i=10,a=e.percentage>i?"".concat(n.value,"--over-ten"):"".concat(n.value,"--under-ten");return(0,o.Wm)("div",{class:n.value},[e.theme===sm.LINE&&(0,o.Wm)("div",{class:"".concat(n.value,"--thin ").concat(n.value,"--status--").concat(d.value)},[(0,o.Wm)("div",{class:"".concat(n.value,"__bar"),style:f.value},[(0,o.Wm)("div",{class:"".concat(n.value,"__inner"),style:p.value},null)]),r]),e.theme===sm.PLUMP&&(0,o.Wm)("div",{class:["".concat(n.value,"__bar ").concat(n.value,"--plump ").concat(a),(0,_._)({},"".concat(n.value,"--status--").concat(d.value),d.value)],style:f.value},[(0,o.Wm)("div",{class:"".concat(n.value,"__inner"),style:p.value},[e.percentage>i&&r]),e.percentage<=i&&r]),e.theme===sm.CIRCLE&&(0,o.Wm)("div",{class:"".concat(n.value,"--circle ").concat(n.value,"--status--").concat(d.value),style:y.value},[r,(0,o.Wm)("svg",{width:h.value,height:h.value,viewBox:"0 0 ".concat(h.value," ").concat(h.value)},[(0,o.Wm)("circle",{cx:m.value,cy:m.value,r:g.value,"stroke-width":b.value,stroke:e.trackColor,fill:"none",class:["".concat(n.value,"__circle-outer")]},null),e.percentage>0&&(0,o.Wm)("circle",{cx:m.value,cy:m.value,r:g.value,"stroke-width":b.value,fill:"none","stroke-linecap":"round",class:["".concat(n.value,"__circle-inner")],transform:"matrix(0,-1,1,0,0,".concat(h.value,")"),"stroke-dasharray":O.value,style:v.value},null)])])])}}}),gm=(0,g.Z)(mm),ym={animation:{type:String,default:"none",validator:function(e){return!e||["gradient","flashed","none"].includes(e)}},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array},theme:{type:String,validator:function(e){return!e||["text","avatar","paragraph","avatar-text","tab","article"].includes(e)}}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wm={text:[1],avatar:[{type:"circle",size:"56px"}],paragraph:[1,1,{width:"70%"}],"avatar-text":[[{type:"circle"},{type:"text",height:"32px"}]],tab:[{height:"30px"},{height:"200px"}],article:[{type:"rect",height:"30px",width:"100%"},{type:"rect",height:"200px",width:"100%"},[{type:"text",height:"30px"},{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}]]},Sm=function(e){var t=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor"],n=Object.create(null);return t.forEach((function(t){if(t in e){var r=_r(e[t])?"".concat(e[t],"px"):e[t];if("size"===t){var i=[r,r];n.width=i[0],n.height=i[1]}else n[t]=r}})),n},Om=(0,o.aZ)({name:"TSkeleton",props:_m({},ym),setup:function(e,t){var n=t.slots,r=(0,T.iH)(!1),i=(0,w.ws)("skeleton"),a=(0,S.r0)(),l=function(t){return["".concat(i.value,"__col"),"".concat(i.value,"--type-").concat(t.type||"text"),(0,_._)({},"".concat(i.value,"--animation-").concat(e.animation),e.animation)]},u=function(e){var t=[];return t=Array.isArray(e)?e:_r(e)?new Array(e).fill({type:"text"}):[e],t.map((function(e){return(0,o.Wm)("div",{class:l(e),style:Sm(e)},[(0,Re.i)(e.content)?e.content(o.h):e.content])}))},c=function(t){var n=t||e.rowCol,r=function(){return["".concat(i.value,"__row")]};return n.map((function(e){return(0,o.Wm)("div",{class:r()},[u(e)])}))};return(0,o.YP)((function(){return e.loading}),(function(t){t&&0!==e.delay?setTimeout((function(){r.value=t}),e.delay):r.value=t}),{immediate:!0}),function(){var t=a("default","content");if(n["default"]&&!r.value)return(0,o.Wm)("div",null,[t]);if(r.value){var l=[];return e.theme&&l.push(c(wm[e.theme])),e.rowCol&&l.push(c(e.rowCol)),e.theme||e.rowCol||l.push(c([1,1,1,{width:"70%"}])),(0,o.Wm)("div",{class:i.value},[l])}}}}),km=(0,g.Z)(Om),Cm={animation:{type:String,default:"slide",validator:function(e){return!e||["slide","fade"].includes(e)}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},stopOnHover:{type:Boolean,default:!0},theme:{type:String,default:"light",validator:function(e){return!e||["light","dark"].includes(e)}},trigger:{type:String,default:"hover",validator:function(e){return!e||["hover","click"].includes(e)}},type:{type:String,default:"default",validator:function(e){return!e||["default","card"].includes(e)}},onChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Em={index:{type:Number},currentIndex:{type:Number},isSwitching:{type:Boolean,default:!1},getWrapAttribute:{type:Function},swiperItemLength:{type:Number,default:0}},Tm=210/332,Im=.415,Dm=(0,o.aZ)({name:"TSwiperItem",props:Pm(Pm({},Cm),Em),setup:function(e,t){var n=t.slots,r=(0,w.ws)(),i=(0,o.Fl)((function(){return e.index===e.currentIndex})),a=(0,o.Fl)((function(){return"card"!==e.type?0:0===e.currentIndex&&e.index===e.swiperItemLength-1?-1:e.currentIndex===e.swiperItemLength-1&&0===e.index?e.swiperItemLength:e.index<e.currentIndex-1&&e.currentIndex-e.index>=e.swiperItemLength/2?e.swiperItemLength+1:e.index>e.currentIndex+1&&e.index-e.currentIndex>=e.swiperItemLength/2?-2:e.index})),l=(0,o.Fl)((function(){if("card"!==e.type)return 0;var t=e.getWrapAttribute("offsetWidth")||0,n=!i.value&&e.swiperItemLength>2?a.value:e.index,r=Math.abs(n-e.currentIndex)<=1;return r?t*((n-e.currentIndex)*(1-Im*Tm)-Im+1)/2:n<e.currentIndex?-Im*(1+Tm)*t/2:(2+Im*(Tm-1))*t/2})),u=(0,o.Fl)((function(){if("card"!==e.type)return 0;var t=!i.value&&e.swiperItemLength>2?a.value:e.index,n=t===e.currentIndex,r=Math.round(Math.abs(t-e.currentIndex))<=1;return n?2:r?1:0})),c=(0,o.Fl)((function(){if("fade"===e.animation)return{opacity:i.value?1:0,transition:e.isSwitching?"opacity ".concat(e.duration/1e3,"s"):""};if("card"===e.type){var t=!i.value&&e.swiperItemLength>2?a.value:e.index,n=t===e.currentIndex;return{transform:"translateX(".concat(l.value,"px) scale(").concat(n?1:Tm,")"),transition:"transform ".concat(e.duration/1e3,"s ease"),zIndex:u.value}}return{}}));return function(){var t,a;return(0,o.Wm)("div",{class:["".concat(r.value,"-swiper__container__item"),(t={},(0,_._)(t,"".concat(r.value,"-swiper__card"),"card"===e.type),(0,_._)(t,"".concat(r.value,"-is-active"),"card"===e.type&&i.value),(0,_._)(t,"".concat(r.value,"-swiper__fade"),"fade"===e.animation),t)],style:c.value},[(null===(a=n["default"])||void 0===a?void 0:a.call(n,{}))||[]])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Am(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Fm={placement:"inside",showSlideBtn:"always",size:"medium",type:"bars"},Mm=(0,o.aZ)({name:"TSwiper",props:Rm({},Cm),setup:function(e){var t=(0,w.ws)(),n=(0,it.J)({ChevronLeftIcon:gn.Z,ChevronRightIcon:st.Z}),r=n.ChevronLeftIcon,i=n.ChevronRightIcon,a=0,l=0,u=!1,c=!1,s=(0,T.iH)(e.current||e.defaultCurrent),d=(0,T.iH)(!1),f=(0,T.iH)(!1),p=(0,T.iH)(!1),v=(0,T.iH)(),h=(0,_e.N)(),m=(0,T.iH)(0),g=(0,o.Fl)((function(){return Rm(Rm({},Fm),(0,o.lA)(e.navigation)?{}:e.navigation)})),y=(0,o.Fl)((function(){return"card"===e.type?!e.loop&&s.value+1>=m.value:!e.loop&&s.value+2>=m.value})),b=(0,o.Fl)((function(){return[e.autoplay,s.value,e.duration,e.interval]})),S=(0,o.Fl)((function(){var n;return n={},(0,_._)(n,"".concat(t.value,"-swiper__wrap"),!0),(0,_._)(n,"".concat(t.value,"-swiper--inside"),"inside"===g.value.placement),(0,_._)(n,"".concat(t.value,"-swiper--outside"),"outside"===g.value.placement),(0,_._)(n,"".concat(t.value,"-swiper--vertical"),"vertical"===e.direction),(0,_._)(n,"".concat(t.value,"-swiper--large"),"large"===g.value.size),(0,_._)(n,"".concat(t.value,"-swiper--small"),"small"===g.value.size),n})),O=(0,o.Fl)((function(){var t=e.height?"".concat(e.height,"px"):"".concat(F("offsetHeight"),"px");if("card"===e.type||"fade"===e.animation)return{height:t};if("slide"===e.animation){var n={transition:f.value?"transform ".concat(e.duration/1e3,"s ease"):""},r=s.value;return m.value>1&&(r+=1,(u||c)&&(n.transition="")),"vertical"===e.direction?(n.height=t,n.transform="translate3d(0, -".concat(100*r,"%, 0px)")):n.transform="translate3d(-".concat(100*r,"%, 0px, 0px)"),["msTransform","WebkitTransform"].forEach((function(e){n[e]=n.transform})),n}return{}})),k=function(){var t=h("SwiperItem");m.value=t.length;var n=t.map((function(t,n){var r,i=Rm(Rm({},e),t.props);return(0,o.Wm)(Dm,(0,o.dG)({index:n,currentIndex:s.value,isSwitching:f.value,getWrapAttribute:F,swiperItemLength:m.value},i),Am(r=t.children["default"]())?r:{default:function(){return[r]}})}));if("slide"===e.animation&&n.length>1){var r=(0,o.Ho)(n[0],{key:"swiper-item-append"}),i=(0,o.Ho)(n[n.length-1],{key:"swiper-item-prepend"});n.unshift(i),n.push(r)}return n},C=function(t,n){var r,i=t%m.value;null===(r=e.onChange)||void 0===r||r.call(e,i,n),f.value=!0,"slide"===e.animation&&m.value>1&&(i=t,u=!1,c=!1,t>=m.value&&(x(),setTimeout((function(){c=!0,s.value=0}),e.duration)),0===s.value&&(m.value>2&&1!==t||2===m.value&&0===t)&&(i=-1,x(),setTimeout((function(){u=!0,s.value=m.value-1}),e.duration))),s.value=i},x=function(){a&&(clearTimeout(a),a=0)},P=function(){e.autoplay&&e.interval>0&&(x(),a=setTimeout((function(){C(s.value+1,{source:"autoplay"})}),0===s.value?e.interval-(e.duration+50):e.interval))},E=function(){d.value=!0,e.stopOnHover&&x(),"hover"===g.value.showSlideBtn&&(p.value=!0)},I=function(){d.value=!1,y.value||P(),"hover"===g.value.showSlideBtn&&(p.value=!1)},D=function(e){C(e,{source:"hover"})},j=function(e){C(e,{source:"click"})},R=function(t){if(!f.value)return"card"===e.type?C(s.value+1>=m.value?0:s.value+1,t):C(s.value+1,t)},A=function(t){if(!f.value)return s.value-1<0?"slide"===e.animation&&2===m.value?C(0,t):C(m.value-1,t):C(s.value-1,t)},F=function(e){var t,n;return null===(t=v.value)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n[e]},M=function(){var e=s.value+1>m.value?1:s.value+1;return(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__arrow")},[(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-left"),onClick:function(){return A({source:"click"})}},[(0,o.Wm)(r,null,null)]),(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__navigation-text-fraction")},[e,"/",m.value]),(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-right"),onClick:function(){return R({source:"click"})}},[(0,o.Wm)(i,null,null)])])},N=function(){return p.value?(0,o.Wm)("div",{class:["".concat(t.value,"-swiper__arrow"),"".concat(t.value,"-swiper__arrow--default")]},[(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-left"),onClick:function(){return A({source:"click"})}},[(0,o.Wm)(r,null,null)]),(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__arrow-right"),onClick:function(){return R({source:"click"})}},[(0,o.Wm)(i,null,null)])]):null},L=function(){var n;if((0,o.lA)(e.navigation))return e.navigation;if("fraction"===g.value.type)return(0,o.Wm)("div",{class:["".concat(t.value,"-swiper__navigation"),"".concat(t.value,"-swiper__navigation--fraction")]},[M()]);var r=h("SwiperItem");return(0,o.Wm)("ul",{class:["".concat(t.value,"-swiper__navigation"),(n={},(0,_._)(n,"".concat(t.value,"-swiper__navigation-bars"),"bars"===g.value.type),(0,_._)(n,"".concat(t.value,"-swiper__navigation-dots"),"dots"===g.value.type),(0,_._)(n,"".concat(t.value,"-swiper__navigation-dots-bar"),"dots-bar"===g.value.type),n)]},[r.map((function(e,n){return(0,o.Wm)("li",{key:n,class:["".concat(t.value,"-swiper__navigation-item"),(0,_._)({},"".concat(t.value,"-is-active"),n===s.value)],onMouseenter:function(){return D(n)},onClick:function(){return j(n)}},[(0,o.Wm)("span",null,null)])}))])},W=function(){return k()};return(0,o.YP)((function(){return b.value}),(function(){P()})),(0,o.YP)((function(){return f.value}),(function(){f.value&&(l&&clearTimeout(l),l=setTimeout((function(){f.value=!1,l=0,y.value&&x()}),e.duration+50))})),(0,o.YP)((function(){return e.current}),(function(){C(e.current,{source:"autoplay"})})),(0,o.bv)((function(){P(),p.value="always"===g.value.showSlideBtn})),function(){var n;return(0,o.Wm)("div",{class:["".concat(t.value,"-swiper")],onMouseenter:E,onMouseLeave:I,ref:v},[(0,o.Wm)("div",{class:S.value},[(0,o.Wm)("div",{class:["".concat(t.value,"-swiper__content"),(n={},(0,_._)(n,"".concat(t.value,"-swiper-fade"),"fade"===e.animation),(0,_._)(n,"".concat(t.value,"-swiper-card"),"card"===e.type),n)]},[(0,o.Wm)("div",{class:"".concat(t.value,"-swiper__container"),style:O.value},[W()])]),L(),N()])])}}}),Nm=(0,g.Z)(Mm),Lm=(0,g.Z)(Dm),Wm={allowResizeColumnWidth:{type:Boolean,default:void 0},bordered:Boolean,bottomContent:{type:[String,Function]},cellEmptyContent:{type:[String,Function]},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},disableDataPage:Boolean,empty:{type:[String,Function],default:""},firstFullRow:{type:[String,Function]},fixedRows:{type:Array},footData:{type:Array,default:function(){return[]}},footerAffixProps:{type:Object},footerAffixedBottom:{type:[Boolean,Object],default:!1},footerSummary:{type:[String,Function]},headerAffixProps:{type:Object},headerAffixedTop:{type:[Boolean,Object],default:!1},height:{type:[String,Number]},horizontalScrollAffixedBottom:{type:[Boolean,Object]},hover:Boolean,lastFullRow:{type:[String,Function]},loading:{type:[Boolean,Function],default:void 0},loadingProps:{type:Object},maxHeight:{type:[String,Number]},pagination:{type:Object},paginationAffixedBottom:{type:[Boolean,Object]},resizable:Boolean,rowAttributes:{type:[Object,Array,Function]},rowClassName:{type:[String,Object,Array,Function]},rowKey:{type:String,default:"id",required:!0},rowspanAndColspan:{type:Function},rowspanAndColspanInFooter:{type:Function},scroll:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},stripe:Boolean,tableContentWidth:{type:String,default:""},tableLayout:{type:String,default:"fixed",validator:function(e){return!e||["auto","fixed"].includes(e)}},topContent:{type:[String,Function]},verticalAlign:{type:String,default:"middle",validator:function(e){return!e||["top","middle","bottom"].includes(e)}},onCellClick:Function,onPageChange:Function,onRowClick:Function,onRowDblclick:Function,onRowMousedown:Function,onRowMouseenter:Function,onRowMouseleave:Function,onRowMouseover:Function,onRowMouseup:Function,onScroll:Function,onScrollX:Function,onScrollY:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Vm(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n,i=0,o=e.length;i<o;i++){var a,l=e[i];if(t.set(l,n),null!==l&&void 0!==l&&null!==(a=l.children)&&void 0!==a&&a.length){var u=Vm(l.children,t,n+1);u>r&&(r=u)}}return r}function Bm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,r=(null===e||void 0===e?void 0:e.children)||[],i=0,o=r.length;i<o;i++){var a=r[i];a.children?n=Bm(a,n):n+=1}return n}function Um(e){var t=new Map,n=Vm(e,t),r=new Map,i=function e(i,o){for(var a=0,l=i.length;a<l;a++){var u,c=i[a],s=c.children?1:n-t.get(c)+1,d=c.children?Bm(c):1,f={};s>1&&(f.rowspan=s),d>1&&(f.colspan=d),r.set(c,f),null!==c&&void 0!==c&&null!==(u=c.children)&&void 0!==u&&u.length?e(c.children,o):o.push(c)}},o=[];return i(e,o),{rowspanAndColspanMap:r,leafColumns:o}}function Hm(e){var t=function e(t,n){for(var r,i=[],o=[],a=0,l=t.length;a<l;a++){var u,c=t[a],s=[c];i=i.concat(s),null!==c&&void 0!==c&&null!==(u=c.children)&&void 0!==u&&u.length&&(o=o.concat(c.children))}return null!==(r=o)&&void 0!==r&&r.length&&e(o,n),n.push(i),i},n=[];return t(e,n),n=n.reverse(),n}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function zm(){var e=(0,w.ws)(),t={tableBaseClass:{table:"".concat(e.value,"-table"),columnResizableTable:"".concat(e.value,"-table--column-resizable"),overflowVisible:"".concat(e.value,"-table--overflow-visible"),body:"".concat(e.value,"-table__body"),content:"".concat(e.value,"-table__content"),topContent:"".concat(e.value,"-table__top-content"),bottomContent:"".concat(e.value,"-table__bottom-content"),paginationWrap:"".concat(e.value,"-table__pagination-wrap"),tdLastRow:"".concat(e.value,"-table__td-last-row"),tdFirstCol:"".concat(e.value,"-table__td-first-col"),thCellInner:"".concat(e.value,"-table__th-cell-inner"),tableRowEdit:"".concat(e.value,"-table--row-edit"),cellEditable:"".concat(e.value,"-table__cell--editable"),cellEditWrap:"".concat(e.value,"-table__cell-wrap"),bordered:"".concat(e.value,"-table--bordered"),striped:"".concat(e.value,"-table--striped"),hover:"".concat(e.value,"-table--hoverable"),loading:"".concat(e.value,"-table--loading"),rowspanAndColspan:"".concat(e.value,"-table--rowspan-colspan"),empty:"".concat(e.value,"-table__empty"),emptyRow:"".concat(e.value,"-table__empty-row"),headerFixed:"".concat(e.value,"-table--header-fixed"),columnFixed:"".concat(e.value,"-table--column-fixed"),widthOverflow:"".concat(e.value,"-table--width-overflow"),multipleHeader:"".concat(e.value,"-table--multiple-header"),footerAffixed:"".concat(e.value,"-table--footer-affixed"),horizontalBarAffixed:"".concat(e.value,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(e.value,"-table--affixed-header"),affixedHeaderElm:"".concat(e.value,"-table__affixed-header-elm"),affixedFooterElm:"".concat(e.value,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(e.value,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(e.value,"-table__scroll-bar-divider"),fullHeight:"".concat(e.value,"-table--full-height"),resizeLine:"".concat(e.value,"-table__resize-line"),obviousScrollbar:"".concat(e.value,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(e.value,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(e.value,"-align-left"),right:"".concat(e.value,"-align-right"),center:"".concat(e.value,"-align-center")},tableHeaderClasses:{header:"".concat(e.value,"-table__header"),thBordered:"".concat(e.value,"-table__header-th--bordered"),fixed:"".concat(e.value,"-table__header--fixed"),multipleHeader:"".concat(e.value,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(e.value,"-table__footer"),fixed:"".concat(e.value,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(e.value,"-vertical-align-top"),middle:"".concat(e.value,"-vertical-align-middle"),bottom:"".concat(e.value,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(e.value,"-table__row--fixed-top"),bottom:"".concat(e.value,"-table__row--fixed-bottom"),firstBottom:"".concat(e.value,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(e.value,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(e.value,"-table__cell--fixed-left"),right:"".concat(e.value,"-table__cell--fixed-right"),lastLeft:"".concat(e.value,"-table__cell--fixed-left-last"),firstRight:"".concat(e.value,"-table__cell--fixed-right-first"),leftShadow:"".concat(e.value,"-table__content--scrollable-to-left"),rightShadow:"".concat(e.value,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(e.value,"-table--layout-auto"),fixed:"".concat(e.value,"-table--layout-fixed")},tdEllipsisClass:"".concat(e.value,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(e.value,"-table__row--full"),innerFullRow:"".concat(e.value,"-table__row-full-inner"),innerFullElement:"".concat(e.value,"-table__row-full-element"),firstFullRow:"".concat(e.value,"-table__first-full-row"),lastFullRow:"".concat(e.value,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(e.value,"-table__expand-box"),iconCell:"".concat(e.value,"-table__expandable-icon-cell"),row:"".concat(e.value,"-table__expanded-row"),rowInner:"".concat(e.value,"-table__expanded-row-inner"),expanded:"".concat(e.value,"-table__row--expanded"),collapsed:"".concat(e.value,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(e.value,"-table__cell--sortable"),title:"".concat(e.value,"-table__cell--title"),trigger:"".concat(e.value,"-table__cell--sort-trigger"),doubleIcon:"".concat(e.value,"-table__double-icons"),sortIcon:"".concat(e.value,"-table__sort-icon"),iconDirection:{asc:"".concat(e.value,"-table-sort-asc"),desc:"".concat(e.value,"-table-sort-desc")},iconActive:"".concat(e.value,"-table__sort-icon--active"),iconDefault:"".concat(e.value,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(e.value,"-table__row--selected"),disabled:"".concat(e.value,"-table__row--disabled"),checkCell:"".concat(e.value,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(e.value,"-table__cell--filterable"),popup:"".concat(e.value,"-table__filter-pop"),icon:"".concat(e.value,"-table__filter-icon"),popupContent:"".concat(e.value,"-table__filter-pop-content"),result:"".concat(e.value,"-table__filter-result"),inner:"".concat(e.value,"-table__row-filter-inner"),bottomButtons:"".concat(e.value,"-table__filter--bottom-buttons"),contentInner:"".concat(e.value,"-table__filter-pop-content-inner"),iconWrap:"".concat(e.value,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(e.value,"-table__async-loading"),isFocusClass:"".concat(e.value,"-is-focus"),isLoadingClass:"".concat(e.value,"-is-loading"),isLoadMoreClass:"".concat(e.value,"-is-load-more"),tableTreeClasses:{col:"".concat(e.value,"-table__tree-col"),inlineCol:"".concat(e.value,"-table__tree-col--inline"),icon:"".concat(e.value,"-table__tree-op-icon")},tableDraggableClasses:{rowDraggable:"".concat(e.value,"-table--row-draggable"),rowHandlerDraggable:"".concat(e.value,"-table--row-handler-draggable"),colDraggable:"".concat(e.value,"-table--col-draggable"),handle:"".concat(e.value,"-table__handle-draggable"),ghost:"".concat(e.value,"-table__ele--draggable-ghost"),chosen:"".concat(e.value,"-table__ele--draggable-chosen"),dragging:"".concat(e.value,"-table__ele--draggable-dragging")},virtualScrollClasses:{cursor:"".concat(e.value,"-table__virtual-scroll-cursor"),header:"".concat(e.value,"-table__virtual-scroll-header")},positiveRotate90:"".concat(e.value,"-positive-rotate-90"),negativeRotate180:"".concat(e.value,"-negative-rotate-180")};return t}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ym(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Gm=(0,o.aZ)({name:"TEllipsis",props:{content:{type:[String,Function]},default:{type:[String,Function]},tooltipContent:{type:[String,Number,Function]},placement:String,attach:Function,tooltipProps:Object,zIndex:Number},setup:function(){var e=(0,k.Z)(),t=e.classPrefix,n=(0,T.iH)(),r=(0,T.iH)(!1),i=(0,o.Fl)((function(){return["".concat(t.value,"-table__ellipsis"),"".concat(t.value,"-text-ellipsis")]})),a=function(){n.value&&(r.value=(0,F.f9)(n.value))},l=function(){r.value=(0,F.f9)(n.value)},u=(0,mn.d)((function(e){"mouseleave"===e.type?l():a()}),80);return{root:n,isOverflow:r,ellipsisClasses:i,onMouseAround:u}},render:function(){var e=(0,Gt.r)(this,"default","content"),t=(0,o.Wm)("div",{ref:"root",class:this.ellipsisClasses,onMouseenter:this.onMouseAround,onMouseleave:this.onMouseAround},[e]),n=null;if(this.isOverflow){var r=Km({content:this.tooltipContent||function(){return e},destroyOnClose:!0,zIndex:this.zIndex,attach:this.attach,placement:this.placement},this.tooltipProps);n=(0,o.Wm)(wt,r,Ym(t)?t:{default:function(){return[t]}})}else n=t;return n}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qm(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}function Xm(e,t,n){var r={col:t,colIndex:n};return(0,Re.i)(t.title)?t.title(o.h,r):(0,Jr.i)(t.title)&&e[t.title]?e[t.title](r):(0,Re.i)(t.render)&&t.render(o.h,Jm(Jm({},r),{},{type:"title",row:{},rowIndex:-1}))||t.title}function Qm(e){var t=zm(),n=t.tableSortClasses,r=t.tableFilterClasses,i=(0,o.Fl)((function(){return Um(e.columns)})),a=(0,o.Fl)((function(){return Hm(e.columns)})),l=(0,o.Fl)((function(){return a.value.length>1})),u=function(e,t,i,a,l){var u,c=(0,ft._)(e,3),s=c[0],d=c[1],f=c[2],p=(u={},(0,_._)(u,n.sortable,d),(0,_._)(u,r.filterable,f),u),v=(0,Re.i)(a)?a(o.h,{col:t,colIndex:i}):void 0;return(0,o.Wm)("div",{class:p},[(0,o.Wm)("div",{class:n.title},[t.ellipsis&&!1!==a&&null!==a?(0,o.Wm)(Gm,{placement:"bottom-right",attach:l?function(){return l}:void 0,tooltipContent:v&&function(){return v},tooltipProps:"object"===(0,Ce._)(a)?a:void 0},qm(s)?s:{default:function(){return[s]}}):(0,o.Wm)("div",null,[s]),Boolean(d||f)&&(0,o.Wm)("div",{class:r.iconWrap},[d,f])])])};return{thList:a,isMultipleHeader:l,spansAndLeafNodes:i,renderTitleWidthIcon:u}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var eg=80,tg=600;function ng(e,t,n,r){var i=(0,T.iH)(),o=(0,T.iH)([]),a={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:null},l=(0,T.qj)({display:"none",left:"10px",height:"10px",bottom:"0"}),u=function(e){o.value=e},c=function(e){if(i.value){var t=e.target.closest("th"),n=t.getBoundingClientRect();if(!a.isDragging){var r=8;if(n.right-e.pageX<=r)t.style.cursor="col-resize",a.draggingCol=t,a.effectCol="next";else if(e.pageX-n.left<=r){var o=t.previousElementSibling;o?(t.style.cursor="col-resize",a.draggingCol=o,a.effectCol="prev"):(t.style.cursor="",a.draggingCol=null,a.effectCol=null)}else t.style.cursor="",a.draggingCol=null,a.effectCol=null}}},s=function(o,c,s,d){var f,p,v;if(a.draggingCol){var h=a.draggingCol,m=h.getBoundingClientRect(),g=null===(f=e.value)||void 0===f?void 0:f.getBoundingClientRect(),y=m.right-g.left,b=m.left-g.left,w=(null===(p=c.resize)||void 0===p?void 0:p.minWidth)||eg,S=(null===(v=c.resize)||void 0===v?void 0:v.maxWidth)||tg,O=b+w,k=b+S;if(a.isDragging=!0,a.draggingStart=o.x,null!==i&&void 0!==i&&i.value){l.display="block",l.left="".concat(y,"px"),l.height="".concat(g.bottom-m.top,"px");var C=e.value.parentElement.getBoundingClientRect();l.bottom="".concat(C.bottom-g.bottom,"px")}var x=function(e,t,i){var o,a,l=n(),c=_r(e.width)?e.width:parseFloat(e.width),s=_r(i.width)?i.width:parseFloat(i.width),d=l[e.colKey]||c,f=l[i.colKey]||s;r((a={},(0,_._)(a,e.colKey,t),(0,_._)(a,i.colKey,Math.max((null===(o=i.resize)||void 0===o?void 0:o.minWidth)||eg,d+f-t)),a)),u([e.colKey,i.colKey])},P=function e(){if(a.isDragging){var n=Math.ceil(parseInt(l.left,10)-b)||0;n<=w?n=w:n>=S&&(n=S),"next"===a.effectCol?x(c,n,s):"prev"===a.effectCol&&x(d,n,c),a.isDragging=!1,a.draggingCol=null,a.effectCol=null,h.style.cursor="",l.display="none",l.left="0",document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null}t()},E=function(e){if(a.isDragging){var t=y+e.x-a.draggingStart;l.left="".concat(Math.min(Math.max(t,O),k),"px")}};document.addEventListener("mouseup",P),document.addEventListener("mousemove",E),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},d=function(e,t,n,i){var a=0,l=[],u={};e.forEach((function(e){t[e.colKey]?u[e.colKey]=t[e.colKey]:u[e.colKey]=_r(e.width)?e.width:parseFloat(e.width);var n=u[e.colKey];n?a+=n:l.push(e)}));var c=i,s=!1;if(c>0)if(l.length){if(a<c){var d=c-a,f=d/l.length;l.forEach((function(e){u[e.colKey]=f}))}else if("fixed"===n)l.forEach((function(e){var t=u[e.colKey]||100;u[e.colKey]=_r(t)?t:parseFloat(t)}));else{var p=100*l.length,v=p+a;e.forEach((function(e){u[e.colKey]?u[e.colKey]=u[e.colKey]/v*c:u[e.colKey]=100/v*c}))}s=!0}else{if(o.value.length){var h=0;o.value.forEach((function(e){h+=u[e]})),a-=h,c-=h}(a!==c||o.value.length)&&(e.forEach((function(e){o.value.includes(e.colKey)||(u[e.colKey]=u[e.colKey]/a*c)})),s=!0)}else l.forEach((function(e){var t=u[e.colKey]||100;u[e.colKey]=_r(t)?t:parseFloat(t)})),s=!0;if(s){var m=0;Object.keys(u).forEach((function(e){var t=u[e];m+=t-Math.floor(t),u[e]=Math.floor(t)+(m>1?1:0),m>1&&(m-=1)})),m>.5&&(u[e[0].colKey]+=1)}r(u),o.value.length&&(o.value=[])};return{resizeLineRef:i,resizeLineStyle:l,onColumnMouseover:c,onColumnMousedown:s,recalculateColWidth:d}}var rg=n(9930);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ig(){var e=6;if(!navigator)return e;if(/(Chrome|Safari)/i.test(navigator.userAgent))return e;var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),/Firefox/.test(navigator.userAgent)&&(n-=4),(0,rg.sA)()<=11&&(n=12),n}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ag(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?og(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lg(e,t,n,r){var i,o=null===n||void 0===n?void 0:n.get(e.colKey||t);if(!o)return{};var a=(i={},(0,_._)(i,r.left,"left"===e.fixed),(0,_._)(i,r.right,"right"===e.fixed),(0,_._)(i,r.lastLeft,"left"===e.fixed&&o.lastLeftFixedCol),(0,_._)(i,r.firstRight,"right"===e.fixed&&o.firstRightFixedCol),i),l={left:"left"===e.fixed?"".concat(o.left,"px"):void 0,right:"right"===e.fixed?"".concat(o.right,"px"):void 0};return{style:l,classes:a}}function ug(e,t,n,r,i,o){var a;if(!r||!r.length)return{style:void 0,classes:void 0};var l=t<r[0],u=t>n-1-r[1],c=n-r[1],s=(null===i||void 0===i?void 0:i.get(e))||{},d=(a={},(0,_._)(a,o.top,l),(0,_._)(a,o.bottom,u),(0,_._)(a,o.firstBottom,t===c),(0,_._)(a,o.withoutBorderBottom,t===c-1),a),f={top:l?"".concat(s.top,"px"):void 0,bottom:u?"".concat(s.bottom,"px"):void 0};return{style:f,classes:d}}function cg(e,t,n){var r=(0,T.BK)(e),i=r.columns,a=r.tableLayout,l=r.tableContentWidth,u=r.fixedRows,c=r.firstFullRow,s=r.lastFullRow,d=r.maxHeight,f=r.headerAffixedTop,p=r.footerAffixedBottom,v=r.bordered,h=r.resizable,m=r.allowResizeColumnWidth,g=(0,T.iH)([]),y=(0,T.iH)(),b=(0,T.iH)(!1),_=(0,T.iH)(!1),w=(0,T.iH)(),S=(0,T.iH)(6),O=(0,T.iH)(new Map),k=(0,T.qj)({left:!1,right:!1}),C=(0,T.iH)({left:0,top:0}),x=(0,T.iH)(0),P=(0,T.iH)(0),E=(0,T.iH)({}),I=(0,T.iH)(!1),D=(0,T.iH)(!1),j=(0,T.iH)(!1),R=(0,o.Fl)((function(){return h.value||m.value||!1})),A=(0,o.Fl)((function(){var t;return!(e.headerAffixedTop||e.footerAffixedBottom||e.horizontalScrollAffixedBottom||"virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type))})),M=(0,T.iH)((function(){}));function N(e){w.value=e}function L(e){M.value=e}function W(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=0,a=e.length;o<a;o++){var l,u=e[o];["left","right"].includes(u.fixed)&&(I.value=!0),"right"===u.fixed&&(D.value=!0),"left"===u.fixed&&(j.value=!0);var c=u.colKey||o,s={col:u,parent:i,index:o};t.set(c,s),null!==(l=u.children)&&void 0!==l&&l.length&&W(u.children,t,n,r+1,s),n[r]?n[r].push(s):n[r]=[s]}return{newColumnsMap:t,levelNodes:n}}var V,B=function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,o=t.length;i<o;i++){var a,l=t[i];if("right"===l.fixed)return;var u=n.get(l.colKey||i),c=i-1;while(c>=0&&"left"!==t[c].fixed)c-=1;var s=t[c],d=0===i&&(null===r||void 0===r?void 0:r.left)||0,f=n.get((null===s||void 0===s?void 0:s.colKey)||i-1);u.left=((null===f||void 0===f?void 0:f.left)||d)+((null===f||void 0===f?void 0:f.width)||0),null!==(a=l.children)&&void 0!==a&&a.length&&e(l.children,n,u)}},U=function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.length-1;i>=0;i--){var o,a=t[i];if("left"===a.fixed)return;var l=n.get(a.colKey||i),u=i+1;while(u<t.length&&"right"!==t[u].fixed)u+=1;var c=t[u],s=i===t.length-1&&(null===r||void 0===r?void 0:r.right)||0,d=n.get((null===c||void 0===c?void 0:c.colKey)||i+1);l.right=((null===d||void 0===d?void 0:d.right)||s)+((null===d||void 0===d?void 0:d.width)||0),null!==(o=a.children)&&void 0!==o&&o.length&&e(a.children,n,l)}},H=function(e,t){if(e){for(var n=0,r=e.length;n<r;n++)for(var o=e[n].children,a=0,l=o.length;a<l;a++){var u,c=o[a],s=c.dataset.colkey;s||nn.Z.warn("TDesign Table","".concat(c.innerText," missing colKey. colKey is required for fixed column feature."));var d=t.get(s||a);null!==d&&void 0!==d&&null!==(u=d.col)&&void 0!==u&&u.fixed&&t.set(s,ag(ag({},d),{},{width:c.getBoundingClientRect().width}))}B(i.value,t),U(i.value,t)}},z=function(t,n,r,i){for(var o=u.value||[],a=(0,ft._)(o,2),l=a[0],c=a[1],s=e.data,d=e.rowKey,f=void 0===d?"id":d,p=0;p<l;p++){var v=t[p],h=(0,hl.g)(s[p],f),m=n.get(h)||{},g=(0,hl.g)(s[p-1],f),y=n.get(g)||{},b=0;0===p&&(b=(null===r||void 0===r?void 0:r.getBoundingClientRect().height)||0),m.top=(y.top||b)+(y.height||0),n.set(h,ag(ag({},m),{},{height:v.getBoundingClientRect().height}))}for(var _=s.length-1;_>=s.length-c;_--){var w=t[_],S=(0,hl.g)(s[_],f),O=n.get(S)||{},k=(0,hl.g)(s[_+1],f),C=n.get(k)||{},x=0;_===s.length-1&&(x=(null===i||void 0===i?void 0:i.getBoundingClientRect().height)||0),O.bottom=(C.bottom||x)+(C.height||0),n.set(S,ag(ag({},O),{},{height:w.getBoundingClientRect().height}))}},Z=function(e,t){if(O.value.clear(),e){var n=e.querySelector("thead");n&&H(n.children,t);var r=e.querySelector("tbody"),i=e.querySelector("tfoot");r&&z(r.children,t,n,i),O.value=t}},K=function(e,t){if(I.value&&e){var n=e.scrollLeft;if(V!==n||t&&t.skipScrollLimit){V=n;var r=e.clientWidth+n<e.scrollWidth;k.left=n>0,k.right=r}}},Y=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0,i=n.length;r<i;r++){var o=n[r],a=n[r+1],l=o.parent,u=!l||(null===l||void 0===l?void 0:l.lastLeftFixedCol);u&&"left"===o.col.fixed&&"left"!==(null===a||void 0===a?void 0:a.col.fixed)&&(o.lastLeftFixedCol=!0);var c=n[r-1],s=!l||(null===l||void 0===l?void 0:l.firstRightFixedCol);s&&"right"===o.col.fixed&&"right"!==(null===c||void 0===c?void 0:c.col.fixed)&&(o.firstRightFixedCol=!0)}},G=function(){var e=W(i.value),t=e.newColumnsMap,n=e.levelNodes;Y(n);var r=setTimeout((function(){var e;(I.value||null!==(e=u.value)&&void 0!==e&&e.length)&&Z(y.value,t),clearTimeout(r)}),0);return function(){clearTimeout(r)}},$=function(){var e=setTimeout((function(){if(y.value){b.value=y.value.scrollHeight>y.value.clientHeight,_.value=y.value.scrollWidth>y.value.clientWidth;var t=y.value.getBoundingClientRect();C.value={top:t.top,left:t.left},clearTimeout(e)}}),0)},J=function(){var t,n,r=null===(t=y.value)||void 0===t?void 0:t.getBoundingClientRect();if(r){var i=b.value?S.value:0;x.value=r.width-i-(e.bordered?1:0);var o=null===w||void 0===w||null===(n=w.value)||void 0===n?void 0:n.getBoundingClientRect();P.value=null===o||void 0===o?void 0:o.width}},q=function(e){if(e instanceof HTMLCollection){if(R.value)return;for(var t={},n=0,r=e.length;n<r;n++)for(var i=e[n].children,o=0,a=i.length;o<a;o++){var l=i[o],u=l.dataset.colkey;t[u]=l.getBoundingClientRect().width}E.value=t}else E.value||(E.value={}),Object.entries(e).forEach((function(e){var t=(0,ft._)(e,2),n=t[0],r=t[1];E.value[n]=r}))},X=function(){if(R.value&&M.value(n.value,E.value,a.value,P.value),!A.value)var e=setTimeout((function(){var t;J();var n=null===(t=y.value)||void 0===t?void 0:t.querySelector("thead");n&&(q(n.children),clearTimeout(e))}),0)},Q=function(t){var n,r,i;null===(n=e.onScrollX)||void 0===n||n.call(e,{e:t}),null===(r=e.onScrollY)||void 0===r||r.call(e,{e:t}),null===(i=e.onScroll)||void 0===i||i.call(e,{e:t})},ee=function(){return E.value||(E.value={}),E.value};(0,o.YP)([g,i,v,a,l,b,_,I,u,c,s],G,{immediate:!0}),(0,o.YP)([I,i],(function(){var e=setTimeout((function(){I.value&&K(y.value),clearTimeout(e)}),0)}),{immediate:!0}),(0,o.YP)([d,g,i,v],$,{immediate:!0}),(0,o.YP)([g,i,v,a,u,b,f,p,l],X,{immediate:!0});var te=(0,mn.d)((function(){J(),$(),X(),(I.value||b.value)&&(G(),K(y.value,{skipScrollLimit:!0}))}),30),ne=te;(0,o.bv)((function(){var e=ig();S.value=e;var t=setTimeout((function(){J(),R.value&&M.value(n.value,E.value,a.value,P.value),clearTimeout(t)})),r=I.value||b.value||!A.value||!g.value.length;r&&(0,F.on)(window,"resize",ne)})),(0,o.wF)((function(){(0,F.S1)(window,"resize",ne)}));var re=function(e){g.value=e};return{tableWidth:x,tableElmWidth:P,thWidthList:E,isFixedHeader:b,isWidthOverflow:_,tableContentRef:y,isFixedColumn:I,showColumnShadow:k,rowAndColFixedPosition:O,virtualScrollHeaderPos:C,scrollbarWidth:S,setData:re,refreshTable:te,emitScrollEvent:Q,updateThWidthListHandler:X,updateColumnFixedShadow:K,setUseFixedTableElmRef:N,getThWidthList:ee,updateThWidthList:q,setRecalculateColWidthFuncRef:L}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fg(e){var t=(0,T.BK)(e),n=t.pagination,r=t.data,i=t.disableDataPage,a=(0,k.Z)(),l=a.classPrefix,u=(0,T.iH)([]),c=(0,T.iH)(!1),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=e.data,o=Boolean(!i.value&&r.length>n);if(c.value=o,o){var a=(t-1)*n,l=t*n;u.value=r.slice(a,l)}else u.value=r};(0,o.YP)((function(){var e,t;return[null===(e=n.value)||void 0===e?void 0:e.current,null===(t=n.value)||void 0===t?void 0:t.pageSize,r.value.length,i]}),(function(){n.value&&n.value.current&&s(n.value.current,n.value.pageSize)}),{immediate:!0}),(0,o.YP)([r],(function(){n.value&&n.value.defaultCurrent&&s(n.value.defaultCurrent,n.value.defaultPageSize)}),{immediate:!0});var d=function(){if(!e.pagination)return null;var t=dg({},e.pagination);return delete t.onChange,(0,o.Wm)("div",{class:"".concat(l.value,"-table__pagination")},[(0,o.Wm)(Zi,(0,o.dG)(t,{onChange:function(t){var r,i,o;null===(r=e.pagination)||void 0===r||null===(i=r.onChange)||void 0===i||i.call(r,t),null===(o=e.onPageChange)||void 0===o||o.call(e,t,u.value),n&&!n.value.current&&n.value.defaultCurrent&&s(t.current,t.pageSize)}}),null)])};return{isPaginateData:c,dataSource:u,renderPagination:d}}var pg=n(2087);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function vg(e){var t=(0,T.iH)(),n=(0,T.iH)(),r=(0,T.iH)(),i=(0,T.iH)(),a=(0,T.iH)(),l=(0,T.iH)(!0),u=(0,T.iH)(!0),c=(0,T.iH)(!0),s=(0,o.Fl)((function(){return e.scroll&&"virtual"===e.scroll.type&&(e.scroll.threshold||100)<e.data.length})),d=(0,o.Fl)((function(){return!!(e.headerAffixedTop||e.footerAffixedBottom||e.horizontalScrollAffixedBottom)})),f=0,p=function(e){if(d.value||s.value){var o=e;if(!o&&t.value&&(f=0,o=t.value),o){var a=o.scrollLeft;if(f!==a){f=a;for(var l=[t.value,n.value,r.value,i.value],u=0,c=l.length;u<c;u++)l[u]&&e!==l[u]&&(l[u].scrollLeft=a)}}}},v=function(e,t,n){return t.top+n<e.top&&e.top>e.height},h=function(e){return"boolean"===typeof e?0:e.offsetTop||0},m=function(){var o,f,p,m;if(d.value||s.value){var g=null===(o=t.value)||void 0===o?void 0:o.getBoundingClientRect(),y=null===(f=t.value)||void 0===f||null===(p=f.querySelector("thead"))||void 0===p?void 0:p.getBoundingClientRect(),b=y.height||0,_=null===(m=r.value)||void 0===m?void 0:m.getBoundingClientRect();if((e.headerAffixedTop||s.value)&&n.value){var w=h(e.headerAffixProps||e.headerAffixedTop),S=(null===_||void 0===_?void 0:_.height)||0,O=Math.abs(g.top)<g.height-b-w-S;s.value&&(O=g.top>-1*y.height),l.value=O}if(e.footerAffixedBottom&&null!==r&&void 0!==r&&r.value)u.value=v(_,g,b);else if(e.horizontalScrollAffixedBottom&&null!==i&&void 0!==i&&i.value){var k=i.value.getBoundingClientRect();u.value=v(k,g,b)}if(e.paginationAffixedBottom&&a.value){var C=a.value.getBoundingClientRect();c.value=v(C,g,b)}}},g=function(){m()},y=function(){p(r.value)},b=function(){p(n.value)},_=function(){p(i.value)},w=function(){p(t.value)},S=function(){(0,F.on)(r.value,"scroll",y)},O=function(){(0,F.S1)(r.value,"scroll",y)},k=function(){(0,F.on)(n.value,"scroll",b)},C=function(){(0,F.S1)(n.value,"scroll",b)},x=function(){(0,F.on)(i.value,"scroll",_)},P=function(){(0,F.S1)(i.value,"scroll",_)},E=function(){(0,F.on)(t.value,"scroll",w)},I=function(){(0,F.S1)(t.value,"scroll",w)},D=function(){n.value&&((0,F.on)(n.value,"mouseenter",k),(0,F.on)(n.value,"mouseleave",C)),e.footerAffixedBottom&&r.value&&((0,F.on)(r.value,"mouseenter",S),(0,F.on)(r.value,"mouseleave",O)),e.horizontalScrollAffixedBottom&&i.value&&((0,F.on)(i.value,"mouseenter",x),(0,F.on)(i.value,"mouseleave",P)),(d.value||s.value)&&t.value&&((0,F.on)(t.value,"mouseenter",E),(0,F.on)(t.value,"mouseleave",I))},j=function(){n.value&&((0,F.S1)(n.value,"mouseenter",k),(0,F.S1)(n.value,"mouseleave",C)),r.value&&((0,F.S1)(r.value,"mouseenter",S),(0,F.S1)(r.value,"mouseleave",O)),t.value&&((0,F.S1)(t.value,"mouseenter",E),(0,F.S1)(t.value,"mouseleave",I)),i.value&&((0,F.S1)(i.value,"mouseenter",x),(0,F.S1)(i.value,"mouseleave",P))},R=function(){if(d.value||e.paginationAffixedBottom)var t=setTimeout((function(){d.value||e.paginationAffixedBottom?(0,F.on)(document,"scroll",g):(0,F.S1)(document,"scroll",g),clearTimeout(t)}))};(0,o.YP)([n,r,i,t],(function(){D(),p(),m()})),(0,o.YP)(d,R),(0,o.YP)((function(){return[e.data,e.columns,e.headerAffixedTop,e.footerAffixedBottom,e.horizontalScrollAffixedBottom]}),(function(){p()})),(0,o.wF)((function(){(0,F.S1)(document,"scroll",g),j()}));var A=function(e){t.value=e,R()};return{showAffixHeader:l,showAffixFooter:u,showAffixPagination:c,affixHeaderRef:n,affixFooterRef:r,horizontalScrollbarRef:i,paginationRef:a,onHorizontalScroll:p,setTableContentRef:A,updateAffixHeaderOrFooter:m}}function hg(e,t){if(e){for(var n=e instanceof Array?e:[e],r={},i=0;i<n.length;i++){var o=n[i];if(o){var a=(0,Re.i)(o)?o(t):o;r=a instanceof Array?hg(a,t):Object.assign(r,a)}}return r}}function mg(e,t,n){for(var r=e instanceof Array?e:[e],i=t.row,o=t.rowIndex,a=[],l=0,u=r.length;l<u;l++){var c=r[l],s=(0,Re.i)(c)?c(t):c;if(!(0,D.i)(s)||s instanceof Array)s instanceof Array&&(s=mg(s,t,n));else{s[o]&&(s=s[o]);var d=(0,hl.g)(i,n||"id");s[d]&&(s=s[d])}a=a.concat(s)}return a}function gg(e,t,n){var r=(0,Re.i)(e.disabled)?e.disabled({row:t,rowIndex:n}):e.disabled;return e.checkProps&&((0,Re.i)(e.checkProps)?r=r||e.checkProps({row:t,rowIndex:n}).disabled:"object"===e.checkProps&&(r=r||e.checkProps.disabled)),!!r}function yg(e,t){if(e&&t){var n=null===e||void 0===e?void 0:e.find((function(e){return e.colKey===t}));if(n)return n;for(var r=0,i=e.length;r<i;r++){var o,a,l;if(null!==(o=e[r])&&void 0!==o&&null!==(a=o.children)&&void 0!==a&&a.length)return yg(null===(l=e[r])||void 0===l?void 0:l.children,t)}}}function bg(e,t){return"object"===(0,Ce._)(e)?e:"object"===(0,Ce._)(t)?t:{}}function _g(e,t,n){for(var r={},i=0,o=t.length;i<o;i++){var a=(0,hl.g)(t[i],n);e.includes(a)&&(r[a]=!0)}return r}function wg(e,t){for(var n=0,r=e.length;n<r;n++){var i;if(e[n].colKey===t)return e[n];if(null!==(i=e[n].children)&&void 0!==i&&i.length){var o=wg(e[n].children,t);if(o)return o}}return null}function Sg(e,t){for(var n=0,r=e.length;n<r;n++){var i;if(e[n].colKey===t)return n;if(null!==(i=e[n].children)&&void 0!==i&&i.length){var o=wg(e[n].children,t);if(o)return n}}return-1}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Og(e,t,n,r){if(!window||!window.IntersectionObserver)return n(),null;var i=null;try{i=new window.IntersectionObserver((function(t){var r=t[0];r.isIntersecting&&(n(),i.unobserve(e))}),{rootMargin:"0px 0px ".concat(r,"px 0px"),root:t}),i.observe(e)}catch(o){console.error(o),n()}return i}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function kg(e,t,n){var r=(0,o.Fl)((function(){return Math.max(n.rowHeight||48,48)})),i=(0,T.iH)(0===n.rowIndex),a=(0,o.Fl)((function(){return"lazy"===(null===n||void 0===n?void 0:n.type)&&!i.value})),l=!F.sk&&window.requestAnimationFrame||function(e){return setTimeout(e,16.6)},u=function(){i.value||l((function(){i.value=!0}))};return(0,o.bv)((function(){"lazy"===(null===n||void 0===n?void 0:n.type)&&(0,o.Y3)((function(){var i=Math.max(10,n.bufferSize||10),o=r.value*i;Og(t.value,e.value,u,o)}))})),{hasLazyLoadHolder:a,tRowHeight:r}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Cg(e,t,n,r){var i=(0,hl.g)(e,t);return void 0===i&&nn.Z.error("Table","rowKey is wrong, can not get unique identifier of row."),[i,n||r].join("_")}function xg(e,t,n,r){var i=(0,T.iH)(new Map),a=function(r,o){var a=r.rowIndex,l=r.colIndex;if(o.rowspan||o.colspan)for(var u=a+(o.rowspan||1),c=l+(o.colspan||1),s=a;s<u;s++)for(var d=l;d<c;d++)if(s!==a||d!==l){if(!e.value[s]||!t.value[d])return;var f=Cg(e.value[s],n.value,t.value[d].colKey,d),p=i.value.get(f)||{};p.skipped=!0,i.value.set(f,p)}},l=function(e,t,r){var o;if(null===(o=i.value)||void 0===o||o.clear(),e&&r)for(var l=0,u=e.length;l<u;l++)for(var c=e[l],s=0,d=t.length;s<d;s++){var f=t[s],p={row:c,col:f,rowIndex:l,colIndex:s},v=Cg(c,n.value,f.colKey,s),h=i.value.get(v)||{},m=r(p)||{};(m.rowspan||m.colspan||h.rowspan||h.colspan)&&(m.rowspan&&(h.rowspan=m.rowspan),m.colspan&&(h.colspan=m.colspan),i.value.set(v,h)),null===a||void 0===a||a(p,h)}};return(0,o.YP)((function(){return[e.value,t.value,r]}),(function(){l(e.value,t.value,null===r||void 0===r?void 0:r.value)}),{immediate:!0}),{skipSpansMap:i}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tg(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Ig=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"],Dg=["click","dblclick","mouseover","mousedown","mouseenter","mouseleave","mouseup"];function jg(e,t,n){var r=e.col,i=e.row;if((0,Re.i)(r.cell))return r.cell(o.h,e);if(t[r.colKey])return t[r.colKey](e);if((0,Jr.i)(r.cell)&&t[r.cell])return t[r.cell](e);if((0,Re.i)(r.render))return r.render(o.h,Eg(Eg({},e),{},{type:"cell"}));var a=(0,hl.g)(i,r.colKey);return[void 0,"",null].includes(a)?null!==n&&void 0!==n&&n.cellEmptyContent?(0,Re.i)(n.cellEmptyContent)?n.cellEmptyContent(o.h,e):n.cellEmptyContent:t.cellEmptyContent?t.cellEmptyContent(e):a:a}var Rg=(0,o.aZ)({name:"TR",props:Eg(Eg({row:Object,rowIndex:Number,dataLength:Number,rowAndColFixedPosition:Map,skipSpansMap:Map},(0,ml.p)(Wm,Ig)),{},{scrollType:String,rowHeight:Number,trs:Map,bufferSize:Number,isVirtual:Boolean,tableElm:{},tableContentElm:{}}),emits:["row-mounted"],setup:function(e,t){var n=(0,T.BK)(e),r=n.tableContentElm,i=(0,T.iH)(null),a=zm(),l=a.tdEllipsisClass,u=a.tableBaseClass,c=a.tableColFixedClasses,s=a.tableRowFixedClasses,d=a.tdAlignClasses,f=a.tableDraggableClasses,p=(0,o.Fl)((function(){return ug((0,hl.g)(e.row,e.rowKey||"id"),e.rowIndex,e.dataLength,e.fixedRows,e.rowAndColFixedPosition,s)})),v=(0,o.Fl)((function(){return hg(e.rowAttributes,{row:e.row,rowIndex:e.rowIndex,type:"body"})||{}})),h=(0,o.Fl)((function(){var t,n=mg(e.rowClassName,{row:e.row,rowIndex:e.rowIndex,type:"body"},e.rowKey||"id");return[null===(t=p.value)||void 0===t?void 0:t.classes,n].filter((function(e){return e}))})),m=kg(r,i,(0,T.qj)(Eg(Eg({},e.scroll),{},{rowIndex:e.rowIndex}))),g=m.hasLazyLoadHolder,y=m.tRowHeight,b=function(t,n){var r={};return Dg.forEach((function(i){r["on".concat((0,zf.u)(i))]=function(r){var o,a={e:r,row:t,index:n};null===(o=e["onRow".concat((0,zf.u)(i))])||void 0===o||o.call(e,a)}})),r};return(0,o.bv)((function(){var n=e.scrollType,r=e.isVirtual,o=e.row,a=e.trs;if("virtual"===n&&r){var l=o.$index;a.set(l,i.value),t.emit("row-mounted")}})),(0,o.Jd)((function(){if(e.isVirtual){var t=e.trs,n=e.row,r=n.$index;t["delete"](r)}})),{trRef:i,tableColFixedClasses:c,tSlots:t.slots,tdEllipsisClass:l,tableBaseClass:u,tdAlignClasses:d,tableDraggableClasses:f,trStyles:p,classes:h,trAttributes:v,tRowHeight:y,hasLazyLoadHolder:g,getTrListeners:b}},methods:{renderEllipsisCell:function(e,t){var n=t.cellNode,r=e.col,i=e.colIndex,a=i<2?"top-left":"top-right",l=(0,Re.i)(r.ellipsis)?r.ellipsis(o.h,e):void 0,u=this.tableElm;return(0,o.Wm)(Gm,{placement:a,attach:u?function(){return u}:void 0,tooltipContent:l&&function(){return l},tooltipProps:"object"===(0,Ce._)(r.ellipsis)?r.ellipsis:void 0},Tg(n)?n:{default:function(){return[n]}})},renderTd:function(e,t){var n,r=this,i=e.col,a=e.colIndex,l=e.rowIndex,u=t.cellSpans,c=t.dataLength,s=t.rowAndColFixedPosition,d=jg(e,this.tSlots,{cellEmptyContent:t.cellEmptyContent}),f=lg(i,a,s,this.tableColFixedClasses),p=(0,Re.i)(i.className)?i.className(Eg(Eg({},e),{},{type:"td"})):i.className,v=[f.classes,p,(n={},(0,_._)(n,this.tdEllipsisClass,i.ellipsis),(0,_._)(n,this.tableBaseClass.tdLastRow,l+u.rowspan===c),(0,_._)(n,this.tableBaseClass.tdFirstCol,0===a&&this.rowspanAndColspan),(0,_._)(n,this.tdAlignClasses[i.align],i.align&&"left"!==i.align),(0,_._)(n,this.tableDraggableClasses.handle,"drag"===i.colKey),n)],h=function(t){var n,i=Eg(Eg({},e),{},{e:t});null===(n=r.onCellClick)||void 0===n||n.call(r,i)},m=Eg(Eg({},i.attrs),u);return(0,o.Wm)("td",(0,o.dG)({key:"".concat(i.colKey,"_").concat(a),class:v,style:f.style},m,{onClick:h}),[i.ellipsis?this.renderEllipsisCell(e,{cellNode:d}):d])}},render:function(){var e,t,n=this,r=this.row,i=this.rowIndex,a=this.dataLength,l=this.rowAndColFixedPosition,u=null===(e=this.columns)||void 0===e?void 0:e.map((function(e,t){var o={},u={row:r,col:e,rowIndex:i,colIndex:t},c=null;if(n.skipSpansMap.size){var s,d,f=Cg(r,n.rowKey,e.colKey,t);if(c=n.skipSpansMap.get(f)||{},(null===(s=c)||void 0===s?void 0:s.rowspan)>1&&(o.rowspan=c.rowspan),(null===(d=c)||void 0===d?void 0:d.colspan)>1&&(o.colspan=c.colspan),c.skipped)return null}return n.renderTd(u,{dataLength:a,rowAndColFixedPosition:l,columnLength:n.columns.length,cellSpans:o,cellEmptyContent:n.cellEmptyContent})}));return(0,o.Wm)("tr",(0,o.dG)({ref:"trRef"},this.trAttributes,{style:null===(t=this.trStyles)||void 0===t?void 0:t.style,class:this.classes},this.getTrListeners(r,i)),[this.hasLazyLoadHolder?[(0,o.Wm)("td",{style:{height:"".concat(this.tRowHeight,"px"),border:"none"}},null)]:u])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ag(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Dg.concat("cell-click");var Mg=["rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],Ng=(0,o.aZ)({name:"TBody",props:Fg({data:Array,columns:Array,rowAndColFixedPosition:Map,showColumnShadow:Object,tableElm:{},tableWidth:Number,isWidthOverflow:Boolean,translateY:Number,scrollType:String,isVirtual:Boolean,rowHeight:Number,trs:Map,bufferSize:Number,tableContentElm:{},handleRowMounted:Function,renderExpandedRow:Function,firstFullRow:[String,Function],lastFullRow:[String,Function]},(0,ml.p)(Wm,Mg)),setup:function(e){var t=(0,S.sL)(),n=(0,T.BK)(e),r=n.data,i=n.columns,a=n.rowKey,l=n.rowspanAndColspan,u=(0,k.Z)("table"),c=u.t,s=u.globalConfig,d=zm(),f=d.tableFullRowClasses,p=d.tableBaseClass,v=xg(r,i,a,l),h=v.skipSpansMap,m=(0,o.Fl)((function(){return[p.body]}));return{t:c,globalConfig:s,renderTNode:t,tableFullRowClasses:f,tbodyClasses:m,tableBaseClass:p,skipSpansMap:h}},render:function(){var e,t,n=this,r=function(e){return(0,o.Wm)("tr",{class:[n.tableBaseClass.emptyRow,(0,_._)({},n.tableFullRowClasses.base,n.isWidthOverflow)]},[(0,o.Wm)("td",{colspan:e.length},[(0,o.Wm)("div",{class:[n.tableBaseClass.empty,(0,_._)({},n.tableFullRowClasses.innerFullRow,n.isWidthOverflow)],style:n.isWidthOverflow?{width:"".concat(n.tableWidth,"px")}:{}},[n.renderTNode("empty")||n.t(n.globalConfig.empty)])])])},i=function(e,t){var r=(0,sl.c)(t),i=n.renderTNode(r);if(["",null,void 0,!1].includes(i))return null;var a=n.isWidthOverflow&&n.columns.find((function(e){return"left"===e.fixed})),l=[n.tableFullRowClasses.base,n.tableFullRowClasses[r]];return(0,o.Wm)("tr",{class:l,key:"key-full-row-".concat(t)},[(0,o.Wm)("td",{colspan:e},[(0,o.Wm)("div",{class:(0,_._)({},n.tableFullRowClasses.innerFullRow,a),style:a?{width:"".concat(n.tableWidth,"px")}:{}},[(0,o.Wm)("div",{class:n.tableFullRowClasses.innerFullElement},[i])])])])},a=this.columns.length,l=this.data.length,u=[],c=["rowAndColFixedPosition","scroll","tableElm","tableContentElm","trs","bufferSize","isVirtual","rowHeight","scrollType"];null===(e=this.data)||void 0===e||e.forEach((function(e,t){var r=Fg(Fg({},(0,ml.p)(n.$props,Ig)),{},{rowKey:n.rowKey||"id",row:e,columns:n.columns,rowIndex:t,dataLength:l,skipSpansMap:n.skipSpansMap},(0,ml.p)(n.$props,c));n.onCellClick&&(r.onCellClick=n.onCellClick);var i=(0,o.Wm)(Rg,(0,o.dG)({key:"".concat((0,hl.g)(e,n.rowKey||"id"),"__").concat(t)},r,{onRowMounted:n.handleRowMounted}),n.$slots);if(u.push(i),n.renderExpandedRow){var a={row:e,index:t,columns:n.columns,tableWidth:n.tableWidth,isWidthOverflow:n.isWidthOverflow},s=n.renderExpandedRow(a);s&&u.push(s)}}));var s=[i(a,"first-full-row")].concat(u,[i(a,"last-full-row")]),d=!(null!==(t=this.data)&&void 0!==t&&t.length)&&!this.loading&&!this.firstFullRow&&!this.lastFullRow,f="translate(0, ".concat(this.translateY,"px)"),p={transform:f,"-ms-transform":f,"-moz-transform":f,"-webkit-transform":f};return(0,o.Wm)("tbody",{class:this.tbodyClasses,style:this.isVirtual&&Fg({},p)},[d?r(this.columns):s])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Lg(e){return e?isNaN(Number(e))?e:"".concat(e,"px"):e}function Wg(e){var t=(0,T.BK)(e),n=t.size,r=t.bordered,i=t.stripe,a=t.hover,l=t.verticalAlign,u=t.height,c=t.maxHeight,s=t.tableContentWidth,d=zm(),f=d.tableBaseClass,p=d.tableAlignClasses,v=$r(),h=v.sizeClassNames,m=(0,o.Fl)((function(){var t;return[f.table,(t={},(0,_._)(t,h[n.value],"medium"!==n.value),(0,_._)(t,f.bordered,r.value),(0,_._)(t,f.striped,i.value),(0,_._)(t,f.hover,a.value),(0,_._)(t,f.loading,e.loading),(0,_._)(t,f.affixedHeader,e.headerAffixedTop),(0,_._)(t,f.rowspanAndColspan,e.rowspanAndColspan),(0,_._)(t,p[l.value],"middle"!==l.value),t)]})),g=(0,o.Fl)((function(){return{height:Lg(u.value),maxHeight:Lg(c.value)}})),y=(0,o.Fl)((function(){return{width:Lg(s.value)}}));return{tableClasses:m,tableElementStyles:y,tableContentStyles:g}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vg(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ug(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Hg=(0,o.aZ)({name:"THead",props:{isFixedHeader:Boolean,rowAndColFixedPosition:Map,thWidthList:Object,bordered:Boolean,isMultipleHeader:Boolean,resizable:Boolean,spansAndLeafNodes:Object,thList:Array,columnResizeParams:Object},setup:function(e,t){var n=t.slots,r=(0,T.iH)(),i=zm(),a=i.tableHeaderClasses,l=i.tableBaseClass,u=(0,k.Z)(),c=u.classPrefix,s=(0,o.Fl)((function(){var t;return[a.header,(t={},(0,_._)(t,a.fixed,e.isFixedHeader),(0,_._)(t,l.bordered,e.bordered&&e.isMultipleHeader),(0,_._)(t,a.multipleHeader,e.isMultipleHeader),t)]}));return Bg(Bg({},i),{},{theadClasses:s,classPrefix:c,theadRef:r,slots:n})},render:function(){var e=this,t=function(t,n){var r=new Map,i=e.spansAndLeafNodes.rowspanAndColspanMap;return e.thList.map((function(a,l){var u=a.map((function(u,c){var s,d,f=i.get(u);if(0===c&&f.rowspan>1)for(var p=l+1;p<l+f.rowspan;p++)r.set(e.thList[p][0],!0);var v=lg(u,c,t,e.tableColFixedClasses),h={col:u,colIndex:c,row:{},rowIndex:-1},m=(0,Re.i)(u.className)?u.className(Bg(Bg({},h),{},{type:"th"})):u.className,g=[v.classes,m,(s={},(0,_._)(s,e.tableHeaderClasses.thBordered,r.get(u)),(0,_._)(s,"".concat(e.classPrefix,"-table__th-").concat(u.colKey),u.colKey),(0,_._)(s,e.tdAlignClasses[u.align],u.align&&"left"!==u.align),s)],y=!(null!==(d=u.children)&&void 0!==d&&d.length),b=y&&null!==n&&void 0!==n&&n[u.colKey]?"".concat(null===n||void 0===n?void 0:n[u.colKey],"px"):void 0,w=Bg(Bg({},v.style||{}),{},{width:b}),S=Xm(e.slots,u,c),O=e.resizable?{onMousedown:function(t){var n,r;return null===(n=e.columnResizeParams)||void 0===n||null===(r=n.onColumnMousedown)||void 0===r?void 0:r.call(n,t,u,c<a.length-1?a[c+1]:a[c-1],c>0?a[c-1]:a[c+1])},onMousemove:function(t){var n,r;return null===(n=e.columnResizeParams)||void 0===n||null===(r=n.onColumnMouseover)||void 0===r?void 0:r.call(n,t)}}:{},k=(0,Re.i)(u.ellipsisTitle)?u.ellipsisTitle(o.h,{col:u,colIndex:c}):void 0;return(0,o.Wm)("th",(0,o.dG)({key:u.colKey,"data-colkey":u.colKey,class:g,style:w},f,O),[(0,o.Wm)("div",{class:e.tableBaseClass.thCellInner},[u.ellipsis&&!1!==u.ellipsisTitle&&null!==u.ellipsisTitle?(0,o.Wm)(Gm,{placement:"bottom",attach:e.theadRef?function(){return e.theadRef}:void 0,tooltipContent:k&&function(){return k},tooltipProps:"object"===(0,Ce._)(u.ellipsisTitle)?u.ellipsisTitle:void 0},Ug(S)?S:{default:function(){return[S]}}):S])])}));return(0,o.Wm)("tr",{key:l},[u])}))};return(0,o.Wm)("thead",{ref:"theadRef",class:this.theadClasses},[t(this.rowAndColFixedPosition,this.thWidthList)])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zg(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kg=(0,o.aZ)({name:"TFoot",props:{rowKey:String,isFixedHeader:Boolean,rowAndColFixedPosition:Map,footData:Array,columns:Array,rowAttributes:[Array,Object,Function],rowClassName:[Array,String,Object,Function],thWidthList:[Object],footerSummary:[String,Function],rowspanAndColspanInFooter:Function},setup:function(e,t){var n=(0,S.sL)(),r=zm(),i=(0,T.BK)(e),a=i.footData,l=i.columns,u=i.rowKey,c=i.rowspanAndColspanInFooter,s=xg(a,l,u,c),d=s.skipSpansMap,f=function(e){var n=e.col,r=e.row;return(0,Re.i)(n.foot)?n.foot(o.h,e):(0,Jr.i)(n.foot)&&t.slots[n.foot]?t.slots[n.foot](e)||n.foot:n.foot||(0,hl.g)(r,n.colKey)};return Zg(Zg({skipSpansMap:d},r),{},{renderTFootCell:f,renderTNode:n})},render:function(){var e,t=this;if(!this.columns)return null;var n=[this.tableFooterClasses.footer,(0,_._)({},this.tableFooterClasses.fixed,this.isFixedHeader)],r=null===(e=this.footData)||void 0===e?void 0:e.map((function(e,n){var r=hg(t.rowAttributes,{row:e,rowIndex:n,type:"foot"}),i=mg(t.rowClassName,{row:e,rowIndex:n,type:"foot"},t.rowKey||"id");return(0,o.Wm)("tr",(0,o.dG)(r,{key:n,class:i}),[t.columns.map((function(r,i){var a,l={},u=null;if(t.skipSpansMap.size){var c,s,d=Cg(e,t.rowKey,r.colKey,i);if(u=t.skipSpansMap.get(d)||{},(null===(c=u)||void 0===c?void 0:c.rowspan)>1&&(l.rowspan=u.rowspan),(null===(s=u)||void 0===s?void 0:s.colspan)>1&&(l.colspan=u.colspan),u.skipped)return null}var f=lg(r,i,t.rowAndColFixedPosition,t.tableColFixedClasses),p=Zg({},f.style);return null!==(a=t.thWidthList)&&void 0!==a&&a[r.colKey]&&(p.width="".concat(t.thWidthList[r.colKey],"px")),(0,o.Wm)("td",(0,o.dG)(Zg({key:r.colKey},l),{class:f.classes,style:p}),[t.renderTFootCell({row:e,rowIndex:n,col:r,colIndex:i})])}))])})),i=this.renderTNode("footerSummary");return i||this.footData&&this.footData.length?(0,o.Wm)("tfoot",{ref:"tFooterRef",class:n},[i&&(0,o.Wm)("tr",{class:this.tableFullRowClasses.base},[(0,o.Wm)("td",{colspan:this.columns.length},[(0,o.Wm)("div",{class:this.tableFullRowClasses.innerFullElement},[i])])]),r]):null}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $g(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Jg=["page-change","cell-click","scroll","scrollX","scrollY"],qg=(Dg.map((function(e){return"row-".concat(e)})).concat(Jg),(0,o.aZ)({name:"TBaseTable",props:Gg(Gg({},Wm),{},{renderExpandedRow:Function,onLeafColumnsChange:Function}),setup:function(e,t){var n,r=(0,S.sL)(),i=(0,T.iH)(),a=(0,T.iH)(),l=(0,T.iH)(),u=(0,T.iH)(0),c=zm(),s=c.virtualScrollClasses,d=c.tableLayoutClasses,f=c.tableBaseClass,p=c.tableColFixedClasses,v=Wg(e),h=v.tableClasses,m=v.tableContentStyles,g=v.tableElementStyles,y=(0,k.Z)("table"),b=y.globalConfig,w=Qm(e),O=w.isMultipleHeader,C=w.spansAndLeafNodes,x=w.thList,P=(0,o.Fl)((function(){var t;return(null===(t=C.value)||void 0===t?void 0:t.leafColumns)||e.columns})),E=cg(e,t,P),I=E.scrollbarWidth,D=E.virtualScrollHeaderPos,j=E.tableWidth,R=E.tableElmWidth,A=E.tableContentRef,F=E.isFixedHeader,M=E.isWidthOverflow,N=E.isFixedColumn,L=E.thWidthList,W=E.showColumnShadow,V=E.rowAndColFixedPosition,B=E.setData,U=E.refreshTable,H=E.emitScrollEvent,z=E.setUseFixedTableElmRef,Z=E.updateColumnFixedShadow,K=E.getThWidthList,Y=E.updateThWidthList,G=E.setRecalculateColWidthFuncRef,$=vg(e),J=$.affixHeaderRef,q=$.affixFooterRef,X=$.horizontalScrollbarRef,Q=$.paginationRef,ee=$.showAffixHeader,te=$.showAffixFooter,ne=$.showAffixPagination,re=$.onHorizontalScroll,ie=$.setTableContentRef,oe=$.updateAffixHeaderOrFooter,ae=fg(e),le=ae.dataSource,ue=ae.isPaginateData,ce=ae.renderPagination,se=ng(A,U,K,Y),de=se.resizeLineRef,fe=se.resizeLineStyle,pe=se.recalculateColWidth;G(pe);var ve=(0,o.Fl)((function(){var t;return[h.value,(t={},(0,_._)(t,f.headerFixed,F.value),(0,_._)(t,f.columnFixed,N.value),(0,_._)(t,f.widthOverflow,M.value),(0,_._)(t,f.multipleHeader,O.value),(0,_._)(t,p.leftShadow,W.left),(0,_._)(t,p.rightShadow,W.right),(0,_._)(t,f.columnResizableTable,e.resizable),t)]})),he=(0,o.Fl)((function(){return[[d[e.tableLayout]],(0,_._)({},f.fullHeight,e.height)]})),me=(0,o.Fl)((function(){var t,n;return"virtual"===_e&&(null===(t=e.data)||void 0===t?void 0:t.length)>((null===(n=e.scroll)||void 0===n?void 0:n.threshold)||100)})),ge=(0,o.Fl)((function(){return e.bordered&&F.value&&(O.value&&M.value||!O.value)}));(0,o.YP)(a,(function(){z(a.value)})),(0,o.YP)((function(){return[e.data,le]}),(function(){B(ue.value?le.value:e.data)})),(0,o.YP)(C,(function(){var t;null===(t=e.onLeafColumnsChange)||void 0===t||t.call(e,C.value.leafColumns)}),{immediate:!0});var ye=function(){(0,o.Y3)((function(){re(),oe()}))},be=e.scroll||{},_e=be.type,we=be.rowHeight,Se=be.bufferSize,Oe=void 0===Se?20:Se,ke=be.isFixedRowHeight,Ce=void 0!==ke&&ke,xe=(0,T.BK)(e),Pe=xe.data,Ee="virtual"===_e?(0,pg.Z)({container:A,data:Pe,fixedHeight:Ce,lineHeight:we,bufferSize:Oe,threshold:null===(n=e.scroll)||void 0===n?void 0:n.threshold}):{},Te=Ee.trs,Ie=void 0===Te?null:Te,De=Ee.scrollHeight,je=void 0===De?null:De,Re=Ee.visibleData,Ae=void 0===Re?null:Re,Fe=Ee.translateY,Me=void 0===Fe?null:Fe,Ne=Ee.handleScroll,Le=void 0===Ne?null:Ne,We=Ee.handleRowMounted,Ve=void 0===We?null:We;(0,o.JJ)("tableContentRef",A),(0,o.JJ)("rowHeightRef",(0,T.iH)(we));var Be=0,Ue=function(e){var t=e.target||e.srcElement,n=t.scrollTop;Be!==n?me.value&&Le():(Be=0,Z(t)),Be=n,H(e)},He=function(){var e;a.value&&(u.value=null===(e=a.value.querySelector("tfoot"))||void 0===e?void 0:e.getBoundingClientRect().height)};return(0,o.YP)(A,(function(){ie(A.value)})),(0,o.YP)(a,He),(0,o.bv)((function(){He(),ie(A.value)})),{thList:x,isVirtual:me,globalConfig:b,tableFootHeight:u,virtualScrollHeaderPos:D,tableWidth:j,tableElmWidth:R,tableRef:i,tableElmRef:a,tableBaseClass:f,spansAndLeafNodes:C,dynamicBaseTableClasses:ve,tableContentStyles:m,tableElementStyles:g,virtualScrollClasses:s,tableLayoutClasses:d,tableElmClasses:he,tableContentRef:A,isFixedHeader:F,isWidthOverflow:M,isFixedColumn:N,rowAndColFixedPosition:V,showColumnShadow:W,thWidthList:L,isPaginateData:ue,dataSource:le,scrollType:_e,rowHeight:we,trs:Ie,bufferSize:Oe,scrollHeight:je,visibleData:Ae,translateY:Me,affixHeaderRef:J,affixFooterRef:q,paginationRef:Q,showAffixHeader:ee,showAffixFooter:te,scrollbarWidth:I,isMultipleHeader:O,showRightDivider:ge,resizeLineRef:de,resizeLineStyle:fe,columnResizeParams:se,horizontalScrollbarRef:X,tableBodyRef:l,showAffixPagination:ne,renderPagination:ce,renderTNode:r,handleRowMounted:Ve,onFixedChange:ye,onHorizontalScroll:re,updateAffixHeaderOrFooter:oe,refreshTable:U,onInnerVirtualScroll:Ue}},render:function(){var e,t,n,r,i,a=this,l=this.rowAndColFixedPosition,u=this.isPaginateData?this.dataSource:this.data,c=(null===(e=this.spansAndLeafNodes)||void 0===e?void 0:e.leafColumns)||this.columns,s=void 0===this.allowResizeColumnWidth?this.resizable:this.allowResizeColumnWidth;s&&"auto"===this.tableLayout&&nn.Z.warn("Table","table-layout can not be `auto` for resizable column table, set `table-layout: fixed` please.");var d="fixed"===this.tableLayout&&this.isWidthOverflow?"100px":void 0,f=!(!this.isVirtual||this.headerAffixedTop||!this.bordered)&&/Chrome/.test(null===(t=navigator)||void 0===t?void 0:t.userAgent),p=this.bordered&&f?1:0,v=((null===(n=this.affixHeaderRef)||void 0===n?void 0:n.getBoundingClientRect().height)||0)-this.scrollbarWidth-p,h=Wm.headerAffixedTop?Number(this.showAffixHeader):1,m={width:"".concat(this.tableWidth,"px"),height:"".concat(v,"px"),opacity:h,marginTop:f?"".concat(p,"px"):0},g=this.bordered?1:0,y=Boolean((this.headerAffixedTop||this.isVirtual)&&this.tableWidth)&&(0,o.Wm)("div",{ref:"affixHeaderRef",style:{width:"".concat(this.tableWidth-g,"px"),opacity:Number(this.showAffixHeader)},class:["scrollbar",(0,_._)({},this.tableBaseClass.affixedHeaderElm,this.headerAffixedTop||this.isVirtual)]},[(0,o.Wm)("table",{class:this.tableElmClasses,style:Gg(Gg({},this.tableElementStyles),{},{width:"".concat(this.tableElmWidth,"px")})},[(0,o.Wm)("colgroup",null,[c.map((function(e){var t={width:Lg(a.thWidthList[e.colKey]||e.width)||d};return e.minWidth&&(t.minWidth=Lg(e.minWidth)),(0,o.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,o.Wm)(Hg,{isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams},this.$slots)])]),b=(0,o.Wm)("div",{class:this.tableBaseClass.affixedHeaderWrap,style:m},[y]),w=this.isWidthOverflow?this.scrollbarWidth:0;this.bordered&&(w+=1);var S=Boolean(this.footerAffixedBottom&&(null===(r=this.footData)||void 0===r?void 0:r.length)&&this.tableWidth)&&(0,o.Wm)(Me,(0,o.dG)({class:this.tableBaseClass.affixedFooterWrap,onFixedChange:this.onFixedChange,offsetBottom:w||0},bg(this.footerAffixedBottom),{style:{marginTop:"".concat(-1*(this.tableFootHeight+w),"px")}}),{default:function(){return[(0,o.Wm)("div",{ref:"affixFooterRef",style:{width:"".concat(a.tableWidth-g,"px"),opacity:Number(a.showAffixFooter)},class:["scrollbar",(0,_._)({},a.tableBaseClass.affixedFooterElm,a.footerAffixedBottom||a.isVirtual)]},[(0,o.Wm)("table",{class:a.tableElmClasses,style:Gg(Gg({},a.tableElementStyles),{},{width:"".concat(a.tableElmWidth,"px")})},[(0,o.Wm)("colgroup",null,[c.map((function(e){var t={width:Lg(a.thWidthList[e.colKey]||e.width)||d};return e.minWidth&&(t.minWidth=Lg(e.minWidth)),(0,o.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,o.Wm)(Kg,{rowKey:a.rowKey,isFixedHeader:a.isFixedHeader,rowAndColFixedPosition:l,footData:a.footData,columns:c,rowAttributes:a.rowAttributes,rowClassName:a.rowClassName,thWidthList:a.thWidthList,footerSummary:a.footerSummary,rowspanAndColspanInFooter:a.rowspanAndColspanInFooter},a.$slots)])])]}}),O="translate(0, ".concat(this.scrollHeight,"px)"),k={transform:O,"-ms-transform":O,"-moz-transform":O,"-webkit-transform":O},C=Gg({rowAndColFixedPosition:l,showColumnShadow:this.showColumnShadow,data:this.isVirtual?this.visibleData:u,columns:this.spansAndLeafNodes.leafColumns,tableElm:this.tableRef,tableWidth:this.tableWidth,isWidthOverflow:this.isWidthOverflow,isVirtual:this.isVirtual,translateY:this.translateY,scrollType:this.scrollType,rowHeight:this.rowHeight,trs:this.trs,bufferSize:this.bufferSize,scroll:this.scroll,cellEmptyContent:this.cellEmptyContent,tableContentElm:this.tableContentRef,handleRowMounted:this.handleRowMounted,renderExpandedRow:this.renderExpandedRow},(0,ml.p)(this.$props,Mg)),x=(0,o.Wm)("div",{ref:"tableContentRef",class:this.tableBaseClass.content,style:this.tableContentStyles,onScroll:this.onInnerVirtualScroll},[this.isVirtual&&(0,o.Wm)("div",{class:this.virtualScrollClasses.cursor,style:k},null),(0,o.Wm)("table",{ref:"tableElmRef",class:this.tableElmClasses,style:this.tableElementStyles},[(0,o.Wm)("colgroup",null,[c.map((function(e){var t={width:Lg(a.thWidthList[e.colKey]||e.width)||d};return e.minWidth&&(t.minWidth=Lg(e.minWidth)),(0,o.Wm)("col",{key:e.colKey,style:t},null)}))]),(0,o.Wm)(Hg,{isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams},this.$slots),(0,o.Wm)(Ng,C,this.$slots),(0,o.Wm)(Kg,{rowKey:this.rowKey,isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:l,footData:this.footData,columns:c,rowAttributes:this.rowAttributes,rowClassName:this.rowClassName,footerSummary:this.footerSummary,rowspanAndColspanInFooter:this.rowspanAndColspanInFooter},this.$slots)])]),P=this.renderTNode("loading"),E=void 0!==this.loading&&(0,o.Wm)(So.gb,(0,o.dG)({loading:!!this.loading,text:P?function(){return P}:void 0,attach:this.tableRef?function(){return a.tableRef}:void 0,showOverlay:!0,size:"small"},this.loadingProps),null),T=this.renderTNode("topContent"),I=this.renderTNode("bottomContent"),D=(0,o.Wm)("div",{ref:"paginationRef",class:this.tableBaseClass.paginationWrap,style:{opacity:Number(this.showAffixPagination)}},[this.renderPagination()]),j=!!I&&(0,o.Wm)("div",{class:this.tableBaseClass.bottomContent},[I]);return(0,o.Wm)("div",{ref:"tableRef",class:this.dynamicBaseTableClasses,style:"position: relative"},[!!T&&(0,o.Wm)("div",{class:this.tableBaseClass.topContent},[T]),!(!this.isVirtual&&!this.headerAffixedTop)&&(this.headerAffixedTop?(0,o.Wm)(Me,(0,o.dG)({offsetTop:0},bg(this.headerAffixedTop),{onFixedChange:this.onFixedChange}),$g(b)?b:{default:function(){return[b]}}):this.isFixedHeader&&b),x,S,E,this.showRightDivider&&(0,o.Wm)("div",{class:this.tableBaseClass.scrollbarDivider,style:{right:"".concat(this.scrollbarWidth,"px"),height:"".concat(null===(i=this.tableContentRef)||void 0===i?void 0:i.getBoundingClientRect().height,"px")}},null),j,this.horizontalScrollAffixedBottom&&(0,o.Wm)(Me,(0,o.dG)({offsetBottom:0},bg(this.horizontalScrollAffixedBottom),{style:{marginTop:"-".concat(2*this.scrollbarWidth,"px")}}),{default:function(){return[(0,o.Wm)("div",{ref:"horizontalScrollbarRef",class:["scrollbar",a.tableBaseClass.obviousScrollbar],style:{width:"".concat(a.tableWidth,"px"),overflow:"auto",opacity:Number(a.showAffixFooter)}},[(0,o.Wm)("div",{style:{width:"".concat(a.tableElmWidth,"px"),height:"5px"}},null)])]}}),this.paginationAffixedBottom?(0,o.Wm)(Me,(0,o.dG)({offsetBottom:0},bg(this.paginationAffixedBottom)),$g(D)?D:{default:function(){return[D]}}):D,(0,o.Wm)("div",{ref:"resizeLineRef",class:this.tableBaseClass.resizeLine,style:this.resizeLineStyle},null)])}})),Xg={asyncLoading:{type:[String,Function]},columnController:{type:Object},columnControllerVisible:{type:Boolean,default:void 0},defaultColumnControllerVisible:{type:Boolean,default:void 0},columns:{type:Array,default:function(){return[]}},displayColumns:{type:Array,default:void 0},defaultDisplayColumns:{type:Array},dragSort:{type:String,validator:function(e){return!e||["row","row-handler","col","row-handler-col","drag-col"].includes(e)}},dragSortOptions:{type:Object},editableCellState:{type:Function},editableRowKeys:{type:Array},expandIcon:{type:[Boolean,Function],default:!0},expandOnRowClick:Boolean,expandedRow:{type:[String,Function]},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:function(){return[]}},filterIcon:{type:Function},filterRow:{type:[String,Function]},filterValue:{type:Object,default:void 0},defaultFilterValue:{type:Object},hideSortTips:Boolean,indeterminateSelectedRowKeys:{type:Array},multipleSort:Boolean,selectedRowKeys:{type:Array,default:void 0},defaultSelectedRowKeys:{type:Array,default:function(){return[]}},sort:{type:[Object,Array],default:void 0},defaultSort:{type:[Object,Array]},sortIcon:{type:Function},sortOnRowDraggable:Boolean,onAsyncLoadingClick:Function,onCellClick:Function,onChange:Function,onColumnChange:Function,onColumnControllerVisibleChange:Function,onDataChange:Function,onDisplayColumnsChange:Function,onDragSort:Function,onExpandChange:Function,onFilterChange:Function,onRowEdit:Function,onRowValidate:Function,onSelectChange:Function,onSortChange:Function,onValidate:Function};function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ty={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M11 8a3 3 0 11-6 0 3 3 0 016 0zm-1 0a2 2 0 10-4 0 2 2 0 004 0z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8 1.25l6.06 3.38v6.75L8 14.75l-6.06-3.38V4.63L8 1.25zM2.94 5.21v5.58L8 13.6l5.06-2.82V5.2L8 2.4 2.94 5.21z",fillOpacity:.9}}]},ny=(0,o.aZ)({name:"SettingIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-setting",i.value])),c=(0,o.Fl)((()=>ey(ey({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(ty,s.value)}}),ry=n(715),iy=n(7168),oy={attach:{type:[String,Function],default:""},body:{type:[String,Function],default:""},cancelBtn:{type:[String,Object,Function],default:""},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function],default:""},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"modal",validator:function(e){return!e||["modal","modeless","normal"].includes(e)}},placement:{type:String,default:"top",validator:function(e){return!e||["top","center"].includes(e)}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","info","warning","danger","success"].includes(e)}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function},ay=n(2059);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cy(e){var t=(0,o.FN)(),n=(0,S.sL)(),i=function(t){var n=t.globalConfirm,r=t.theme,i=t.globalConfirmBtnTheme,o=(null===i||void 0===i?void 0:i[r])||"primary",a={theme:o,size:t.size,onClick:function(t){e.confirmBtnAction(t)}};return(0,Jr.i)(n)?a.content=n:(0,D.i)(n)&&(a=uy(uy({},a),n)),a},a=function(t){var n=t.globalCancel,r={theme:"default",size:t.size,onClick:function(t){e.cancelBtnAction(t)}};return(0,Jr.i)(n)?r.content=n:(0,D.i)(n)&&(r=uy(uy({},r),n)),r},l=function(e,t,n){var i=t;return(0,Jr.i)(e)?i.content=e:(0,D.i)(e)&&(i=uy(uy({},i),e)),(0,o.Wm)(r.z,(0,o.dG)({class:n},i),null)},u=function(e){var a=e.confirmBtn,u=e.className;if(null===a)return null;a&&t.slots.confirmBtn&&console.warn("Both $props.confirmBtn and $scopedSlots.confirmBtn exist, $props.confirmBtn is preferred.");var c=i(e);return a||t.slots.confirmBtn?a&&["string","object"].includes((0,Ce._)(a))?l(a,c,u):n("confirmBtn"):(0,o.Wm)(r.z,(0,o.dG)({class:u},c),null)},c=function(e){var i=e.cancelBtn,u=e.className;if(null===i)return null;i&&t.slots.cancelBtn&&console.warn("Both $props.cancelBtn and $scopedSlots.cancelBtn exist, $props.cancelBtn is preferred.");var c=a(e);return i||t.slots.cancelBtn?i&&["string","object"].includes((0,Ce._)(i))?l(i,c):n("cancelBtn"):(0,o.Wm)(r.z,(0,o.dG)({class:u},c),null)};return{getConfirmBtn:u,getCancelBtn:c}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var sy,dy=[],fy=function(e){dy.push(e)},py=function(){dy.pop()},vy={push:fy,pop:py,get top(){return dy[dy.length-1]}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function hy(e){return Number.isNaN(Number(e))?e:"".concat(Number(e),"px")}var my=function(e){sy={x:e.clientX,y:e.clientY},setTimeout((function(){sy=null}),100)};function gy(e){var t=e,n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;t.addEventListener("mousedown",(function(e){var i=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop,a=t.offsetWidth,l=t.offsetHeight;function u(e){var a=e.clientX-i,l=e.clientY-o;a<0&&(a=0),l<0&&(l=0),n-t.offsetWidth-a<0&&(a=n-t.offsetWidth),r-t.offsetHeight-l<0&&(l=r-t.offsetHeight),t.style.position="absolute",t.style.left="".concat(a,"px"),t.style.top="".concat(l,"px")}function c(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)}a>n||l>r||(document.addEventListener("mousemove",u),document.addEventListener("mouseup",c),document.addEventListener("dragend",c))}))}"undefined"!==typeof window&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",my,!0);var yy=(0,o.aZ)({name:"TDialog",directives:{TransferDom:ay.Z,draggable:function(e,t){e&&t&&t.value&&gy(e)}},props:oy,emits:["update:visible"],setup:function(e,t){var n=this,r=(0,w.ws)("dialog"),i=(0,w.ws)("dialog--lock"),a=(0,w.ws)(),l=(0,S.r0)(),u=(0,S.sL)(),c=(0,T.iH)(null),s=(0,T.iH)(null),d=(0,k.Z)("dialog"),f=d.globalConfig,p=(0,it.J)({CloseIcon:Cn.Z,InfoCircleFilledIcon:iy.Z,CheckCircleFilledIcon:fu.Z,ErrorCircleFilledIcon:vu.Z}),v=p.CloseIcon,h=p.InfoCircleFilledIcon,m=p.CheckCircleFilledIcon,g=p.ErrorCircleFilledIcon,y=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t})},b=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),Y({e:t,trigger:"cancel"})},_=cy({confirmBtnAction:y,cancelBtnAction:b}),O=_.getConfirmBtn,C=_.getCancelBtn;fn();var x=(0,T.iH)(0),P=(0,o.Fl)((function(){return"modal"===e.mode})),E=(0,o.Fl)((function(){return"modeless"===e.mode})),I=(0,o.Fl)((function(){return"normal"===e.mode})),D=(0,o.Fl)((function(){return["".concat(r.value,"__mask"),!e.showOverlay&&"".concat(a.value,"-is-hidden")]})),j=(0,o.Fl)((function(){return I.value?[]:["".concat(r.value,"__position"),!!e.top&&"".concat(r.value,"--top"),"".concat(e.placement&&!e.top?"".concat(r.value,"--").concat(e.placement):"")]})),R=(0,o.Fl)((function(){return[!I.value&&"".concat(r.value,"__wrap")]})),A=(0,o.Fl)((function(){var t=e.top,n={};if(void 0!==t){var r=hy(t);n={paddingTop:r}}return n})),M=(0,o.Fl)((function(){var t=["".concat(r.value),"".concat(r.value,"--default"),"".concat(r.value,"--").concat(e.placement),"".concat(r.value,"__modal-").concat(e.theme),E.value&&e.draggable&&"".concat(r.value,"--draggable")];return t})),N=(0,o.Fl)((function(){return{width:hy(e.width)}}));(0,o.YP)((function(){return e.visible}),(function(t){if(t){if(P.value&&!e.showInAttachedElement){if(x.value>0&&e.preventScrollThrough){var n="position: relative;width: calc(100% - ".concat(x.value,"px);");document.body.style.cssText=n}!E.value&&e.preventScrollThrough&&(0,F.cn)(document.body,i.value),(0,o.Y3)((function(){sy&&c.value&&(c.value.style.transformOrigin="".concat(sy.x-c.value.offsetLeft,"px ").concat(sy.y-c.value.offsetTop,"px")),document.activeElement.blur()}))}}else document.body.style.cssText="",(0,F.IV)(document.body,i.value);W(t),V(t)}));var L=(0,o.FN)(),W=function(e){e?vy.push(L.uid):vy.pop()},V=function(t){t?(document.addEventListener("keydown",U),e.confirmOnEnter&&document.addEventListener("keydown",B)):(document.removeEventListener("keydown",U),e.confirmOnEnter&&document.removeEventListener("keydown",B))},B=function(t){var n,r=t.code;"Enter"!==r&&"NumpadEnter"!==r||vy.top!==L.uid||(null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t}))},U=function(t){var n,r;"Escape"===t.code&&vy.top===L.uid&&(null===(n=e.onEscKeydown)||void 0===n||n.call(e,{e:t}),(null!==(r=e.closeOnEscKeydown)&&void 0!==r?r:f.value.closeOnEscKeydown)&&Y({e:t,trigger:"esc"}))},H=function(t){var n,r;e.showOverlay&&(null!==(n=e.closeOnOverlayClick)&&void 0!==n?n:f.value.closeOnOverlayClick)&&(t.target===s.value&&(null===(r=e.onOverlayClick)||void 0===r||r.call(e,{e:t}),Y({e:t,trigger:"overlay"})))},z=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t}),Y({trigger:"close-btn",e:t})},Z=function(){var t;null===(t=e.onOpened)||void 0===t||t.call(e)},K=function(){var t;E.value&&e.draggable&&(c.value.style.position="relative",c.value.style.left="unset",c.value.style.top="unset"),null===(t=e.onClosed)||void 0===t||t.call(e)},Y=function(n){var r;null===(r=e.onClose)||void 0===r||r.call(e,n),t.emit("update:visible",!1)},G=function(e){var t,r=null===(t=n["_events"])||void 0===t?void 0:t[e];return!(null===r||void 0===r||!r.length)},$=function(){var t={info:(0,o.Wm)(h,{class:"".concat(a.value,"-is-info")},null),warning:(0,o.Wm)(g,{class:"".concat(a.value,"-is-warning")},null),danger:(0,o.Wm)(g,{class:"".concat(a.value,"-is-error")},null),success:(0,o.Wm)(m,{class:"".concat(a.value,"-is-success")},null)};return t[e.theme]},J=function(){var t=(0,o.Wm)("h5",{class:"title"},null),n=(0,o.Wm)(v,null,null),i=l("default","body"),a=(0,o.Wm)("div",null,[C({cancelBtn:e.cancelBtn,globalCancel:f.value.cancel,className:"".concat(r.value,"__cancel")}),O({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:f.value.confirm,globalConfirmBtnTheme:f.value.confirmBtnTheme,className:"".concat(r.value,"__confirm")})]),d="default"===e.theme?"".concat(r.value,"__body"):"".concat(r.value,"__body__icon"),p=u("footer",a),h=function(t){E.value&&e.draggable&&t.stopPropagation()};return(0,o.Wm)("div",{class:R.value},[(0,o.Wm)("div",{class:j.value,style:A.value,onClick:H,ref:s},[(0,o.wy)((0,o.Wm)("div",{key:"dialog",class:M.value,style:N.value,ref:c},[(0,o.Wm)("div",{class:"".concat(r.value,"__header"),onmousedown:h},[$(),u("header",t)]),e.closeBtn?(0,o.Wm)("span",{class:"".concat(r.value,"__close"),onClick:z},[u("closeBtn",n)]):null,(0,o.Wm)("div",{class:d,onmousedown:h},[i]),p&&(0,o.Wm)("div",{class:"".concat(r.value,"__footer"),onmousedown:h},[p])]),[[(0,o.Q2)("draggable"),E.value&&e.draggable]])])])};return(0,o.bv)((function(){x.value=window.innerWidth-document.body.offsetWidth})),(0,o.Jd)((function(){V(!1)})),{COMPONENT_NAME:r,scrollWidth:x,isModal:P,isModeLess:E,maskClass:D,dialogClass:M,dialogStyle:N,dialogEle:c,afterEnter:Z,afterLeave:K,hasEventOn:G,renderDialog:J}},render:function(){var e,t=this,n=this.COMPONENT_NAME,r=this.isModal&&(0,o.Wm)("div",{key:"mask",class:this.maskClass},null),i=this.renderDialog(),a=[r,i],l={zIndex:this.zIndex},u=["".concat(n,"__ctx"),(e={},(0,_._)(e,"".concat(n,"__ctx--fixed"),"modal"===this.mode),(0,_._)(e,"".concat(n,"__ctx--absolute"),this.isModal&&this.showInAttachedElement),(0,_._)(e,"".concat(n,"__ctx--modeless"),this.isModeLess),e)];return(0,o.Wm)(cn.uT,{duration:300,name:"".concat(n,"-zoom__vue"),onAfterEnter:this.afterEnter,onAfterLeave:this.afterLeave},{default:function(){return[(!t.destroyOnClose||t.visible)&&(0,o.wy)((0,o.Wm)("div",{class:u,style:l},[a]),[[cn.F8,t.visible],[(0,o.Q2)("transfer-dom"),t.attach]])]}})}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?by(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wy=function(e){var t=_y({},e),n=document.createElement("div"),r=(0,T.iH)(!1),i=t.className,a=(0,o.aZ)({setup:function(e,n){var i=n.expose,a=(0,T.iH)(t);(0,o.bv)((function(){r.value=!0,document.activeElement.blur()}));var l=function(e){a.value=_y(_y({},t),e)};return i({update:l}),function(){var e=t.onClose||function(){r.value=!1};return delete t.className,(0,o.h)(yy,_y({onClose:e,visible:r.value},a.value))}}}),l=(0,cn.ri)(a).mount(n);i&&i.split(" ").forEach((function(e){l.$el.classList.add(e.trim())})),t.style&&(l.$el.style.cssText+=t.style);var u=(0,F.PY)(t.attach);u?u.appendChild(n):console.error("attach is not exist");var c={show:function(){r.value=!0},hide:function(){r.value=!1},update:function(e){l.update(e)},destroy:function(){r.value=!1,setTimeout((function(){n.parentNode.removeChild(n)}),300)}};return c},Sy=function(e){return wy(e)},Oy=function(e){var t=_y({},e);return t.cancelBtn=null,wy(t)},ky={confirm:Sy,alert:Oy},Cy=wy;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ey(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=0,r=e.length;n<r;n++){var i,o=e[n];o.colKey&&t.add(o.colKey),null!==(i=o.children)&&void 0!==i&&i.length&&Ey(o.children,t)}return t}function Ty(e,t){var n=(0,k.Z)("table"),i=n.classPrefix,a=n.globalConfig,l=(0,it.J)({SettingIcon:ny}),u=l.SettingIcon,c=(0,T.BK)(e),s=c.columns,d=c.columnController,f=c.displayColumns,p=c.columnControllerVisible,v=(0,T.iH)(null),h=(0,o.Fl)((function(){var e,t=((null===(e=d.value)||void 0===e?void 0:e.fields)||(0,b._)(Ey(s.value))).filter((function(e){return e}));return new Set(t)})),m=(0,b._)(Ey(s.value)),g=(0,rn.Z)(f,e.defaultDisplayColumns||m,e.onDisplayColumnsChange,"displayColumns"),y=(0,ft._)(g,2),w=y[0],S=y[1],O=(0,T.iH)(f.value||e.defaultDisplayColumns||m),C=(0,o.Fl)((function(){return P(s.value)})),x=(0,o.Fl)((function(){return(0,ry.i)(O.value,(0,b._)(h.value))}));function P(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=function(r,i){var o,a=e[r];a.colKey&&n.push({label:function(){return Xm(t.slots,a,r)},value:a.colKey,disabled:!h.value.has(a.colKey)}),null!==(o=a.children)&&void 0!==o&&o.length&&P(a.children,n)},i=0,o=e.length;i<o;i++)r(i,o);return n}(0,o.YP)([f],(function(t){var n=(0,ft._)(t,1),r=n[0];O.value=r||e.defaultDisplayColumns||m}));var E=function(t,n){var r;O.value=t;var i={columns:t,type:n.type,currentColumn:yg(s.value,String(n.current)),e:n.e};null===(r=e.onColumnChange)||void 0===r||r.call(e,i)},I=function(t,n){if(t){var r,i,o=(null===(r=C.value)||void 0===r?void 0:r.map((function(e){return e.value})))||[];O.value=o,null===(i=e.onColumnChange)||void 0===i||i.call(e,{type:"check",columns:o,e:n.e})}else{var a,l=C.value.filter((function(e){return e.disabled})).map((function(e){return e.value}));O.value=l,null===(a=e.onColumnChange)||void 0===a||a.call(e,{type:"uncheck",columns:l,e:n.e})}},D=function(){var n;v.value=Cy.confirm(Py({header:a.value.columnConfigTitleText,body:function(){var e,t,n="fixed-width"===(null===(e=d.value)||void 0===e?void 0:e.displayType)?"fixed":"auto",r=x.value.length,l=r===h.value.size,u=r>0&&r<h.value.size,c=(0,o.Wm)("div",{class:["".concat(i.value,"-table__column-controller"),"".concat(i.value,"-table__column-controller--").concat(n)]},[(0,o.Wm)("div",{class:"".concat(i.value,"-table__column-controller-body")},[(0,o.Wm)("p",{class:"".concat(i.value,"-table__column-controller-desc")},[a.value.columnConfigDescriptionText]),(0,o.Wm)("div",{class:"".concat(i.value,"-table__column-controller-block")},[(0,o.Wm)(wo.XZ,{indeterminate:u,checked:l,onChange:I},{default:function(){return[a.value.selectAllText]}})]),(0,o.Wm)("div",{class:"".concat(i.value,"-table__column-controller-block")},[(0,o.Wm)(wo.cO,(0,o.dG)({options:C.value},(null===(t=d.value)||void 0===t?void 0:t.checkboxProps)||{},{value:O.value,onChange:E}),null)])])]);return c},confirmBtn:a.value.confirmText,cancelBtn:a.value.cancelText,width:612,onConfirm:function(){var n;(S((0,b._)(O.value)),void 0===p.value)?v.value.hide():(null===(n=e.onColumnControllerVisibleChange)||void 0===n||n.call(e,!1,{trigger:"cancel"}),t.emit("update:columnControllerVisible",!1))},onClose:function(){var n;void 0===p.value?v.value.hide():(null===(n=e.onColumnControllerVisibleChange)||void 0===n||n.call(e,!1,{trigger:"confirm"}),t.emit("update:columnControllerVisible",!1))}},(null===(n=d.value)||void 0===n?void 0:n.dialogProps)||{}))};(0,o.YP)([p],(function(e){var t=(0,ft._)(e,1),n=t[0];void 0!==n&&(v.value?n?v.value.show():v.value.hide():n&&D())}),{immediate:!0});var j=function(){var t,n=!(!d.value||!Object.keys(d.value).length),l=n?d.value.placement||"top-right":"";if(n&&d.value.hideTriggerButton)return null;var c=["".concat(i.value,"-table__column-controller-trigger"),(0,_._)({},"".concat(i.value,"-align-").concat(l),!!l)];return(0,o.Wm)("div",{class:c},[(0,o.Wm)(r.z,(0,o.dG)({theme:"default",variant:"outline",onClick:D,content:a.value.columnConfigButtonText},null===(t=e.columnController)||void 0===t?void 0:t.buttonProps),{icon:function(){return(0,o.Wm)(u,null,null)}})])};return{tDisplayColumns:w,columnCheckboxKeys:O,checkboxOptions:C,renderColumnController:j}}function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Cy.install=function(e){e.config.globalProperties.$dialog=wy,Object.keys(ky).forEach((function(t){e.config.globalProperties.$dialog[t]=ky[t]}))},Object.keys(ky).forEach((function(e){Cy[e]=ky[e]}));var jy={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6.2 5.2L9 8l-2.8 2.8.71.7 3.5-3.5-3.5-3.5-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 118 1a7 7 0 010 14zm0-1A6 6 0 108 2a6 6 0 000 12z",fillOpacity:.9}}]},Ry=(0,o.aZ)({name:"ChevronRightCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-chevron-right-circle",i.value])),c=(0,o.Fl)((()=>Dy(Dy({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(jy,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ay(e,t){var n=(0,T.BK)(e),r=n.expandedRowKeys,i=(0,S.sL)(),a=(0,k.Z)("table"),l=a.t,u=a.globalConfig,c=(0,it.J)({ChevronRightCircleIcon:Ry}),s=c.ChevronRightCircleIcon,d=zm(),f=d.tableExpandClasses,p=d.positiveRotate90,v=d.tableFullRowClasses,h=(0,rn.Z)(r,e.defaultExpandedRowKeys||[],e.onExpandChange,"expandedRowKeys"),m=(0,ft._)(h,2),g=m[0],y=m[1],w=(0,o.Fl)((function(){return Boolean(e.expandedRow||t.slots.expandedRow||t.slots["expanded-row"])})),O=(0,o.Fl)((function(){return!1!==e.expandIcon&&w.value})),C=(0,o.Fl)((function(){var t,n;return"left"===(null===(t=e.columns)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.fixed)})),x=function(t,n){e.expandOnRowClick&&t.stopPropagation();var r=(0,hl.g)(n,e.rowKey||"id"),i=g.value.indexOf(r),o=(0,b._)(g.value);-1!==i?o.splice(i,1):o.push(r),y(o,{expandedRowData:e.data.filter((function(t){return o.includes((0,hl.g)(t,e.rowKey||"id"))})),currentRowData:n})},P=function(t,n){var r=n.row,a=n.rowIndex,c=(0,hl.g)(r,e.rowKey||"id"),d=g.value.includes(c),v=i("expandIcon",{defaultNode:l(u.value.expandIcon)||(0,o.Wm)(s,null,null),params:{row:r,index:a}});if(!v)return null;var h=[f.iconBox,f[d?"expanded":"collapsed"],(0,_._)({},p,d)];return(0,o.Wm)("span",{class:h,onClick:function(e){return x(e,r)}},[v])},E=function(){var e={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:64,className:f.iconCell,fixed:C.value?"left":void 0,cell:P};return e},I=function(t){var n=(0,hl.g)(t.row,e.rowKey||"id");if(!g.value.includes(n))return null;var r=t.isWidthOverflow&&e.columns.find((function(e){return"left"===e.fixed}));return(0,o.Wm)("tr",{key:"expand_".concat(n),class:[f.row,(0,_._)({},v.base,r)]},[(0,o.Wm)("td",{colspan:t.columns.length},[(0,o.Wm)("div",{class:[f.rowInner,(0,_._)({},v.innerFullRow,r)],style:r?{width:"".concat(t.tableWidth,"px")}:{}},[(0,o.Wm)("div",{class:v.innerFullElement},[i("expandedRow",{params:t})])])])])},D=function(e){x(e.e,e.row)};return{showExpandedRow:w,showExpandIconColumn:O,getExpandColumn:E,renderExpandedRow:I,onInnerExpandRowClick:D}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function My(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t){var n=(0,T.BK)(e),r=n.selectedRowKeys,i=n.columns,a=n.data,l=n.rowKey,u=(0,T.iH)(),c=(0,rn.Z)(r,e.defaultSelectedRowKeys||[],e.onSelectChange,"selectedRowKeys"),s=(0,ft._)(c,2),d=s[0],f=s[1],p=(0,T.iH)(new Map),v=(0,o.Fl)((function(){return e.columns.find((function(e){var t=e.type;return["multiple","single"].includes(t)}))})),h=(0,o.Fl)((function(){return a.value.filter((function(e,t){return!g(e,t)}))})),m=(0,o.Fl)((function(){return(0,ry.i)(d.value,h.value.map((function(t){return(0,hl.g)(t,e.rowKey||"id")})))}));function g(e,t){return gg(v.value,e,t)}function y(){return function(){var e=m.value.length>0&&m.value.length<h.value.length,t=0!==m.value.length&&0!==h.value.length&&m.value.length===h.value.length;return(0,o.Wm)(wo.XZ,{checked:t,indeterminate:e,disabled:!h.value.length,onChange:S},null)}}function _(t){var n=t.col,r=t.row,i=void 0===r?{}:r,a=t.rowIndex,l=d.value.includes((0,hl.g)(i,e.rowKey||"id")),u="function"===typeof n.disabled?n.disabled({row:i,rowIndex:a}):n.disabled,c=(0,Re.i)(n.checkProps)?n.checkProps({row:i,rowIndex:a}):n.checkProps,s=My(My({checked:l,disabled:u},c),{},{onClick:function(e){var t;"object"===(0,Ce._)(e)&&"e"in e?null===(t=e.e)||void 0===t||t.stopPropagation():null===e||void 0===e||e.stopPropagation()},onChange:function(){return w(i)}});if("single"===n.type)return(0,o.Wm)(Ps,s,null);if("multiple"===n.type){var f,p=!(null===(f=e.indeterminateSelectedRowKeys)||void 0===f||!f.length)&&e.indeterminateSelectedRowKeys.includes((0,hl.g)(i,e.rowKey));return(0,o.Wm)(wo.XZ,(0,o.dG)({indeterminate:p},s),null)}return null}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,b._)(d.value),r=e.rowKey||"id",i=(0,hl.g)(t,r);p.value.set(i,t);var o=n.indexOf(i),a=-1!==o;if("multiple"===v.value.type)a?n.splice(o,1):n.push(i);else{if("single"!==v.value.type)return void nn.Z.warn("Table","`column.type` must be one of `multiple` and `single`");n=a?[]:[i]}f(n,{selectedRowData:n.map((function(e){return p.value.get(e)})),currentRowKey:i,currentRowData:t,type:a?"uncheck":"check"})}function S(t){for(var n,i=e.rowKey||"id",o=h.value.map((function(e){return(0,hl.g)(e,i)})),u=(null===(n=r.value)||void 0===n?void 0:n.filter((function(e){return!o.includes(e)})))||[],c=t?[].concat((0,b._)(u),(0,b._)(o)):(0,b._)(u),s=0,d=a.value.length;s<d;s++)p.value.set((0,hl.g)(a.value[s],l.value||"id"),a.value[s]);f(c,{selectedRowData:t?c.map((function(e){return p.value.get(e)})):[],type:t?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function O(e){var n=["multiple","single"].includes(e.type);return n?My(My({},e),{},{width:e.width||64,className:t.checkCell,cell:function(e,t){return _(t)},title:"multiple"===e.type?y():""}):e}return(0,o.YP)([a,i,d,v,l],(function(){var n,r=function(e){return v.value.disabled(e)?t.disabled:""},i=null!==(n=v.value)&&void 0!==n&&n.disabled?r:void 0,o=new Set(d.value),a=function(n){var r=n.row,i=(0,hl.g)(r,e.rowKey||"id");return o.has(i)?t.selected:""},l=o.size?a:void 0;u.value=[i,l]}),{immediate:!0}),{selectedRowClassNames:u,formatToRowSelectColumn:O}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ly(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var Wy=(0,o.aZ)({name:"TSorterButton",props:{sortType:{type:String,default:"all"},sortOrder:{type:String,default:function(){return""}},sortIcon:Function,tooltipProps:Object,hideSortTips:Boolean},emits:["sort-icon-click"],setup:function(e,t){var n=zm(),r=n.tableSortClasses,i=n.negativeRotate180,a=(0,S.Mb)(),l=(0,k.Z)("table"),u=l.t,c=l.globalConfig,s=(0,it.J)({ChevronDownIcon:Zr.Z}),d=s.ChevronDownIcon,f=(0,o.Fl)((function(){return"all"===e.sortType?["asc","desc"]:[e.sortType]})),p=function(e,n){t.emit("sort-icon-click",e,{descending:"desc"===n})};return{t:u,globalConfig:c,ChevronDownIcon:d,tableSortClasses:r,negativeRotate180:i,allowSortTypes:f,onSortIconClick:p,renderTNode:a}},methods:{getSortIcon:function(e,t){var n=this,r=this.ChevronDownIcon,i=this.t(this.globalConfig.sortIcon)||(0,o.Wm)(r,null,null),a=this.renderTNode("sortIcon",i),l=[t,this.tableSortClasses.sortIcon,this.tableSortClasses.iconDirection[e],(0,_._)({},this.negativeRotate180,"asc"===e)];return(0,o.Wm)("span",{class:l,onClick:function(t){return n.onSortIconClick(t,e)}},[a])}},render:function(){var e=this,t=this.tableSortClasses,n=[t.trigger,(0,_._)({},t.doubleIcon,this.allowSortTypes.length>1)],r={asc:this.globalConfig.sortAscendingOperationText,desc:this.globalConfig.sortDescendingOperationText},i=this.allowSortTypes.map((function(n){var i,a,l=n===e.sortOrder?t.iconActive:t.iconDefault,u=e.globalConfig.sortCancelOperationText,c=n===e.sortOrder?u:r[n];return(null!==(a=e.hideSortTips)&&void 0!==a?a:e.globalConfig.hideSortTips)?e.getSortIcon(n,l):(0,o.Wm)(wt,(0,o.dG)({content:c,placement:"right"},e.tooltipProps,{showArrow:!1,class:e.tableSortClasses.iconDirection[n]}),Ly(i=e.getSortIcon(n,l))?i:{default:function(){return[i]}})}));return(0,o.Wm)("div",{class:n},[i])}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vy(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uy(e,t){t.emit;var n=t.slots,r=(0,T.BK)(e),i=r.sort,a=r.data,l=(0,T.iH)(),u=(0,rn.Z)(i,e.defaultSort,e.onSortChange,"sort"),c=(0,ft._)(u,2),s=c[0],d=c[1],f=(0,rn.Z)(a,[],e.onDataChange,"data"),p=(0,ft._)(f,2),v=p[0],h=p[1],m=(0,o.Fl)((function(){return _(e.columns)})),g=(0,o.Fl)((function(){var e=s.value;return e?Array.isArray(e)?e:[e]:[]})),y=(0,o.Fl)((function(){var e={};return g.value.forEach((function(t,n){var r=t.sortBy;e[r]=By({index:n},t)})),e}));function _(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=e.length;n<r;n++){var i,o=e[n];(0,Re.i)(o.sorter)&&(t[o.colKey]=o.sorter),null!==(i=o.children)&&void 0!==i&&i.length&&_(o.children,t)}return t}function w(e){var t=e;if(Object.keys(m.value).length){l.value||(l.value=v.value);var n=!t||t instanceof Array&&!t.length,r=!(t instanceof Array)&&!(null!==t&&void 0!==t&&t.sortBy);if(n||r)return h(l.value,{trigger:"sort"}),l.value;var i=t instanceof Array?t:[t],o=v.value.slice().sort((function(e,t){for(var n=0,r=0,o=i.length;r<o;r++){var a=i[r],l=m.value[a.sortBy];if(0!==n||!l)break;n=a.descending?l(t,e):l(e,t)}return n}));if(JSON.stringify(o)!==JSON.stringify(v.value))return h(o,{trigger:"sort"}),o}}function S(t,n){var r,i;if(e.multipleSort)i=C(t,n);else{var o=s.value instanceof Array?s.value[0]:s.value;i=k(t,o,n)}var a=w(i),l=a||v.value,u=l;d(i,{currentDataSource:u,col:t}),null===(r=e.onChange)||void 0===r||r.call(e,{sorter:i},{currentData:l,trigger:"sorter"})}function O(e){if(void 0!==e)return e?"desc":"asc"}function k(e,t,n){if(!t||t.sortBy!==e.colKey||t.descending!==n.descending)return{sortBy:e.colKey,descending:n.descending}}function C(e,t){var n=s.value;if(n instanceof Array){for(var r=e.colKey,i=(0,b._)(n),o=0,a=n.length;o<a;o++)if(n[o].sortBy===r){var l=k(e,n[o],t);return l?i[o]=l:i.splice(o,1),i}return i.push({sortBy:r,descending:t.descending}),i}}function x(t){var r,i=t.col;if(!i.sorter)return null;var a={sortType:i.sortType,sortOrder:O(null===(r=y.value[i.colKey])||void 0===r?void 0:r.descending),sortIcon:e.sortIcon,hideSortTips:e.hideSortTips};return(0,o.Wm)(Wy,(0,o.dG)(a,{onSortIconClick:function(e,t){return S(i,t)}}),{sortIcon:n.sortIcon})}return{renderSortIcon:x}}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hy(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zy={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 3a1 1 0 011-1h10a1 1 0 011 1v1.79l-4.25 2.5V14h-3.5V7.29L2 4.79V3zm11 0H3v1.21l4.25 2.5V13h1.5V6.71L13 4.21V3z",fillOpacity:.9}}]},Ky=(0,o.aZ)({name:"FilterIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-filter",i.value])),c=(0,o.Fl)((()=>zy(zy({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Zy,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $y=(0,o.aZ)({name:"TableFilterController",props:{column:Object,tFilterValue:Object,innerFilterValue:Object,tableFilterClasses:Object,isFocusClass:String,primaryTableElement:{},onVisibleChange:Function},emits:["inner-filter-change","reset","confirm"],setup:function(e){var t=(0,T.iH)(null),n=(0,S.Mb)(),r=(0,k.Z)("table"),i=r.t,o=r.globalConfig,a=(0,it.J)({FilterIcon:Ky}),l=a.FilterIcon,u=(0,T.iH)(!1),c=function(t){var n;u.value=t,null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)};return{t:i,globalConfig:o,FilterIcon:l,filterPopupVisible:u,triggerElementRef:t,renderTNode:n,onFilterPopupVisibleChange:c}},render:function(){var e,t=this,n=function(e){var n,r,i,a=["single","multiple","input"];if(!e.type||a.includes(e.filter.type)){var l={single:Es,multiple:wo.cO,input:Yr.II}[e.filter.type]||e.filter.component;if(l||e.filter.component){var u=Gy(Gy({options:["single","multiple"].includes(e.filter.type)?null===(n=e.filter)||void 0===n?void 0:n.list:void 0},(null===(r=e.filter)||void 0===r?void 0:r.props)||{}),{},{value:null===(i=t.innerFilterValue)||void 0===i?void 0:i[e.colKey],onChange:function(n){t.$emit("inner-filter-change",n,e)}});e.filter.confirmEvents&&e.filter.confirmEvents.forEach((function(n){u[n]=function(){t.$emit("confirm",e),t.filterPopupVisible=!1}}));var c=function(){var n;if(!l)return null;var r=!!l.setup;return"function"!==typeof e.filter.component||r?(0,o.Wm)(l,(0,o.dG)({value:null===(n=t.innerFilterValue)||void 0===n?void 0:n[e.colKey]},u),null):e.filter.component((function(e,t){var n="object"===(0,Ce._)(t)&&"attrs"in t?t.attrs:{};return(0,o.h)(e,{props:Gy(Gy({},u),n)})}))};return(0,o.Wm)("div",{class:t.tableFilterClasses.contentInner},[c()])}}else console.error("TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(a)))},i=function(e){if(e.filter.showConfirmAndReset)return(0,o.Wm)("div",{class:t.tableFilterClasses.bottomButtons},[(0,o.Wm)(r.z,{theme:"default",size:"small",onClick:function(){t.$emit("reset",e),t.filterPopupVisible=!1}},{default:function(){return[t.globalConfig.resetText]}}),(0,o.Wm)(r.z,{theme:"primary",size:"small",onClick:function(){t.$emit("confirm",e),t.filterPopupVisible=!1}},{default:function(){return[t.globalConfig.confirmText]}})])},a=this.column,l=this.FilterIcon;if(!a.filter||a.filter&&!Object.keys(a.filter).length)return null;var u=this.t(this.globalConfig.filterIcon)||(0,o.Wm)(l,null,null);return(0,o.Wm)(ht.G,{attach:this.primaryTableElement?function(){return t.primaryTableElement}:void 0,visible:this.filterPopupVisible,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:this.tableFilterClasses.popup,onVisibleChange:function(e){return t.onFilterPopupVisibleChange(e)},class:[this.tableFilterClasses.icon,(0,_._)({},this.isFocusClass,!(0,lo.i)(null===(e=this.tFilterValue)||void 0===e?void 0:e[a.colKey]))],content:function(){return(0,o.Wm)("div",{class:t.tableFilterClasses.popupContent},[n(a),i(a)])}},{default:function(){return[(0,o.Wm)("div",{ref:"triggerElementRef"},[t.renderTNode("filterIcon",u)])]}})}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jy(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xy(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=r instanceof Array&&r.length,o="object"===(0,Ce._)(r)&&!(r instanceof Array),a=o&&Object.keys(r).length;(i||a||!["null","","undefined"].includes(String(r)))&&(t[n]=r)})),t}function Qy(e,t){var n=(0,T.iH)(null),i=(0,k.Z)("table"),a=i.t,l=i.globalConfig,u=(0,S.Mb)(),c=(0,T.BK)(e),s=c.filterValue,d=zm(),f=d.tableFilterClasses,p=d.isFocusClass,v=(0,T.iH)(),h=(0,rn.Z)(s,e.defaultFilterValue,e.onFilterChange,"filterValue"),m=(0,ft._)(h,2),g=m[0],y=m[1],b=(0,T.iH)(g.value),w=(0,o.Fl)((function(){var e=Xy(g.value||{});return!g.value||!Object.keys(e).length}));function O(){var t,n;if(w.value)return null;var i=(0,o.Wm)("div",{class:f.result},[(0,o.Wm)("span",null,[a(l.value.searchResultText,{result:C(),count:(null===(t=e.pagination)||void 0===t?void 0:t.total)||(null===(n=e.data)||void 0===n?void 0:n.length)})]),(0,o.Wm)(r.z,{theme:"primary",variant:"text",onClick:I},{default:function(){return[l.value.clearFilterResultButtonText]}})]),c=u("filterRow");return e.filterRow&&!c?null:(0,o.Wm)("div",{class:f.inner},[c||i])}function C(){var t=[];return e.columns.filter((function(e){return e.filter})).forEach((function(e){var n=g.value[e.colKey];if(e.filter.list&&!["null","","undefined"].includes(String(n))){var r=n instanceof Array?n:[n],i=[];e.filter.list.forEach((function(e){r.includes(e.value)&&i.push(e.label)})),n=i.join()}n&&t.push("".concat(e.title,"：").concat(n))})),t.join("；")}function x(e,t){var n=qy(qy({},b.value),{},(0,_._)({},t.colKey,e));b.value=n,t.filter.showConfirmAndReset||P(n,t)}function P(t,n){var r;y(t,{col:n}),null===(r=e.onChange)||void 0===r||r.call(e,{filter:t},{trigger:"filter"})}function E(e){var t=qy(qy({},g.value),{},(0,_._)({},e.colKey,{single:"",multiple:[],input:""}[e.filter.type]||e.filter.resetValue||""));P(t,e)}function I(){P({},void 0)}function D(e){P(b.value,e)}function j(r){var i,a=r.col;return(0,o.Wm)($y,{column:a,filterIcon:e.filterIcon,tFilterValue:g.value,innerFilterValue:b.value,tableFilterClasses:f,isFocusClass:p,onReset:E,onConfirm:D,onInnerFilterChange:x,primaryTableElement:null===(i=n.value)||void 0===i?void 0:i.$el,onVisibleChange:A},{filterIcon:t.slots.filterIcon})}function R(e){n.value=e}function A(e){e&&!v.value&&(v.value=!e)}return(0,o.YP)([g],(function(e){var t=(0,ft._)(e,1),n=t[0];b.value=n})),{hasEmptyCondition:w,isTableOverflowHidden:v,renderFilterIcon:j,renderFirstFilterRow:O,setFilterPrimaryTableRef:R}}
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach((function(t){rb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nb(e){return nb="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(e)}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ib(){return ib=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(this,arguments)}function ob(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ab(e,t){if(null==e)return{};var n,r,i=ob(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lb="1.15.0";function ub(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var cb=ub(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),sb=ub(/Edge/i),db=ub(/firefox/i),fb=ub(/safari/i)&&!ub(/chrome/i)&&!ub(/android/i),pb=ub(/iP(ad|od|hone)/i),vb=ub(/chrome/i)&&ub(/android/i),hb={capture:!1,passive:!1};function mb(e,t,n){e.addEventListener(t,n,!cb&&hb)}function gb(e,t,n){e.removeEventListener(t,n,!cb&&hb)}function yb(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function bb(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _b(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&yb(e,t):yb(e,t))||r&&e===n)return e;if(e===n)break}while(e=bb(e))}return null}var wb,Sb=/\s+/g;function Ob(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Sb," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Sb," ")}}function kb(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function Cb(e,t){var n="";if("string"===typeof e)n=e;else do{var r=kb(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function xb(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Pb(){var e=document.scrollingElement;return e||document.documentElement}function Eb(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,l,u,c,s,d;if(e!==window&&e.parentNode&&e!==Pb()?(o=e.getBoundingClientRect(),a=o.top,l=o.left,u=o.bottom,c=o.right,s=o.height,d=o.width):(a=0,l=0,u=window.innerHeight,c=window.innerWidth,s=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!cb))do{if(i&&i.getBoundingClientRect&&("none"!==kb(i,"transform")||n&&"static"!==kb(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(kb(i,"border-top-width")),l-=f.left+parseInt(kb(i,"border-left-width")),u=a+o.height,c=l+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var p=Cb(i||e),v=p&&p.a,h=p&&p.d;p&&(a/=h,l/=v,d/=v,s/=h,u=a+s,c=l+d)}return{top:a,left:l,bottom:u,right:c,width:d,height:s}}}function Tb(e,t,n){var r=Fb(e,!0),i=Eb(e)[t];while(r){var o=Eb(r)[n],a=void 0;if(a="top"===n||"left"===n?i>=o:i<=o,!a)return r;if(r===Pb())break;r=Fb(r,!1)}return!1}function Ib(e,t,n,r){var i=0,o=0,a=e.children;while(o<a.length){if("none"!==a[o].style.display&&a[o]!==Z_.ghost&&(r||a[o]!==Z_.dragged)&&_b(a[o],n.draggable,e,!1)){if(i===t)return a[o];i++}o++}return null}function Db(e,t){var n=e.lastElementChild;while(n&&(n===Z_.ghost||"none"===kb(n,"display")||t&&!yb(n,t)))n=n.previousElementSibling;return n||null}function jb(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Z_.clone||t&&!yb(e,t)||n++;return n}function Rb(e){var t=0,n=0,r=Pb();if(e)do{var i=Cb(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function Ab(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function Fb(e,t){if(!e||!e.getBoundingClientRect)return Pb();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=kb(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Pb();if(r||t)return n;r=!0}}}while(n=n.parentNode);return Pb()}function Mb(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Nb(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Lb(e,t){return function(){if(!wb){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),wb=setTimeout((function(){wb=void 0}),t)}}}function Wb(){clearTimeout(wb),wb=void 0}function Vb(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Bb(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ub="Sortable"+(new Date).getTime();function Hb(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==kb(e,"display")&&e!==Z_.ghost){t.push({target:e,rect:Eb(e)});var n=tb({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=Cb(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(Ab(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,l=Eb(n),u=n.prevFromRect,c=n.prevToRect,s=e.rect,d=Cb(n,!0);d&&(l.top-=d.f,l.left-=d.e),n.toRect=l,n.thisAnimationDuration&&Nb(u,l)&&!Nb(a,l)&&(s.top-l.top)/(s.left-l.left)===(a.top-l.top)/(a.left-l.left)&&(t=Zb(s,u,c,r.options)),Nb(l,a)||(n.prevFromRect=a,n.prevToRect=l,t||(t=r.options.animation),r.animate(n,s,l,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){kb(e,"transition",""),kb(e,"transform","");var i=Cb(this.el),o=i&&i.a,a=i&&i.d,l=(t.left-n.left)/(o||1),u=(t.top-n.top)/(a||1);e.animatingX=!!l,e.animatingY=!!u,kb(e,"transform","translate3d("+l+"px,"+u+"px,0)"),this.forRepaintDummy=zb(e),kb(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),kb(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){kb(e,"transition",""),kb(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function zb(e){return e.offsetWidth}function Zb(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Kb=[],Yb={initializeByDefault:!0},Gb={mount:function(e){for(var t in Yb)Yb.hasOwnProperty(t)&&!(t in e)&&(e[t]=Yb[t]);Kb.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Kb.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";Kb.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](tb({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](tb({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in Kb.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,ib(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return Kb.forEach((function(r){"function"===typeof r.eventProperties&&ib(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return Kb.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function $b(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,a=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,s=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[Ub],t){var h,m=t.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||cb||sb?(h=document.createEvent("Event"),h.initEvent(r,!0,!0)):h=new CustomEvent(r,{bubbles:!0,cancelable:!0}),h.to=a||n,h.from=l||n,h.item=i||n,h.clone=o,h.oldIndex=u,h.newIndex=c,h.oldDraggableIndex=s,h.newDraggableIndex=d,h.originalEvent=f,h.pullMode=p?p.lastPutMode:void 0;var y=tb(tb({},v),Gb.getEventProperties(r,t));for(var b in y)h[b]=y[b];n&&n.dispatchEvent(h),m[g]&&m[g].call(t,h)}}var Jb=["evt"],qb=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=ab(n,Jb);Gb.pluginEvent.bind(Z_)(e,t,tb({dragEl:Qb,parentEl:e_,ghostEl:t_,rootEl:n_,nextEl:r_,lastDownEl:i_,cloneEl:o_,cloneHidden:a_,dragStarted:b_,putSortable:f_,activeSortable:Z_.active,originalEvent:r,oldIndex:l_,oldDraggableIndex:c_,newIndex:u_,newDraggableIndex:s_,hideGhostForTarget:B_,unhideGhostForTarget:U_,cloneNowHidden:function(){a_=!0},cloneNowShown:function(){a_=!1},dispatchSortableEvent:function(e){Xb({sortable:t,name:e,originalEvent:r})}},i))};function Xb(e){$b(tb({putSortable:f_,cloneEl:o_,targetEl:Qb,rootEl:n_,oldIndex:l_,oldDraggableIndex:c_,newIndex:u_,newDraggableIndex:s_},e))}var Qb,e_,t_,n_,r_,i_,o_,a_,l_,u_,c_,s_,d_,f_,p_,v_,h_,m_,g_,y_,b_,__,w_,S_,O_,k_=!1,C_=!1,x_=[],P_=!1,E_=!1,T_=[],I_=!1,D_=[],j_="undefined"!==typeof document,R_=pb,A_=sb||cb?"cssFloat":"float",F_=j_&&!vb&&!pb&&"draggable"in document.createElement("div"),M_=function(){if(j_){if(cb)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),N_=function(e,t){var n=kb(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Ib(e,0,t),o=Ib(e,1,t),a=i&&kb(i),l=o&&kb(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Eb(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Eb(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a["float"]&&"none"!==a["float"]){var s="left"===a["float"]?"left":"right";return!o||"both"!==l.clear&&l.clear!==s?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[A_]||o&&"none"===n[A_]&&u+c>r)?"vertical":"horizontal"},L_=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,l=n?t.right:t.bottom,u=n?t.width:t.height;return r===a||i===l||r+o/2===a+u/2},W_=function(e,t){var n;return x_.some((function(r){var i=r[Ub].options.emptyInsertThreshold;if(i&&!Db(r)){var o=Eb(r),a=e>=o.left-i&&e<=o.right+i,l=t>=o.top-i&&t<=o.bottom+i;return a&&l?n=r:void 0}})),n},V_=function(e){function t(e,n){return function(r,i,o,a){var l=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var u=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},r=e.group;r&&"object"==nb(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},B_=function(){!M_&&t_&&kb(t_,"display","none")},U_=function(){!M_&&t_&&kb(t_,"display","")};j_&&!vb&&document.addEventListener("click",(function(e){if(C_)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),C_=!1,!1}),!0);var H_=function(e){if(Qb){e=e.touches?e.touches[0]:e;var t=W_(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Ub]._onDragOver(n)}}},z_=function(e){Qb&&Qb.parentNode[Ub]._isOutsideThisEl(e.target)};function Z_(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ib({},t),e[Ub]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return N_(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Z_.supportPointer&&"PointerEvent"in window&&!fb,emptyInsertThreshold:5};for(var r in Gb.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in V_(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&F_,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?mb(e,"pointerdown",this._onTapStart):(mb(e,"mousedown",this._onTapStart),mb(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(mb(e,"dragover",this),mb(e,"dragenter",this)),x_.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ib(this,Hb())}function K_(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Y_(e,t,n,r,i,o,a,l){var u,c,s=e[Ub],d=s.options.onMove;return!window.CustomEvent||cb||sb?(u=document.createEvent("Event"),u.initEvent("move",!0,!0)):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=i||t,u.relatedRect=o||Eb(t),u.willInsertAfter=l,u.originalEvent=a,e.dispatchEvent(u),d&&(c=d.call(s,u,a)),c}function G_(e){e.draggable=!1}function $_(){I_=!1}function J_(e,t,n){var r=Eb(Ib(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function q_(e,t,n){var r=Eb(Db(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function X_(e,t,n,r,i,o,a,l){var u=r?e.clientY:e.clientX,c=r?n.height:n.width,s=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(l&&S_<c*i){if(!P_&&(1===w_?u>s+c*o/2:u<d-c*o/2)&&(P_=!0),P_)f=!0;else if(1===w_?u<s+S_:u>d-S_)return-w_}else if(u>s+c*(1-i)/2&&u<d-c*(1-i)/2)return Q_(t);return f=f||a,f&&(u<s+c*o/2||u>d-c*o/2)?u>s+c/2?1:-1:0}function Q_(e){return jb(Qb)<jb(e)?1:-1}function ew(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function tw(e){D_.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&D_.push(r)}}function nw(e){return setTimeout(e,0)}function rw(e){return clearTimeout(e)}Z_.prototype={constructor:Z_,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(__=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,Qb):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(tw(n),!Qb&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!fb||!l||"SELECT"!==l.tagName.toUpperCase())&&(l=_b(l,r.draggable,n,!1),(!l||!l.animated)&&i_!==l)){if(l_=jb(l),c_=jb(l,r.draggable),"function"===typeof c){if(c.call(this,e,l,this))return Xb({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),qb("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=_b(u,r.trim(),n,!1),r)return Xb({sortable:t,rootEl:r,name:"filter",targetEl:l,fromEl:n,toEl:n}),qb("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!_b(u,r.handle,n,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,l=o.ownerDocument;if(n&&!Qb&&n.parentNode===o){var u=Eb(n);if(n_=o,Qb=n,e_=Qb.parentNode,r_=Qb.nextSibling,i_=n,d_=a.group,Z_.dragged=Qb,p_={target:Qb,clientX:(t||e).clientX,clientY:(t||e).clientY},g_=p_.clientX-u.left,y_=p_.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Qb.style["will-change"]="all",r=function(){qb("delayEnded",i,{evt:e}),Z_.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!db&&i.nativeDraggable&&(Qb.draggable=!0),i._triggerDragStart(e,t),Xb({sortable:i,name:"choose",originalEvent:e}),Ob(Qb,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){xb(Qb,e.trim(),G_)})),mb(l,"dragover",H_),mb(l,"mousemove",H_),mb(l,"touchmove",H_),mb(l,"mouseup",i._onDrop),mb(l,"touchend",i._onDrop),mb(l,"touchcancel",i._onDrop),db&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Qb.draggable=!0),qb("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(sb||cb))r();else{if(Z_.eventCanceled)return void this._onDrop();mb(l,"mouseup",i._disableDelayedDrag),mb(l,"touchend",i._disableDelayedDrag),mb(l,"touchcancel",i._disableDelayedDrag),mb(l,"mousemove",i._delayedDragTouchMoveHandler),mb(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&mb(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Qb&&G_(Qb),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;gb(e,"mouseup",this._disableDelayedDrag),gb(e,"touchend",this._disableDelayedDrag),gb(e,"touchcancel",this._disableDelayedDrag),gb(e,"mousemove",this._delayedDragTouchMoveHandler),gb(e,"touchmove",this._delayedDragTouchMoveHandler),gb(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?mb(document,"pointermove",this._onTouchMove):mb(document,t?"touchmove":"mousemove",this._onTouchMove):(mb(Qb,"dragend",this),mb(n_,"dragstart",this._onDragStart));try{document.selection?nw((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(k_=!1,n_&&Qb){qb("dragStarted",this,{evt:t}),this.nativeDraggable&&mb(document,"dragover",z_);var n=this.options;!e&&Ob(Qb,n.dragClass,!1),Ob(Qb,n.ghostClass,!0),Z_.active=this,e&&this._appendGhost(),Xb({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(v_){this._lastX=v_.clientX,this._lastY=v_.clientY,B_();var e=document.elementFromPoint(v_.clientX,v_.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(v_.clientX,v_.clientY),e===t)break;t=e}if(Qb.parentNode[Ub]._isOutsideThisEl(e),t)do{if(t[Ub]){var n=void 0;if(n=t[Ub]._onDragOver({clientX:v_.clientX,clientY:v_.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);U_()}},_onTouchMove:function(e){if(p_){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=t_&&Cb(t_,!0),a=t_&&o&&o.a,l=t_&&o&&o.d,u=R_&&O_&&Rb(O_),c=(i.clientX-p_.clientX+r.x)/(a||1)+(u?u[0]-T_[0]:0)/(a||1),s=(i.clientY-p_.clientY+r.y)/(l||1)+(u?u[1]-T_[1]:0)/(l||1);if(!Z_.active&&!k_){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(t_){o?(o.e+=c-(h_||0),o.f+=s-(m_||0)):o={a:1,b:0,c:0,d:1,e:c,f:s};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");kb(t_,"webkitTransform",d),kb(t_,"mozTransform",d),kb(t_,"msTransform",d),kb(t_,"transform",d),h_=c,m_=s,v_=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!t_){var e=this.options.fallbackOnBody?document.body:n_,t=Eb(Qb,!0,R_,!0,e),n=this.options;if(R_){O_=e;while("static"===kb(O_,"position")&&"none"===kb(O_,"transform")&&O_!==document)O_=O_.parentNode;O_!==document.body&&O_!==document.documentElement?(O_===document&&(O_=Pb()),t.top+=O_.scrollTop,t.left+=O_.scrollLeft):O_=Pb(),T_=Rb(O_)}t_=Qb.cloneNode(!0),Ob(t_,n.ghostClass,!1),Ob(t_,n.fallbackClass,!0),Ob(t_,n.dragClass,!0),kb(t_,"transition",""),kb(t_,"transform",""),kb(t_,"box-sizing","border-box"),kb(t_,"margin",0),kb(t_,"top",t.top),kb(t_,"left",t.left),kb(t_,"width",t.width),kb(t_,"height",t.height),kb(t_,"opacity","0.8"),kb(t_,"position",R_?"absolute":"fixed"),kb(t_,"zIndex","100000"),kb(t_,"pointerEvents","none"),Z_.ghost=t_,e.appendChild(t_),kb(t_,"transform-origin",g_/parseInt(t_.style.width)*100+"% "+y_/parseInt(t_.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;qb("dragStart",this,{evt:e}),Z_.eventCanceled?this._onDrop():(qb("setupClone",this),Z_.eventCanceled||(o_=Bb(Qb),o_.removeAttribute("id"),o_.draggable=!1,o_.style["will-change"]="",this._hideClone(),Ob(o_,this.options.chosenClass,!1),Z_.clone=o_),n.cloneId=nw((function(){qb("clone",n),Z_.eventCanceled||(n.options.removeCloneOnHide||n_.insertBefore(o_,Qb),n._hideClone(),Xb({sortable:n,name:"clone"}))})),!t&&Ob(Qb,i.dragClass,!0),t?(C_=!0,n._loopId=setInterval(n._emulateDragOver,50)):(gb(document,"mouseup",n._onDrop),gb(document,"touchend",n._onDrop),gb(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,Qb)),mb(document,"drop",n),kb(Qb,"transform","translateZ(0)")),k_=!0,n._dragStartId=nw(n._dragStarted.bind(n,t,e)),mb(document,"selectstart",n),b_=!0,fb&&kb(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,a=e.target,l=this.options,u=l.group,c=Z_.active,s=d_===u,d=l.sort,f=f_||c,p=this,v=!1;if(!I_){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=_b(a,l.draggable,o,!0),T("dragOver"),Z_.eventCanceled)return v;if(Qb.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return D(!1);if(C_=!1,c&&!l.disabled&&(s?d||(r=e_!==n_):f_===this||(this.lastPutMode=d_.checkPull(this,c,Qb,e))&&u.checkPut(this,c,Qb,e))){if(i="vertical"===this._getDirection(e,a),t=Eb(Qb),T("dragOverValid"),Z_.eventCanceled)return v;if(r)return e_=n_,I(),this._hideClone(),T("revert"),Z_.eventCanceled||(r_?n_.insertBefore(Qb,r_):n_.appendChild(Qb)),D(!0);var h=Db(o,l.draggable);if(!h||q_(e,i,this)&&!h.animated){if(h===Qb)return D(!1);if(h&&o===e.target&&(a=h),a&&(n=Eb(a)),!1!==Y_(n_,o,Qb,t,a,n,e,!!a))return I(),h&&h.nextSibling?o.insertBefore(Qb,h.nextSibling):o.appendChild(Qb),e_=o,j(),D(!0)}else if(h&&J_(e,i,this)){var m=Ib(o,0,l,!0);if(m===Qb)return D(!1);if(a=m,n=Eb(a),!1!==Y_(n_,o,Qb,t,a,n,e,!1))return I(),o.insertBefore(Qb,m),e_=o,j(),D(!0)}else if(a.parentNode===o){n=Eb(a);var g,y,b=0,_=Qb.parentNode!==o,w=!L_(Qb.animated&&Qb.toRect||t,a.animated&&a.toRect||n,i),S=i?"top":"left",O=Tb(a,"top","top")||Tb(Qb,"top","top"),k=O?O.scrollTop:void 0;if(__!==a&&(g=n[S],P_=!1,E_=!w&&l.invertSwap||_),b=X_(e,a,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,E_,__===a),0!==b){var C=jb(Qb);do{C-=b,y=e_.children[C]}while(y&&("none"===kb(y,"display")||y===t_))}if(0===b||y===a)return D(!1);__=a,w_=b;var x=a.nextElementSibling,P=!1;P=1===b;var E=Y_(n_,o,Qb,t,a,n,e,P);if(!1!==E)return 1!==E&&-1!==E||(P=1===E),I_=!0,setTimeout($_,30),I(),P&&!x?o.appendChild(Qb):a.parentNode.insertBefore(Qb,P?x:a),O&&Vb(O,0,k-O.scrollTop),e_=Qb.parentNode,void 0===g||E_||(S_=Math.abs(g-Eb(a)[S])),j(),D(!0)}if(o.contains(Qb))return D(!1)}return!1}function T(l,u){qb(l,p,tb({evt:e,isOwner:s,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:D,onMove:function(n,r){return Y_(n_,o,Qb,t,n,Eb(n),e,r)},changed:j},u))}function I(){T("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function D(t){return T("dragOverCompleted",{insertion:t}),t&&(s?c._hideClone():c._showClone(p),p!==f&&(Ob(Qb,f_?f_.options.ghostClass:c.options.ghostClass,!1),Ob(Qb,l.ghostClass,!0)),f_!==p&&p!==Z_.active?f_=p:p===Z_.active&&f_&&(f_=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){T("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===Qb&&!Qb.animated||a===o&&!a.animated)&&(__=null),l.dragoverBubble||e.rootEl||a===document||(Qb.parentNode[Ub]._isOutsideThisEl(e.target),!t&&H_(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function j(){u_=jb(Qb),s_=jb(Qb,l.draggable),Xb({sortable:p,name:"change",toEl:o,newIndex:u_,newDraggableIndex:s_,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){gb(document,"mousemove",this._onTouchMove),gb(document,"touchmove",this._onTouchMove),gb(document,"pointermove",this._onTouchMove),gb(document,"dragover",H_),gb(document,"mousemove",H_),gb(document,"touchmove",H_)},_offUpEvents:function(){var e=this.el.ownerDocument;gb(e,"mouseup",this._onDrop),gb(e,"touchend",this._onDrop),gb(e,"pointerup",this._onDrop),gb(e,"touchcancel",this._onDrop),gb(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;u_=jb(Qb),s_=jb(Qb,n.draggable),qb("drop",this,{evt:e}),e_=Qb&&Qb.parentNode,u_=jb(Qb),s_=jb(Qb,n.draggable),Z_.eventCanceled||(k_=!1,E_=!1,P_=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),rw(this.cloneId),rw(this._dragStartId),this.nativeDraggable&&(gb(document,"drop",this),gb(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fb&&kb(document.body,"user-select",""),kb(Qb,"transform",""),e&&(b_&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),t_&&t_.parentNode&&t_.parentNode.removeChild(t_),(n_===e_||f_&&"clone"!==f_.lastPutMode)&&o_&&o_.parentNode&&o_.parentNode.removeChild(o_),Qb&&(this.nativeDraggable&&gb(Qb,"dragend",this),G_(Qb),Qb.style["will-change"]="",b_&&!k_&&Ob(Qb,f_?f_.options.ghostClass:this.options.ghostClass,!1),Ob(Qb,this.options.chosenClass,!1),Xb({sortable:this,name:"unchoose",toEl:e_,newIndex:null,newDraggableIndex:null,originalEvent:e}),n_!==e_?(u_>=0&&(Xb({rootEl:e_,name:"add",toEl:e_,fromEl:n_,originalEvent:e}),Xb({sortable:this,name:"remove",toEl:e_,originalEvent:e}),Xb({rootEl:e_,name:"sort",toEl:e_,fromEl:n_,originalEvent:e}),Xb({sortable:this,name:"sort",toEl:e_,originalEvent:e})),f_&&f_.save()):u_!==l_&&u_>=0&&(Xb({sortable:this,name:"update",toEl:e_,originalEvent:e}),Xb({sortable:this,name:"sort",toEl:e_,originalEvent:e})),Z_.active&&(null!=u_&&-1!==u_||(u_=l_,s_=c_),Xb({sortable:this,name:"end",toEl:e_,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){qb("nulling",this),n_=Qb=e_=t_=r_=o_=i_=a_=p_=v_=b_=u_=s_=l_=c_=__=w_=f_=d_=Z_.dragged=Z_.ghost=Z_.clone=Z_.active=null,D_.forEach((function(e){e.checked=!0})),D_.length=h_=m_=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Qb&&(this._onDragOver(e),K_(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)e=n[r],_b(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ew(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];_b(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _b(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=Gb.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&V_(n)},destroy:function(){qb("destroy",this);var e=this.el;e[Ub]=null,gb(e,"mousedown",this._onTapStart),gb(e,"touchstart",this._onTapStart),gb(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(gb(e,"dragover",this),gb(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),x_.splice(x_.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!a_){if(qb("hideClone",this),Z_.eventCanceled)return;kb(o_,"display","none"),this.options.removeCloneOnHide&&o_.parentNode&&o_.parentNode.removeChild(o_),a_=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(a_){if(qb("showClone",this),Z_.eventCanceled)return;Qb.parentNode!=n_||this.options.group.revertClone?r_?n_.insertBefore(o_,r_):n_.appendChild(o_):n_.insertBefore(o_,Qb),this.options.group.revertClone&&this.animate(Qb,o_),kb(o_,"display",""),a_=!1}}else this._hideClone()}},j_&&mb(document,"touchmove",(function(e){(Z_.active||k_)&&e.cancelable&&e.preventDefault()})),Z_.utils={on:mb,off:gb,css:kb,find:xb,is:function(e,t){return!!_b(e,t,e,!1)},extend:Mb,throttle:Lb,closest:_b,toggleClass:Ob,clone:Bb,index:jb,nextTick:nw,cancelNextTick:rw,detectDirection:N_,getChild:Ib},Z_.get=function(e){return e[Ub]},Z_.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Z_.utils=tb(tb({},Z_.utils),e.utils)),Gb.mount(e)}))},Z_.create=function(e,t){return new Z_(e,t)},Z_.version=lb;var iw,ow,aw,lw,uw,cw,sw=[],dw=!1;function fw(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?mb(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mb(document,"pointermove",this._handleFallbackAutoScroll):t.touches?mb(document,"touchmove",this._handleFallbackAutoScroll):mb(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?gb(document,"dragover",this._handleAutoScroll):(gb(document,"pointermove",this._handleFallbackAutoScroll),gb(document,"touchmove",this._handleFallbackAutoScroll),gb(document,"mousemove",this._handleFallbackAutoScroll)),vw(),pw(),Wb()},nulling:function(){uw=ow=iw=dw=cw=aw=lw=null,sw.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(uw=e,t||this.options.forceAutoScrollFallback||sb||cb||fb){hw(e,this.options,o,t);var a=Fb(o,!0);!dw||cw&&r===aw&&i===lw||(cw&&vw(),cw=setInterval((function(){var o=Fb(document.elementFromPoint(r,i),!0);o!==a&&(a=o,pw()),hw(e,n.options,o,t)}),10),aw=r,lw=i)}else{if(!this.options.bubbleScroll||Fb(o,!0)===Pb())return void pw();hw(e,this.options,Fb(o,!1),!1)}}},ib(e,{pluginName:"scroll",initializeByDefault:!0})}function pw(){sw.forEach((function(e){clearInterval(e.pid)})),sw=[]}function vw(){clearInterval(cw)}var hw=Lb((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,u=t.scrollSpeed,c=Pb(),s=!1;ow!==n&&(ow=n,pw(),iw=t.scroll,i=t.scrollFn,!0===iw&&(iw=Fb(n,!0)));var d=0,f=iw;do{var p=f,v=Eb(p),h=v.top,m=v.bottom,g=v.left,y=v.right,b=v.width,_=v.height,w=void 0,S=void 0,O=p.scrollWidth,k=p.scrollHeight,C=kb(p),x=p.scrollLeft,P=p.scrollTop;p===c?(w=b<O&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),S=_<k&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(w=b<O&&("auto"===C.overflowX||"scroll"===C.overflowX),S=_<k&&("auto"===C.overflowY||"scroll"===C.overflowY));var E=w&&(Math.abs(y-o)<=l&&x+b<O)-(Math.abs(g-o)<=l&&!!x),T=S&&(Math.abs(m-a)<=l&&P+_<k)-(Math.abs(h-a)<=l&&!!P);if(!sw[d])for(var I=0;I<=d;I++)sw[I]||(sw[I]={});sw[d].vx==E&&sw[d].vy==T&&sw[d].el===p||(sw[d].el=p,sw[d].vx=E,sw[d].vy=T,clearInterval(sw[d].pid),0==E&&0==T||(s=!0,sw[d].pid=setInterval(function(){r&&0===this.layer&&Z_.active._onTouchMove(uw);var t=sw[this.layer].vy?sw[this.layer].vy*u:0,n=sw[this.layer].vx?sw[this.layer].vx*u:0;"function"===typeof i&&"continue"!==i.call(Z_.dragged.parentNode[Ub],n,t,e,uw,sw[this.layer].el)||Vb(sw[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=Fb(f,!1)));dw=s}}),30),mw=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,s=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(s)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function gw(){}function yw(){}gw.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=Ib(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:mw},ib(gw,{pluginName:"revertOnSpill"}),yw.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:mw},ib(yw,{pluginName:"removeOnSpill"});Z_.mount(new fw),Z_.mount(yw,gw);var bw=Z_;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function _w(e,t,n){var r=(0,b._)(e);return n-t>0?(r.splice(n+1,0,r[t]),r.splice(t,1)):(r.splice(n,0,r[t]),r.splice(t+1,1)),r}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ow(e,t){var n=(0,T.BK)(e),r=n.sortOnRowDraggable,i=n.dragSort,a=n.data,l=n.rowKey,u=zm(),c=u.tableDraggableClasses,s=u.tableBaseClass,d=u.tableFullRowClasses,f=(0,T.iH)(null),p=(0,T.iH)(e.columns||[]),v=(0,o.Fl)((function(){return p.value.find((function(e){return"drag"===e.colKey}))})),h=(0,o.Fl)((function(){return r.value||"row"===i.value})),m=(0,o.Fl)((function(){return["row-handler","row-handler-col"].includes(i.value)&&!!v.value})),g=(0,o.Fl)((function(){return["col","row-handler-col"].includes(i.value)})),y=(0,T.iH)([]),_=(0,T.iH)([]);e.sortOnRowDraggable&&nn.Z.error("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead."),(0,o.YP)([a],(function(e){var t=(0,ft._)(e,1),n=t[0];y.value=(null===n||void 0===n?void 0:n.map((function(e){return(0,hl.g)(e,l.value)})))||[]}),{immediate:!0}),(0,o.YP)(p,(function(e){_.value=e?e.map((function(e){return e.colKey})):[]}),{immediate:!0});var w=function(n){if(m.value||h.value){var r=null===n||void 0===n?void 0:n.querySelector("tbody");if(!r)return console.error("tbody does not exist."),null;var i=null,l=Sw(Sw({animation:150},e.dragSortOptions),{},{ghostClass:c.ghost,chosenClass:c.chosen,dragClass:c.dragging,filter:".".concat(d.base),onMove:function(e){return!(0,F.pv)(e.related,d.base)},onEnd:function(n){var r,l;null===(r=i)||void 0===r||r.sort(y.value);var u=n.oldIndex,c=n.newIndex;((0,Re.i)(e.firstFullRow)&&e.firstFullRow(o.h)||t.slots.firstFullRow)&&(u-=1,c-=1);var s={data:a.value,currentIndex:u,current:a.value[u],targetIndex:c,target:a.value[c],newData:_w((0,b._)(e.data),u,c),e:n,sort:"row"};s.currentData=s.newData,null===(l=e.onDragSort)||void 0===l||l.call(e,s)}});i=h.value?new bw(r,Sw({},l)):new bw(r,Sw(Sw({},l),{},{handle:".".concat(c.handle)})),y.value=i.toArray()}},S=function(t,n){var r=null,i=Sw(Sw({animation:150},e.dragSortOptions),{},{dataIdAttr:"data-colkey",direction:"vertical",ghostClass:c.ghost,chosenClass:c.chosen,dragClass:c.dragging,handle:".".concat(s.thCellInner),onEnd:function(t){var i,o;n&&(null===(o=r)||void 0===o||o.sort((0,b._)(_.value)));var a=t.oldIndex,l=t.newIndex,u=t.target,c=n?a:l,s=n?l:a,d=u.children[c],f=u.children[s],v=wg(p.value,d.dataset.colkey),h=wg(p.value,f.dataset.colkey);v&&v.colKey||nn.Z.error("Table","colKey is missing in ".concat(JSON.stringify(v))),h&&h.colKey||nn.Z.error("Table","colKey is missing in ".concat(JSON.stringify(h))),c=Sg(e.columns,v.colKey),s=Sg(e.columns,h.colKey);var m={data:p.value,currentIndex:c,current:v,targetIndex:s,target:h,newData:_w((0,b._)(e.columns),c,s),e:t,sort:"col"};m.currentData=m.newData,null===(i=e.onDragSort)||void 0===i||i.call(e,m)}});return r=new bw(t,i),r},O=function(e){if(g.value&&e){var t=e.querySelectorAll("thead > tr");if(t.length<=1){var n=(0,ft._)(t,1),r=n[0],i=S(r,!0);_.value=null===i||void 0===i?void 0:i.toArray()}else t.forEach((function(e){S(e,!1)}))}};function k(e){f.value=e}function C(e){p.value=e}return(0,o.YP)([f],(function(e){var t=(0,ft._)(e,1),n=t[0];if(n&&n.$el){w(n.$el),O(n.$el);var r=setTimeout((function(){n.$refs.affixHeaderRef&&O(n.$refs.affixHeaderRef),clearTimeout(r)}))}})),{isRowDraggable:h,isRowHandlerDraggable:m,isColDraggable:g,setDragSortPrimaryTableRef:k,setDragSortColumns:C}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function kw(e,t){var n=(0,S.sL)(),r=(0,k.Z)("table"),i=r.globalConfig,a=zm(),l=a.isLoadingClass,u=a.isLoadMoreClass,c=a.asyncLoadingClass,s=(0,o.Fl)((function(){var t;return[c,(t={},(0,_._)(t,l,"loading"===e.asyncLoading),(0,_._)(t,u,"load-more"===e.asyncLoading),t)]}));function d(){var t;"string"===typeof e.asyncLoading&&(null===(t=e.onAsyncLoadingClick)||void 0===t||t.call(e,{status:e.asyncLoading}))}function f(){var t=n("asyncLoading");if((0,Jr.i)(t)){var r=e.asyncLoading,a={"load-more":i.value.loadingMoreText,loading:i.value.loadingText}[String(r)];return(0,o.Wm)("div",{class:s.value,onClick:d},[(0,o.Wm)(So.gb,{loading:"loading"===r,size:"small",text:a},null)])}return[null,!1,void 0].includes(t)?null:(0,o.Wm)("div",{class:s.value,onClick:d},[t])}return{renderAsyncLoading:f}}function Cw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cw(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pw={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"g",attrs:{fill:"currentColor",opacity:.9,fillOpacity:.9},children:[{tag:"path",attrs:{d:"M14.13 4.95L10.9 1.71l.7-.71 3.25 3.24-.7.71zM5.97 13.11l-3.61.72a.3.3 0 01-.35-.35l.72-3.61 7.3-7.3 3.24 3.24-7.3 7.3zm5.89-7.3l-1.83-1.83-6.38 6.38-.46 2.29 2.29-.46 6.38-6.38zM15 11h-4v1h4v-1zM15 13H8.5v1H15v-1z"}}]}]},Ew=(0,o.aZ)({name:"Edit1Icon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-edit-1",i.value])),c=(0,o.Fl)((()=>xw(xw({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Pw,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tw(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dw=(0,o.aZ)({name:"TableEditableCell",props:{row:Object,rowIndex:Number,col:Object,colIndex:Number,oldCell:[Function,String],tableBaseClass:Object,cellEmptyContent:[Function,String],editable:{type:Boolean,default:void 0},readonly:{type:Boolean},errors:{type:Array,default:void 0},onChange:Function,onValidate:Function,onRuleChange:Function},setup:function(e,t){var n,r=(0,T.BK)(e),i=r.row,a=r.col,l=(0,T.iH)(null),u=(0,T.iH)((null===(n=e.col.edit)||void 0===n?void 0:n.defaultEditable)||!1),c=(0,T.iH)(),s=(0,T.iH)(),d=(0,it.J)({Edit1Icon:Ew}),f=d.Edit1Icon,p=(0,o.Fl)((function(){var e=Iw({},i.value);return yu(e,a.value.colKey,c.value),e})),v=(0,o.Fl)((function(){var n=jg({row:p.value,col:Iw(Iw({},a.value),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},t.slots,{cellEmptyContent:e.cellEmptyContent});return n})),h=(0,o.Fl)((function(){var t,n=a.value.edit;if(!n)return{};var r=(0,Re.i)(n.props)?n.props({col:a.value,row:i.value,rowIndex:e.rowIndex,colIndex:e.colIndex,editedRow:p.value}):Iw({},n.props);return delete r.onChange,delete r.value,null===(t=n.abortEditOnEvent)||void 0===t||t.forEach((function(e){delete r[e]})),r})),m=(0,o.Fl)((function(){var e,t=a.value.edit;return!!t&&Boolean(null===(e=t.abortEditOnEvent)||void 0===e?void 0:e.includes("onChange"))})),g=function(t){return new Promise((function(n){var r,i,o={result:[{col:e.col,row:e.row,colIndex:e.colIndex,rowIndex:e.rowIndex,errorList:[],value:c.value}],trigger:t};if(!a.value.edit||!a.value.edit.rules)return null===(i=e.onValidate)||void 0===i||i.call(e,o),void n(!0);Wu(c.value,null===(r=a.value.edit)||void 0===r?void 0:r.rules).then((function(t){var r,i=null===t||void 0===t?void 0:t.filter((function(e){return!e.result}));o.result[0].errorList=i,null===(r=e.onValidate)||void 0===r||r.call(e,o),i&&i.length?(s.value=i,n(i)):n(!0)}))}))},y=function(e,t){return"object"===(0,Ce._)(e)&&"object"===(0,Ce._)(t)?JSON.stringify(e)===JSON.stringify(t):e===t},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];g("self").then((function(t){if(!0===t){var r=(0,hl.g)(i.value,a.value.colKey);y(c.value,r)||(c.value=r,null===e||void 0===e||e.apply(void 0,n));var o=setTimeout((function(){u.value=!1,s.value=[],clearTimeout(o)}),0)}}))},S=(0,o.Fl)((function(){var t,n=a.value.edit,r=void 0===e.editable;if(u.value&&r){if(null===n||void 0===n||null===(t=n.abortEditOnEvent)||void 0===t||!t.length)return{};var i={},o=null===n||void 0===n?void 0:n.onEdited;return n.abortEditOnEvent.forEach((function(t){"onChange"!==t&&(i[t]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];w.apply(void 0,[o,{trigger:t,newRowData:p.value,rowIndex:e.rowIndex}].concat(r))})})),i}})),O=function(t){var n,r;c.value=t;var i={row:e.row,rowIndex:e.rowIndex,value:t,col:e.col,colIndex:e.colIndex,editedRow:Iw(Iw({},e.row),{},(0,_._)({},e.col.colKey,t))};null===(n=e.onChange)||void 0===n||n.call(e,i),null===(r=e.onRuleChange)||void 0===r||r.call(e,i);var o=void 0===e.editable;if(o&&m.value){for(var l,u=null===(l=a.value.edit)||void 0===l?void 0:l.onEdited,s=arguments.length,d=new Array(s>1?s-1:0),f=1;f<s;f++)d[f-1]=arguments[f];w.apply(void 0,[u,{trigger:"onChange",newRowData:p.value,rowIndex:e.rowIndex}].concat(d))}},k=function(t){var n,r;if(a.value.edit&&a.value.edit.component&&u.value&&(null===(n=t.path)||void 0===n||!n.includes(null===(r=l.value)||void 0===r?void 0:r.$el))){for(var i=0,o=t.path.length;i<o;i++){var c,s,d=t.path[i];if(null!==(c=d.classList)&&void 0!==c&&null!==(s=c.value)&&void 0!==s&&s.includes("popup__content"))return}var f=a.value.edit.onEdited;w(f,{trigger:"document",newRowData:p.value,rowIndex:e.rowIndex})}},C=(0,o.Fl)((function(){return(0,hl.g)(i.value,a.value.colKey)}));return(0,o.YP)(C,(function(e){var t=e;"object"===(0,Ce._)(t)&&null!==t&&(t=t instanceof Array?(0,b._)(t):Iw({},t)),c.value=t}),{immediate:!0}),(0,o.YP)(u,(function(t){var n=void 0===e.editable;a.value.edit&&a.value.edit.component&&n&&(t?document.addEventListener("click",k):document.removeEventListener("click",k))}),{immediate:!0}),(0,o.YP)((function(){return e.editable}),(function(){if(!1===e.editable)c.value=C.value;else if(!0===e.editable){var t;null===(t=e.onRuleChange)||void 0===t||t.call(e,{col:a.value,row:i.value,rowIndex:e.rowIndex,colIndex:e.colIndex,value:C.value,editedRow:i.value})}}),{immediate:!0}),(0,o.YP)((function(){return e.errors}),(function(){s.value=e.errors})),function(){var t,n,r,i,l,d;if(e.readonly)return v.value;if(void 0===e.editable&&!u.value||!1===e.editable)return(0,o.Wm)("div",{class:e.tableBaseClass.cellEditable,onClick:function(e){u.value=!0,e.stopPropagation()}},[v.value,!1!==(null===(d=a.value.edit)||void 0===d?void 0:d.showEditIcon)&&(0,o.Wm)(f,{size:"12px"},null)]);var p=null===(t=a.value.edit)||void 0===t?void 0:t.component;if(!p)return nn.Z.error("Table","edit.component is required."),null;var m=null===(n=s.value)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.message;return(0,o.Wm)("div",{class:e.tableBaseClass.cellEditWrap,onClick:function(e){e.stopPropagation()}},[(0,o.Wm)(p,(0,o.dG)({ref:"tableEditableCellRef",status:m?(null===(i=s.value)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.type)||"error":void 0,tips:m},h.value,S.value,{value:c.value,onChange:O}),null)])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Aw=new Map;function Fw(e){var t=(0,T.iH)({}),n=(0,o.Fl)((function(){return _g(e.editableRowKeys,e.data,e.rowKey||"id")})),r=function(t){var n={};return t.forEach((function(t){var r=t.row,i=t.col,o=t.errorList,a=(0,hl.g)(r,e.rowKey||"id"),l=[a,i.colKey].join("__");null!==o&&void 0!==o&&o.length?n[l]=o:delete n[l]})),n},i=function(e){var t=Aw.get(e);if(t){var n=t.map((function(e){return new Promise((function(t){var n=e.editedRow,r=e.col;r.edit&&r.edit.rules&&r.edit.rules.length?Wu(n[r.colKey],r.edit.rules).then((function(n){t(Rw(Rw({},e),{},{errorList:n.filter((function(e){return!e.result}))}))})):t(Rw(Rw({},e),{},{errorList:[]}))}))}));return new Promise((function(e,t){Promise.all(n).then((function(t){e({errors:t.filter((function(e){var t;return null===(t=e.errorList)||void 0===t?void 0:t.length})),errorMap:r(t)})}),t)}))}},a=function(n){return new Promise((function(r,o){i(n).then((function(n){var i,o=n.errors,a=n.errorMap;t.value=a;var l="parent";null===(i=e.onRowValidate)||void 0===i||i.call(e,{trigger:l,result:o}),r({trigger:l,result:o})}),o)}))},l=function(){for(var n=[],r=e.data||[],o=0,a=r.length;o<a;o++){var l=(0,hl.g)(r[o],e.rowKey||"id");n.push(i(l))}return new Promise((function(r,i){Promise.all(n).then((function(n){var i,o={};n.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errors:[],errorMap:{}},t=e.errorMap;t&&Object.assign(o,t)})),t.value=o,null===(i=e.onValidate)||void 0===i||i.call(e,{result:o}),r({result:o})}),i)}))},u=function(t){if(e.editableRowKeys){var n=(0,hl.g)(t.row,e.rowKey||"id"),r=Aw.get(n);if(r){var i=r.findIndex((function(e){return e.col.colKey===t.col.colKey}));-1===i?r.push(t):r[i]=t,Aw.set(n,r)}else Aw.set(n,[t])}},c=function(){t.value={}};return{errorListMap:t,editableKeysMap:n,validateTableData:l,validateRowData:a,onRuleChange:u,clearValidateData:c}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mw(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lw=["hideSortTips","dragSort","defaultExpandedRowKeys","defaultSelectedRowKeys","columnController","filterRow","sortOnRowDraggable","expandOnRowClick","multipleSort","expandIcon","onChange","onAsyncLoadingClick","onColumnChange","onColumnControllerVisibleChange","onDataChange","onDisplayColumnsChange","onDragSort","onExpandChange","onFilterChange","onSelectChange","onSortChange"],Ww=(0,o.aZ)({name:"TPrimaryTable",props:Nw(Nw({},Wm),Xg),setup:function(e,t){var n=(0,S.sL)(),r=(0,T.BK)(e),i=r.columns,a=r.columnController,l=(0,T.iH)(null),u=zm(),c=u.tableDraggableClasses,s=u.tableBaseClass,d=u.tableSelectedClasses,f=Ty(e,t),p=f.tDisplayColumns,v=f.renderColumnController,h=Ay(e,t),m=h.showExpandedRow,g=h.showExpandIconColumn,y=h.getExpandColumn,b=h.renderExpandedRow,w=h.onInnerExpandRowClick,O=Uy(e,t),k=O.renderSortIcon,C=Ny(e,d),x=C.formatToRowSelectColumn,P=C.selectedRowClassNames,E=Qy(e,t),I=E.hasEmptyCondition,D=E.isTableOverflowHidden,j=E.renderFilterIcon,R=E.renderFirstFilterRow,A=E.setFilterPrimaryTableRef,F=Ow(e,t),M=F.isRowHandlerDraggable,N=F.isRowDraggable,L=F.isColDraggable,W=F.setDragSortPrimaryTableRef,V=F.setDragSortColumns,B=Qm(e),U=B.renderTitleWidthIcon,H=kw(e,t),z=H.renderAsyncLoading,Z=Fw(e),K=Z.errorListMap,Y=Z.editableKeysMap,G=Z.validateRowData,$=Z.validateTableData,J=Z.onRuleChange,q=Z.clearValidateData,X=(0,o.Fl)((function(){var t;return t={},(0,_._)(t,c.colDraggable,L.value),(0,_._)(t,c.rowHandlerDraggable,M.value),(0,_._)(t,c.rowDraggable,N.value),(0,_._)(t,s.overflowVisible,!1===D.value),(0,_._)(t,s.tableRowEdit,e.editableRowKeys),t})),Q=(0,o.Fl)((function(){var t=[e.rowClassName,P.value];return t.filter((function(e){return e}))})),ee=(0,o.Fl)((function(){var t=[e.rowAttributes];return(M.value||N.value)&&t.push((function(t){var n=t.row;return{"data-id":(0,hl.g)(n,e.rowKey||"id")}})),t.filter((function(e){return e}))}));(0,o.bv)((function(){A(l.value),W(l.value)})),t.expose({validateRowData:G,validateTableData:$,clearValidateData:q,refreshTable:function(){l.value.refreshTable()}});var te=function n(r){for(var i=[],a=function(a,u){var c,d,f,v,h,m=Nw({},r[a]),g=(null===(c=m.children)||void 0===c?void 0:c.length)||(null===(d=p.value)||void 0===d?void 0:d.includes(m.colKey));if(!g&&e.columnController)return"continue";if(m=x(m),m.sorter||m.filter){var y=Xm(t.slots,m,a),b=m,_=b.ellipsisTitle;m.title=function(e,t){var n,r=m.sorter?k(t):null,i=m.filter?j(t):null,o=null===(n=l.value)||void 0===n?void 0:n.tableContentRef;return U([y,r,i],t.col,t.colIndex,_,o)},m.ellipsisTitle=!1}if(null!==(f=m.edit)&&void 0!==f&&f.component){var w=m.cell;m.cell=function(n,r){var i=Nw(Nw({},r),{},{oldCell:w,tableBaseClass:s,cellEmptyContent:e.cellEmptyContent,onChange:e.onRowEdit,onValidate:e.onRowValidate,onRuleChange:J});if(e.editableRowKeys){var a,l=(0,hl.g)(r.row,e.rowKey||"id");i.editable=Y.value[l]||!1;var u=[l,r.col.colKey].join("__"),c=null===(a=K.value)||void 0===a?void 0:a[u];c&&(i.errors=c)}return e.editableCellState&&(i.readonly=!e.editableCellState(r)),(0,o.Wm)(Dw,i,t.slots)}}null!==(v=m.children)&&void 0!==v&&v.length&&(m.children=n(m.children)),(!m.children||null!==(h=m.children)&&void 0!==h&&h.length)&&i.push(m)},u=0,c=r.length;u<c;u++)a(u,c);return i},ne=(0,o.Fl)((function(){var e=te(i.value);return g.value&&e.unshift(y()),e})),re=function(t,n){var r,i;null===(r=e.onPageChange)||void 0===r||r.call(e,t,n);var o=[{pagination:t},{trigger:"pagination",currentData:n}];null===(i=e.onChange)||void 0===i||i.call.apply(i,[e].concat(o))};return function(){var r=function(t,r,i,a){if(!i)return e[t];var l=r(o.h),u=n(t);return l&&!u?function(){return l}:u&&!l?function(){return u}:l&&u?function(){return null!==a&&void 0!==a&&a.reverse?(0,o.Wm)("div",null,[l,u]):(0,o.Wm)("div",null,[u,l])}:null},i=!(!a.value||!Object.keys(a.value).length),u=i?a.value.placement||"top-right":"",c=i&&-1!==(null===u||void 0===u?void 0:u.indexOf("bottom")),s=r("topContent",v,i&&!c),d=r("bottomContent",v,c,{reverse:!0}),f=r("firstFullRow",R,!I.value),p=r("lastFullRow",z,!!e.asyncLoading),h=Nw(Nw({},(0,ao.o)(e,Lw)),{},{rowClassName:Q.value,rowAttributes:ee.value,columns:ne.value,topContent:s,bottomContent:d,firstFullRow:f,lastFullRow:p,onPageChange:re,renderExpandedRow:m.value?b:void 0});return e.expandOnRowClick&&(h.onRowClick=w),(0,o.Wm)(qg,(0,o.dG)({ref:l},h,{class:X.value,onLeafColumnsChange:V}),t.slots)}}}),Vw={beforeDragSort:{type:Function},tree:{type:Object},treeExpandAndFoldIcon:{type:Function},onAbnormalDragSort:Function,onTreeExpandChange:Function};function Bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bw(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hw={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 11V8.5H5v-1h2.5V5h1v2.5H11v1H8.5V11h-1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M3 14a1 1 0 01-1-1V3a1 1 0 011-1h10a1 1 0 011 1v10a1 1 0 01-1 1H3zm0-1h10V3H3v10z",fillOpacity:.9}}]},zw=(0,o.aZ)({name:"AddRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-add-rectangle",i.value])),c=(0,o.Fl)((()=>Uw(Uw({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Hw,s.value)}});function Zw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zw(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yw={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M5 8.5h6v-1H5v1z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M3 14a1 1 0 01-1-1V3a1 1 0 011-1h10a1 1 0 011 1v10a1 1 0 01-1 1H3zm0-1h10V3H3v10z",fillOpacity:.9}}]},Gw=(0,o.aZ)({name:"MinusRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-minus-rectangle",i.value])),c=(0,o.Fl)((()=>Kw(Kw({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(Yw,s.value)}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$w(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qw={code:1001,reason:"The same level of rows can not be swapped."},Xw=function(){function e(){$t(this,e),(0,_._)(this,"treeDataMap",new Map),(0,_._)(this,"expandAllRowIndex",void 0),this.treeDataMap=new Map}return qt(e,[{key:"initialTreeStore",value:function(e,t,n){var r;null===(r=this.treeDataMap)||void 0===r||r.clear(),this.initialTreeDataMap(this.treeDataMap,e,t[0],n)}},{key:"getAllUniqueKeys",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++){var o=e[r];n.push((0,hl.g)(o,t.rowKey));var a=(0,hl.g)(o,t.childrenKey);null!==a&&void 0!==a&&a.length&&this.getAllUniqueKeys(a,t,n)}return n}},{key:"toggleExpandData",value:function(e,t,n){if(!e)return nn.Z.error("EnhancedTable","the node you want to toggleExpand doest not exist in `data`"),t;var r=(0,hl.g)(e.row,n.rowKey);if(void 0===r)return nn.Z.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`."),[];var i=(0,hl.g)(e.row,n.childrenKey);if(!0===i)return t;var o=this.treeDataMap.get(r);return o.rowIndex=e.rowIndex,o.expanded=!o.expanded,this.treeDataMap.set(r,o),this.updateExpandRow(o,t,n)}},{key:"updateExpandRow",value:function(e,t,n){var r=e.row,i=e.rowIndex,o=e.expanded,a=this.treeDataMap,l=(0,hl.g)(r,n.childrenKey);if(r&&l){if(o)tS(a,e,o,n),Qw(a,r,l.length,"expand",n),t.splice.apply(t,[i+1,0].concat(l));else{tS(a,e,o,n);var u=e.expandChildrenLength||l.length;Qw(a,r,-1*u,"fold",n),t.splice(i+1,u)}return rS(a,t,{rowKey:n.rowKey,minRowIndex:i+1}),t}}},{key:"getData",value:function(e){return this.treeDataMap.get(e)}},{key:"updateData",value:function(e,t,n,r){var i=(0,hl.g)(t,r.rowKey),o=this.treeDataMap.get(e);if(o&&-1!==o.rowIndex){if(!0===(0,hl.g)(t,r.childrenKey)){var a=(0,hl.g)(o.row,r.childrenKey);if(null!==a&&void 0!==a&&a.length)for(var l=0,u=a.length;l<u;l++){var c=(0,hl.g)(a[l],r.rowKey),s=this.treeDataMap.get(c);s&&this.treeDataMap["delete"](c)}}var d=o.rowIndex;if(o.row=t,o.id=i,o.parent){var f=(0,hl.g)(o.parent.row,r.childrenKey),p=f.findIndex((function(t){return(0,hl.g)(t,r.rowKey)===e}));f[p]=t}return this.treeDataMap.set(i,o),e!==i&&this.treeDataMap["delete"](e),d}nS(n,e,t,{rowKey:r.rowKey,childrenKey:r.childrenKey})}},{key:"remove",value:function(e,t,n){var r=this.treeDataMap.get(e);if(r&&r.rowIndex>=0){var i=(r.expandChildrenLength||0)+1;if(t.splice(r.rowIndex,i),r.parent){var o=(0,hl.g)(r.parent.row,n.childrenKey),a=o.findIndex((function(t){return(0,hl.g)(t,n.rowKey)===e}));o.splice(a,1),Qw(this.treeDataMap,r.parent.row,-1*i,"delete",n)}this.treeDataMap["delete"](e),rS(this.treeDataMap,t,{minRowIndex:r.rowIndex,rowKey:n.rowKey,type:"remove"})}else console.warn("TDesign Table Warn: Do not remove this node, which is not appeared.");return t}},{key:"appendTo",value:function(e,t,n,r){var i=this.treeDataMap.get(e);if(!this.validateDataExist(i,e))return n;for(var o=(0,hl.g)(i.row,r.childrenKey),a=i.expanded||!(null!==o&&void 0!==o&&o.length),l=t instanceof Array?t:[t],u=[],c=[],s=-1,d=0,f=l.length;d<f;d++){var p=l[d],v=(0,hl.g)(p,r.rowKey),h=this.treeDataMap.get(v);if(this.validateDataDoubleExist(h,v)){var m=a?i.rowIndex+(i.expandChildrenLength||0)+(d+1):-1;0===d&&(s=m);var g={id:v,row:p,rowIndex:m,level:i.level+1,expanded:!1,expandChildrenLength:0,disabled:!1,path:(0,b._)(i.path),parent:i};g.path=g.path.concat(g),u.push(p),c.push(g),this.treeDataMap.set(v,g)}else nn.Z.warn("Table","Duplicated Data `".concat(v,"` has been removed."))}if(!u.length)return n;if(null!==o&&void 0!==o&&o.length?i.row[r.childrenKey]=i.row[r.childrenKey].concat(u):(i.row[r.childrenKey]=u,i.expanded=!0),a){n.splice.apply(n,[s,0].concat(u));var y=u.length||1;Qw(this.treeDataMap,i.row,y,"insert",{rowKey:r.rowKey,childrenKey:r.childrenKey}),rS(this.treeDataMap,n,{minRowIndex:s+u.length-1,rowKey:r.rowKey,type:"add",count:1})}return n}},{key:"appendToRoot",value:function(e,t,n){for(var r=t.concat(e),i=e instanceof Array?e:[e],o=t.length,a=0,l=i.length;a<l;a++){var u=(0,hl.g)(i[a],n.rowKey);if(u){var c={id:u,row:i[a],rowIndex:o+a,level:0,expanded:!1,expandChildrenLength:0,disabled:!1};c.path=[c],this.treeDataMap.set(u,c)}else nn.Z.error("Table","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.")}return r}},{key:"insertAfter",value:function(e,t,n,r){return this.insert(e,t,n,r,"after")}},{key:"insertBefore",value:function(e,t,n,r){return this.insert(e,t,n,r,"before")}},{key:"insert",value:function(e,t,n,r,i){var o=this.treeDataMap.get(e);if(!this.validateDataExist(o,e))return n;var a=(0,hl.g)(t,r.rowKey),l=this.treeDataMap.get(a);if(!this.validateDataDoubleExist(l,a))return n;var u="after"===i?o.rowIndex+1:o.rowIndex,c={id:a,row:t,rowIndex:u,level:o.level,expanded:!1,expandChildrenLength:0,disabled:!1,path:o.path.slice(0,-1),parent:o.parent};c.path=c.path.concat(c);var s="after"===i?o.rowIndex+(o.expandChildrenLength+1):o.rowIndex;n.splice(s,0,t);var d="after"===i?1:0;if(o.parent){var f=o.parent.row[r.childrenKey].findIndex((function(t){return e===(0,hl.g)(t,r.rowKey)}));o.parent.row[r.childrenKey].splice(f+d,0,t),Qw(this.treeDataMap,o.parent.row,1,"insert",r)}return this.treeDataMap.set(a,c),rS(this.treeDataMap,n,{rowKey:r.rowKey,minRowIndex:o.rowIndex+1,type:"add"}),n}},{key:"swapData",value:function(e,t,n){var r=t.currentIndex,i=t.targetIndex;if(r===i)return{dataSource:e,result:!0};var o=(0,hl.g)(t.current,n.rowKey),a=(0,hl.g)(t.target,n.rowKey),l=this.treeDataMap.get(o),u=this.treeDataMap.get(a);if(l.level!==u.level)return{dataSource:e,result:!1,code:qw.code,reason:qw.reason};var c=r+l.expandChildrenLength+1,s=i+u.expandChildrenLength+1,d=e.slice(r,c),f=e.slice(i,s);if(r>i){var p=e.slice(s,r),v=d.concat(f,p);e.splice(i,v.length),e.splice.apply(e,[i,0].concat((0,b._)(v))),rS(this.treeDataMap,e,{rowKey:n.rowKey,minRowIndex:i,maxRowIndex:c})}else{var h=e.slice(c,i),m=h.concat(f,d);e.splice(r,m.length),e.splice.apply(e,[r,0].concat((0,b._)(m))),rS(this.treeDataMap,e,{rowKey:n.rowKey,minRowIndex:r,maxRowIndex:s})}if(l.parent){for(var g=l.parent.row[n.childrenKey],y=0,_=-1,w=-1,S=0,O=g.length;S<O;S++)if((0,hl.g)(g[S],n.rowKey)===o&&(_=S,y+=1),(0,hl.g)(g[S],n.rowKey)===a&&(w=S,y+=1),y>=2)break;g[_]=t.target,g[w]=t.current}return{dataSource:e,result:!0}}},{key:"expandAll",value:function(e,t){var n=this;this.expandAllRowIndex=0;var r=function e(t,r){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=0,u=t.length;l<u;l++){var c=t[l],s=(0,hl.g)(c,r.rowKey),d=n.treeDataMap.get(s),f=(0,hl.g)(c,r.childrenKey),p=d.expanded;if(d.rowIndex=n.expandAllRowIndex,!0!==f&&null!==f&&void 0!==f&&f.length&&(d.expanded=!0),d.expandChildrenLength=(null===f||void 0===f?void 0:f.length)||0,n.expandAllRowIndex+=1,o||i.push(c),n.treeDataMap.set(s,d),null!==f&&void 0!==f&&f.length&&!p){var v=a;while(null!==(h=v)&&void 0!==h&&h.row){var h;v.expandChildrenLength+=f.length,n.treeDataMap.set(v.id,v),v=v.parent}e(f,r,i,p,d)}}return i};return r(e,t)}},{key:"foldAll",value:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=(0,hl.g)(o,t.rowKey),l=this.treeDataMap.get(a);l.rowIndex=0===l.level?r:-1,l.expanded=!1,l.expandChildrenLength=0,0===l.level&&n.push(o);var u=(0,hl.g)(o,t.childrenKey);null!==u&&void 0!==u&&u.length&&this.foldAll(u,t)}return n}},{key:"getTreeNode",value:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],a=(0,hl.g)(o,t.rowKey),l=this.treeDataMap.get(a);0===l.level&&n.push(o)}return n}},{key:"initialTreeDataMap",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=0,l=t.length;a<l;a++){var u=t[a],c=(0,hl.g)(u,r.rowKey);if(void 0===c)return void nn.Z.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");var s=(0,hl.g)(u,r.childrenKey),d={id:c,row:u,rowIndex:0===i?a:-1,level:i,expanded:!1,expandChildrenLength:0,disabled:gg(n,u,a),parent:o};d.path=o?o.path.concat(d):[d],e.set(c,d),null!==s&&void 0!==s&&s.length&&this.initialTreeDataMap(e,s,n,r,i+1,d)}}},{key:"updateDisabledState",value:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r],a=(0,hl.g)(o,n.rowKey);if(void 0===a)return void nn.Z.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");var l=this.treeDataMap.get(a);l.disabled=gg(t,o,r),this.treeDataMap.set(a,l);var u=(0,hl.g)(o,n.childrenKey);null!==u&&void 0!==u&&u.length&&this.updateDisabledState(u,t,n)}}},{key:"validateDataExist",value:function(e,t){return!!e||(console.warn("TDesign Table Warn: ".concat(t," does not exist.")),!1)}},{key:"validateDataDoubleExist",value:function(e,t){return!e||(console.warn("TDesign Table Warn: Duplicated Key. ".concat(t," already exists.")),!1)}}]),e}();function Qw(e,t,n,r,i){var o=t;while(o){var a,l=e.get((0,hl.g)(o,i.rowKey)),u=(l.expandChildrenLength||0)+n;l.expandChildrenLength=Math.max(0,u),o=null===l||void 0===l||null===(a=l.parent)||void 0===a?void 0:a.row}"fold"===r&&eS(e,t,i)}function eS(e,t,n){var r=(0,hl.g)(t,n.childrenKey);null!==r&&void 0!==r&&r.length&&r.forEach((function(t){var r=e.get((0,hl.g)(t,n.rowKey));r&&(r.expandChildrenLength=0,eS(e,r.row,n))}))}function tS(e,t,n,r){var i=t.row,o=t.rowIndex,a=(0,hl.g)(i,r.childrenKey);a.forEach((function(i,a){var l=(0,hl.g)(i,r.rowKey),u=n?o+1+a:-1,c=e.get(l),s=Jw(Jw({},c),{},{row:i,rowIndex:u,expanded:!1,parent:t});if(e.set(l,s),!n){var d=(0,hl.g)(i,r.childrenKey);null!==d&&void 0!==d&&d.length&&tS(e,Jw(Jw({},s),{},{rowIndex:-1,expanded:!1}),n,r)}}))}function nS(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if((0,hl.g)(a,r.rowKey)===t)return void(e[i]=n);var l=(0,hl.g)(a,r.childrenKey)||[];null!==l&&void 0!==l&&l.length&&nS(l,t,n,r)}}function rS(e,t,n){for(var r=n.minRowIndex||0,i=n.maxRowIndex||t.length,o=r;o<i;o++){var a=t[o],l=e.get((0,hl.g)(a,n.rowKey));l||nn.Z.warn("Table","tree map went wrong"),l.rowIndex=o+((null===n||void 0===n?void 0:n.count)||1)-1}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iS(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aS(e,t){var n=(0,T.BK)(e),r=n.data,i=n.columns,a=(0,k.Z)("table"),l=a.t,u=a.globalConfig,c=(0,it.J)({AddRectangleIcon:zw,MinusRectangleIcon:Gw}),s=c.AddRectangleIcon,d=c.MinusRectangleIcon,f=(0,T.iH)(new Xw),p=(0,T.iH)(),v=(0,T.iH)([]),h=zm(),m=h.tableTreeClasses,g=(0,S.Mb)(),y=(0,o.Fl)((function(){var t;return{rowKey:e.rowKey||"id",childrenKey:(null===(t=e.tree)||void 0===t?void 0:t.childrenKey)||"children"}})),w=(0,o.Fl)((function(){return i.value.find((function(e){return"row-select"===e.colKey}))}));(0,o.YP)(w,(function(e){f.value&&f.value.updateDisabledState(v.value,e,y.value)}));var O=function(e){var t=oS(oS({},e),{},{type:"fold"}),n=l(u.value.treeExpandAndFoldIcon,o.h,t)||(0,o.Wm)(d,null,null);return g("treeExpandAndFoldIcon",{defaultNode:n,params:t})},C=function(e){var t=oS(oS({},e),{},{type:"expand"}),n=l(u.value.treeExpandAndFoldIcon,o.h,t)||(0,o.Wm)(s,null,null);return g("treeExpandAndFoldIcon",{defaultNode:n,params:t})},x=(0,o.Fl)((function(){var e,t;return(null===(e=f.value)||void 0===e||null===(t=e.getAllUniqueKeys(r.value,y.value))||void 0===t?void 0:t.join())||""}));function P(t){var n,r=(0,Po.c)(t);f.value.initialTreeStore(r,e.columns,y.value),null!==(n=e.tree)&&void 0!==n&&n.defaultExpandAll&&(r=f.value.expandAll(r,y.value)),v.value=r}function E(t){var n,r;if(void 0!==t){var i=void 0===(null===(n=e.tree)||void 0===n?void 0:n.indent)?24:null===(r=e.tree)||void 0===r?void 0:r.indent;return i?{paddingLeft:"".concat(t*i||1,"px")}:{}}}function I(t,n){var r,i,o;v.value=(0,b._)(f.value.toggleExpandData(t,v.value,y.value));var a=(0,hl.g)(t.row,y.value.rowKey),l=null===(r=f.value)||void 0===r||null===(i=r.treeDataMap)||void 0===i?void 0:i.get(a);null===(o=e.onTreeExpandChange)||void 0===o||o.call(e,{row:t.row,rowIndex:t.rowIndex,rowState:l,trigger:n})}function D(){var t,n=e.columns,r=(null===(t=e.tree)||void 0===t?void 0:t.treeNodeColumnIndex)||0;while(null!==(i=n[r])&&void 0!==i&&i.type||"__EXPAND_ROW_ICON_COLUMN__"===(null===(o=n[r])||void 0===o?void 0:o.colKey)){var i,o;r+=1}return n[r]}function j(n){if(!e.tree||n.colKey!==p.value.colKey)return n;var r=oS({},p.value);return r.cell=function(r,i){var a=jg(oS(oS({},i),{},{col:oS({},p.value)}),t.slots,{cellEmptyContent:e.cellEmptyContent}),l=f.value.treeDataMap.get((0,hl.g)(i.row,y.value.rowKey)),u=E(null===l||void 0===l?void 0:l.level),c=(0,_._)({},m.inlineCol,!!n.ellipsis),s=(0,hl.g)(i.row,y.value.childrenKey);if(s&&s instanceof Array||!0===s){var d,v=null!==(d=f.value.treeDataMap.get((0,hl.g)(i.row,y.value.rowKey)))&&void 0!==d&&d.expanded?O(i):C(i);return(0,o.Wm)("div",{class:[m.col,c],style:u},[!(!s.length&&!0!==s)&&(0,o.Wm)("span",{class:m.icon,onClick:function(){return I(i,"expand-fold-icon")}},[v]),a])}return(0,o.Wm)("div",{style:u,class:c},[a])},!0===r.ellipsis&&(r.ellipsis=function(e,n){return jg(oS(oS({},n),{},{col:oS({},p.value)}),t.slots)}),r}function R(e,t){var n=f.value.updateData(e,t,v.value,y.value),r=(0,b._)(v.value);r[n]=t,v.value=r}function A(e){return f.value.getData(e)}function F(e){v.value=(0,b._)(f.value.remove(e,v.value,y.value))}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;v.value=e?(0,b._)(f.value.appendTo(e,t,v.value,y.value)):f.value.appendToRoot(t,v.value,y.value)}function N(e,t){v.value=(0,b._)(f.value.insertAfter(e,t,v.value,y.value))}function L(e,t){v.value=(0,b._)(f.value.insertBefore(e,t,v.value,y.value))}function W(){v.value=(0,b._)(f.value.expandAll(v.value,y.value))}function V(){v.value=(0,b._)(f.value.foldAll(v.value,y.value))}function B(t){var n=f.value.swapData(v.value,t,y.value);if(n.result)v.value=(0,b._)(n.dataSource);else{var r,i={code:n.code,reason:n.reason};null===(r=e.onAbnormalDragSort)||void 0===r||r.call(e,i)}}function U(){return f.value.getTreeNode(v.value,y.value)}return(0,o.YP)([x],(function(){r.value&&(e.tree?P(r.value):v.value=r.value)}),{immediate:!0}),(0,o.Ah)((function(){var t;e.tree&&(null===(t=f.value.treeDataMap)||void 0===t||t.clear(),f.value=null)})),(0,o.YP)([i],(function(){p.value=D()}),{immediate:!0}),{store:f,rowDataKeys:y,dataSource:v,swapData:B,setData:R,getData:A,remove:F,appendTo:M,insertAfter:N,insertBefore:L,formatTreeColumn:j,toggleExpandData:I,expandAll:W,foldAll:V,getTreeNode:U,resetData:P}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lS(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cS=new Map;function sS(e,t,n,r){if(cS.get(t))return cS.get(t);var i=r||{allChildren:[],allChildrenKeys:[],leafNodeKeys:[]},o=(0,hl.g)(t,n.childrenKey);if(!o||!o.length)return i;var a=o.filter((function(t){var r;return!(null!==(r=e.get((0,hl.g)(t,n.rowKey)))&&void 0!==r&&r.disabled)}));i.allChildren=(0,b._)(new Set(i.allChildren.concat(a)));for(var l=0,u=o.length;l<u;l++){var c=o[l],s=(0,hl.g)(c,n.childrenKey);if(null!==s&&void 0!==s&&s.length){var d=sS(e,c,n,i);i.allChildren=(0,b._)(new Set(i.allChildren.concat(d.allChildren)))}}for(var f=0,p=i.allChildren.length;f<p;f++){var v=i.allChildren[f],h=(0,hl.g)(v,n.childrenKey),m=(0,hl.g)(v,n.rowKey);i.allChildrenKeys.push(m),h&&h.length||i.leafNodeKeys.push(m)}return i.allChildrenKeys=(0,b._)(new Set(i.allChildrenKeys)),i.leafNodeKeys=(0,b._)(new Set(i.leafNodeKeys)),i}function dS(e,t){for(var n=e.selectedRowKeys,r=e.removeKeys,i=t||{data:[],keys:[]},o=0,a=n.length;o<a;o++){var l=n[o];r.includes(l)||i.keys.push(l)}return i}function fS(e){for(var t=e.treeDataMap,n=e.selectedRowKeys,r=[],i=0,o=n.length;i<o;i++){var a=n[i];r.push(t.get(a))}return r}function pS(e,t){var n=(0,T.BK)(e),r=n.selectedRowKeys,i=n.tree,a=n.data,l=n.indeterminateSelectedRowKeys,u=(0,T.iH)([]),c=(0,rn.Z)(r,e.defaultSelectedRowKeys||[],e.onSelectChange,"selectedRowKeys"),s=(0,ft._)(c,2),d=s[0],f=s[1],p=(0,o.Fl)((function(){var t;return{rowKey:e.rowKey||"id",childrenKey:(null===(t=e.tree)||void 0===t?void 0:t.childrenKey)||"children"}}));function v(){if(i.value&&!i.value.checkStrictly)if(d.value.length){for(var e=[],n={},r=0,o=d.value.length;r<o;r++){var a=d.value[r],l=t.value.get(a),c=(0,hl.g)(l.row,p.value.childrenKey);if(!c||!c.length){var s=l.parent;while(s){n[s.id]||(n[s.id]=[]),n[s.id].push(l.row);var f=n[s.id].length,v=sS(t.value,s.row,p.value),h=v.allChildrenKeys,m=e.indexOf(s.id),g=d.value.indexOf(s.id);f>0&&f<h.length&&-1===g?-1===m&&e.push(s.id):-1!==m&&e.splice(m,1),s=s.parent}}}u.value=e}else u.value=[]}function h(e,n,r){if(i.value&&!i.value.checkStrictly){var o=(0,b._)(e),a=t.value.get(n),l=a.parent;while(l){var u=sS(t.value,l.row,p.value),c=u.leafNodeKeys,s=(0,ry.i)(c,e),d=o.indexOf(l.id);"uncheck"===r?-1!==d&&o.splice(d,1):s.length===c.length&&-1===d&&o.push(l.id),l=l.parent}return o}}function m(e,t){i.value&&!i.value.checkStrictly?"CHECK_ALL_BOX"===t.currentRowKey?g(t):y(e,t):f(e,t)}function g(e){var n=[],r=[];if("check"===e.type)for(var i=(0,b._)(t.value.values()),o=0,a=i.length;o<a;o++){var l=i[o];l.disabled||(r.push(l.row),n.push((0,hl.g)(l.row,p.value.rowKey)))}var u=uS(uS({},e),{},{selectedRowData:r||[]});f(n,u)}function y(n,r){var i,o=(0,b._)(n);if(!1===(null===(i=e.tree)||void 0===i?void 0:i.checkStrictly))if("check"===(null===r||void 0===r?void 0:r.type)){var a=sS(t.value,r.currentRowData,p.value),l=a.allChildrenKeys;cS.set(r.currentRowData,a),o=(0,b._)(new Set(o.concat(l)))}else if("uncheck"===(null===r||void 0===r?void 0:r.type)){var u=sS(t.value,r.currentRowData,p.value),c=dS({selectedRowKeys:n,removeKeys:u.allChildrenKeys});o=c.keys}o=h(o,r.currentRowKey,r.type);var s=fS({treeDataMap:t.value,selectedRowKeys:o}),d=uS(uS({},r),{},{selectedRowData:s});f(o,d)}return(0,o.YP)([i,t,a,d],(function(e){var t=(0,ft._)(e,2),n=t[0],r=t[1];n&&r.size&&!n.checkStrictly&&v()})),{tIndeterminateSelectedRowKeys:l.value?l:u,onInnerSelectChange:m}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var vS=["store","dataSource","formatTreeColumn","swapData"];function hS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hS(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gS=(0,o.aZ)({name:"TEnhancedTable",props:mS(mS(mS({},Wm),Xg),Vw),setup:function(e,t){var n=aS(e,t),r=n.store,i=n.dataSource,a=n.formatTreeColumn,l=n.swapData,u=(0,pr._)(n,vS),c=(0,T.iH)(r.value.treeDataMap),s=pS(e,c),d=s.tIndeterminateSelectedRowKeys,f=s.onInnerSelectChange,p=function e(t){for(var n=[],r=0,i=t.length;r<i;r++){var o,l,u=mS({},t[r]);u=a(u),null!==(o=u.children)&&void 0!==o&&o.length&&(u.children=e(u.children)),(!u.children||null!==(l=u.children)&&void 0!==l&&l.length)&&n.push(u)}return n},v=(0,o.Fl)((function(){var t=!e.tree||!Object.keys(e.tree).length;return t?e.columns:p(e.columns)})),h=function(t){var n;e.beforeDragSort&&!e.beforeDragSort(t)||(l({current:t.current,target:t.target,currentIndex:t.currentIndex,targetIndex:t.targetIndex}),null===(n=e.onDragSort)||void 0===n||n.call(e,t))};return mS({store:r,dataSource:i,tColumns:v,tIndeterminateSelectedRowKeys:d,onDragSortChange:h,onInnerSelectChange:f},u)},render:function(){var e=mS(mS({},this.$props),{},{data:this.dataSource,columns:this.tColumns,indeterminateSelectedRowKeys:this.tIndeterminateSelectedRowKeys,disableDataPage:Boolean(this.tree&&Object.keys(this.tree).length),onSelectChange:this.onInnerSelectChange,onDragSort:this.onDragSortChange});return(0,o.Wm)(Ww,(0,o.dG)(e,this.$attrs),this.$slots)}}),yS=(0,g.Z)(qg),bS=(0,g.Z)(Ww),_S=(0,g.Z)(gS),wS=(0,Po.c)(Ww),SS=(0,g.Z)(wS,"TTable"),OS={borderless:Boolean,defaultExpandAll:Boolean,disabled:Boolean,expandIcon:{type:[Boolean,Function],default:!0},expandIconPlacement:{type:String,default:"left",validator:function(e){return!e||["left","right"].includes(e)}},expandMutex:Boolean,expandOnRowClick:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onChange:Function},kS=(0,o.aZ)({name:"TCollapse",props:OS,setup:function(e,t){var n=(0,w.ws)("collapse"),r=(0,w.ws)("-border-less"),i=(0,S.sL)(),a=(0,T.BK)(e),l=a.value,u=a.expandMutex,c=a.borderless,s=a.modelValue,d=(0,gt.Z)(l,s,e.defaultValue,e.onChange),f=(0,ft._)(d,2),p=f[0],v=f[1],h=function(e){var t=[].concat(p.value||[]),n=t.indexOf(e);n>=0?t.splice(n,1):u.value?t=[e]:t.push(e),v(t)},m=(0,o.Fl)((function(){return[n.value,(0,_._)({},r.value,!!c.value)]})),g=function(){var e=0;return function(){return e++}}();return(0,o.JJ)("collapseValue",p),(0,o.JJ)("updateCollapseValue",h),(0,o.JJ)("collapseProps",(0,T.BK)(e)),(0,o.JJ)("getUniqId",g),function(){var e=i("default");return(0,o.Wm)("div",{class:m.value},[e])}}}),CS={content:{type:[String,Function]},default:{type:[String,Function]},destroyOnCollapse:Boolean,disabled:{type:Boolean,default:void 0},expandIcon:{type:[Boolean,Function],default:void 0},header:{type:[String,Function]},headerRightContent:{type:[String,Function]},value:{type:[String,Number]}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xS(){var e=function(e){e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0"},t=function(e){e.dataset.oldOverflow=e.style.overflow,e.style.height="".concat(e.scrollHeight,"px"),e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},n=function(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow},r=function(e){e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height="".concat(e.scrollHeight,"px"),e.style.overflow="hidden"},i=function(e){0!==e.scrollHeight&&(e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0")},o=function(e){e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom};return{beforeEnter:e,enter:t,afterEnter:n,beforeLeave:r,leave:i,afterLeave:o}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function PS(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var ES=(0,o.aZ)({name:"TCollapsePanel",props:CS,setup:function(e){var t=(0,S.sL)(),n=(0,w.ws)("collapse-panel"),r=(0,w.ws)("is-disabled"),i=(0,w.ws)("is-clickable"),a=(0,w.ws)("slide-down"),l=(0,T.BK)(e),u=l.value,c=l.disabled,s=l.destroyOnCollapse,d=l.expandIcon,f=(0,o.f3)("collapseValue"),p=(0,o.f3)("updateCollapseValue"),v=(0,o.f3)("getUniqId",(function(){}),!1),h=(0,o.f3)("collapseProps"),m=h.defaultExpandAll,g=h.disabled,y=h.expandIconPlacement,b=h.expandOnRowClick,O=h.expandIcon,k=u.value||v(),C=(0,o.Fl)((function(){return void 0===d.value?O.value:d.value}));m.value&&p(k);var x=xS(),P=x.beforeEnter,E=x.enter,I=x.afterEnter,D=x.beforeLeave,j=x.leave,R=x.afterLeave,A=(0,T.iH)(),F=(0,o.Fl)((function(){return c.value||g.value})),M=(0,o.Fl)((function(){return f.value instanceof Array?f.value.includes(k):f.value===k})),N=(0,o.Fl)((function(){return[n.value,(0,_._)({},r.value,F.value)]})),L=function(e){var t=b.value&&e.target===A.value||"arrow"===e.target.getAttribute("name");t&&!F.value&&p(k)},W=function(e){return(0,o.Wm)(qn.Z,{name:"arrow",isActive:M.value,overlayClassName:"".concat(n.value,"__icon ").concat(n.value,"__icon--").concat(e)},null)},V=function(){return(0,o.Wm)("div",{class:"".concat(n.value,"__header--blank")},null)},B=function(){var e=["".concat(n.value,"__header"),(0,_._)({},i.value,b.value&&!F.value)];return(0,o.Wm)("div",{ref:A,class:e,onClick:L},[C.value&&"left"===y.value?W(y.value):null,t("header"),V(),t("headerRightContent"),C.value&&"right"===y.value?W(y.value):null])},U=function(){return(0,o.wy)((0,o.Wm)("div",{class:"".concat(n.value,"__body")},[(0,o.Wm)("div",{class:"".concat(n.value,"__content")},[t("default")])]),[[cn.F8,M.value]])},H=function(){return M.value?(0,o.Wm)("div",{class:"".concat(n.value,"__body")},[(0,o.Wm)("div",{class:"".concat(n.value,"__content")},[t("default")])]):null},z=function(){return s.value?H():U()};return function(){var e;return(0,o.Wm)("div",{class:N.value},[(0,o.Wm)("div",{class:"".concat(n.value,"__wrapper")},[B(),(0,o.Wm)(cn.uT,{name:a.value,onBeforeEnter:P,onEnter:E,onAfterEnter:I,onBeforeLeave:D,onLeave:j,onAfterLeave:R},PS(e=z())?e:{default:function(){return[e]}})])])}}}),TS=(0,g.Z)(kS),IS=(0,g.Z)(ES),DS={alpha:{type:Number,default:1},content:{type:[String,Function]},default:{type:[String,Function]},height:{type:Number},isRepeat:{type:Boolean,default:!0},lineSpace:{type:Number,default:16},movable:Boolean,moveInterval:{type:Number,default:3e3},offset:{type:Array},removable:{type:Boolean,default:!0},rotate:{type:Number,default:-22},watermarkContent:{type:[Object,Array]},width:{type:Number},x:{type:Number},y:{type:Number},zIndex:{type:Number}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AS(e,t){var n=e.width,r=e.height,i=e.gapX,o=e.gapY,a=e.offsetLeft,l=e.offsetTop,u=e.rotate,c=e.alpha,s=e.watermarkContent,d=e.lineSpace,f=document.createElement("canvas"),p=f.getContext("2d");if(!p)return console.warn("当前环境不支持Canvas, 无法绘制水印"),void t("");var v=window.devicePixelRatio||1,h=(i+n)*v,m=(o+r)*v;f.width=h,f.height=m,f.style.width="".concat(i+n,"px"),f.style.height="".concat(o+r,"px"),p.translate(a*v,l*v),p.rotate(Math.PI/180*Number(u)),p.globalAlpha=c;var g=n*v,y=r*v;p.fillStyle="transparent",p.fillRect(0,0,g,y);var b=Array.isArray(s)?s:[RS({},s)],_=0;b.forEach((function(e){if(e.url){var i=e.url,o=e.isGrayscale,a=void 0!==o&&o;e.top=_,_+=r;var l=new Image;l.crossOrigin="anonymous",l.referrerPolicy="no-referrer",l.src=i,l.onload=function(){if(p.drawImage(l,0,e.top*v,n*v,r*v),a){for(var i=p.getImageData(0,0,p.canvas.width,p.canvas.height),o=i.data,u=0;u<o.length;u+=4){var c=(o[u]+o[u+1]+o[u+2])/3;o[u]=c,o[u+1]=c,o[u+2]=c}p.putImageData(i,0,0)}t(f.toDataURL())}}else if(e.text){var u=e.text,c=e.fontColor,s=void 0===c?"rgba(0, 0, 0, 0.1)":c,h=e.fontSize,m=void 0===h?16:h,g=e.fontWeight,b=void 0===g?"normal":g;e.top=_,_+=d;var w=Number(m)*v;p.font="normal normal ".concat(b," ").concat(w,"px/").concat(y,"px undefined"),p.textAlign="start",p.textBaseline="top",p.fillStyle=s,p.fillText(u,0,e.top*v)}})),t(f.toDataURL())}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function FS(){var e=Math.floor(4*Math.random()),t=Math.floor(70*Math.random())+30,n=0,r=95,i=90,o="\n  @keyframes watermark {\n    0%   {left: ".concat(1===e?i:3===e?n:t,"%; top: ").concat(0===e?n:2===e?r:t,"%;}\n    25% {left: ").concat(0===e?i:2===e?n:100-t,"%; top: ").concat(1===e?r:3===e?n:t,"%;}\n    50% {left: ").concat(1===e?n:3===e?i:100-t,"%; top: ").concat(0===e?r:2===e?n:100-t,"%;}\n    75% {left: ").concat(0===e?n:2===e?i:t,"%; top: ").concat(1===e?n:3===e?r:100-t,"%;}\n    100% {left: ").concat(1===e?i:3===e?n:t,"%; top: ").concat(0===e?n:2===e?r:t,"%;}\n  }\n  ");return o}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var MS=function(e){var t=document.createElement("style"),n=null;document.head.appendChild(t),n=t.sheet,n.insertRule(e,n.cssRules.length)},NS=["window"],LS="undefined"!==typeof window?window:void 0;function WS(e){var t,n=(0,T.SU)(e);return null!==(t=null===n||void 0===n?void 0:n.$el)&&void 0!==t?t:n}function VS(e){return!!(0,T.nZ)()&&((0,T.EB)(e),!0)}function BS(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.window,a=void 0===i?LS:i,l=(0,pr._)(r,NS),u=a&&"MutationObserver"in a,c=function(){n&&(n.disconnect(),n=void 0)},s=(0,o.YP)((function(){return WS(e)}),(function(e){c(),u&&a&&e&&(n=new MutationObserver(t),n.observe(e,l))}),{immediate:!0}),d=function(){c(),s()};return VS(d),{isSupported:u,stop:d}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var US=(0,o.aZ)({name:"TWatermark",props:DS,setup:function(e,t){t.slots;var n=(0,w.ws)("watermark"),r=(0,T.iH)(""),i=(0,T.iH)(),a=(0,T.iH)(),l=(0,S.r0)(),u=(0,T.iH)(e.x||200),c=(0,T.iH)(e.y||210),s=(0,T.iH)(e.width||120),d=(0,T.iH)(e.height||60),f=(0,T.qj)(e.offset||[]),p=(0,T.iH)(e.zIndex||10),v=(0,o.Fl)((function(){return e.movable?0:u.value})),h=(0,o.Fl)((function(){return e.movable?0:c.value})),m=(0,o.Fl)((function(){return e.movable?0:e.rotate})),g=(0,o.Fl)((function(){return e.movable?"no-repeat":e.isRepeat?"repeat":"no-repeat"})),y=(0,o.Fl)((function(){return f[0]||v.value/2})),b=(0,o.Fl)((function(){return f[1]||h.value/2}));return BS(i,(function(t){e.removable||t.forEach((function(e){if("childList"===e.type){var t=e.removedNodes;t.forEach((function(e){i.value.appendChild(e)}))}}))}),{attributes:!0,childList:!0,characterData:!0,subtree:!0}),(0,o.bv)((function(){AS({width:s.value,height:d.value,rotate:m.value,lineSpace:e.lineSpace,alpha:e.alpha,gapX:v.value,gapY:h.value,watermarkContent:e.watermarkContent,offsetLeft:y.value,offsetTop:b.value},(function(e){r.value=e})),a.value=i.value.parentElement;var t=FS();MS(t)})),function(){return(0,o.Wm)("div",{style:{position:"relative",overflow:"hidden",width:"100%"},class:n.value,ref:i},[l("default","content"),(0,o.Wm)("div",{style:{zIndex:p.value,position:"absolute",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",backgroundSize:"".concat(v.value+s.value,"px"),pointerEvents:"none",backgroundRepeat:g.value,backgroundImage:"url('".concat(r.value,"')"),animation:e.movable?"watermark infinite ".concat(4*e.moveInterval/60,"s"):"none"}},null)])}}}),HS=(0,g.Z)(US);function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zS(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var KS={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.6 1.82a.45.45 0 01.8 0l1.8 3.65 4.03.58c.37.05.52.5.25.77l-2.91 2.84.69 4a.45.45 0 01-.66.48L8 12.25l-3.6 1.9a.45.45 0 01-.65-.48l.68-4.01-2.9-2.84a.45.45 0 01.24-.77l4.03-.58 1.8-3.65z",fillOpacity:.9}}]},YS=(0,o.aZ)({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-star-filled",i.value])),c=(0,o.Fl)((()=>ZS(ZS({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(KS,s.value)}}),GS={allowHalf:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:Boolean,gap:{type:Number,default:4},icon:{type:Function},showText:Boolean,size:{type:String,default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:0},onChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qS=(0,o.aZ)({name:"TRate",props:JS({},GS),setup:function(e,t){var n=t.slots,r=(0,S.sL)(),i=Array.isArray(e.color)?e.color[0]:e.color,a=Array.isArray(e.color)?e.color[1]:"var(--td-bg-color-component)",l=(0,T.BK)(e),u=l.value,c=l.modelValue,s=(0,gt.Z)(u,c,e.defaultValue,e.onChange),d=(0,ft._)(s,2),f=d[0],p=d[1],v=(0,T.iH)(void 0),h=(0,T.iH)(),m=(0,o.Fl)((function(){return Number(v.value||f.value)})),g=(0,o.Fl)((function(){return 0===e.texts.length?["极差","失望","一般","满意","惊喜"]:e.texts})),y=function(e){return void 0!==n.icon?r("icon",{params:e}):(0,o.Wm)(YS,e,null)},_=function(t,n){if(e.allowHalf){var r=h.value.getBoundingClientRect(),i=r.left,o=h.value.firstChild.nextSibling,a=o.getBoundingClientRect(),l=a.width,u=t.clientX,c=l*(n-.5)+e.gap*(n-1);if(u-i>=c)return n;if(u-i<c)return n-.5}return n},w=function(t,n){e.disabled||(v.value=_(t,n))},O=function(){e.disabled||(v.value=void 0)},C=function(t,n){e.disabled||p(_(t,n))},x=function(t){return e.allowHalf&&t+.5===m.value?"".concat(E.value,"-rate__item--half"):t>=m.value?"":t<m.value?"".concat(E.value,"-rate__item--full"):void 0},P=(0,k.Z)("classPrefix"),E=P.classPrefix;return function(){return(0,o.Wm)("div",{class:"".concat(E.value,"-rate"),onMouseleave:O},[(0,o.Wm)("ul",{class:"".concat(E.value,"-rate__list"),style:{gap:"".concat(e.gap,"px")},ref:h},[(0,b._)(Array(Number(e.count))).map((function(t,n){return(0,o.Wm)("li",{key:n,class:["".concat(E.value,"-rate__item"),x(n)],onClick:function(e){return C(e,n+1)},onMousemove:function(e){return w(e,n+1)}},[e.showText?(0,o.Wm)(wt,{key:n,content:g.value[m.value-1]},{default:function(){return[(0,o.Wm)("div",{class:"".concat(E.value,"-rate__star-top")},[(0,o.Wm)(y,{size:e.size,color:i},null)]),(0,o.Wm)("div",{class:"".concat(E.value,"-rate__star-bottom")},[(0,o.Wm)(y,{size:e.size,color:a},null)])]}}):(0,o.Wm)(o.HY,null,[(0,o.Wm)("div",{class:"".concat(E.value,"-rate__star-top")},[(0,o.Wm)(y,{size:e.size,color:i},null)]),(0,o.Wm)("div",{class:"".concat(E.value,"-rate__star-bottom")},[(0,o.Wm)(y,{size:e.size,color:a},null)])])])}))]),e.showText&&(0,o.Wm)("div",{className:"".concat(E.value,"-rate__text")},[g.value[m.value-1]])])}}}),XS=(0,g.Z)(qS),QS=n(61),eO={close:{type:[String,Boolean,Function],default:!1},default:{type:[String,Function]},icon:{type:Function},maxLine:{type:Number,default:0},message:{type:[String,Function]},operation:{type:Function},theme:{type:String,default:"info",validator:function(e){return["success","info","warning","error"].includes(e)}},title:{type:[String,Function]},onClose:Function,onClosed:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function tO(){var e=(0,o.FN)();return function(t,n){var r;if("function"===typeof e.props[t])r=e.props[t](o.h);else if(e.slots[t])r=e.slots[t]&&e.slots[t](null)[0];else if(n){var i=n[e.props.theme];r=(0,o.Wm)(i,null,null)}return r}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var nO=(0,o.aZ)({name:"TAlert",props:eO,setup:function(e){var t=(0,k.Z)("alert"),n=t.globalConfig,r=t.classPrefix,i=(0,it.J)({CheckCircleFilledIcon:fu.Z,CloseIcon:Cn.Z,ErrorCircleFilledIcon:vu.Z,HelpCircleFilledIcon:QS.Z,InfoCircleFilledIcon:iy.Z}),a=i.CheckCircleFilledIcon,l=i.CloseIcon,u=i.ErrorCircleFilledIcon,c=i.HelpCircleFilledIcon,s=i.InfoCircleFilledIcon,d=(0,w.ws)("alert"),f=(0,S.sL)(),p=tO(),v=(0,T.iH)(null),h=(0,T.iH)(null),m=(0,T.iH)(0),g=(0,T.iH)(!0),y=(0,T.iH)(!0),b=function(){var e={info:s,success:a,warning:u,error:u,question:c},t=p("icon",e);return t?(0,o.Wm)("div",{class:"".concat(d.value,"__icon")},[t]):null},O=function(){var t=e.close,n=null;return n=!0===t||""===t?(0,o.Wm)(l,null,null):"string"===typeof t?t:p("close"),n?(0,o.Wm)("div",{class:"".concat(d.value,"__close"),onClick:I},[n]):null},C=function(){var e=f("title");return e?(0,o.Wm)("div",{class:"".concat(d.value,"__title")},[" ",e]):null},x=function(){var e=f("operation");return(0,o.Wm)("div",{class:"".concat(d.value,"__message")},[P(),e?(0,o.Wm)("div",{class:"".concat(d.value,"__operation")},[e]):null])},P=function(){var t,r,i;i=f("default"),i||(i=f("message"));var a=Array.isArray(i)?i.length:1,l=e.maxLine>0&&e.maxLine<a,u=null===(t=h.value)||void 0===t||null===(r=t.children[0])||void 0===r?void 0:r.offsetHeight;return l&&y.value?(i=i.slice(0,e.maxLine),u&&(h.value.style.height="".concat(m.value,"px"))):l&&u&&(h.value.style.height="".concat(u*(a-e.maxLine)+m.value,"px")),(0,o.Wm)("div",{class:"".concat(d.value,"__description"),ref:h},[l?i.map((function(e){return(0,o.Wm)("div",null,[e])})):i,l?(0,o.Wm)("div",{class:"".concat(d.value,"__collapse"),onClick:function(){y.value=!y.value}},[y.value?n.value.expandText:n.value.collapseText]):null])},E=function(){return(0,o.Wm)("div",{class:"".concat(d.value,"__content")},[C(),x()])},I=function(t){var n;null===(n=e.onClose)||void 0===n||n.call(e,{e:t}),(0,F.cn)(v.value,"".concat(d.value,"--closing"))},D=function(t){var n;"opacity"===t.propertyName&&(g.value=!1,null===(n=e.onClosed)||void 0===n||n.call(e,{e:t}))};return(0,o.bv)((function(){(0,F.on)(v.value,"transitionend",D),m.value=h.value.offsetHeight})),(0,o.Jd)((function(){(0,F.S1)(v.value,"transitionend",D)})),function(){return(0,o.Wm)("div",{ref:v,class:["".concat(d.value),"".concat(d.value,"--").concat(e.theme),(0,_._)({},"".concat(r.value,"-is-hidden"),!g.value)]},[b(),E(),O()])}}}),rO=(0,g.Z)(nO),iO=(0,g.Z)(yy),oO={attach:{type:[String,Function],default:""},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function],default:""},closeBtn:{type:[String,Boolean,Function]},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function],default:""},default:{type:[String,Function]},destroyOnClose:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"overlay",validator:function(e){return!e||["overlay","push"].includes(e)}},placement:{type:String,default:"right",validator:function(e){return!e||["left","right","top","bottom"].includes(e)}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},size:{type:String,default:void 0},sizeDraggable:Boolean,visible:Boolean,zIndex:{type:Number},onCancel:Function,onClose:Function,onCloseBtnClick:Function,onConfirm:Function,onEscKeydown:Function,onOverlayClick:Function},aO=function(e){var t=(0,T.iH)(!1),n=(0,T.iH)(null),r=function(){document.addEventListener("mouseup",i,!0),document.addEventListener("mousemove",a,!0),t.value=!0},i=function e(){document.removeEventListener("mouseup",e,!0),document.removeEventListener("mousemove",a,!0),t.value=!1},a=function(r){var i=r.x,o=r.y,a=document.documentElement.clientHeight,l=document.documentElement.clientWidth,u=8,c=8;if(t.value&&e.sizeDraggable){if("right"===e.placement){var s=Math.min(Math.max(l-i+c,c),l);n.value="".concat(s,"px")}if("left"===e.placement){var d=Math.min(Math.max(i+c,c),l);n.value="".concat(d,"px")}if("top"===e.placement){var f=Math.min(Math.max(o+u,u),a);n.value="".concat(f,"px")}if("bottom"===e.placement){var p=Math.min(Math.max(a-o+u,u),a);n.value="".concat(p,"px")}}},l=(0,o.Fl)((function(){var t,n=["right","left"].includes(e.placement),r={left:"right",right:"left",top:"bottom",bottom:"top"};return t={zIndex:1,position:"absolute",background:"transparent"},(0,_._)(t,r[e.placement],0),(0,_._)(t,"width",n?"16px":"100%"),(0,_._)(t,"height",n?"100%":"16px"),(0,_._)(t,"cursor",n?"col-resize":"row-resize"),t}));return{draggedSizeValue:n,enableDrag:r,draggableLineStyles:l}},lO=(0,o.aZ)({name:"TDrawer",directives:{TransferDom:ay.Z},props:oO,emits:["update:visible"],setup:function(e,t){var n=(0,T.iH)(!1),r=(0,T.iH)(!1),i=(0,k.Z)("drawer"),a=i.globalConfig,l=(0,it.J)({CloseIcon:Cn.Z}),u=l.CloseIcon,c=(0,S.sL)(),s=(0,S.r0)(),d=(0,w.ws)("drawer"),f=(0,w.ws)("drawer--lock"),p=aO(e),v=p.draggedSizeValue,h=p.enableDrag,m=p.draggableLineStyles,g=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t})},y=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),U({trigger:"cancel",e:t})},b=cy({confirmBtnAction:g,cancelBtnAction:y}),O=b.getConfirmBtn,C=b.getCancelBtn,x=(0,T.iH)(null),P=(0,o.Fl)((function(){var t;return[d.value,"".concat(d.value,"--").concat(e.placement),(t={},(0,_._)(t,"".concat(d.value,"--open"),r.value),(0,_._)(t,"".concat(d.value,"--attach"),e.showInAttachedElement),(0,_._)(t,"".concat(d.value,"--without-mask"),!e.showOverlay),t)]})),E=(0,o.Fl)((function(){var t;if(v.value)return v.value;var n=null!==(t=e.size)&&void 0!==t?t:a.value.size,r=isNaN(Number(n))?n:"".concat(n,"px");return{small:"300px",medium:"500px",large:"760px"}[n]||r})),I=(0,o.Fl)((function(){return{transform:r.value?"translateX(0)":void 0,width:["left","right"].includes(e.placement)?E.value:"",height:["top","bottom"].includes(e.placement)?E.value:""}})),D=(0,o.Fl)((function(){return["".concat(d.value,"__content-wrapper"),"".concat(d.value,"__content-wrapper--").concat(e.placement)]})),j=(0,o.Fl)((function(){return x.value&&x.value.parentNode})),R=(0,o.Fl)((function(){return[e.mode,e.placement].join()})),A=(0,o.Fl)((function(){return{display:"flex",justifyContent:"right"===e.placement?"flex-start":"flex-end"}})),M=function(){"push"===e.mode&&(0,o.Y3)((function(){j.value&&(j.value.style.cssText="transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;")}))},N=function(){if(j.value&&"push"===e.mode&&j.value){var t={left:"margin: 0 0 0 ".concat(E.value),right:"margin: 0 0 0 -".concat(E.value),top:"margin: ".concat(E.value," 0 0 0"),bottom:"margin: -".concat(E.value," 0 0 0")}[e.placement];r.value?j.value.style.cssText+=t:j.value.style.cssText=j.value.style.cssText.replace(/margin:.+;/,"")}},L=function(){var t=O({confirmBtn:e.confirmBtn,globalConfirm:a.value.confirm,className:"".concat(d.value,"__confirm")}),n=C({cancelBtn:e.cancelBtn,globalCancel:a.value.cancel,className:"".concat(d.value,"__cancel")});return(0,o.Wm)("div",{style:A.value},["right"===e.placement?t:null,n,"right"!==e.placement?t:null])};(0,o.YP)(R,(function(){M()}),{immediate:!0}),(0,o.YP)((function(){return e.visible}),(function(t){F.sk||(t&&!e.showInAttachedElement?e.preventScrollThrough&&(0,F.cn)(document.body,f.value):e.preventScrollThrough&&(0,F.IV)(document.body,f.value),e.destroyOnClose?t?(n.value=!1,setTimeout((function(){r.value=!0}))):(r.value=!1,setTimeout((function(){n.value=!0}),200)):!0===n.value&&t?(n.value=!1,setTimeout((function(){r.value=!0}))):r.value=t)}),{immediate:!0});var W=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t}),U({trigger:"close-btn",e:t})},V=function(t){var n,r;null===(n=e.onOverlayClick)||void 0===n||n.call(e,{e:t}),(null!==(r=e.closeOnOverlayClick)&&void 0!==r?r:a.value.closeOnOverlayClick)&&U({trigger:"overlay",e:t})},B=function(t){var n,r;(null!==(n=e.closeOnEscKeydown)&&void 0!==n?n:a.value.closeOnEscKeydown)&&"Escape"===t.key&&(null===(r=e.onEscKeydown)||void 0===r||r.call(e,{e:t}),U({trigger:"esc",e:t}))},U=function(n){var r;null===(r=e.onClose)||void 0===r||r.call(e,n),t.emit("update:visible",!1)};return(0,o.ic)((function(){N()})),function(){if(!n.value){var t=s("body","default"),r=c("header"),i=L();return(0,o.wy)((0,o.Wm)("div",{ref:x,class:P.value,style:{zIndex:e.zIndex},onKeydown:B,tabindex:0},[e.showOverlay&&(0,o.Wm)("div",{class:"".concat(d.value,"__mask"),onClick:V},null),(0,o.Wm)("div",{class:D.value,style:I.value},[r&&(0,o.Wm)("div",{class:"".concat(d.value,"__header")},[r]),e.closeBtn&&(0,o.Wm)("div",{class:"".concat(d.value,"__close-btn"),onClick:W},[c("closeBtn",(0,o.Wm)(u,null,null))]),(0,o.Wm)("div",{class:["".concat(d.value,"__body"),"narrow-scrollbar"]},[t]),e.footer&&(0,o.Wm)("div",{class:"".concat(d.value,"__footer")},[c("footer",i)]),e.sizeDraggable&&(0,o.Wm)("div",{style:m.value,onMousedown:h},null)])]),[[(0,o.Q2)("transfer-dom"),e.attach]])}}}}),uO=(0,g.Z)(lO),cO=n(3971),sO=(n(1398),(0,g.Z)(cO.Z)),dO={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:3e3},footer:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return["info","success","warning","error"].includes(e)}},title:{type:[String,Function]},onCloseBtnClick:Function,onDurationEnd:Function},fO=6e3,pO="16px",vO={"top-left":{left:pO,top:pO},"top-right":{right:pO,top:pO},"bottom-right":{right:pO,bottom:pO},"bottom-left":{left:pO,bottom:pO}},hO=Object.keys(vO),mO={duration:200,easing:"linear"},gO=function(e,t){if(e){var n=(null===e||void 0===e?void 0:e.offsetHeight)||0,r=(null===e||void 0===e?void 0:e.offsetWidth)||0,i=bO(t,r,n);i&&e.animate&&e.animate(i,mO)}},yO=function(e,t,n){if(e){var r=(null===e||void 0===e?void 0:e.offsetHeight)||0,i=(null===e||void 0===e?void 0:e.offsetWidth)||0,o=_O(t,i,r);if(!o)return n();var a=e.animate&&e.animate(o,mO);a?a.onfinish=function(){n()}:(e.style.display="none",n())}},bO=function(e,t,n){return hO.includes(e)?"top-right"===e?[{opacity:0,transform:"translateX(".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}]:"bottom-right"===e?[{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(n,"px")},{opacity:1,transform:"translateX(0px)"}]:"top-left"===e?[{opacity:0,transform:"translateX(-".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}]:"bottom-left"===e?[{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(n,"px")},{opacity:1,transform:"translateX(0px)"}]:void 0:null},_O=function(e,t,n){return hO.includes(e)?"top-right"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(n,"px")}]:"bottom-right"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)")}]:"top-left"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(n,"px")}]:"bottom-left"===e?[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)")}]:void 0:null};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wO(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OO=(0,o.aZ)({name:"TNotification",props:SO(SO({},dO),{},{placement:String}),setup:function(e,t){var n=t.slots,r=t.expose,i=(0,w.ws)("notification"),a=(0,k.Z)("classPrefix"),l=a.classPrefix,u=(0,it.J)({InfoCircleFilledIcon:iy.Z,CheckCircleFilledIcon:fu.Z,CloseIcon:Cn.Z}),c=u.InfoCircleFilledIcon,s=u.CheckCircleFilledIcon,d=u.CloseIcon,f=(0,S.sL)(),p=(0,S.r0)(),v=(0,T.iH)(null),h=(0,T.iH)(null),m=function(t){var n=h.value;yO(n,e.placement,(function(){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t})}))},g=function(){var t;if(!1===e.icon)return null;if((0,Re.i)(e.icon))t=e.icon(o.h);else if(n.icon)t=n.icon(null);else if(e.theme){var r="success"===e.theme?(0,o.Wm)(s,{class:"".concat(l.value,"-is-").concat(e.theme)},null):(0,o.Wm)(c,{class:"".concat(l.value,"-is-").concat(e.theme)},null);t=(0,o.Wm)("div",{class:"t-notification__icon"},[r])}return t},y=function(){var e=(0,o.Wm)(d,null,null);return(0,o.Wm)("span",{class:"".concat(l.value,"-message__close"),onClick:m},[f("closeBtn",e)])},b=function(){return(0,o.Wm)("div",{class:"".concat(i.value,"__content")},[p("default","content")])},_=function(){e.duration&&clearTimeout(v.value)},O=function(){e.duration&&(v.value=Number(setTimeout((function(){_();var t=h.value;yO(t,e.placement,(function(){var t;null===(t=e.onDurationEnd)||void 0===t||t.call(e)}))}),e.duration)))};return(0,o.wF)((function(){e.duration&&O()})),(0,o.bv)((function(){var t=h.value;gO(t,e.placement)})),r({close:m}),function(){return(0,o.Wm)("div",{ref:h,class:"".concat(i.value),onMouseenter:_,onMouseleave:O},[g(),(0,o.Wm)("div",{class:"".concat(i.value,"__main")},[(0,o.Wm)("div",{class:"".concat(i.value,"__title__wrap")},[(0,o.Wm)("span",{class:"".concat(i.value,"__title")},[f("title")]),y()]),b(),f("footer")])])}}}),kO=(0,g.Z)(OO),CO={cancelBtn:{type:[String,Object,Function],default:""},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},destroyOnClose:{type:Boolean,default:!0},icon:{type:Function},placement:{type:String,default:"top",validator:function(e){return!e||["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e)}},popupProps:{type:Object},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return!e||["default","warning","danger"].includes(e)}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,onCancel:Function,onConfirm:Function,onVisibleChange:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EO=(0,o.aZ)({name:"TPopconfirm",props:CO,setup:function(e){var t=(0,k.Z)("popconfirm"),n=t.globalConfig,r=(0,w.ws)("popconfirm"),i=(0,it.J)({InfoCircleFilledIcon:iy.Z,ErrorCircleFilledIcon:vu.Z}),a=i.InfoCircleFilledIcon,l=i.ErrorCircleFilledIcon,u=(0,T.BK)(e),c=u.visible,s=u.modelValue,d=(0,gt.Z)(c,s,e.defaultVisible,e.onVisibleChange,"visible"),f=(0,ft._)(d,2),p=f[0],v=f[1],h=function(t){var n;null===(n=e.onConfirm)||void 0===n||n.call(e,{e:t}),v(!1,{e:t})},m=function(t){var n;null===(n=e.onCancel)||void 0===n||n.call(e,{e:t}),v(!1,{e:t})},g=cy({confirmBtnAction:h,cancelBtnAction:m}),y=g.getConfirmBtn,b=g.getCancelBtn,_=(0,S.sL)(),O=(0,o.Fl)((function(){return PO({showArrow:e.showArrow,overlayClassName:r.value,trigger:"click",destroyOnClose:e.destroyOnClose,placement:e.placement},e.popupProps)})),C=(0,S.Mb)(),x=function(){var t=b({cancelBtn:e.cancelBtn,globalCancel:n.value.cancel,className:"".concat(r.value,"__cancel"),size:"small"}),i=y({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:n.value.confirm,globalConfirmBtnTheme:n.value.confirmBtnTheme,className:"".concat(r.value,"__confirm"),size:"small"}),u=function(){var t={default:a,warning:l,danger:l}[e.theme],n=e.theme||"default";return C("icon",(0,o.Wm)(t,{class:"".concat(r.value,"__icon--").concat(n)},null))};return(0,o.Wm)("div",{class:"".concat(r.value,"__content")},[(0,o.Wm)("div",{class:"".concat(r.value,"__body")},[u(),(0,o.Wm)("div",{class:"".concat(r.value,"__inner")},[_("content")])]),Boolean(t||i)&&(0,o.Wm)("div",{class:"".concat(r.value,"__buttons")},[t,i])])},P=function(e,t){v(e,t)},E=(0,S.r0)();return function(){return(0,o.Wm)(ht.G,(0,o.dG)({visible:p.value},O.value,{onVisibleChange:P}),{default:function(){return[E("default","triggerElement")]},content:x})}}}),TO=(0,g.Z)(EO);function IO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IO(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.74 6.68L7.5 2.9v8.59h1V2.91l3.76 3.77.71-.7-4.62-4.63a.5.5 0 00-.7 0L3.03 5.97l.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M2 11v2a1 1 0 001 1h10a1 1 0 001-1v-2h-1v2H3v-2H2z",fillOpacity:.9}}]},RO=(0,o.aZ)({name:"UploadIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-upload",i.value])),c=(0,o.Fl)((()=>DO(DO({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(jO,s.value)}}),AO={accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function},data:{type:Object},default:{type:[String,Function]},disabled:Boolean,draggable:Boolean,fileListDisplay:{type:Function},files:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultFiles:{type:Array},format:{type:Function},formatResponse:{type:Function},headers:{type:Object},isBatchUpload:Boolean,locale:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(e){return!e||["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(e)}},multiple:Boolean,name:{type:String,default:"file"},placeholder:{type:String,default:""},requestMethod:{type:Function},showUploadProgress:{type:Boolean,default:!0},sizeLimit:{type:[Number,Object]},theme:{type:String,default:"file",validator:function(e){return!e||["custom","file","file-input","file-flow","image","image-flow"].includes(e)}},tips:{type:String,default:""},trigger:{type:[String,Function]},uploadAllFilesInOneRequest:Boolean,useMockProgress:{type:Boolean,default:!0},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onDragenter:Function,onDragleave:Function,onDrop:Function,onFail:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function FO(e){return e<1024?"".concat(e," Bytes"):e>=1024&&e<1048576?"".concat((e/1024).toFixed(1)," KB"):e>=1048576?"".concat((e/1048576).toFixed(1)," MB"):void 0}function MO(){var e=new Date,t=e.getMonth()+1;return t=t<10?"0".concat(t):t,"".concat(e.getFullYear(),"-").concat(t,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}function NO(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=e,i=0,o=0,a=0;a<r.length;a++){var l=r[a],u=0===escape(l).indexOf("%u");a<2*t&&i<t?i+=u?1:2:a>a-n&&o<n&&(o+=u?1:2)}return r.replace(new RegExp("^(.{".concat(i,"})(.+)(.{").concat(o,"})$")),"$1…$3")}var LO={B:1024,KB:1,MB:1024,GB:1048576};function WO(e,t,n){var r=["B","KB","MB","GB"],i=1,o=r.indexOf(n);-1===o&&(console.warn("TDesign Upload Warn: `sizeLimit.unit` can only be one of ".concat(r.join())),o=i);var a=LO[n],l=o<i?t/a:t*a;return e<=l}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UO=(0,o.aZ)({name:"TUploadDragger",props:{file:{type:Object,default:function(){return null}},loadingFile:{type:Object,default:function(){return null}},percent:{type:Number},locale:{type:Object,default:function(){return null}},autoUpload:AO.autoUpload,theme:AO.theme,onCancel:Function,onClick:Function,onRemove:Function,onUpload:Function,onChange:Function,onDragleave:Function,onDragenter:Function},setup:function(e){var t=(0,S.sL)(),n=(0,T.iH)(null),i=(0,T.iH)(!1),a=(0,k.Z)("upload"),l=a.globalConfig,u=(0,w.ws)("upload"),c=(0,it.J)({CheckCircleFilledIcon:fu.Z,ErrorCircleFilledIcon:vu.Z}),s=c.CheckCircleFilledIcon,d=c.ErrorCircleFilledIcon,f=(0,w.RH)(),p=f.SIZE,v=(0,o.Fl)((function(){return e.loadingFile&&e.loadingFile.url||e.file&&e.file.url})),h=(0,o.Fl)((function(){return e.loadingFile&&e.loadingFile.name||e.file&&e.file.name||""})),m=(0,o.Fl)((function(){return["".concat(u.value,"__dragger"),(0,_._)({},"".concat(u.value,"__dragger-center"),!e.loadingFile&&!e.file),(0,_._)({},"".concat(u.value,"__dragger-error"),e.loadingFile&&"fail"===e.loadingFile.status)]})),g=(0,o.Fl)((function(){return e.loadingFile&&e.loadingFile.size||e.file&&e.file.size})),y=(0,o.Fl)((function(){var t,n;return Boolean(!e.loadingFile&&(null===(t=e.file)||void 0===t?void 0:t.name))||["success","fail"].includes(null===(n=e.loadingFile)||void 0===n?void 0:n.status)})),b=function(t){var n,r;t.preventDefault(),null===(n=e.onChange)||void 0===n||n.call(e,t.dataTransfer.files),null===(r=e.onDragleave)||void 0===r||r.call(e,t),i.value=!1},O=function(t){var r;t.preventDefault(),n.value=t.target,null===(r=e.onDragenter)||void 0===r||r.call(e,t),i.value=!0},C=function(t){var r;n.value===t.target&&(t.preventDefault(),null===(r=e.onDragleave)||void 0===r||r.call(e,t),i.value=!1)},x=function(){return(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-img-wrap")},[v.value&&(0,o.Wm)("img",{src:v.value},null)])},P=function(){return"fail"===e.loadingFile.status?(0,o.Wm)(d,null,null):"progress"===e.loadingFile.status?(0,o.Wm)("div",{class:"".concat(u.value,"__single-progress")},[(0,o.Wm)(So.gb,null,null),(0,o.Wm)("span",{class:"".concat(u.value,"__single-percent")},[Math.min(e.percent,99),"%"])]):void 0},E=function(){var t,n,i,a,c,d,f,v,m;return(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-progress")},["image"===e.theme&&x(),(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-progress-info")},[(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-text")},[(0,o.Wm)("span",{class:"".concat(u.value,"__single-name")},[NO(h.value)]),e.loadingFile&&P(),!e.loadingFile&&!!e.file&&(0,o.Wm)(s,null,null)]),(0,o.Wm)("small",{class:"".concat(p.value.small)},[l.value.file.fileSizeText,"：",FO(g.value)]),(0,o.Wm)("small",{class:"".concat(p.value.small)},[l.value.file.fileOperationDateText,"：",MO()]),(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-btns")},[["progress","waiting"].includes(null===(t=e.loadingFile)||void 0===t?void 0:t.status)&&(0,o.Wm)(r.z,{theme:"primary",variant:"text",class:"".concat(u.value,"__dragger-progress-cancel"),onClick:e.onCancel},{default:function(){return[(null===(n=e.locale)||void 0===n?void 0:n.cancelUploadText)||l.value.cancelUploadText]}}),!e.autoUpload&&"waiting"===(null===(i=e.loadingFile)||void 0===i?void 0:i.status)&&(0,o.Wm)(r.z,{variant:"text",theme:"primary",onClick:function(t){return e.onUpload(BO({},e.loadingFile),t)}},{default:function(){return[(null===(a=e.locale)||void 0===a||null===(c=a.triggerUploadText)||void 0===c?void 0:c.normal)||l.value.triggerUploadText.normal]}})]),y.value&&(0,o.Wm)("div",{class:"".concat(u.value,"__dragger-btns")},[(0,o.Wm)(r.z,{theme:"primary",variant:"text",class:"".concat(u.value,"__dragger-progress-cancel"),onClick:function(t){e.onRemove(t),e.onClick(t)}},{default:function(){return[(null===(d=e.locale)||void 0===d||null===(f=d.triggerUploadText)||void 0===f?void 0:f.reupload)||l.value.triggerUploadText.reupload]}}),(0,o.Wm)(r.z,{theme:"danger",variant:"text",onClick:e.onRemove},{default:function(){return[(null===(v=e.locale)||void 0===v||null===(m=v.triggerUploadText)||void 0===m?void 0:m["delete"])||l.value.triggerUploadText["delete"]]}})])])])},I=function(){var t,n,r=(0,o.Wm)("div",null,[(0,o.Wm)("span",{class:"".concat(u.value,"--highlight")},[(null===(t=e.locale)||void 0===t||null===(n=t.triggerUploadText)||void 0===n?void 0:n.normal)||l.value.triggerUploadText.normal]),(0,o.Wm)("span",null,["  /  ",l.value.dragger.draggingText])]),a=(0,o.Wm)("div",null,[l.value.dragger.dragDropText]);return i.value?a:r};return function(){var n=null;return n=(e.loadingFile||e.file)&&"custom"!==e.theme?E():(0,o.Wm)("div",{class:"".concat(u.value,"__trigger"),onClick:e.onClick},[t("default")||I()]),(0,o.Wm)("div",{class:m.value,onDrop:b,onDragenter:O,onDragleave:C,onDragover:function(e){e.preventDefault()}},[n])}}}),HO=n(6254),zO=(0,o.aZ)({name:"TImageUpload",props:{files:AO.files,loadingFile:{type:Object,default:function(){return null}},locale:{type:Object,default:function(){return null}},percent:Number,showUploadProgress:AO.showUploadProgress,placeholder:AO.placeholder,multiple:AO.multiple,max:AO.max,disabled:AO.disabled,onClick:Function,onRemove:Function,onImgPreview:Function},setup:function(e){var t=(0,Ci.D)(),n=(0,k.Z)("upload"),r=n.classPrefix,i=n.globalConfig,a=(0,w.ws)("upload"),l=(0,it.J)({AddIcon:wn,DeleteIcon:Rv,BrowseIcon:HO.Z}),u=l.AddIcon,c=l.DeleteIcon,s=l.BrowseIcon,d=(0,w.RH)(),f=d.STATUS,p=(0,o.Fl)((function(){var t=e.multiple,n=e.max,r=e.files;return t?!n||r&&r.length<n:!(r&&r[0])})),v=function(t){!p.value&&e.onClick(t)},h=function(n,i){return(0,o.Wm)("li",{class:"".concat(a.value,"__card-item ").concat(r.value,"-is--background")},[(0,o.Wm)("div",{class:"".concat(a.value,"__card-content ").concat(a.value,"__card-box")},[(0,o.Wm)("img",{class:"".concat(a.value,"__card-image"),src:n.url},null),(0,o.Wm)("div",{class:"".concat(a.value,"__card-mask"),onClick:v},[(0,o.Wm)("span",{class:"".concat(a.value,"__card-mask-item")},[(0,o.Wm)(s,{onClick:function(t){var r=t.e;r.stopPropagation(),e.onImgPreview(r,n)}},null)]),!t.value&&[(0,o.Wm)("span",{class:"".concat(a.value,"__card-mask-item-divider"),key:"divider"},null),(0,o.Wm)("span",{class:"".concat(a.value,"__card-mask-item"),key:"delete-icon"},[(0,o.Wm)(c,{onClick:function(t){var r=t.e;r.stopPropagation(),e.onRemove({e:r,file:n,index:i})}},null)])]])])])},m=function(){var n,l,c,s;return(0,o.Wm)("li",{class:["".concat(a.value,"__card-item ").concat(r.value,"-is--background"),(0,_._)({},f.value.disabled,t.value)],onClick:e.onClick},[e.showUploadProgress&&e.loadingFile&&"progress"===e.loadingFile.status?(0,o.Wm)("div",{class:"".concat(a.value,"__card-container ").concat(a.value,"__card-box")},[(0,o.Wm)(So.gb,null,null),(0,o.Wm)("p",null,[(null===(n=e.locale)||void 0===n||null===(l=n.progress)||void 0===l?void 0:l.uploadingText)||i.value.progress.uploadingText," ",Math.min(e.percent,99),"%"])]):(0,o.Wm)("div",{class:"".concat(a.value,"__card-container ").concat(a.value,"__card-box")},[(0,o.Wm)(u,null,null),(0,o.Wm)("p",{class:"".concat(r.value,"-size-s")},[e.placeholder||(null===(c=e.locale)||void 0===c||null===(s=c.triggerUploadText)||void 0===s?void 0:s.image)||i.value.triggerUploadText.image])])])};return function(){return(0,o.Wm)("ul",{class:"".concat(a.value,"__card")},[e.files&&e.files.map((function(e,t){return h(e,t)})),p.value&&m()])}}});function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZO(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YO={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM7.5 5h1v2.97l2.85 2.86-.7.7L7.5 8.4V5z",fillOpacity:.9}}]},GO=(0,o.aZ)({name:"TimeFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,l.Z)(r),u=(0,o.Fl)((()=>["t-icon","t-icon-time-filled",i.value])),c=(0,o.Fl)((()=>KO(KO({},a.value),n.style))),s=(0,o.Fl)((()=>({class:u.value,style:c.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,Ge.Z)(YO,s.value)}}),$O=(0,o.aZ)({name:"TUploadFlowList",props:{showUploadProgress:AO.showUploadProgress,allowUploadDuplicateFile:AO.allowUploadDuplicateFile,placeholder:AO.placeholder,autoUpload:AO.autoUpload,disabled:AO.disabled,theme:AO.theme,batchUpload:AO.isBatchUpload,files:AO.files,toUploadFiles:Array,onRemove:Function,onUpload:Function,onCancel:Function,onChange:Function,onDragleave:Function,onDragenter:Function,onImgPreview:Function,locale:{type:Object,default:function(){return null}}},setup:function(e){var t=(0,T.iH)(null),n=(0,T.iH)(!1),i=(0,S.sL)(),a=(0,Ci.D)(),l=(0,k.Z)("upload"),u=l.classPrefix,c=l.globalConfig,s=(0,it.J)({TimeFilledIcon:GO,CheckCircleFilledIcon:fu.Z,ErrorCircleFilledIcon:vu.Z,DeleteIcon:Rv,BrowseIcon:HO.Z}),d=s.TimeFilledIcon,f=s.CheckCircleFilledIcon,p=s.ErrorCircleFilledIcon,v=s.DeleteIcon,h=s.BrowseIcon,m=(0,w.ws)("upload"),g=(0,w.RH)(),y=g.SIZE,b=(0,o.Fl)((function(){var t=[];return e.toUploadFiles.forEach((function(n){if(e.allowUploadDuplicateFile)t.push(n);else{var r=e.files.filter((function(e){return e.name===n.name}));r.length||t.push(n)}})),t})),O=(0,o.Fl)((function(){var t=!b.value||!b.value.length;return(!e.files||!e.files.length)&&t})),C=(0,o.Fl)((function(){return e.files&&e.files.length?e.files.concat(b.value):e.toUploadFiles})),x=(0,o.Fl)((function(){return e.toUploadFiles.filter((function(e){return"fail"===e.status}))})),P=(0,o.Fl)((function(){return e.toUploadFiles.filter((function(e){return"progress"===e.status}))})),E=(0,o.Fl)((function(){return!!P.value.length})),I=(0,o.Fl)((function(){return Boolean(b.value&&b.value.length)&&!E.value})),D=(0,o.Fl)((function(){var t,n,r=e.locale;return E.value?"".concat(c.value.progress.uploadingText,"..."):x.value&&x.value.length?(null===r||void 0===r||null===(t=r.triggerUploadText)||void 0===t?void 0:t.reupload)||c.value.triggerUploadText.reupload:(null===r||void 0===r||null===(n=r.triggerUploadText)||void 0===n?void 0:n.normal)||c.value.triggerUploadText.normal})),j=function(t){t.preventDefault(),e.onChange(t.dataTransfer.files),e.onDragleave(t),n.value=!1},R=function(r){t.value=r.target,r.preventDefault(),e.onDragenter(r),n.value=!0},A=function(r){t.value===r.target&&(r.preventDefault(),e.onDragleave(r),n.value=!1)},F=function(e){e.preventDefault()},M=function(){return(0,o.Wm)("div",{class:"".concat(m.value,"__flow-empty"),onDrop:j,onDragenter:R,onDragover:F,onDragleave:A},[n.value?c.value.dragger.dragDropText:c.value.dragger.clickAndDragText])},N=function(t){var n,r=null===(n=e.locale)||void 0===n?void 0:n.progress,i={success:(0,o.Wm)(f,null,null),fail:(0,o.Wm)(p,null,null),progress:(0,o.Wm)(So.gb,null,null),waiting:(0,o.Wm)(d,null,null)},a={success:(null===r||void 0===r?void 0:r.successText)||c.value.progress.successText,fail:(null===r||void 0===r?void 0:r.failText)||c.value.progress.failText,progress:"".concat((null===r||void 0===r?void 0:r.uploadingText)||c.value.progress.uploadingText," ").concat(Math.min(t.percent,99),"%"),waiting:(null===r||void 0===r?void 0:r.waitingText)||c.value.progress.waitingText};return{iconMap:i,textMap:a}},L=function(t){if(e.showUploadProgress){var n=N(t),r=n.iconMap,i=n.textMap;return(0,o.Wm)("div",{class:"".concat(m.value,"__flow-status")},[r[t.status],(0,o.Wm)("span",null,[i[t.status]])])}},W=function(t,n){var r,i;return(0,o.Wm)("td",null,[(0,o.Wm)("span",{class:"".concat(m.value,"__flow-button"),onClick:function(r){return e.onRemove({e:r,index:n,file:t})}},[(null===(r=e.locale)||void 0===r||null===(i=r.triggerUploadText)||void 0===i?void 0:i["delete"])||c.value.triggerUploadText["delete"]])])},V=function(t){var n,r;return 0===t?(0,o.Wm)("td",{rowspan:C.value.length,class:"".concat(m.value,"__flow-table__batch-row")},[(0,o.Wm)("span",{class:"".concat(m.value,"__flow-button"),onClick:function(t){return e.onRemove({e:t,index:-1,file:null})}},[(null===(n=e.locale)||void 0===n||null===(r=n.triggerUploadText)||void 0===r?void 0:r["delete"])||c.value.triggerUploadText["delete"]])]):""},B=function(){var t,n,r,i,a,l,u,s;return"file-flow"===e.theme&&(0,o.Wm)("table",{class:"".concat(m.value,"__flow-table")},[(0,o.Wm)("tr",null,[(0,o.Wm)("th",null,[(null===(t=e.locale)||void 0===t||null===(n=t.file)||void 0===n?void 0:n.fileNameText)||c.value.file.fileNameText]),(0,o.Wm)("th",null,[(null===(r=e.locale)||void 0===r||null===(i=r.file)||void 0===i?void 0:i.fileSizeText)||c.value.file.fileSizeText]),(0,o.Wm)("th",null,[(null===(a=e.locale)||void 0===a||null===(l=a.file)||void 0===l?void 0:l.fileStatusText)||c.value.file.fileStatusText]),(0,o.Wm)("th",null,[(null===(u=e.locale)||void 0===u||null===(s=u.file)||void 0===s?void 0:s.fileOperationText)||c.value.file.fileOperationText])]),O.value&&(0,o.Wm)("tr",null,[(0,o.Wm)("td",{colspan:4},[M()])]),C.value.map((function(t,n){var r=e.batchUpload&&0===e.toUploadFiles.length;return(0,o.Wm)("tr",null,[(0,o.Wm)("td",null,[NO(t.name,7,10)]),(0,o.Wm)("td",null,[FO(t.size)]),(0,o.Wm)("td",null,[L(t)]),r?V(n):W(t,n)])}))])},U=function(t,n){var r=N(t),i=r.iconMap,l=r.textMap;return(0,o.Wm)("li",{class:"".concat(m.value,"__card-item")},[(0,o.Wm)("div",{class:["".concat(m.value,"__card-content"),(0,_._)({},"".concat(u.value,"-is-bordered"),"waiting"!==t.status)]},[["fail","progress"].includes(t.status)&&(0,o.Wm)("div",{class:"".concat(m.value,"__card-status-wrap")},[i[t.status],(0,o.Wm)("p",null,[l[t.status]])]),(["waiting","success"].includes(t.status)||!t.status&&t.url)&&(0,o.Wm)("img",{class:"".concat(m.value,"__card-image"),src:t.url||"//tdesign.gtimg.com/tdesign-default-img.png"},null),(0,o.Wm)("div",{class:"".concat(m.value,"__card-mask")},[t.url&&(0,o.Wm)("span",{class:"".concat(m.value,"__card-mask-item")},[(0,o.Wm)(h,{onClick:function(n){var r=n.e;return e.onImgPreview(r,t)}},null),(0,o.Wm)("span",{class:"".concat(m.value,"__card-mask-item-divider")},null)]),!a.value&&(0,o.Wm)("span",{class:"".concat(m.value,"__card-mask-item"),onClick:function(r){return e.onRemove({e:r,index:n,file:t})}},[(0,o.Wm)(v,null,null)])])]),(0,o.Wm)("p",{class:"".concat(m.value,"__card-name")},[NO(t.name)])])},H=function(){return"image-flow"===e.theme&&(0,o.Wm)("div",{class:"".concat(m.value,"__flow-card-area"),onDrop:j,onDragenter:R,onDragover:F,onDragleave:A},[O.value&&M(),!!C.value.length&&(0,o.Wm)("ul",{class:"".concat(m.value,"__card clearfix")},[C.value.map((function(e,t){return U(e,t)}))])])},z=function(){var t;return!e.autoUpload&&(0,o.Wm)("div",{class:"".concat(m.value,"__flow-bottom")},[(0,o.Wm)(r.z,{theme:"default",onClick:e.onCancel,disabled:!I.value},{default:function(){return[(null===(t=e.locale)||void 0===t?void 0:t.cancelUploadText)||c.value.cancelUploadText]}}),(0,o.Wm)(r.z,{disabled:!I.value,theme:"primary",onClick:function(t){return e.onUpload(b.value,t)}},{default:function(){return[D.value]}})])};return function(){return(0,o.Wm)("div",{class:["".concat(m.value,"__flow"),"".concat(m.value,"__flow-").concat(e.theme)]},[(0,o.Wm)("div",{class:"".concat(m.value,"__flow-op")},[i("default"),(0,o.Wm)("small",{class:"".concat(y.value.small," ").concat(m.value,"__flow-placeholder")},[e.placeholder])]),B(),H(),z()])}}}),JO={file:{type:Object,default:function(){return null}},loadingFile:{type:Object,default:function(){return null}},percent:{type:Number},showUploadProgress:AO.showUploadProgress,theme:AO.theme,placeholder:AO.placeholder,onRemove:Function},qO=(0,o.aZ)({name:"TUploadSingleFile",props:JO,setup:function(e){var t=(0,S.sL)(),n=(0,k.Z)("upload"),r=n.classPrefix,i=(0,w.ws)("upload"),a=(0,it.J)({CloseCircleFilledIcon:pu.Z,ErrorCircleFilledIcon:vu.Z,CheckCircleFilledIcon:fu.Z}),l=a.CloseCircleFilledIcon,u=a.ErrorCircleFilledIcon,c=a.CheckCircleFilledIcon,s=(0,o.Fl)((function(){return!(!e.loadingFile||"progress"!==e.loadingFile.status)})),d=(0,o.Fl)((function(){var t=e.file&&e.file.name,n=e.loadingFile&&e.loadingFile.name;return s.value?n:t})),f=(0,o.Fl)((function(){return d.value||e.placeholder})),p=(0,o.Fl)((function(){return["".concat(r.value,"-input__inner"),(0,_._)({},"".concat(i.value,"__placeholder"),!d.value)]})),v=(0,o.Fl)((function(){return["".concat(i.value,"__single"),"".concat(i.value,"__single-").concat(e.theme)]})),h=function(){return"fail"===e.loadingFile.status?(0,o.Wm)(u,null,null):e.showUploadProgress?(0,o.Wm)("div",{class:"".concat(i.value,"__single-progress")},[(0,o.Wm)(So.gb,null,null),(0,o.Wm)("span",{class:"".concat(i.value,"__single-percent")},[Math.min(e.percent,99),"%"])]):void 0},m=function(){if(d.value&&"file"===e.theme)return(0,o.Wm)("div",{class:"".concat(i.value,"__single-display-text ").concat(i.value,"__display-text--margin")},[(0,o.Wm)("span",{class:"".concat(i.value,"__single-name")},[d.value]),s.value?h():(0,o.Wm)(l,{class:"".concat(i.value,"__icon-delete"),onClick:function(t){var n=t.e;return e.onRemove(n)}},null)])},g=function(){if("file-input"===e.theme){var t=function(){return e.loadingFile&&"fail"===e.loadingFile.status?(0,o.Wm)(u,null,null):e.file&&e.file.name&&!e.loadingFile?(0,o.Wm)(c,null,null):""};return(0,o.Wm)("div",{class:"".concat(i.value,"__single-input-preview ").concat(r.value,"-input")},[(0,o.Wm)("div",{class:p.value},[(0,o.Wm)("span",{class:"".concat(i.value,"__single-input-text")},[NO(f.value,4,6)]),s.value&&h(),t()])])}};return function(){return(0,o.Wm)("div",{class:v.value},[g(),t("default"),m()])}}}),XO=n(5802),QO=n(1735),ek=n(1085),tk=n(1825);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function nk(e){var t=e.method,n=void 0===t?"POST":t,r=e.action,i=e.withCredentials,o=void 0!==i&&i,a=e.headers,l=void 0===a?{}:a,u=e.data,c=void 0===u?{}:u,s=e.file,d=e.files,f=e.name,p=void 0===f?"file":f,v=e.onError,h=e.onProgress,m=e.onSuccess,g=d||[],y=new XMLHttpRequest;o&&(y.withCredentials=!0);var b=new FormData,_="function"===typeof c?c(s):c;return Object.keys(_).forEach((function(e){b.append(e,_[e])})),g.forEach((function(e){b.append(p,e&&e.raw)})),y.open(n,r,!0),Object.keys(l).forEach((function(e){y.setRequestHeader(e,l[e])})),y.onerror=function(e){return v({event:e,file:s,files:g})},y.upload&&(y.upload.onprogress=function(e){var t=0;e.total>0&&(t=Math.round(e.loaded/e.total*100)),h({event:e,percent:t,file:s,files:g})}),y.onload=function(e){var t,n=y.status<200||y.status>=300;if(n)return v({event:e,file:s,files:g,response:t});var r=y.responseText||y.response;try{t=JSON.parse(r)}catch(i){t=r}m({event:e,file:s,files:g,response:t})},y.send(b),y}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var rk=ll,ik=cl._,ok=cl.i,ak=ik((function(e,t){return ok(e)?rk(e,t):[]})),lk=ak;function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ck(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uk(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sk=function(e,t){var n=function(n){var r,i=n.event,o=n.file,a=n.files,l=n.percent,u=n.type,c=void 0===u?"real":u,s=Array.isArray(a)?a:[o];if((null===s||void 0===s?void 0:s.length)<=0)return nn.Z.error("Uploader","Progress Error files");s.forEach((function(e){e.percent=Math.min(l,100),t.loadingFile=e,t.percent=e.percent}));var d={percent:l,e:i,file:o,type:c,currentFiles:s};null===(r=e.onProgress)||void 0===r||r.call(e,d)},r=function(n){var r,i,o=n.event,a=n.file,l=n.files,u=n.response,c=n.resFormatted,s=Array.isArray(l)?l:[a];s.forEach((function(e){e.status="fail",t.loadingFile=e}));var d=u;c||"function"!==typeof e.formatResponse||(d=e.formatResponse(u,{file:a,currentFiles:l})),t.errorMsg=null===(r=d)||void 0===r?void 0:r.error;var f={e:o,file:t.uploadInOneRequest?null:s[0],currentFiles:s};null===(i=e.onFail)||void 0===i||i.call(e,f),t.loadingFile=null},i=function(n){var i,o,a=n.event,l=n.file,u=n.files,c=n.response,s=Array.isArray(u)?u:[l];if((null===s||void 0===s?void 0:s.length)<=0)return nn.Z.error("Uploader","success no files");s.forEach((function(e){e.status="success"}));var d=c;if("function"===typeof e.formatResponse&&(d=e.formatResponse(c,{file:t.uploadInOneRequest?null:s[0],currentFiles:s})),null!==(i=d)&&void 0!==i&&i.error)r({event:a,file:t.uploadInOneRequest?null:s[0],files:s,response:d,resFormatted:!0});else{t.uploadInOneRequest||(s[0].url=d.url||s[0].url),t.toUploadFiles=lk.apply(void 0,[t.toUploadFiles].concat((0,b._)(s)));var f=s.map((function(e){return ck(ck({},e),{},{response:d})})),p=e.multiple?t.uploadValue.concat(f):f,v={e:a,response:d,trigger:"upload-success"};t.setUploadValue(p,v);var h={file:t.uploadInOneRequest?null:f[0],fileList:p,currentFiles:f,e:a,response:d};null===(o=e.onSuccess)||void 0===o||o.call(e,h),t.loadingFile=null}},o=function(e){var t=setInterval((function(){e.forEach((function(e){"success"===e.status||e.percent>=99?clearInterval(t):e.percent+=1}));var r=e[0].percent;n({files:e,percent:r,type:"mock"})}),10)};return{handleProgress:n,handleMockProgress:o,handleSuccess:i,onError:r}},dk=function(e,t){var n=(0,T.iH)(null),r=(0,k.Z)("upload"),i=r.globalConfig,o=r.t,a=sk(e,t),l=a.handleProgress,u=a.handleMockProgress,c=a.handleSuccess,s=a.onError,d=function(n){var r="number"===typeof e.sizeLimit?{size:e.sizeLimit,unit:"KB"}:e.sizeLimit,a=WO(n/1024,r.size,r.unit);return a||(t.errorMsg=r.message?o(r.message,{sizeLimit:r.size}):"".concat(o(i.value.sizeLimitMessage,{sizeLimit:r.size})," ").concat(r.unit)),a},f=function(n){if(t.errorMsg="","function"===typeof e.beforeUpload){var r=e.beforeUpload(n);return r instanceof Promise?r:new Promise((function(e){return e(r)}))}return new Promise((function(t){e.sizeLimit&&t(d(n.size)),t(!0)}))},p=function(e){return e?e.status?["success","fail"].includes(e.status)?("success"!==e.status||e.response&&e.response.url||nn.Z.warn("Upload","`requestMethodResponse.response.url` is required, when `status` is `success`"),!0):(nn.Z.error("Upload","`requestMethodResponse.status` must be `success` or `fail`"),!1):(nn.Z.error("Upload","`requestMethodResponse.status` is missing, which value is `success` or `fail`"),!1):(nn.Z.error("Upload","`requestMethodResponse` is required."),!1)},v=function(n){if((0,Re.i)(e.requestMethod)){var r=t.uploadInOneRequest?n:n[0];e.requestMethod(r).then((function(e){if(p(e))if("success"===e.status)c({files:n,response:e.response});else if("fail"===e.status){var r=e.response||{};s({event:null,file:t.uploadInOneRequest?null:n[0],files:n,response:ck(ck({},r),{},{error:e.error})})}}))}else nn.Z.warn("Upload","`requestMethod` must be a function.")},h=function(){var r=Ee(je.mark((function r(i){var o,a;return je.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=Array.isArray(i)?i:[i],e.action||e.requestMethod){r.next=4;break}return nn.Z.error("Upload","one of action and requestMethod must be exist."),r.abrupt("return");case 4:o.forEach((function(e){e.status="progress",t.loadingFile=e})),e.requestMethod?v(o):(e.useMockProgress&&u(o),a=nk,n.value=a({action:e.action,data:e.data,files:o,name:e.name,headers:e.headers,withCredentials:e.withCredentials,onError:s,onProgress:l,onSuccess:c,method:e.method}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),m=function(n){var r,i;if(t.canBatchUpload&&(null===(r=t.uploadValue)||void 0===r?void 0:r.length)>0){var o={trigger:"batch-clear"};t.setUploadValue([],o)}null===(i=e.onSelectChange)||void 0===i||i.call(e,(0,b._)(n));var a=(0,b._)(n);e.max&&(a=a.slice(0,e.max-t.uploadValue.length),a.length!==n.length&&console.warn("TDesign Upload Warn: you can only upload ".concat(e.max," files"))),a.forEach((function(n){var r=n;"function"===typeof e.format&&(r=e.format(n));var i=ck({raw:n,lastModified:n.lastModified,name:n.name,size:n.size,type:n.type,percent:0,status:"waiting"},r),o=new FileReader;o.readAsDataURL(n),o.onload=function(e){i.url=e.target.result},f(r).then((function(n){if(n){var r=t.toUploadFiles.concat();!e.allowUploadDuplicateFile&&t.toUploadFiles.find((function(e){return e.name===i.name}))||r.push(i),t.toUploadFiles=(0,b._)(new Set(r)),t.loadingFile=i,e.autoUpload&&h(i)}}))}))};return{uploadFiles:m,upload:h,xhrReq:n}},fk=Mo.d,pk=Ja,vk=1,hk=2;function mk(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;e=Object(e);while(i--){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}while(++i<o){l=n[i];var u=l[0],c=e[u],s=l[1];if(a&&l[2]){if(void 0===c&&!(u in e))return!1}else{var d=new fk;if(r)var f=r(c,s,u,e,t,d);if(!(void 0===f?pk(s,c,vk|hk,r,d):f))return!1}}return!0}var gk=mk,yk=D.i;function bk(e){return e===e&&!yk(e)}var _k=bk,wk=_k,Sk=Wo.k;function Ok(e){var t=Sk(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,wk(i)]}return t}var kk=Ok;function Ck(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}var xk=Ck,Pk=gk,Ek=kk,Tk=xk;function Ik(e){var t=Ek(e);return 1==t.length&&t[0][2]?Tk(t[0][0],t[0][1]):function(n){return n===e||Pk(n,e,t)}}var Dk=Ik,jk=Ja,Rk=hl.g,Ak=XO.h,Fk=QO.c,Mk=_k,Nk=xk,Lk=QO.b,Wk=1,Vk=2;function Bk(e,t){return Fk(e)&&Mk(t)?Nk(Lk(e),t):function(n){var r=Rk(n,e);return void 0===r&&r===t?Ak(n,e):jk(t,r,Wk|Vk)}}var Uk=Bk,Hk=QO._;function zk(e){return function(t){return Hk(t,e)}}var Zk=zk,Kk=ek._,Yk=Zk,Gk=QO.c,$k=QO.b;function Jk(e){return Gk(e)?Kk($k(e)):Yk(e)}var qk=Jk,Xk=Dk,Qk=Uk,eC=_u.i,tC=Bo.i,nC=qk;function rC(e){return"function"==typeof e?e:null==e?eC:"object"==(0,Ce._)(e)?tC(e)?Qk(e[0],e[1]):Xk(e):nC(e)}var iC=rC,oC=No.d,aC=iC,lC=tk.t,uC=Math.max;function cC(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:lC(n);return i<0&&(i=uC(r+i,0)),oC(e,aC(t,3),i)}var sC=cC;function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dC(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pC=function(e,t){var n=(0,o.Fl)((function(){return!(!e.multiple||"file"!==e.theme||!e.draggable)||e.multiple&&["file-flow","image-flow"].includes(e.theme)})),r=(0,o.Fl)((function(){if("file"===e.theme){var n=(!t.uploadValue||!t.uploadValue.length)&&!t.loadingFile;return e.tips&&n}return Boolean(e.tips)})),i=(0,o.Fl)((function(){return!n.value&&!!t.errorMsg})),a=(0,o.Fl)((function(){return!e.multiple&&e.draggable&&["file","file-input","image"].includes(e.theme)}));return{showUploadList:n,showTips:r,showErrorMsg:i,singleDraggable:a}},vC=function(e){var t=(0,T.iH)(""),n=(0,T.iH)(!1),r=function(r,i){var o;if(!i||!i.url)return nn.Z.error("Uploader","Preview Error file");t.value=i.url,n.value=!0;var a={file:i,e:r};null===(o=e.onPreview)||void 0===o||o.call(e,a)},i=function(){n.value=!1;var e=setTimeout((function(){t.value=null,clearTimeout(e),e=null}),500)};return{showImageViewUrl:t,showImageViewDialog:n,handlePreviewImg:r,cancelPreviewImgDialog:i}},hC=function(e,t){var n=(0,T.iH)(!1),r=function(r){var i;t.value||(n.value=!0,null===(i=e.onDragenter)||void 0===i||i.call(e,{e:r}))},i=function(r){var i;t.value||(n.value=!1,null===(i=e.onDragleave)||void 0===i||i.call(e,{e:r}))};return{handleDragenter:r,handleDragleave:i,dragActive:n}},mC=function(e,t){var n=function(n){var r,i={trigger:"remove"};t.loadingFile&&(t.loadingFile=null),t.errorMsg="",t.setUploadValue([],i),null===(r=e.onRemove)||void 0===r||r.call(e,{e:n})},r=function(e){null===e||void 0===e||e.stopPropagation(),n(e)},i=function(n){var r,i=[];t.canBatchUpload?(i=[],n.files=t.uploadValue.concat()):(i=t.uploadValue.concat(),i.splice(n.index,1));var o=fC({trigger:"remove"},n);t.setUploadValue(i,o),null===(r=e.onRemove)||void 0===r||r.call(e,n)},o=function(e){var n=e.file,r=sC(t.toUploadFiles,(function(e){return e.name===(null===n||void 0===n?void 0:n.name)}));if(r>=0)t.toUploadFiles.splice(r,1);else{var o=sC(t.uploadValue,(function(e){return e.name===(null===n||void 0===n?void 0:n.name)}));i({e:e.e,index:o})}};return{handleFileInputRemove:r,handleSingleRemove:n,handleMultipleRemove:i,handleListRemove:o}},gC=function(e,t,n){var r=dk(e,t),i=r.uploadFiles,o=r.upload,a=r.xhrReq,l=(0,T.iH)(null),u=function(e){var t=e.target.files;n.value||(i(t),l.value.value="")},c=function(t){e.uploadAllFilesInOneRequest?o(t):t.forEach((function(e){o(e)}))},s=function(){n.value||l.value.click()},d=function(){var n;t.loadingFile&&(e.requestMethod||(a.value&&a.value.abort(),t.toUploadFiles=[]),null===(n=e.onCancelUpload)||void 0===n||n.call(e),t.loadingFile=null);l.value.value=""},f=function(e){n.value||i(e)};return{handleChange:u,multipleUpload:c,triggerUpload:s,cancelUpload:d,handleDragChange:f,upload:o,inputRef:l}},yC=function(e){var t=(0,o.Fl)((function(){return e.multiple&&e.uploadAllFilesInOneRequest})),n=(0,o.Fl)((function(){return t.value&&e.isBatchUpload}));return{uploadInOneRequest:t,canBatchUpload:n}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wC(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}var SC=(0,o.aZ)({name:"TUpload",props:AO,setup:function(e,t){var n=t.expose,i=(0,S.r0)(),a=(0,k.Z)("upload"),l=a.classPrefix,u=a.globalConfig,c=(0,w.ws)("upload"),s=(0,it.J)({UploadIcon:RO}),d=s.UploadIcon,f=(0,T.BK)(e),p=f.files,v=f.modelValue,h=yC(e),m=h.canBatchUpload,g=h.uploadInOneRequest,y=(0,gt.Z)(p,v,e.defaultFiles||[],e.onChange,"files"),b=(0,ft._)(y,2),_=b[0],O=b[1],C=(0,T.qj)({uploadValue:_,setUploadValue:O,uploadInOneRequest:g,canBatchUpload:m,loadingFile:null,percent:0,toUploadFiles:[],errorMsg:""}),x=(0,Ci.D)(),P=pC(e,C),E=P.showUploadList,I=P.showTips,D=P.showErrorMsg,j=P.singleDraggable,R=vC(e),A=R.showImageViewUrl,F=R.showImageViewDialog,M=R.handlePreviewImg,N=R.cancelPreviewImgDialog,L=hC(e,x),W=L.handleDragenter,V=L.handleDragleave,B=L.dragActive,U=mC(e,C),H=U.handleFileInputRemove,z=U.handleSingleRemove,Z=U.handleMultipleRemove,K=U.handleListRemove,Y=gC(e,C,x),G=Y.handleChange,$=Y.multipleUpload,J=Y.triggerUpload,q=Y.cancelUpload,X=Y.handleDragChange,Q=Y.upload,ee=Y.inputRef;n({triggerUpload:J,setPercent:function(e){C.percent=e}});var te=function(){return(0,o.Wm)("input",{ref:ee,type:"file",disabled:x.value,onChange:G,multiple:e.multiple,accept:e.accept,hidden:!0},null)},ne=function(t){var n;return!e.draggable&&["file","file-input"].includes(e.theme)&&(0,o.Wm)(qO,{file:_.value&&_.value[0],loadingFile:C.loadingFile,percent:C.percent,theme:e.theme,onRemove:z,showUploadProgress:e.showUploadProgress,placeholder:e.placeholder},{default:function(){return[(0,o.Wm)("div",{class:"".concat(l.value,"-upload__trigger"),onclick:J},[t,!("file-input"!==e.theme||null===(n=_.value)||void 0===n||!n.length)&&(0,o.Wm)(r.z,{theme:"primary",variant:"text",onClick:H},{default:function(){return["删除"]}})])]}})},re=function(){var t={dragActive:B.value,uploadingFile:e.multiple?C.toUploadFiles:C.loadingFile},n=i("default","trigger",{params:t});return Array.isArray(n)||(n={}),(0,o.Wm)(UO,{showUploadProgress:e.showUploadProgress,loadingFile:C.loadingFile,percent:C.percent,file:_.value&&_.value[0],theme:e.theme,autoUpload:e.autoUpload,onChange:X,onDragenter:W,onDragleave:V,onCancel:q,onClick:J,onRemove:z,onUpload:Q,locale:e.locale},wC(n)?n:{default:function(){return[n]}})},ie=(0,o.Fl)((function(){var t,n,r,i,o,a,l=e.locale,c=u.value.triggerUploadText.fileInput||(null===l||void 0===l||null===(t=l.triggerUploadText)||void 0===t?void 0:t.fileInput);((null===(n=C.toUploadFiles)||void 0===n?void 0:n.length)>0||(null===(r=C.uploadValue)||void 0===r?void 0:r.length)>0)&&(c="file-input"===e.theme||(null===(i=C.uploadValue)||void 0===i?void 0:i.length)>0&&m.value?(null===l||void 0===l||null===(o=l.triggerUploadText)||void 0===o?void 0:o.reupload)||u.value.triggerUploadText.reupload:(null===l||void 0===l||null===(a=l.triggerUploadText)||void 0===a?void 0:a.continueUpload)||u.value.triggerUploadText.continueUpload);return c})),oe=function(){var t=function(){var t,n=e.locale;if("file-input"===e.theme||E.value)return(0,o.Wm)((0,o.up)("t-button"),{variant:"outline"},{default:function(){return[(null===n||void 0===n||null===(t=n.triggerUploadText)||void 0===t?void 0:t.fileInput)||u.value.triggerUploadText.fileInput]}});var i={icon:function(){return(0,o.Wm)(d,null,null)}};return(0,o.Wm)(r.z,{variant:"outline"},_C({default:function(){return[ie.value]}},i))},n=t();return i("default","trigger",n)},ae=function(t){if("custom"===e.theme)return e.draggable?re():(0,o.Wm)("div",{class:"".concat(c.value,"__trigger"),onclick:J},[t])},le=function(){return!e.draggable&&"image"===e.theme&&(0,o.Wm)(zO,{files:_.value,loadingFile:C.loadingFile,percent:C.percent,showUploadProgress:e.showUploadProgress,placeholder:e.placeholder,multiple:e.multiple,max:e.max,disabled:x.value,onClick:J,onRemove:Z,onImgPreview:M,locale:e.locale},null)},ue=function(t){var n=e.theme;return e.multiple&&"file"===e.theme&&e.draggable&&(n="file-flow"),E.value&&(0,o.Wm)($O,{files:_.value,placeholder:e.placeholder,autoUpload:e.autoUpload,toUploadFiles:C.toUploadFiles,theme:n,batchUpload:C.canBatchUpload,showUploadProgress:e.showUploadProgress,allowUploadDuplicateFile:e.allowUploadDuplicateFile,onRemove:K,onUpload:$,onCancel:q,onImgPreview:M,onChange:X,onDragenter:W,onDragleave:V,locale:e.locale},{default:function(){return[(0,o.Wm)("div",{class:"".concat(c.value,"__trigger"),onclick:J},[t])]}})},ce=function(){return["image","image-flow","custom"].includes(e.theme)&&(0,o.Wm)(iO,{visible:F.value,showOverlay:!0,width:"auto",top:"10%",class:"".concat(c.value,"__dialog"),footer:!1,header:!1,onClose:N},{default:function(){return[(0,o.Wm)("div",{class:"".concat(l.value,"__dialog-body-img-box")},[(0,o.Wm)("img",{src:A.value,alt:""},null)])]}})},se=(0,o.Fl)((function(){return["".concat(c.value,"__tips ").concat(l.value,"-size-s")]})),de=(0,o.Fl)((function(){return se.value.concat("".concat(c.value,"__tips-error"))}));return function(){var t=oe();return(0,o.Wm)("div",{class:"".concat(c.value)},[te(),ae(t),ne(t),j.value&&re(),le(),ue(t),ce(),!C.errorMsg&&I.value&&(0,o.Wm)("small",{class:se.value},[e.tips]),D.value&&(0,o.Wm)("small",{class:de.value},[C.errorMsg])])}}}),OC=(0,g.Z)(SC),kC=(0,o.aZ)({name:"TConfigProvider",props:{globalConfig:Object},setup:function(e){var t=(0,Po.c)(bu.d);(0,o.JJ)(bu.c,(0,o.Fl)((function(){return(0,bu.m)(t,e.globalConfig)})));var n=(0,S.sL)();return function(){return(0,o.Wm)("div",null,[n("default")])}}}),CC=(0,g.Z)(kC),xC=n(1616);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PC(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TC=null;function IC(e){var t=(0,o.aZ)({setup:function(){var t=(0,T.qj)(e);return{loadingOptions:t}},render:function(){return(0,o.h)(xC.Z,EC({},this.loadingOptions))}}),n=(0,F.PY)(e.attach),r=(0,cn.ri)(t).mount(document.createElement("div"));n?n.appendChild(r.$el):console.error("attach is not exist");var i={hide:function(){r.loading=!1,r.$el.parentNode.removeChild(r.$el)}};return i}function DC(e){var t=(0,w.ws)("loading--lock");return!0===e?(TC=IC({fullscreen:!0,loading:!0,attach:"body"}),TC):((0,F.IV)(document.body,t.value),!1===e?((0,F.IV)(document.body,t.value),TC.hide(),void(TC=null)):IC(e))}var jC=DC;
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RC(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}jC.install=function(e){e.config.globalProperties.$loading=DC};var FC=(0,o.aZ)({props:{placement:{type:String,default:"top-right",validator:function(e){return["top-left","top-right","bottom-left","bottom-right"].indexOf(e)>-1}}},setup:function(e,t){var n=t.expose,r=(0,w.ws)("notification-list"),i=e.placement,a=(0,T.iH)([]),l=(0,T.iH)([]),u=(0,o.Fl)((function(){return AC({zIndex:fO},vO[i])})),c=function(e){return a.value.push(e),a.value.length-1},s=function(e){a.value.splice(e,1)},d=function(){a.value=[]},f=function(e){if(e)return isNaN(Number(e))?e:"".concat(e,"px")},p=function(e){var t={marginBottom:pO};return e.offset&&(t.position="relative",t.left=f(e.offset[0]),t.top=f(e.offset[1])),e.zIndex&&(t["z-index"]=e.zIndex),t},v=function(e,t){return AC(AC({},t),{},{onCloseBtnClick:function(n){return t.onCloseBtnClick&&t.onCloseBtnClick(n),s(e)},onDurationEnd:function(){return t.onDurationEnd&&t.onDurationEnd(),s(e)}})},h=function(e){e&&l.value.push(e)};return n({add:c,remove:s,removeAll:d,list:a,notificationList:l}),function(){if(a.value.length)return(0,o.Wm)("div",{class:"".concat(r.value,"__show"),style:u.value},[a.value.map((function(e,t){return(0,o.Wm)(OO,(0,o.dG)({ref:h,key:e.id,style:p(e)},v(t,e)),null)}))])}}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MC(Object(n),!0).forEach((function(t){(0,_._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LC=0,WC=new Map,VC=function(e){LC+=1;var t=NC({placement:"top-right",zIndex:6e3,attach:"body",id:LC},e);t.content=e.content?e.content:"";var n=(0,F.PY)(t.attach);WC.get(n)||WC.set(n,{});var r=WC.get(n)[t.placement];if(r)r.add(t);else{var i=document.createElement("div"),a=(0,cn.ri)(FC,{placement:t.placement}).mount(i);a.add(t),WC.get(n)[t.placement]=a,r=a,n.appendChild(a.$el)}return new Promise((function(e){var r=WC.get(n)[t.placement];(0,o.Y3)((function(){var t=r.notificationList;e(t[t.length-1])}))}))},BC=function(e,t){var n=NC(NC({},t),{},{theme:e});return VC(n)},UC={info:function(e){return BC("info",e)},success:function(e){return BC("success",e)},warning:function(e){return BC("warning",e)},error:function(e){return BC("error",e)},close:function(e){e.then((function(e){return e.close()}))},closeAll:function(){WC.forEach((function(e){Object.keys(e).forEach((function(t){e[t].removeAll()}))}))}},HC=BC;HC.install=function(e){e.config.globalProperties.$notify=BC,Object.keys(UC).forEach((function(t){e.config.globalProperties.$notify[t]=UC[t]}))},Object.keys(UC).forEach((function(e){HC[e]=UC[e]}));
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var zC=Object.freeze({__proto__:null,Button:r.z,Icon:y,Link:E,Row:Q,Col:ee,Aside:ce,Layout:se,Header:de,Footer:fe,Content:pe,Divider:ye,Space:ke,Affix:Me,Anchor:at,AnchorItem:lt,AnchorTarget:ut,Breadcrumb:Et,BreadcrumbItem:Tt,Dropdown:Ut,DropdownItem:Ht,DropdownMenu:zt,Jumper:Kt,Menu:ur,HeadMenu:cr,Submenu:sr,MenuItem:dr,MenuGroup:fr,Pagination:Zi,Steps:io,StepItem:oo,Tabs:zn,TabPanel:Zn,Cascader:Ql,CascaderPanel:eu,Checkbox:wo.XZ,CheckboxGroup:wo.cO,DatePicker:tu.Mt,DatePickerPanel:tu.Yn,DateRangePicker:tu.Dw,DateRangePickerPanel:tu.x_,Form:ss,FormItem:ds,InputAdornment:Ai,Input:Yr.II,InputGroup:Yr.BZ,InputNumber:Ii,Radio:Ps,RadioGroup:Es,RadioButton:Ts,Select:Di.Ph,Option:Di.Wx,OptionGroup:Di.Ye,Slider:$s,SliderButton:Js,Switch:nd,TagInput:rd.E,SelectInput:Fo.l,Textarea:pd,Transfer:zd,TimePicker:sf,TimeRangePicker:df,TimePickerPanel:ff,TreeSelect:Xf,ColorPickerPanel:Yv,ColorPicker:Gv,RangeInput:rf.LO,RangeInputPopup:rf.Wp,Avatar:nh,AvatarGroup:rh,Badge:uh,Calendar:Vh,Card:zh,Comment:Yh,List:rm,ListItem:im,ListItemMeta:om,Progress:gm,Skeleton:km,Swiper:Nm,SwiperItem:Lm,BaseTable:yS,PrimaryTable:bS,EnhancedTable:_S,Table:SS,Tag:Oh.Vp,CheckTag:Oh.pn,Tooltip:wt,Tree:Yf,Collapse:TS,CollapsePanel:IS,Watermark:HS,Rate:XS,Alert:rO,DialogPlugin:Cy,Dialog:iO,Drawer:uO,LoadingPlugin:jC,Loading:So.gb,MessagePlugin:nt.Z,Message:sO,NotifyPlugin:HC,Notification:kO,Popconfirm:TO,Popup:ht.G,Upload:OC,ConfigProvider:CC});n(385);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function ZC(e,t){Object.keys(zC).forEach((function(n){/plugin/i.test(n)?e.use(zC[n]):e.use(zC[n],t)}))}var KC={install:ZC,version:"0.20.3"}},4230:function(e,t,n){"use strict";n.d(t,{II:function(){return N},BZ:function(){return L}});var r=n(3430),i=n(1633),o=n(3396),a=n(6254),l=n(6370),u=n(2215),c=n(4344);n(3727);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,l._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10.77 11.98l1.38 1.37.7-.7-9.7-9.7-.7.7 1.2 1.21a7.9 7.9 0 00-2.53 2.91L1 8l.12.23a7.72 7.72 0 009.65 3.75zM10 11.2A6.67 6.67 0 012.11 8c.56-1 1.34-1.83 2.26-2.43l1.08 1.09a2.88 2.88 0 003.9 3.9l.64.64zM6.21 7.42l2.37 2.37a1.88 1.88 0 01-2.37-2.37zM14.88 8.23L15 8l-.12-.23a7.73 7.73 0 00-9.35-3.86l.8.8A6.7 6.7 0 0113.9 8a6.87 6.87 0 01-2.02 2.26l.7.7a7.9 7.9 0 002.3-2.73z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M10.88 8c0 .37-.07.73-.2 1.06l-.82-.82.02-.24a1.88 1.88 0 00-2.12-1.86l-.82-.82A2.87 2.87 0 0110.88 8z",fillOpacity:.9}}]},p=(0,o.aZ)({name:"BrowseOffIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,o.Fl)((()=>e.size)),{className:i,style:a}=(0,c.Z)(r),l=(0,o.Fl)((()=>["t-icon","t-icon-browse-off",i.value])),s=(0,o.Fl)((()=>d(d({},a.value),n.style))),p=(0,o.Fl)((()=>({class:l.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,u.Z)(f,p.value)}}),v=n(8420),h={align:{type:String,default:"left",validator:function(e){return!e||["left","center","right"].includes(e)}},allowInputOverMax:Boolean,autoWidth:Boolean,autocomplete:{type:String,default:void 0},autofocus:Boolean,clearable:Boolean,disabled:Boolean,format:{type:Function},inputClass:{type:[String,Object,Array]},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:Number},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:Boolean,showClearIconOnEmpty:Boolean,showLimitNumber:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},type:{type:String,default:"text",validator:function(e){return!e||["text","number","url","tel","password","search","submit","hidden"].includes(e)}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onValidate:Function,onWheel:Function},m=n(9044),g=n(7079),y=n(4925),b=n(8048),_=n(7246),w=n(1612),S=n(4870),O=n(6491),k=n(2965),C=n(5385);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function x(e,t){var n=(0,S.BK)(e),r=n.value,i=n.modelValue,a=(0,S.iH)(),l=(0,S.iH)(null),u=(0,S.iH)(),c=(0,m.D)(),s=(0,C.Z)(r,i,e.defaultValue,e.onChange),d=(0,w._)(s,2),f=d[0],p=d[1],v=(0,S.iH)(!1),h=(0,S.iH)(!1),g=(0,S.iH)(e.type),y=(0,S.iH)(null),b=(0,S.iH)(null),x=(0,S.iH)(""),P=(0,o.Fl)((function(){if(x.value){var e=x.value.split("/"),t=(0,w._)(e,2),n=t[0],r=t[1];return Number(n)>Number(r)?"error":""}return""})),E=(0,o.Fl)((function(){return e.status?e.status:P.value})),T=(0,o.Fl)((function(){return(f.value&&!c.value&&e.clearable&&!e.readonly||e.showClearIconOnEmpty)&&v.value})),I=function(){var e;return null===(e=y.value)||void 0===e?void 0:e.focus()},D=function(){var e;return null===(e=y.value)||void 0===e?void 0:e.blur()},j=function(t){var n;a.value=f.value,e.disabled||e.readonly||(h.value=!0,null===(n=e.onFocus)||void 0===n||n.call(e,f.value,{e:t}))},R=function(t){var n,r=t.e;null===(n=e.onClear)||void 0===n||n.call(e,{e:r}),p("",{e:r})},A=function(e){u.value=e.target},F=function(){var e="password"===g.value?"text":"password";g.value=e},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=y.value;if(t){var n=String(e);t.value&&t.value!==n&&(t.value=n)}},N=function(t){var n=t.target,r=n.value;if(e.maxcharacter&&e.maxcharacter>0){var i=(0,O.p_)(r,e.maxcharacter);"object"===(0,_._)(i)&&(e.allowInputOverMax||(r=i.characters),x.value="".concat(i.length,"/").concat(e.maxcharacter))}e.maxlength&&e.maxlength>0&&(e.allowInputOverMax||(r=r.substring(0,e.maxlength)),x.value="".concat(r.length,"/").concat(e.maxlength)),p(r,{e:t}),(0,o.Y3)((function(){return M(f.value)}))},L=function(e){var t=e.inputType&&"insertCompositionText"===e.inputType;e.isComposing||t||N(e)},W=function(){var e,t=u.value;if(!t||!t.tagName||null===(e=l.value)||void 0===e||!e.$el||!["path","svg"].includes(t.tagName))return!1;while(t){var n;if((null===(n=l.value)||void 0===n?void 0:n.$el)===t)return!0;t=t.parentNode}return!1},V=(0,o.f3)(k.Lz,void 0),B=function(t){var n;(e.format&&(a.value=e.format(f.value)),h.value=!1,!W()&&e.allowTriggerBlur)&&(null===(n=e.onBlur)||void 0===n||n.call(e,f.value,{e:t}),null===V||void 0===V||V.handleBlur())},U=function(t){var n;N(t),null===(n=e.onCompositionend)||void 0===n||n.call(e,f.value,{e:t})},H=function(t){var n;null===(n=e.onCompositionstart)||void 0===n||n.call(e,f.value,{e:t})},z=function(e){var t;null===(t=y.value)||void 0===t||t.focus()};(0,o.YP)((function(){return e.autofocus}),(function(e){!0===e&&(0,o.Y3)((function(){var e;null===(e=y.value)||void 0===e||e.focus()}))}),{immediate:!0}),(0,o.YP)(f,(function(e){a.value=e}),{immediate:!0}),(0,o.YP)((function(){return e.type}),(function(e){g.value=e}),{immediate:!0}),(0,o.YP)(P,(function(){var t;null===(t=e.onValidate)||void 0===t||t.call(e,{error:P.value?"exceed-maximum":void 0})}));var Z=function(){if(e.maxcharacter&&e.maxcharacter>0){var t=(0,O.p_)(String(f.value));x.value="".concat(t,"/").concat(e.maxcharacter)}e.maxlength&&e.maxlength>0&&(x.value="".concat(String(f.value).length,"/").concat(e.maxlength))};return(0,o.wF)((function(){Z()})),t({inputRef:y,focus:I,blur:D}),{isHover:v,focused:h,renderType:g,showClear:T,inputRef:y,clearIconRef:l,inputValue:a,limitNumber:x,tStatus:E,emitFocus:j,formatAndEmitBlur:B,onHandleCompositionend:U,onHandleCompositionstart:H,onRootClick:z,emitPassword:F,handleInput:L,emitClear:R,onClearIconMousedown:A,innerValue:f,inputPreRef:b}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function P(e,t,n){var r=function(t){if(!e.disabled){var r,i,o=t.code;if("Enter"===o||"NumpadEnter"===o)null===(r=e.onEnter)||void 0===r||r.call(e,n.value,{e:t});else null===(i=e.onKeydown)||void 0===i||i.call(e,n.value,{e:t})}},i=function(t){var r;e.disabled||null===(r=e.onKeyup)||void 0===r||r.call(e,n.value,{e:t})},o=function(t){var r;e.disabled||null===(r=e.onKeypress)||void 0===r||r.call(e,n.value,{e:t})},a=function(t){var n;if(!e.disabled){var r=t.clipboardData||window.clipboardData;null===(n=e.onPaste)||void 0===n||n.call(e,{e:t,pasteValue:null===r||void 0===r?void 0:r.getData("text/plain")})}},l=function(e){return t.value=e},u=function(t){var n;return null===(n=e.onWheel)||void 0===n?void 0:n.call(e,{e:t})},c=function(t){var n;l(!0),null===(n=e.onMouseenter)||void 0===n||n.call(e,{e:t})},s=function(t){var n;l(!1),null===(n=e.onMouseleave)||void 0===n||n.call(e,{e:t})};return{handleKeydown:r,handleKeyUp:i,handleKeypress:o,onHandlePaste:a,onHandleMousewheel:u,onInputMouseenter:c,onInputMouseleave:s}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function E(e,t,n,r){var i=(0,S.iH)(!1),a=function(){if(t.value){var e=t.value.offsetWidth;0!==e&&(n.value.style.width="".concat(e,"px"))}},l=function(){(0,o.YP)((function(){return r.value+e.placeholder}),(function(){e.autoWidth&&(0,o.Y3)((function(){a()}))}),{immediate:!0})};(0,o.bv)((function(){i.value=!1,e.autoWidth&&l()}))}var T=n(3069),I=["isHover","tStatus","inputRef","inputPreRef","renderType","showClear","focused","inputValue","innerValue","limitNumber"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t={};return Object.keys(e).forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=e[n])})),t}var A=(0,o.aZ)({name:"TInput",props:j(j({},h),{},{showInput:{type:Boolean,default:!0},keepWrapperWidth:{type:Boolean,default:!1},allowTriggerBlur:{type:Boolean,default:!0}}),setup:function(e,t){t.slots;var n=t.expose,l=(0,T.Z)("input"),u=l.globalConfig,c=(0,y.J)({BrowseIcon:a.Z,BrowseOffIcon:p,CloseCircleFilledIcon:v.Z}),s=c.BrowseIcon,d=c.BrowseOffIcon,f=c.CloseCircleFilledIcon,h=(0,m.D)(),_=(0,g.ws)("input"),w=(0,g.ws)("input__wrap"),S=(0,g.ws)("input__tips"),O=(0,g.RH)(),k=O.STATUS,C=O.SIZE,D=(0,g.ws)(),j=(0,b.sL)(),A=x(e,n),F=A.isHover,M=A.tStatus,N=A.inputRef,L=A.inputPreRef,W=A.renderType,V=A.showClear,B=A.focused,U=A.inputValue,H=A.innerValue,z=A.limitNumber,Z=(0,r._)(A,I);E(e,L,N,H);var K=P(e,F,H),Y=(0,o.Fl)((function(){var t;return null!==(t=e.placeholder)&&void 0!==t?t:u.value.placeholder})),G=(0,o.Fl)((function(){var t;return R({autofocus:e.autofocus,disabled:h.value,readonly:e.readonly,placeholder:Y.value,maxlength:!e.allowInputOverMax&&e.maxlength||void 0,name:e.name||void 0,type:W.value,autocomplete:null!==(t=e.autocomplete)&&void 0!==t?t:u.value.autocomplete||void 0,unselectable:e.readonly?"on":void 0})}));return function(){var t,n,r=j("prefixIcon"),a=j("suffixIcon"),l=j("passwordIcon"),u=j("label",{silent:!0}),c=j("suffix"),p=z.value&&e.showLimitNumber?(0,o.Wm)("div",{class:"".concat(D.value,"-input__limit-number")},[z.value]):null,v=u?(0,o.Wm)("div",{class:"".concat(_.value,"__prefix")},[u]):null,m=c||p?(0,o.Wm)("div",{class:"".concat(_.value,"__suffix")},[c,p]):null;"password"===e.type&&("password"===W.value?a=(0,o.Wm)(d,{class:"".concat(_.value,"__suffix-clear"),onClick:Z.emitPassword},null):"text"===W.value&&(a=(0,o.Wm)(s,{class:"".concat(_.value,"__suffix-clear"),onClick:Z.emitPassword},null))),V.value&&("password"===e.type?l=(0,o.Wm)(f,{ref:Z.clearIconRef,class:"".concat(_.value,"__suffix-clear"),onClick:Z.emitClear,onMousedown:Z.onClearIconMousedown},null):a=(0,o.Wm)(f,{ref:Z.clearIconRef,class:"".concat(_.value,"__suffix-clear"),onClick:Z.emitClear,onMousedown:Z.onClearIconMousedown},null));var g=[_.value,e.inputClass,(t={},(0,i._)(t,C.value[e.size],"medium"!==e.size),(0,i._)(t,k.value.disabled,h.value),(0,i._)(t,k.value.focused,B.value),(0,i._)(t,"".concat(D.value,"-is-").concat(M.value),M.value),(0,i._)(t,"".concat(D.value,"-align-").concat(e.align),"left"!==e.align),(0,i._)(t,"".concat(D.value,"-is-readonly"),e.readonly),(0,i._)(t,"".concat(_.value,"--prefix"),r||v),(0,i._)(t,"".concat(_.value,"--suffix"),a||m),(0,i._)(t,"".concat(_.value,"--focused"),B.value),(0,i._)(t,"".concat(_.value,"--auto-width"),e.autoWidth&&!e.keepWrapperWidth),t)],y=R({onFocus:function(e){return Z.emitFocus(e)},onBlur:Z.formatAndEmitBlur,onKeydown:K.handleKeydown,onKeyup:K.handleKeyUp,onKeypress:K.handleKeypress,onPaste:K.onHandlePaste,onCompositionend:Z.onHandleCompositionend,onCompositionstart:Z.onHandleCompositionstart}),b=j("tips");return(0,o.Wm)("div",{class:w.value},[(0,o.Wm)("div",{class:g,onClick:Z.onRootClick,onMouseenter:K.onInputMouseenter,onMouseleave:K.onInputMouseleave,onWheel:K.onHandleMousewheel},[r?(0,o.Wm)("span",{class:["".concat(_.value,"__prefix"),"".concat(_.value,"__prefix-icon")]},[r]):null,v,e.showInput&&(0,o.Wm)("input",(0,o.dG)({class:"".concat(_.value,"__inner")},G.value,y,{ref:N,value:null!==(n=U.value)&&void 0!==n?n:"",onInput:function(e){return Z.handleInput(e)}}),null),e.autoWidth&&(0,o.Wm)("span",{ref:L,class:"".concat(D.value,"-input__input-pre")},[H.value||Y.value]),m,l?(0,o.Wm)("span",{class:["".concat(_.value,"__suffix"),"".concat(_.value,"__suffix-icon"),"".concat(_.value,"__clear")]},[l]):null,a?(0,o.Wm)("span",{class:["".concat(_.value,"__suffix"),"".concat(_.value,"__suffix-icon"),(0,i._)({},"".concat(_.value,"__clear"),V.value)]},[a]):null]),b&&(0,o.Wm)("div",{class:"".concat(S.value," ").concat(D.value,"-input__tips--").concat(e.status||"normal")},[b])])}}}),F=(0,o.aZ)({name:"TInputGroup",props:{separate:{type:Boolean,default:!1}},setup:function(e){var t=(0,g.ws)("input-group"),n=(0,b.sL)(),r=(0,o.Fl)((function(){return[t.value,(0,i._)({},"".concat(t.value,"--separate"),e.separate)]}));return function(){return(0,o.Wm)("div",{class:r.value},[n("default")])}}}),M=n(5306),N=(0,M.Z)(A),L=(0,M.Z)(F)},3128:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(1633),i=n(3396),o=n(9),a=n(5273),l=n(6370),u=n(2215),c=n(4344);n(3727);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,l._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 11.5a3.5 3.5 0 110-7 3.5 3.5 0 010 7zM8 13A5 5 0 108 3a5 5 0 000 10z",fillOpacity:.9}}]},p=(0,i.aZ)({name:"RoundIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,t){var{attrs:n}=t,r=(0,i.Fl)((()=>e.size)),{className:o,style:a}=(0,c.Z)(r),l=(0,i.Fl)((()=>["t-icon","t-icon-round",o.value])),s=(0,i.Fl)((()=>d(d({},a.value),n.style))),p=(0,i.Fl)((()=>({class:l.value,style:s.value,onClick:t=>{var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:t})}})));return()=>(0,u.Z)(f,p.value)}}),v=n(742),h=n(3585),m=n(6652),g={disabled:{type:[Boolean,Object]},layout:{type:String,default:"horizontal",validator:function(e){return!e||["horizontal","vertical"].includes(e)}},showCurrent:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},tips:{type:Object},variant:{type:String,default:"text",validator:function(e){return!e||["text","outline"].includes(e)}},onChange:Function},y=n(7079),b=n(4925),_=n(4993);n(7322);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,i.aZ)({name:"TJumper",props:S({},g),setup:function(e){var t=(0,y.ws)("jumper"),n=(0,b.J)({ChevronLeftIcon:a.Z,RoundIcon:p,ChevronRightIcon:v.Z,ChevronUpIcon:h.Z,ChevronDownIcon:m.Z}),l=n.ChevronLeftIcon,u=n.RoundIcon,c=n.ChevronRightIcon,s=n.ChevronUpIcon,d=n.ChevronDownIcon,f=(0,i.Fl)((function(){return(0,o.i)(e.tips)?e.tips:!0===e.tips?{prev:"上一页",current:"当前",next:"下一页"}:{}})),g=(0,i.Fl)((function(){return(0,o.i)(e.disabled)?e.disabled:!0===e.disabled?{prev:!0,current:!0,next:!0}:{prev:!1,current:!1,next:!1}}));return function(){var n=[t.value,(0,r._)({},"".concat(t.value,"--outline"),"outline"===e.variant)];return(0,i.Wm)("div",{class:n},[(0,i.Wm)(_.z,{title:f.value.prev,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"prev"})},icon:"horizontal"===e.layout?function(){return(0,i.Wm)(l,null,null)}:function(){return(0,i.Wm)(s,null,null)},class:"".concat(t.value,"__prev"),disabled:g.value.prev},null),e.showCurrent&&(0,i.Wm)(_.z,{title:f.value.current,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"current"})},icon:function(){return(0,i.Wm)(u,null,null)},class:"".concat(t.value,"__current"),disabled:g.value.current},null),(0,i.Wm)(_.z,{title:f.value.next,variant:e.variant,size:e.size,shape:"square",onClick:function(t){var n;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,{e:t,trigger:"next"})},icon:"horizontal"===e.layout?function(){return(0,i.Wm)(c,null,null)}:function(){return(0,i.Wm)(d,null,null)},class:"".concat(t.value,"__next"),disabled:g.value.next},null)])}}})},7322:function(){},5100:function(e,t,n){"use strict";n.d(t,{gb:function(){return o}});var r=n(1616),i=n(5306),o=(0,i.Z)(r.Z)},1616:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(1612),i=n(1633),o=n(3396),a=n(4870),l=n(1934),u=n(9930);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){var t,n,r,i,o={};if(e){var a=null===(t=window)||void 0===t||null===(n=t.getComputedStyle)||void 0===n?void 0:n.call(t,e),c=a.color,d=a.fontSize,f=null===(r=window)||void 0===r||null===(i=r.navigator)||void 0===i?void 0:i.userAgent,p=/Safari/.test(f)&&!/Chrome/.test(f),v=/(?=.*iPhone)[?=.*MicroMessenger]/.test(f)&&!/Chrome/.test(f);if((p||v)&&(o={transformOrigin:"-1px -1px",transform:"scale(".concat(parseInt(d,10)/14,")")}),c&&(0,u.sA)()>11){var h=c.match(/[\d.]+/g),m=h?"rgba(".concat(h[0],", ").concat(h[1],", ").concat(h[2],", 0)"):"";(0,l.Z)(e,s(s({},o),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(m," 0deg, ").concat(c," 360deg)")}))}else(0,l.Z)(e,s(s({},o),{},{background:""}))}}var f=n(7079),p=(0,o.aZ)({name:"TLoadingGradient",setup:function(){var e=(0,f.ws)();return(0,o.bv)((function(){var e=(0,o.FN)().refs.circle;d(e)})),{classPrefix:e}},render:function(){var e=this.classPrefix,t="".concat(e,"-loading__gradient"),n=[t,"".concat(e,"-icon-loading")];return(0,o.Wm)("svg",{class:n,viewBox:"0 0 14 14",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[(0,o.Wm)("foreignObject",{x:"1",y:"1",width:"12",height:"12"},[(0,o.Wm)("div",{class:"".concat(t,"-conic"),ref:"circle"},null)])])}}),v=n(3509),h=n(3916),m=n(2059),g={attach:{type:[String,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},fullscreen:Boolean,indicator:{type:[Boolean,Function],default:!0},inheritColor:Boolean,loading:{type:Boolean,default:!0},preventScrollThrough:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},size:{type:String,default:"medium"},text:{type:[String,Function]},zIndex:{type:Number}},y=function(){return{name:(0,f.ws)("loading"),centerClass:(0,f.ws)("loading--center"),fullscreenClass:(0,f.ws)("loading__fullscreen"),lockClass:(0,f.ws)("loading--lock"),overlayClass:(0,f.ws)("loading__overlay"),relativeClass:(0,f.ws)("loading__parent"),fullClass:(0,f.ws)("loading--full"),inheritColorClass:(0,f.ws)("loading--inherit-color")}},b=(0,o.aZ)({name:"TLoading",directives:{TransferDom:m.Z},props:g,setup:function(e,t){var n=t.slots,l=(0,a.iH)(!1),u=y(),c=u.name,s=u.centerClass,d=u.fullscreenClass,p=u.lockClass,h=u.overlayClass,m=u.relativeClass,g=u.fullClass,b=u.inheritColorClass,_=(0,f.ws)(),w=(0,f.RH)(),S=w.SIZE,O=function(){l.value=!1;var t=setTimeout((function(){l.value=!0,clearTimeout(t)}),e.delay)},k=(0,o.Fl)((function(){return Boolean(!e.delay||e.delay&&l.value)})),C=(0,o.Fl)((function(){var t={};return void 0!==e.zIndex&&(t.zIndex=e.zIndex),["small","medium","large"].includes(e.size)||(t["font-size"]=e.size),t})),x=(0,o.Fl)((function(){return Boolean(e["default"]||n["default"]||e.content||n.content)})),P=(0,o.Fl)((function(){return e.preventScrollThrough&&e.fullscreen})),E=(0,o.Fl)((function(){return Boolean(e.text||n.text)})),T=(0,o.Fl)((function(){return x.value&&e.loading&&k.value})),I=(0,o.Fl)((function(){return e.fullscreen&&e.loading&&k.value})),D=(0,o.Fl)((function(){return e.attach&&e.loading&&k.value})),j=(0,o.Fl)((function(){return e.attach&&e.loading&&k.value})),R=(0,o.Fl)((function(){var t=[s.value,S.value[e.size],(0,i._)({},b.value,e.inheritColor)],n=[c.value,d.value,s.value,h.value];return{baseClasses:t,attachClasses:t.concat([c.value,g.value,(0,i._)({},h.value,e.showOverlay)]),withContentClasses:t.concat([c.value,g.value,(0,i._)({},h.value,e.showOverlay)]),fullScreenClasses:n,normalClasses:t.concat([c.value])}})),A=(0,a.BK)(e),F=A.loading;return(0,o.YP)([F],(function(e){var t=(0,r._)(e,1),n=t[0];n?(O(),P.value&&(0,v.cn)(document.body,p.value)):P.value&&(0,v.IV)(document.body,p.value)})),(0,o.bv)((function(){e.delay&&O()})),{classPrefix:_,relativeClass:m,delayShowLoading:l,styles:C,showText:E,hasContent:x,classes:R,lockFullscreen:P,showWrapLoading:T,showNormalLoading:D,showFullScreenLoading:I,showAttachedLoading:j}},render:function(){var e=this.classes,t=e.fullScreenClasses,n=e.baseClasses,r=e.withContentClasses,i=e.attachClasses,a=e.normalClasses,l=(0,o.Wm)(p,{size:this.size},null),u=this.loading&&(0,h.a)(this,"indicator",l),c=this.showText&&(0,o.Wm)("div",{class:"".concat(this.classPrefix,"-loading__text")},[(0,h.a)(this,"text")]);return this.fullscreen?this.showFullScreenLoading?(0,o.wy)((0,o.Wm)("div",{class:t,style:this.styles},[(0,o.Wm)("div",{class:n},[u,c])]),[[(0,o.Q2)("transfer-dom"),this.attach]]):null:this.hasContent?(0,o.Wm)("div",{class:this.relativeClass},[(0,h.r)(this,"default","content"),this.showWrapLoading&&(0,o.Wm)("div",{class:r,style:this.styles},[u,c])]):this.attach?this.showAttachedLoading?(0,o.wy)((0,o.Wm)("div",{class:i,style:this.styles},[u,c]),[[(0,o.Q2)("transfer-dom"),this.attach]]):null:(0,o.Wm)("div",{class:a,style:this.styles},[u,c])}})},1148:function(e,t,n){"use strict";n.d(t,{M9:function(){return a},P8:function(){return o},v9:function(){return r}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r=["info","success","warning","error","question","loading"],i="32px",o={top:{top:i,left:"50%",transform:"translateX(-50%)"},center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:i,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:i,left:"50%",transform:"translateX(-50%)"},right:{right:i,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-end"},"top-left":{left:i,top:i},"top-right":{right:i,top:i,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-right":{right:i,bottom:i,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-left":{left:i,bottom:i}},a=Object.keys(o)},3971:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(1633),i=n(3396),o=n(4870),a=n(7168),l=n(7173),u=n(2596),c=n(61),s=n(4270),d=n(5100),f=n(1148),p={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return["info","success","warning","error","question","loading"].includes(e)}},onCloseBtnClick:Function,onDurationEnd:Function},v=n(7079),h=n(4925),m={duration:200,easing:"linear"};function g(e,t){if(e){var n=(null===e||void 0===e?void 0:e.offsetWidth)||0,r=(null===e||void 0===e?void 0:e.offsetHeight)||0,i=_(t,n,r);if(i){var o=i[i.length-1];b(e,o),e.animate&&e.animate(i,m)}}}function y(e,t,n){if(e){var r=(null===e||void 0===e?void 0:e.offsetHeight)||0,i=w(t,r);if(!i)return n();var o=i[i.length-1];b(e,o);var a=e.animate&&e.animate(i,m);a?a.onfinish=function(){e.style.display="none",n()}:(e.style.display="none",n())}}function b(e,t){for(var n=Object.keys(t),r=0;r<n.length;r+=1){var i=n[r];e.style[i]=t[i]}}function _(e,t,n){return f.M9.includes(e)?["top-left","left","bottom-left"].includes(e)?[{opacity:0,marginLeft:"-".concat(t,"px")},{opacity:1,marginLeft:"0"}]:["top-right","right","bottom-right"].includes(e)?[{opacity:0,marginRight:"-".concat(t,"px")},{opacity:1,marginRight:"0"}]:["top","center"].includes(e)?[{opacity:0,marginTop:"-".concat(n,"px")},{opacity:1,marginTop:"0"}]:["bottom"].includes(e)?[{opacity:0,transform:"translate3d(0, ".concat(n,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]:void 0:null}function w(e,t){if(!f.M9.includes(e))return null;if(["bottom-left","bottom","bottom-right"].includes(e)){var n="".concat(t,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:n}]}var r="-".concat(t,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:r}]}var S=n(8048);n(1398);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,i.aZ)({name:"TMessage",props:k(k({},p),{},{placement:String}),setup:function(e,t){var n=t.slots,p=t.expose,m=(0,v.ws)("message"),b=(0,h.J)({InfoCircleFilledIcon:a.Z,CheckCircleFilledIcon:l.Z,ErrorCircleFilledIcon:u.Z,HelpCircleFilledIcon:c.Z,CloseIcon:s.Z}),_=b.InfoCircleFilledIcon,w=b.CheckCircleFilledIcon,O=b.ErrorCircleFilledIcon,k=b.HelpCircleFilledIcon,C=b.CloseIcon,x=(0,v.ws)(),P=(0,S.sL)(),E=(0,S.r0)(),T=(0,o.iH)(null),I=(0,o.iH)(null),D=(0,i.Fl)((function(){var t={};return f.v9.forEach((function(n){return t["".concat(x.value,"-is-").concat(n)]=e.theme===n})),[m.value,t,(0,r._)({},"".concat(x.value,"-is-closable"),e.closeBtn||n.closeBtn)]})),j=function(t){var n;null===(n=e.onCloseBtnClick)||void 0===n||n.call(e,{e:t})},R=function(){e.duration&&clearTimeout(I.value)},A=function(){e.duration&&(I.value=Number(setTimeout((function(){R();var t=T.value;y(t,e.placement,(function(){var t;null===(t=e.onDurationEnd)||void 0===t||t.call(e)}))}),e.duration)))},F=function(){var e=(0,i.Wm)(C,null,null);return(0,i.Wm)("span",{class:"".concat(m.value,"__close"),onClick:j},[P("closeBtn",e)])},M=function(){if(!1!==e.icon){if("function"===typeof e.icon)return e.icon(i.h);if(n.icon)return n.icon(null);var t={info:_,success:w,warning:O,error:O,question:k,loading:d.gb}[e.theme];return(0,i.Wm)(t,null,null)}};return(0,i.wF)((function(){e.duration&&A()})),(0,i.bv)((function(){var t=T.value;g(t,e.placement)})),p({close:j}),function(){return(0,i.Wm)("div",{ref:T,class:D.value,onMouseenter:R,onMouseleave:A},[M(),E("content","default"),F()])}}})},4123:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(7246),i=n(1633),o=n(9242),a=n(3396),l=n(4870),u=n(1148),c=n(3971),s=n(7079);n(1398);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=6e3,v=function(){var e=0;return function(){return e+=1,e}}(),h=(0,a.aZ)({name:"TMessageList",props:{zIndex:{type:Number,default:0},placement:{type:String,default:""}},setup:function(e,t){var n=t.expose,r=(0,s.ws)("message__list"),i=(0,l.iH)([]),o=(0,l.iH)([]),d=(0,a.Fl)((function(){return f(f({},u.P8[e.placement]),{},{zIndex:e.zIndex!==p?e.zIndex:p})})),h=function(e){var t=f(f({},e),{},{key:v()});return i.value.push(t),i.value.length-1},m=function(e){i.value.splice(e,1)},g=function(){i.value=[]},y=function(e){if(e)return isNaN(Number(e))?e:"".concat(e,"px")},b=function(e){return e.offset&&{position:"relative",left:y(e.offset[0]),top:y(e.offset[1])}},_=function(e,t){return f(f({},t),{},{onCloseBtnClick:function(n){return t.onCloseBtnClick&&t.onCloseBtnClick(n),m(e)},onDurationEnd:function(){return t.onDurationEnd&&t.onDurationEnd(),m(e)}})},w=function(e){e&&o.value.push(e)};return n({add:h,removeAll:g,list:i,messageList:o}),function(){if(i.value.length)return(0,a.Wm)("div",{class:r.value,style:d.value},[i.value.map((function(e,t){return(0,a.Wm)(c.Z,(0,a.dG)({key:e.key,style:b(e),ref:w},_(t,e)),null)}))])}}}),m=n(3509);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=new Map;function _(e){var t=y({duration:3e3,attach:"body",zIndex:p,placement:"top"},e);return t.content=e.content,t}var w=function(e){var t=_(e),n=t.attach,r=t.placement,i=(0,m.PY)(n);b.get(i)||b.set(i,{});var l=b.get(i)[r];if(l)l.add(t);else{var u=document.createElement("div"),c=(0,o.ri)(h,{zIndex:t.zIndex,placement:t.placement}).mount(u);c.add(t),b.get(i)[r]=c,i.appendChild(u)}return new Promise((function(e){var t=b.get(i)[r];(0,a.Y3)((function(){var n=t.messageList;e(n[n.length-1])}))}))},S=function(e,t,n){var i={theme:e};return"string"===typeof t?i.content=t:"object"!==(0,r._)(t)||t instanceof Array||(i=y(y({},i),t)),(n||0===n)&&(i.duration=n),w(i)},O={info:function(e,t){return S("info",e,t)},success:function(e,t){return S("success",e,t)},warning:function(e,t){return S("warning",e,t)},error:function(e,t){return S("error",e,t)},question:function(e,t){return S("question",e,t)},loading:function(e,t){return S("loading",e,t)},close:function(e){e.then((function(e){return e.close()}))},closeAll:function(){b instanceof Map&&b.forEach((function(e){Object.keys(e).forEach((function(t){var n=e[t];n.list=[]}))}))}},k=S;k.install=function(e){e.config.globalProperties.$message=S,Object.keys(O).forEach((function(t){e.config.globalProperties.$message[t]=O[t]}))},Object.keys(O).forEach((function(e){k[e]=O[e]}))},1398:function(){},7654:function(e,t,n){"use strict";n.d(t,{G:function(){return Bt}});var r=n(7246),i=n(1612),o=n(1633),a=n(3396),l=n(4870),u=n(9242);function c(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function s(e){var t=c(e).Element;return e instanceof t||e instanceof Element}function d(e){var t=c(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function f(e){if("undefined"===typeof ShadowRoot)return!1;var t=c(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var p=Math.max,v=Math.min,h=Math.round;function m(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function g(){return!/^((?!chrome|android).)*safari/i.test(m())}function y(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&d(e)&&(i=e.offsetWidth>0&&h(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&h(r.height)/e.offsetHeight||1);var a=s(e)?c(e):window,l=a.visualViewport,u=!g()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/i,p=(r.top+(u&&l?l.offsetTop:0))/o,v=r.width/i,m=r.height/o;return{width:v,height:m,top:p,right:f+v,bottom:p+m,left:f,x:f,y:p}}function b(e){var t=c(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function _(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function w(e){return e!==c(e)&&d(e)?_(e):b(e)}function S(e){return e?(e.nodeName||"").toLowerCase():null}function O(e){return((s(e)?e.ownerDocument:e.document)||window.document).documentElement}function k(e){return y(O(e)).left+b(e).scrollLeft}function C(e){return c(e).getComputedStyle(e)}function x(e){var t=C(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function P(e){var t=e.getBoundingClientRect(),n=h(t.width)/e.offsetWidth||1,r=h(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function E(e,t,n){void 0===n&&(n=!1);var r=d(t),i=d(t)&&P(t),o=O(t),a=y(e,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==S(t)||x(o))&&(l=w(t)),d(t)?(u=y(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=k(o))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function T(e){var t=y(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function I(e){return"html"===S(e)?e:e.assignedSlot||e.parentNode||(f(e)?e.host:null)||O(e)}function D(e){return["html","body","#document"].indexOf(S(e))>=0?e.ownerDocument.body:d(e)&&x(e)?e:D(I(e))}function j(e,t){var n;void 0===t&&(t=[]);var r=D(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=c(r),a=i?[o].concat(o.visualViewport||[],x(r)?r:[]):r,l=t.concat(a);return i?l:l.concat(j(I(a)))}function R(e){return["table","td","th"].indexOf(S(e))>=0}function A(e){return d(e)&&"fixed"!==C(e).position?e.offsetParent:null}function F(e){var t=/firefox/i.test(m()),n=/Trident/i.test(m());if(n&&d(e)){var r=C(e);if("fixed"===r.position)return null}var i=I(e);f(i)&&(i=i.host);while(d(i)&&["html","body"].indexOf(S(i))<0){var o=C(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function M(e){var t=c(e),n=A(e);while(n&&R(n)&&"static"===C(n).position)n=A(n);return n&&("html"===S(n)||"body"===S(n)&&"static"===C(n).position)?t:n||F(e)||t}var N="top",L="bottom",W="right",V="left",B="auto",U=[N,L,W,V],H="start",z="end",Z="clippingParents",K="viewport",Y="popper",G="reference",$=U.reduce((function(e,t){return e.concat([t+"-"+H,t+"-"+z])}),[]),J=[].concat(U,[B]).reduce((function(e,t){return e.concat([t,t+"-"+H,t+"-"+z])}),[]),q="beforeRead",X="read",Q="afterRead",ee="beforeMain",te="main",ne="afterMain",re="beforeWrite",ie="write",oe="afterWrite",ae=[q,X,Q,ee,te,ne,re,ie,oe];function le(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ue(e){var t=le(e);return ae.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function ce(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function se(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var de={placement:"bottom",modifiers:[],strategy:"absolute"};function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function pe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?de:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},de,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],l=!1,u={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;d(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:s(e)?j(e):e.contextElement?j(e.contextElement):[],popper:j(t)};var l=ue(se([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),c(),u.update()},forceUpdate:function(){if(!l){var e=i.elements,t=e.reference,n=e.popper;if(fe(t,n)){i.rects={reference:E(t,M(n),"fixed"===i.options.strategy),popper:T(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,s=void 0===c?{}:c,d=o.name;"function"===typeof a&&(i=a({state:i,options:s,name:d,instance:u})||i)}else i.reset=!1,r=-1}}},update:ce((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){d(),l=!0}};if(!fe(e,t))return u;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var l=o({state:i,name:t,instance:u,options:r}),c=function(){};a.push(l||c)}}))}function d(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var ve={passive:!0};function he(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,l=void 0===a||a,u=c(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&s.forEach((function(e){e.addEventListener("scroll",n.update,ve)})),l&&u.addEventListener("resize",n.update,ve),function(){o&&s.forEach((function(e){e.removeEventListener("scroll",n.update,ve)})),l&&u.removeEventListener("resize",n.update,ve)}}var me={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:he,data:{}};function ge(e){return e.split("-")[0]}function ye(e){return e.split("-")[1]}function be(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _e(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?ge(i):null,a=i?ye(i):null,l=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case N:t={x:l,y:n.y-r.height};break;case L:t={x:l,y:n.y+n.height};break;case W:t={x:n.x+n.width,y:u};break;case V:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?be(o):null;if(null!=c){var s="y"===c?"height":"width";switch(a){case H:t[c]=t[c]-(n[s]/2-r[s]/2);break;case z:t[c]=t[c]+(n[s]/2-r[s]/2);break;default:}}return t}function we(e){var t=e.state,n=e.name;t.modifiersData[n]=_e({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Se={name:"popperOffsets",enabled:!0,phase:"read",fn:we,data:{}},Oe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ke(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:h(t*i)/i||0,y:h(n*i)/i||0}}function Ce(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,l=e.position,u=e.gpuAcceleration,s=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=a.x,v=void 0===p?0:p,h=a.y,m=void 0===h?0:h,g="function"===typeof d?d({x:v,y:m}):{x:v,y:m};v=g.x,m=g.y;var y=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),_=V,w=N,S=window;if(s){var k=M(n),x="clientHeight",P="clientWidth";if(k===c(n)&&(k=O(n),"static"!==C(k).position&&"absolute"===l&&(x="scrollHeight",P="scrollWidth")),i===N||(i===V||i===W)&&o===z){w=L;var E=f&&k===S&&S.visualViewport?S.visualViewport.height:k[x];m-=E-r.height,m*=u?1:-1}if(i===V||(i===N||i===L)&&o===z){_=W;var T=f&&k===S&&S.visualViewport?S.visualViewport.width:k[P];v-=T-r.width,v*=u?1:-1}}var I,D=Object.assign({position:l},s&&Oe),j=!0===d?ke({x:v,y:m}):{x:v,y:m};return v=j.x,m=j.y,u?Object.assign({},D,(I={},I[w]=b?"0":"",I[_]=y?"0":"",I.transform=(S.devicePixelRatio||1)<=1?"translate("+v+"px, "+m+"px)":"translate3d("+v+"px, "+m+"px, 0)",I)):Object.assign({},D,(t={},t[w]=b?m+"px":"",t[_]=y?v+"px":"",t.transform="",t))}function xe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,l=n.roundOffsets,u=void 0===l||l,c={placement:ge(t.placement),variation:ye(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ce(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ce(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Pe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xe,data:{}};function Ee(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];d(i)&&S(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function Te(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),a=o.reduce((function(e,t){return e[t]="",e}),{});d(r)&&S(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var Ie={name:"applyStyles",enabled:!0,phase:"write",fn:Ee,effect:Te,requires:["computeStyles"]};function De(e,t,n){var r=ge(e),i=[V,N].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*i,[V,W].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function je(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=J.reduce((function(e,n){return e[n]=De(n,t.rects,o),e}),{}),l=a[t.placement],u=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}var Re={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:je},Ae={left:"right",right:"left",bottom:"top",top:"bottom"};function Fe(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ae[e]}))}var Me={start:"end",end:"start"};function Ne(e){return e.replace(/start|end/g,(function(e){return Me[e]}))}function Le(e,t){var n=c(e),r=O(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){o=i.width,a=i.height;var s=g();(s||!s&&"fixed"===t)&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:l+k(e),y:u}}function We(e){var t,n=O(e),r=b(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=p(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=p(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+k(e),u=-r.scrollTop;return"rtl"===C(i||n).direction&&(l+=p(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:l,y:u}}function Ve(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&f(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Be(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ue(e,t){var n=y(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function He(e,t,n){return t===K?Be(Le(e,n)):s(t)?Ue(t,n):Be(We(O(e)))}function ze(e){var t=j(I(e)),n=["absolute","fixed"].indexOf(C(e).position)>=0,r=n&&d(e)?M(e):e;return s(r)?t.filter((function(e){return s(e)&&Ve(e,r)&&"body"!==S(e)})):[]}function Ze(e,t,n,r){var i="clippingParents"===t?ze(e):[].concat(t),o=[].concat(i,[n]),a=o[0],l=o.reduce((function(t,n){var i=He(e,n,r);return t.top=p(i.top,t.top),t.right=v(i.right,t.right),t.bottom=v(i.bottom,t.bottom),t.left=p(i.left,t.left),t}),He(e,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Ke(){return{top:0,right:0,bottom:0,left:0}}function Ye(e){return Object.assign({},Ke(),e)}function Ge(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function $e(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,l=n.boundary,u=void 0===l?Z:l,c=n.rootBoundary,d=void 0===c?K:c,f=n.elementContext,p=void 0===f?Y:f,v=n.altBoundary,h=void 0!==v&&v,m=n.padding,g=void 0===m?0:m,b=Ye("number"!==typeof g?g:Ge(g,U)),_=p===Y?G:Y,w=e.rects.popper,S=e.elements[h?_:p],k=Ze(s(S)?S:S.contextElement||O(e.elements.popper),u,d,a),C=y(e.elements.reference),x=_e({reference:C,element:w,strategy:"absolute",placement:i}),P=Be(Object.assign({},w,x)),E=p===Y?P:C,T={top:k.top-E.top+b.top,bottom:E.bottom-k.bottom+b.bottom,left:k.left-E.left+b.left,right:E.right-k.right+b.right},I=e.modifiersData.offset;if(p===Y&&I){var D=I[i];Object.keys(T).forEach((function(e){var t=[W,L].indexOf(e)>=0?1:-1,n=[N,L].indexOf(e)>=0?"y":"x";T[e]+=D[n]*t}))}return T}function Je(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?J:u,s=ye(r),d=s?l?$:$.filter((function(e){return ye(e)===s})):U,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=$e(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[ge(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function qe(e){if(ge(e)===B)return[];var t=Fe(e);return[Ne(e),t,Ne(t)]}function Xe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,l=void 0===a||a,u=n.fallbackPlacements,c=n.padding,s=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,v=void 0===p||p,h=n.allowedAutoPlacements,m=t.options.placement,g=ge(m),y=g===m,b=u||(y||!v?[Fe(m)]:qe(m)),_=[m].concat(b).reduce((function(e,n){return e.concat(ge(n)===B?Je(t,{placement:n,boundary:s,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:h}):n)}),[]),w=t.rects.reference,S=t.rects.popper,O=new Map,k=!0,C=_[0],x=0;x<_.length;x++){var P=_[x],E=ge(P),T=ye(P)===H,I=[N,L].indexOf(E)>=0,D=I?"width":"height",j=$e(t,{placement:P,boundary:s,rootBoundary:d,altBoundary:f,padding:c}),R=I?T?W:V:T?L:N;w[D]>S[D]&&(R=Fe(R));var A=Fe(R),F=[];if(o&&F.push(j[E]<=0),l&&F.push(j[R]<=0,j[A]<=0),F.every((function(e){return e}))){C=P,k=!1;break}O.set(P,F)}if(k)for(var M=v?3:1,U=function(e){var t=_.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=M;z>0;z--){var Z=U(z);if("break"===Z)break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}}var Qe={name:"flip",enabled:!0,phase:"main",fn:Xe,requiresIfExists:["offset"],data:{_skip:!1}};function et(e){return"x"===e?"y":"x"}function tt(e,t,n){return p(e,v(t,n))}function nt(e,t,n){var r=tt(e,t,n);return r>n?n:r}function rt(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,l=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,s=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,m=n.tetherOffset,g=void 0===m?0:m,y=$e(t,{boundary:u,rootBoundary:c,padding:d,altBoundary:s}),b=ge(t.placement),_=ye(t.placement),w=!_,S=be(b),O=et(S),k=t.modifiersData.popperOffsets,C=t.rects.reference,x=t.rects.popper,P="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,E="number"===typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(k){if(o){var j,R="y"===S?N:V,A="y"===S?L:W,F="y"===S?"height":"width",B=k[S],U=B+y[R],z=B-y[A],Z=h?-x[F]/2:0,K=_===H?C[F]:x[F],Y=_===H?-x[F]:-C[F],G=t.elements.arrow,$=h&&G?T(G):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Ke(),q=J[R],X=J[A],Q=tt(0,C[F],$[F]),ee=w?C[F]/2-Z-Q-q-E.mainAxis:K-Q-q-E.mainAxis,te=w?-C[F]/2+Z+Q+X+E.mainAxis:Y+Q+X+E.mainAxis,ne=t.elements.arrow&&M(t.elements.arrow),re=ne?"y"===S?ne.clientTop||0:ne.clientLeft||0:0,ie=null!=(j=null==I?void 0:I[S])?j:0,oe=B+ee-ie-re,ae=B+te-ie,le=tt(h?v(U,oe):U,B,h?p(z,ae):z);k[S]=le,D[S]=le-B}if(l){var ue,ce="x"===S?N:V,se="x"===S?L:W,de=k[O],fe="y"===O?"height":"width",pe=de+y[ce],ve=de-y[se],he=-1!==[N,V].indexOf(b),me=null!=(ue=null==I?void 0:I[O])?ue:0,_e=he?pe:de-C[fe]-x[fe]-me+E.altAxis,we=he?de+C[fe]+x[fe]-me-E.altAxis:ve,Se=h&&he?nt(_e,de,we):tt(h?_e:pe,de,h?we:ve);k[O]=Se,D[O]=Se-de}t.modifiersData[r]=D}}var it={name:"preventOverflow",enabled:!0,phase:"main",fn:rt,requiresIfExists:["offset"]},ot=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,Ye("number"!==typeof e?e:Ge(e,U))};function at(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=ge(n.placement),u=be(l),c=[V,W].indexOf(l)>=0,s=c?"height":"width";if(o&&a){var d=ot(i.padding,n),f=T(o),p="y"===u?N:V,v="y"===u?L:W,h=n.rects.reference[s]+n.rects.reference[u]-a[u]-n.rects.popper[s],m=a[u]-n.rects.reference[u],g=M(o),y=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,b=h/2-m/2,_=d[p],w=y-f[s]-d[v],S=y/2-f[s]/2+b,O=tt(_,S,w),k=u;n.modifiersData[r]=(t={},t[k]=O,t.centerOffset=O-S,t)}}function lt(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&Ve(t.elements.popper,i)&&(t.elements.arrow=i)}var ut={name:"arrow",enabled:!0,phase:"main",fn:at,effect:lt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ct(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function st(e){return[N,W,L,V].some((function(t){return e[t]>=0}))}function dt(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=$e(t,{elementContext:"reference"}),l=$e(t,{altBoundary:!0}),u=ct(a,r),c=ct(l,i,o),s=st(u),d=st(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:s,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":s,"data-popper-escaped":d})}var ft={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dt},pt=[me,Se,Pe,Ie,Re,Qe,it,ut,ft],vt=pe({defaultModifiers:pt}),ht=n(7079),mt=n(3509),gt=n(3916),yt=n(1934),bt=n(6925),_t=n(5796);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function wt(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,(0,_t._)(e)):e.type===a.HY?t.push.apply(t,(0,_t._)(St(e.children))):t.push(e)})),t.filter((function(e){return!(e&&("undefined"!==typeof Comment&&e.type===Comment||e.type===a.HY&&0===e.children.length||e.type===a.xv&&""===e.children.trim()))}))}function Ot(e,t){if(e&&t)return!!["width","height","x","y"].some((function(n){return e[n]!==t[n]}))}function kt(e,t){var n;if(null!==(n=window)&&void 0!==n&&n.ResizeObserver&&e){var r=null,i=new ResizeObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e[0]||{},i=n.contentRect;if(Ot(i,r))return r=i,void t(i);r||(r=i)}));if(1===e.nodeType)return i.observe(e),function(){i.unobserve(e)}}}function Ct(e,t){var n;(0,a.bv)((function(){n=kt(e(),t)})),(0,a.Ah)((function(){var e;null===(e=n)||void 0===e||e()}))}var xt=(0,a.aZ)({emits:["resize"],data:function(){return{cleanOR:null}},mounted:function(){var e=this;this.cleanOR=kt(this.$el,(function(){e.$emit("resize")}))},unmounted:function(){var e;null===(e=this.cleanOR)||void 0===e||e.call(this)},render:function(){var e,t=St(this.$slots["default"]());return t.length>1||(null===(e=t[0])||void 0===e?void 0:e.type)===a.xv?(0,a.Wm)("span",null,[t]):t[0]}}),Pt=(0,a.aZ)({emits:["resize"],setup:function(e,t){var n=t.emit,r=(0,l.iH)(null);return Ct((function(){return r.value.children[0]}),(function(){n("resize")})),{el:r}},render:function(){return(0,a.Wm)("div",{ref:"el",style:"position: absolute; top: 0px; left: 0px; width: 100%"},[this.$slots["default"]()])}}),Et=(0,a.aZ)({inheritAttrs:!1,props:{parent:Object,visible:Boolean,attach:bt.Z.attach,forwardRef:Function},emits:["resize","contentMounted"],setup:function(e,t){var n=t.emit,r=(0,l.iH)(null),i=(0,l.iH)(!1);return(0,a.bv)((function(){requestAnimationFrame((function(){i.value=e.visible})),e.forwardRef(r.value.$el)})),(0,a.YP)((function(){return e.visible}),(function(t){t&&(i.value=e.visible)})),{mountContent:i,triggerRef:r,unmountContent:function(){i.value=!1},emitResize:function(){n("resize")},emitContentMounted:function(){n("contentMounted")}}},render:function(){var e,t,n=this;return(0,a.Wm)(a.HY,null,[(0,a.Wm)(xt,(0,a.dG)({class:this.$attrs["class"]},{ref:"triggerRef",onResize:this.emitResize}),wt(t=this.$slots["default"]())?t:{default:function(){return[t]}}),this.mountContent&&(0,a.Wm)(a.lR,{to:(0,mt.PY)(this.attach,null===(e=this.triggerRef)||void 0===e?void 0:e.$el)},{default:function(){return[(0,a.Wm)(Pt,{onResize:n.emitResize,onVnodeMounted:n.emitContentMounted},{default:function(){return[n.$slots.content&&n.$slots.content()]}})]}})])}}),Tt=n(5385);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,o._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var Rt=250,At=150,Ft=["click","hover","focus","context-menu"],Mt=Symbol("popup");function Nt(e){return e.replace(/-(left|top)$/,"-start").replace(/-(right|bottom)$/,"-end")}function Lt(e){var t=[];return{add:function(n,r){(0,mt.on)(e.value,n,r),t.push((function(){(0,mt.S1)(e.value,n,r)}))},clean:function(){t.forEach((function(e){return null===e||void 0===e?void 0:e()})),t.length=0}}}var Wt=(0,a.aZ)({name:"TPopup",props:Dt(Dt({},bt.Z),{},{expandAnimation:{type:Boolean}}),setup:function(e,t){var n,u,c=t.expose,s=(0,l.BK)(e),d=s.visible,f=s.modelValue,p=(0,Tt.Z)(d,f,e.defaultVisible,e.onVisibleChange,"visible"),v=(0,i._)(p,2),h=v[0],m=v[1],g=!1,y=(0,l.iH)(0),b=(0,l.iH)(!1),_=(0,l.iH)(!1),w=(0,l.iH)(null),S=(0,l.iH)(null),O=(0,l.iH)(null),k=(0,l.iH)(null),C=(0,a.f3)(Mt,void 0),x=(0,ht.ws)("popup"),P=(0,ht.RH)(),E=P.STATUS,T=(0,a.Fl)((function(){var t;return["".concat(x.value,"__content"),(t={},(0,o._)(t,"".concat(x.value,"__content--text"),"string"===typeof e.content),(0,o._)(t,"".concat(x.value,"__content--arrow"),e.showArrow),(0,o._)(t,E.value.disabled,e.disabled),t)]})),I=(0,a.Fl)((function(){return Ft.reduce((function(t,n){return Dt(Dt({},t),{},(0,o._)({},n,e.trigger.includes(n)))}),{})}));function D(){var t=e.overlayStyle;if(w.value&&S.value)return"function"===typeof t?t(w.value,S.value):"object"===(0,r._)(t)?t:void 0}function j(){var t=e.overlayInnerStyle;w.value&&S.value&&("function"===typeof t?(0,yt.Z)(S.value,t(w.value,S.value)):"object"===(0,r._)(t)&&(0,yt.Z)(S.value,t))}function R(){O.value&&h.value&&(n?n.update():n=vt(w.value,O.value,{placement:Nt(e.placement),onFirstUpdate:function(){(0,a.Y3)(R)}}))}function A(){var t,r;n&&(null===(t=n)||void 0===t||t.destroy(),n=null);e.destroyOnClose&&(null===(r=k.value)||void 0===r||r.unmountContent())}function F(t,n){e.disabled||t===h.value||!t&&y.value>1||t&&b.value||m(t,n)}function M(e){null===C||void 0===C||C.preventClosing(e),e?y.value+=1:y.value&&(y.value-=1,y.value||(F(!1,{}),null===C||void 0===C||!C.hasTrigger.value.hover||null!==C&&void 0!==C&&C.mouseInRange||C.emitVisible(!1,{})))}function N(e){F(!h.value,e)}function L(e){clearTimeout(u),u=setTimeout((function(){F(!0,e)}),I.value.click?0:Rt)}function W(e){clearTimeout(u),u=setTimeout((function(){F(!1,e)}),I.value.click?0:At)}function V(e){_.value?setTimeout((function(){_.value=!1})):w.value.contains(e.target)||(y.value=0,F(!1,{trigger:"document"}))}function B(){b.value=!0,L({})}function U(e){if(y.value>1){var t=O.value.getBoundingClientRect();if(e.x>t.x&&e.x<t.x+t.width&&e.y>t.y&&e.y<t.y+t.height)return}b.value=!1,W({}),null!==C&&void 0!==C&&C.mouseInRange&&C.onMouseLeave(e)}var H=Lt(w);(0,a.YP)((function(){return[e.trigger,w.value]}),(function(){w.value&&(H.clean(),I.value.hover?(H.add("mouseenter",(function(){return L({trigger:"trigger-element-hover"})})),H.add("mouseleave",(function(){return W({trigger:"trigger-element-hover"})}))):I.value.focus?(H.add("focusin",(function(){return L({trigger:"trigger-element-focus"})})),H.add("focusout",(function(){return W({trigger:"trigger-element-blur"})}))):I.value.click?H.add("click",(function(e){N({e:e,trigger:"trigger-element-click"})})):I.value["context-menu"]&&H.add("contextmenu",(function(e){e.preventDefault(),2===e.button&&N({trigger:"context-menu"})})))})),(0,a.YP)((function(){return[e.overlayStyle,e.overlayInnerStyle,S.value]}),(function(){j(),R()}));var z=(0,a.f3)("updateScrollTop",(function(){}));return(0,a.YP)((function(){return[h.value,S.value]}),(function(){h.value&&S.value&&z&&(null===z||void 0===z||z(S.value))})),(0,a.YP)((function(){return e.placement}),(function(){A(),R()})),(0,a.YP)(_,(function(e){C&&(C.contentClicked.value=e)})),(0,a.YP)((function(){return h.value}),(function(e){e?(M(!0),g||((0,mt.on)(document,"click",V,!0),g=!0),w.value&&I.value.focus&&(0,mt.IH)(w.value,"keydown",(function(e){"Escape"===e.code&&W({trigger:"keydown-esc"})}))):(M(!1),(0,mt.S1)(document,"click",V,!0),g=!1,b.value=!1)})),(0,a.Ah)((function(){null===C||void 0===C||C.preventClosing(!1),A(),(0,mt.S1)(document,"click",V,!0)})),(0,a.JJ)(Mt,{preventClosing:M,emitVisible:F,contentClicked:_,mouseInRange:b,onMouseLeave:U,hasTrigger:I}),c({handleClose:W,updatePopper:R,getOverlay:function(){return S.value}}),{innerVisible:h,triggerEl:w,overlayEl:S,popperEl:O,prefixCls:x,overlayCls:T,hasTrigger:I,contentClicked:_,updatePopper:R,destroyPopper:A,getOverlayStyle:D,updateOverlayInnerStyle:j,emitVisible:F,onMouseEnter:B,onMouseLeave:U}},render:function(){var e=this,t=this.prefixCls,n=this.innerVisible,r=this.destroyOnClose,i=this.hasTrigger,o=this.getOverlayStyle,l=this.onScroll,c=(0,gt.a)(this,"content"),s=this.hideEmptyPopup&&["",void 0,null].includes(c),d=n||!r?(0,a.wy)((0,a.Wm)("div",(0,a.dG)({class:[t,this.overlayClassName],ref:"popperEl",style:[s&&{visibility:"hidden",pointerEvents:"none"},{zIndex:this.zIndex},o()],onMousedown:function(){e.contentClicked=!0}},i.hover&&{onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave}),[(0,a.Wm)("div",(0,a.dG)({class:[this.overlayCls,this.overlayInnerClassName],ref:"overlayEl"},l&&{onScroll:function(e){l({e:e})}}),[c,this.showArrow&&(0,a.Wm)("div",{class:"".concat(t,"__arrow")},null)])]),[[u.F8,n]]):null;return(0,a.Wm)(Et,{ref:"containerRef",forwardRef:function(t){return e.triggerEl=t},onContentMounted:function(){n&&(e.updatePopper(),e.updateOverlayInnerStyle())},onResize:function(){n&&e.updatePopper()},visible:n,attach:this.attach},{content:function(){return(0,a.Wm)(u.uT,{name:e.expandAnimation?"".concat(t,"--animation-expand"):"".concat(t,"--animation"),appear:!0,onEnter:e.updatePopper,onAfterLeave:e.destroyPopper},jt(d)?d:{default:function(){return[d]}})},default:function(){return(0,gt.r)(e,"default","triggerElement")}})}}),Vt=n(5306),Bt=(0,Vt.Z)(Wt)},6925:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r={attach:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},destroyOnClose:Boolean,disabled:Boolean,hideEmptyPopup:Boolean,overlayClassName:{type:[String,Object,Array]},overlayInnerClassName:{type:[String,Object,Array]},overlayInnerStyle:{type:[Boolean,Object,Function]},overlayStyle:{type:[Boolean,Object,Function]},placement:{type:String,default:"top"},showArrow:Boolean,trigger:{type:String,default:"hover",validator:function(e){return!e||["hover","click","focus","context-menu"].includes(e)}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onScroll:Function,onVisibleChange:Function}},5152:function(e,t,n){"use strict";n.d(t,{LO:function(){return x},Wp:function(){return P}});var r=n(1633),i=n(1612),o=n(3396),a=n(4870),l=n(8420),u=n(4230),c={activeIndex:{type:Number},clearable:Boolean,disabled:Boolean,format:{type:[Array,Function]},inputProps:{type:[Object,Array]},label:{type:[String,Function]},placeholder:{type:[String,Array]},prefixIcon:{type:Function},readonly:Boolean,separator:{type:[String,Function],default:"-"},showClearIconOnEmpty:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onEnter:Function,onFocus:Function,onMouseenter:Function,onMouseleave:Function},s=n(5385),d=n(9044),f=n(4925),p=n(7079),v=n(8048);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return Array.isArray(e)?e:[e,e]}var y=(0,o.aZ)({name:"TRangeInput",props:c,setup:function(e,t){t.slots;var n=t.expose,c=(0,a.BK)(e),h=c.value,y=c.modelValue,b=(0,p.RH)(),_=b.STATUS,w=b.SIZE,S=(0,p.ws)(),O=(0,d.D)(),k=(0,p.ws)("range-input"),C=(0,f.J)({CloseCircleFilledIcon:l.Z}),x=C.CloseCircleFilledIcon,P=(0,v.sL)(),E=(0,a.iH)(!1),T=(0,a.iH)(!1),I=(0,o.Fl)((function(){return g(e.format)})),D=(0,o.Fl)((function(){return g(e.inputProps)})),j=(0,o.Fl)((function(){return g(e.placeholder)})),R=(0,s.Z)(h,y,e.defaultValue,e.onChange),A=(0,i._)(R,2),F=A[0],M=A[1],N=(0,o.Fl)((function(){var t;return(e.clearable&&(null===(t=e.value)||void 0===t?void 0:t.length)&&!O.value||e.showClearIconOnEmpty)&&T.value})),L=P("label"),W=P("prefixIcon"),V=P("suffix"),B=P("suffixIcon"),U={firstInputRef:(0,a.iH)(),secondInputRef:(0,a.iH)()};function H(t){var n;null===(n=e.onClear)||void 0===n||n.call(e,t),M(["",""],m(m({},t),{},{trigger:"clear",position:"all"}))}function z(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,t,n)}function Z(t,n){var r;E.value=!0,null===(r=e.onFocus)||void 0===r||r.call(e,t,n)}function K(t,n){var r;E.value=!1,null===(r=e.onBlur)||void 0===r||r.call(e,t,n)}function Y(t){var n;T.value=!0,null===e||void 0===e||null===(n=e.onMouseenter)||void 0===n||n.call(e,{e:t})}function G(t){var n;T.value=!1,null===e||void 0===e||null===(n=e.onMouseleave)||void 0===n||n.call(e,{e:t})}return n({firstInputElement:U.firstInputRef.value,secondInputElement:U.secondInputRef.value,focus:function(e){var t,n=e||{},r=n.position,i=void 0===r?"first":r;null===(t=U["".concat(i,"InputRef")].value)||void 0===t||t.focus()},blur:function(e){var t,n=e||{},r=n.position,i=void 0===r?"first":r;null===(t=U["".concat(i,"InputRef")].value)||void 0===t||t.blur()},select:function(e){var t,n=e||{},r=n.position,i=void 0===r?"first":r;null===(t=U["".concat(i,"InputRef")].value)||void 0===t||t.select()}}),function(){var t,n,i;return(0,o.Wm)("div",{class:[k.value,(t={},(0,r._)(t,w.value[e.size],"medium"!==e.size),(0,r._)(t,_.value.disabled,O.value),(0,r._)(t,_.value.focused,E.value),(0,r._)(t,"".concat(k.value,"--prefix"),W||L),(0,r._)(t,"".concat(k.value,"--suffix"),V||B),t)],onMouseenter:Y,onMouseleave:G},[(0,o.Wm)("div",{class:"".concat(k.value,"__inner")},[W,L?(0,o.Wm)("div",{class:"".concat(S.value,"-input__prefix")},[L]):null,(0,o.Wm)(u.II,(0,o.dG)({ref:U.firstInputRef,class:"".concat(k.value,"__inner-left"),inputClass:(0,r._)({},"".concat(S.value,"-is-focused"),0===e.activeIndex),placeholder:j.value[0],disabled:O.value,readonly:e.readonly,format:I.value[0],value:null===(n=F.value)||void 0===n?void 0:n[0],onClick:function(t){var n,r=t.e;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:r,position:"first"})},onClear:function(){return M([],{position:"first",trigger:"input"})},onEnter:function(e,t){var n,r=t.e;return z([e,null===(n=F.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onFocus:function(e,t){var n,r=t.e;return Z([e,null===(n=F.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onBlur:function(e,t){var n,r=t.e;return K([e,null===(n=F.value)||void 0===n?void 0:n[1]],{e:r,position:"first"})},onChange:function(e,t){var n,r=t.e;return M([e,null===(n=F.value)||void 0===n?void 0:n[1]],{e:r,position:"first",trigger:"input"})}},D.value[0]),null),(0,o.Wm)("div",{class:"".concat(k.value,"__inner-separator")},[e.separator]),(0,o.Wm)(u.II,(0,o.dG)({ref:U.secondInputRef,class:"".concat(k.value,"__inner-right"),inputClass:(0,r._)({},"".concat(S.value,"-is-focused"),1===e.activeIndex),placeholder:j.value[1],disabled:O.value,readonly:e.readonly,format:I.value[1],value:null===(i=F.value)||void 0===i?void 0:i[1],onClick:function(t){var n,r=t.e;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,{e:r,position:"second"})},onClear:function(){return M([],{position:"second",trigger:"input"})},onEnter:function(e,t){var n,r=t.e;return z([null===(n=F.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onFocus:function(e,t){var n,r=t.e;return Z([null===(n=F.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onBlur:function(e,t){var n,r=t.e;return K([null===(n=F.value)||void 0===n?void 0:n[0],e],{e:r,position:"second"})},onChange:function(e,t){var n,r=t.e;return M([null===(n=F.value)||void 0===n?void 0:n[0],e],{e:r,position:"second",trigger:"input"})}},D.value[1]),null),V?(0,o.Wm)("div",{class:"".concat(k.value,"__suffix")},[V]):null,B&&(0,o.Wm)("span",{class:"".concat(k.value,"__suffix ").concat(k.value,"__suffix-icon")},[N.value?(0,o.Wm)(x,{class:"".concat(k.value,"__suffix-clear"),onClick:H},null):B])]),e.tips&&(0,o.Wm)("div",{class:"".concat(k.value,"__tips")},[e.tips])])}}}),b=n(7654),_={autoWidth:Boolean,disabled:Boolean,inputValue:{type:Array,default:void 0},defaultInputValue:{type:Array},panel:{type:Function},popupProps:{type:Object},popupVisible:Boolean,rangeInputProps:{type:Object},readonly:Boolean,status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tips:{type:[String,Function]},onInputChange:Function,onPopupVisibleChange:Function},w=n(1475);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,o.aZ)({name:"TRangeInputPopup",props:_,setup:function(e){var t=(0,p.ws)("range-input-popup"),n=(0,w.Z)(e),i=n.tOverlayInnerStyle,a=n.innerPopupVisible,l=n.onInnerPopupVisibleChange,u=(0,o.Fl)((function(){return[t.value,(0,r._)({},"".concat(t.value,"--visible"),e.popupVisible||a.value)]}));return function(){return(0,o.Wm)("div",{class:u.value},[(0,o.Wm)(b.G,(0,o.dG)({hideEmptyPopup:!0,content:e.panel,trigger:"click",placement:"bottom-left",disabled:e.disabled,visible:e.popupVisible||a.value},O({overlayInnerStyle:i.value,onVisibleChange:l},e.popupProps)),{default:function(){return[(0,o.Wm)(y,O({value:e.inputValue,onChange:e.onInputChange,disabled:e.disabled,status:e.status,tips:e.tips},e.rangeInputProps),null)]}})])}}}),C=n(5306),x=(0,C.Z)(y),P=(0,C.Z)(k)},6110:function(e,t,n){"use strict";n.d(t,{l:function(){return A}});var r=n(1633),i=n(3396),o=n(4870),a=n(7654),l={allowInput:Boolean,autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,minCollapsedNum:{type:Number,default:0},multiple:Boolean,panel:{type:[String,Function]},placeholder:{type:String,default:""},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},readonly:Boolean,status:{type:String,default:"default",validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array,Date]},valueDisplay:{type:[String,Function]},onBlur:Function,onClear:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onPopupVisibleChange:Function,onTagChange:Function},u=n(1612),c=n(9),s=n(2434),d=n(4230),f=n(5100),p=n(8048),v=n(7079),h=n(1887),m=n(9044);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=["status","clearable","disabled","label","placeholder","readonly","suffix","suffixIcon","onPaste","onMouseenter","onMouseleave"],_={label:"label",value:"value"};function w(e,t){var n=t||_;return(0,c.i)(e)?e[n.label]:e}function S(e,t){var n,a=(0,o.BK)(e),l=a.value,c=a.keys,g=a.inputValue,_=(0,v.ws)(),S=(0,o.iH)(),O=(0,h.Z)(g,null!==(n=e.defaultInputValue)&&void 0!==n?n:"",e.onInputChange,"inputValue"),k=(0,u._)(O,2),C=k[0],x=k[1],P=(0,p.sL)(),E=(0,m.D)(),T=(0,i.Fl)((function(){return y(y({},(0,s.p)(e,b)),{},{disabled:E.value})})),I=function(t){var n,r;null===t||void 0===t||null===(n=t.e)||void 0===n||n.stopPropagation(),null===(r=e.onClear)||void 0===r||r.call(e,t),x("",{trigger:"clear"})},D=function(t,n){e.allowInput&&x(t,y(y({},n),{},{trigger:"input"}))},j=function(n){var o,a,u=P("valueDisplay"),s=n&&e.allowInput?C.value:w(l.value,c.value),p=[u,P("label")],v=y(y({},T.value),{},{value:u?void 0:s,label:p.length?function(){return p}:void 0,autoWidth:e.autoWidth,readonly:!e.allowInput||e.readonly,placeholder:u?"":e.placeholder,suffixIcon:!E.value&&e.loading?function(){return(0,i.Wm)(f.gb,{loading:!0,size:"small"},null)}:e.suffixIcon,showClearIconOnEmpty:Boolean(e.clearable&&(C.value||s)&&!E.value&&!e.readonly),allowTriggerBlur:e.allowInput&&!e.readonly},e.inputProps);return(0,i.Wm)(d.II,(0,i.dG)({ref:"inputRef",style:null===(o=t.attrs)||void 0===o?void 0:o.style},y({onChange:D,onClear:I,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,l.value,y(y({},n),{},{inputValue:t}))},onEnter:function(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,l.value,y(y({},n),{},{inputValue:t}))},onFocus:function(t,r){var i;null===(i=e.onFocus)||void 0===i||i.call(e,l.value,y(y({},r),{},{inputValue:t})),!n&&x(w(l.value,c.value),y(y({},r),{},{trigger:"input"}))}},v),{inputClass:(a={},(0,r._)(a,"".concat(_.value,"-input--focused"),n),(0,r._)(a,"".concat(_.value,"-is-focused"),n),a)}),t.slots)};return{inputRef:S,commonInputProps:T,onInnerClear:I,renderSelectSingle:j}}var O=n(5393);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={label:"label",key:"key",children:"children"};function P(e,t){var n=(0,o.BK)(e),a=n.inputValue,l=(0,v.ws)(),s=(0,o.iH)(),d=(0,h.Z)(a,e.defaultInputValue,e.onInputChange,"inputValue"),p=(0,u._)(d,2),g=p[0],y=p[1],b=(0,m.D)(),_=(0,i.Fl)((function(){return C(C({},x),e.keys)})),w=(0,i.Fl)((function(){return e.value instanceof Array?e.value.map((function(e){return(0,c.i)(e)?e[_.value.label]:e})):(0,c.i)(e.value)?[e.value[_.value.label]]:[e.value]})),S=(0,i.Fl)((function(){return w.value&&w.value.length?"":e.placeholder})),k=function(t,n){var r,i;"tag-remove"===n.trigger&&(null===(i=n.e)||void 0===i||i.stopPropagation());null===(r=e.onTagChange)||void 0===r||r.call(e,t,n)},P=function(n){var o=C(C({},n.commonInputProps),{},{tagProps:e.tagProps,label:e.label,autoWidth:e.autoWidth,readonly:e.readonly,placeholder:S.value,minCollapsedNum:e.minCollapsedNum,collapsedItems:e.collapsedItems,tag:e.tag,value:w.value,valueDisplay:e.valueDisplay,inputValue:g.value||"",inputProps:C({readonly:!e.allowInput||e.readonly,inputClass:(0,r._)({},"".concat(l.value,"-input--focused"),n.popupVisible)},e.inputProps),suffixIcon:!b.value&&e.loading?function(){return(0,i.Wm)(f.gb,{loading:!0,size:"small"},null)}:e.suffixIcon},e.tagInputProps);return(0,i.Wm)(O.E,(0,i.dG)({ref:"tagInputRef"},o,{onInputChange:function(e,t){"enter"!==(null===t||void 0===t?void 0:t.trigger)&&y(e,{trigger:t.trigger,e:t.e})},onChange:k,onClear:n.onInnerClear,onBlur:function(t,n){var r;null===(r=e.onBlur)||void 0===r||r.call(e,e.value,C(C({},n),{},{tagInputValue:t}))},onEnter:function(t,n){var r;null===(r=e.onEnter)||void 0===r||r.call(e,e.value,C(C({},n),{},{inputValue:g.value}))},onFocus:function(t,n){var r;null===(r=e.onFocus)||void 0===r||r.call(e,e.value,C(C({},n),{},{tagInputValue:t}))}}),t.slots)};return{tags:w,tPlaceholder:S,tagInputRef:s,renderSelectMultiple:P}}var E=n(1475);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){return{NAME_CLASS:(0,v.ws)("select-input"),BASE_CLASS_BORDERLESS:(0,v.ws)("select-input--borderless"),BASE_CLASS_MULTIPLE:(0,v.ws)("select-input--multiple"),BASE_CLASS_POPUP_VISIBLE:(0,v.ws)("select-input--popup-visible"),BASE_CLASS_EMPTY:(0,v.ws)("select-input--empty")}},j=(0,i.aZ)({name:"TSelectInput",props:I({},l),setup:function(e,t){var n=D(),a=n.NAME_CLASS,l=n.BASE_CLASS_BORDERLESS,u=n.BASE_CLASS_MULTIPLE,c=n.BASE_CLASS_POPUP_VISIBLE,s=n.BASE_CLASS_EMPTY,d=(0,v.ws)(),f=(0,o.iH)(),p=(0,o.iH)(),h=(0,o.BK)(e),m=h.multiple,g=h.value,y=h.popupVisible,b=h.borderless,_=S(e,t),w=_.commonInputProps,O=_.onInnerClear,k=_.renderSelectSingle,C=P(e,t),x=C.renderSelectMultiple,T=(0,E.Z)(e),I=T.tOverlayInnerStyle,j=T.innerPopupVisible,R=T.onInnerPopupVisibleChange,A=(0,i.Fl)((function(){var e,t;return[a.value,(t={},(0,r._)(t,l.value,b.value),(0,r._)(t,u.value,m.value),(0,r._)(t,c.value,null!==(e=y.value)&&void 0!==e?e:j.value),(0,r._)(t,s.value,g.value instanceof Array?!g.value.length:!g.value),t)]}));return{classPrefix:d,NAME_CLASS:a,selectInputWrapRef:p,innerPopupVisible:j,commonInputProps:w,tOverlayInnerStyle:I,selectInputRef:f,popupClasses:A,onInnerClear:O,renderSelectSingle:k,renderSelectMultiple:x,onInnerPopupVisibleChange:R}},render:function(){var e,t,n=this,r={visible:null!==(e=this.popupVisible)&&void 0!==e?e:this.innerPopupVisible},o=(0,i.Wm)(a.G,(0,i.dG)({ref:"selectInputRef",class:this.popupClasses,trigger:(null===(t=this.popupProps)||void 0===t?void 0:t.trigger)||"click",placement:"bottom-left"},r,{content:this.panel,hideEmptyPopup:!0},I(I({onVisibleChange:this.onInnerPopupVisibleChange},this.popupProps),{},{overlayInnerStyle:this.tOverlayInnerStyle})),I({default:function(){return[n.multiple?n.renderSelectMultiple({commonInputProps:n.commonInputProps,onInnerClear:n.onInnerClear,popupVisible:r.visible}):n.renderSelectSingle(r.visible)]}},I(I({},this.$slots),{},{content:this.$slots.panel})));return this.tips?(0,i.Wm)("div",{ref:"selectInputWrapRef",class:"".concat(this.NAME_CLASS,"__wrap")},[o,(0,i.Wm)("div",{class:"".concat(this.classPrefix,"-input__tips ").concat(this.classPrefix,"-input__tips--").concat(this.status||"normal")},[this.tips])]):o}}),R=n(5306),A=(0,R.Z)(j)},1475:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(1633),i=n(7246),o=n(4870),a=n(3396),l=n(9),u=n(9211),c=n(9044);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=1e3;function p(e){var t=(0,o.BK)(e),n=t.popupProps,r=t.autoWidth,s=(0,o.iH)(!1),p=(0,c.D)(),v=function(e,t){var r=t.scrollHeight>t.offsetHeight?8:0,o=t.offsetWidth+r>=e.offsetWidth?t.offsetWidth:e.offsetWidth,a={};return n.value&&"object"===(0,i._)(n.value.overlayInnerStyle)&&!n.value.overlayInnerStyle.width&&(a=n.value.overlayInnerStyle),d({width:"".concat(Math.min(o,f),"px")},a)},h=function(t,n){var r;p.value||e.readonly||(s.value=t,null===(r=e.onPopupVisibleChange)||void 0===r||r.call(e,t,n))},m=(0,a.Fl)((function(){var e,t={},i=(null===(e=n.value)||void 0===e?void 0:e.overlayInnerStyle)||{};return(0,u.i)(i)||(0,l.i)(i)&&i.width?t=i:r.value||(t=v),t}));return{tOverlayInnerStyle:m,innerPopupVisible:s,onInnerPopupVisibleChange:h}}},8330:function(e,t,n){"use strict";n.d(t,{Ex:function(){return s},JZ:function(){return u},Zd:function(){return l},pc:function(){return c}});n(1703);var r=n(2435);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=Symbol("selectProvide"),u=function(e,t){var n,r=i(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.value===e)return null===o||void 0===o?void 0:o.label}}catch(a){r.e(a)}finally{r.f()}return e},c=function(e,t){var n,r=[],o=i(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,l=u(a,t);l&&r.push(l)}}catch(c){o.e(c)}finally{o.f()}return r},s=function(e,t){var n=(0,r.c)(e),i=n.indexOf(t);return i<0?n.push(t):n.splice(i,1),{value:n,isCheck:i<0}}},6540:function(e,t,n){"use strict";n.d(t,{Ph:function(){return l},Wx:function(){return u},Ye:function(){return c}});var r=n(2579),i=n(5046),o=n(2972),a=n(5306),l=(n(5605),(0,a.Z)(r.Z)),u=(0,a.Z)(i.Z),c=(0,a.Z)(o.Z)},5046:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(1633),i=n(3396),o=n(4870),a={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,label:{type:String,default:""},value:{type:[String,Number]}},l=n(3482),u=n(9044),c=n(2725),s=n(8048),d=n(7079),f=n(8330);n(5605);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,i.lA)(e)}var m=(0,i.aZ)({name:"TOption",props:v(v({},a),{},{createAble:Boolean,multiple:Boolean,index:Number,rowIndex:Number,trs:Map,scrollType:String,isVirtual:Boolean,bufferSize:Number}),emits:["row-mounted"],setup:function(e,t){var n=(0,i.f3)(f.Zd),a=(0,u.D)(),p=((0,o.iH)(null),(0,i.Fl)((function(){return a.value||e.multiple&&n.value.max<=n.value.selectValue.length&&0!==n.value.max}))),v=(0,s.r0)(),m=(0,d.ws)("select"),g=(0,d.RH)(),y=g.STATUS,b=g.SIZE,_=(0,o.iH)(),w=(0,o.iH)(!1),S=(0,i.Fl)((function(){return e.multiple?n.value.selectValue.includes(e.value):n.value.selectValue===e.value})),O=(0,i.Fl)((function(){var t;return["".concat(m.value,"-option"),[b.value[n.value.size]],(t={},(0,r._)(t,y.value.disabled,p.value),(0,r._)(t,y.value.selected,S.value),(0,r._)(t,"".concat(m.value,"-option__hover"),(w.value||n.value.hoverIndex===e.index)&&!p.value&&!S.value),t)]})),k=(0,i.Fl)((function(){return e.label||e.value})),C=function(t){if(!e.multiple&&!e.disabled){var r,i;if(t.stopPropagation(),e.createAble)if(null===(r=(i=n.value).handleCreate)||void 0===r||r.call(i,e.value),n.value.multiple)return n.value.selectValue.push(e.value),void n.value.handleValueChange(n.value.selectValue,{e:t,trigger:"check"});n.value.handleValueChange(e.value,{e:t,trigger:"check"}),n.value.handlePopupVisibleChange(!1,{e:t})}},x=function(t,r){var i=(0,f.Ex)(n.value.selectValue,e.value);n.value.handleValueChange(i.value,{e:r.e,trigger:t?"check":"uncheck"}),n.value.reserveKeyword||n.value.handlerInputChange("")};return(0,i.bv)((function(){var n=e.trs,r=e.rowIndex,i=e.isVirtual;i&&(n.set(r,_.value),t.emit("row-mounted"))})),(0,i.Jd)((function(){if(e.isVirtual){var t=e.trs,n=e.rowIndex;t["delete"](n)}})),(0,c.Z)(_),function(){var t=v("default","content")||k.value;return(0,i.Wm)("li",{ref:_,class:O.value,title:"".concat(k.value),onMouseenter:function(){return w.value=!0},onMouseleave:function(){return w.value=!1},onClick:C},[n&&e.multiple?(0,i.Wm)(l.XZ,{checked:S.value,disabled:p.value&&!S.value,onChange:x},h(t)?t:{default:function(){return[t]}}):(0,i.Wm)("span",null,[t])])}}})},2972:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(1633),i=n(3396),o=n(8048),a={divider:{type:Boolean,default:!0},label:{type:String,default:""}},l=n(7079),u=n(8330);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,i.aZ)({name:"TOptionGroup",props:s({},a),setup:function(e){var t=(0,i.f3)(u.Zd),n=(0,l.ws)("select-option-group"),a=(0,l.RH)(),c=a.SIZE,s=(0,o.sL)(),d=(0,i.Fl)((function(){return[n.value,c.value[t.value.size],(0,r._)({},"".concat(n.value,"__divider"),e.divider)]}));return function(){return(0,i.Wm)("li",{class:d.value},[(0,i.Wm)("div",{class:"".concat(n.value,"__header")},[e.label]),s("default")])}}})},2579:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(1612),i=n(3430),o=n(1633),a=n(3396),l=n(4870),u=n(2434),c=n(2378),s=n(9211),d=n(8411),f=n(2435),p=n(2946),v=n(1417),h=n(6110),m=n(7724),g=n(5046),y=n(2972),b={autoWidth:Boolean,bordered:{type:Boolean,default:!0},borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},creatable:Boolean,disabled:Boolean,empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:Boolean,reserveKeyword:Boolean,scroll:{type:Object},selectInputProps:{type:Object},showArrow:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,validator:function(e){return!e||["default","success","warning","error"].includes(e)}},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:[String,Function]},valueType:{type:String,default:"value",validator:function(e){return!e||["value","object"].includes(e)}},onBlur:Function,onChange:Function,onClear:Function,onCreate:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function,onVisibleChange:Function},_=n(8048),w=n(7079),S=n(2087),O=function(e){var t,n,r,i,o,l=(0,a.Fl)((function(){var t,n,r;return"virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type)&&(null===(n=e.options.value)||void 0===n?void 0:n.length)>((null===(r=e.scroll)||void 0===r?void 0:r.threshold)||100)})),u="virtual"===(null===(t=e.scroll)||void 0===t?void 0:t.type)?(0,S.Z)({container:e.popupContentRef,data:e.options,fixedHeight:(null===(n=e.scroll)||void 0===n?void 0:n.isFixedRowHeight)||!1,lineHeight:(null===(r=e.scroll)||void 0===r?void 0:r.rowHeight)||28,bufferSize:(null===(i=e.scroll)||void 0===i?void 0:i.bufferSize)||20,threshold:(null===(o=e.scroll)||void 0===o?void 0:o.threshold)||100}):{},c=u.trs,s=void 0===c?null:c,d=u.visibleData,f=void 0===d?null:d,p=u.handleScroll,v=void 0===p?null:p,h=u.scrollHeight,m=void 0===h?null:h,g=u.translateY,y=void 0===g?null:g,b=u.handleRowMounted,_=void 0===b?null:b,w=-1,O=function(e){if(l.value){var t=e.target,n=t.scrollTop;Math.abs(w-n)>5?(v(),w=n):w=-1}};(0,a.bv)((function(){var t;l.value&&(null===(t=e.popupContentRef.value)||void 0===t||t.addEventListener("scroll",O))})),(0,a.Jd)((function(){var t;l.value&&(null===(t=e.popupContentRef.value)||void 0===t||t.removeEventListener("scroll",O))}));var k=(0,a.Fl)((function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(m.value,"px)"),"-ms-transform":"translate(0, ".concat(m.value,"px)"),"-moz-transform":"translate(0, ".concat(m.value,"px)"),"-webkit-transform":"translate(0, ".concat(m.value,"px)")}})),C=(0,a.Fl)((function(){return{transform:"translate(0, ".concat(y.value,"px)"),"-ms-transform":"translate(0, ".concat(y.value,"px)"),"-moz-transform":"translate(0, ".concat(y.value,"px)"),"-webkit-transform":"translate(0, ".concat(y.value,"px)")}}));return{trs:s,scrollHeight:m,translateY:y,visibleData:f,handleRowMounted:_,isVirtual:l,cursorStyle:k,panelStyle:C}},k=n(8330),C=n(3069);n(5605);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,o._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var T=(0,a.aZ)({name:"TSelectPanel",props:{inputValue:b.inputValue,panelTopContent:b.panelTopContent,panelBottomContent:b.panelBottomContent,empty:b.empty,creatable:b.creatable,loading:b.loading,loadingText:b.loadingText,multiple:b.multiple,filterable:b.filterable,filter:b.filter,options:{type:Array,default:function(){return[]}},scroll:b.scroll},setup:function(e,t){var n=t.expose,r=(0,w.ws)("select"),i=(0,_.sL)(),o=(0,_.Mb)(),u=(0,C.Z)("select"),c=u.t,d=u.globalConfig,f=(0,a.f3)(k.Zd),p=(0,l.iH)(null),v=(0,a.Fl)((function(){return f.value.popupContentRef.value})),h=(0,a.Fl)((function(){return e.creatable&&e.filterable&&e.inputValue})),b=(0,a.Fl)((function(){if(!e.inputValue||e.creatable||!e.filterable&&!(0,s.i)(e.filter))return e.options;var t=function(t){var n;return(0,s.i)(e.filter)?e.filter("".concat(e.inputValue),t):(null===(n=t.label)||void 0===n?void 0:n.indexOf("".concat(e.inputValue)))>-1},n=[];return e.options.forEach((function(e){e.group&&e.children&&n.push(P(P({},e),{},{children:e.children.filter(t)})),t(e)&&n.push(e)})),n})),S=O({scroll:e.scroll,popupContentRef:v,options:b}),x=S.trs,T=(S.scrollHeight,S.translateY,S.visibleData),I=S.handleRowMounted,D=S.isVirtual,j=S.panelStyle,R=S.cursorStyle,A=(0,a.Fl)((function(){return!b.value.length})),F=function(){return(0,a.Wm)("ul",{class:["".concat(r.value,"__create-option"),"".concat(r.value,"__list")]},[(0,a.Wm)(g.Z,{value:e.inputValue,label:"".concat(e.inputValue),createAble:!0,class:"".concat(r.value,"__create-option--special")},null)])},M=function t(n){return(0,a.Wm)("ul",{class:"".concat(r.value,"__list")},[n.map((function(n,r){var i,o,l;return n.group?(0,a.Wm)(y.Z,{label:n.group,divider:n.divider},E(l=t(n.children))?l:{default:function(){return[l]}}):(0,a.Wm)(g.Z,(0,a.dG)((0,m.o)(n,"$index"),D.value?{rowIndex:n.$index,trs:x,scrollType:null===(i=e.scroll)||void 0===i?void 0:i.type,isVirtual:D.value,bufferSize:null===(o=e.scroll)||void 0===o?void 0:o.bufferSize,key:"".concat(n.$index||"","_").concat(r)}:{key:r},{multiple:e.multiple,onRowMounted:I}),n.slots)}))])},N=(0,a.Fl)((function(){return{small:"s",medium:"m",large:"l"}[f.value.size]}));n({innerRef:p});var L=function(t,n){return(0,a.Wm)("div",{ref:p,class:["".concat(r.value,"__dropdown-inner"),"".concat(r.value,"__dropdown-inner--size-").concat(N.value)],onClick:function(e){return e.stopPropagation()},style:null===n||void 0===n?void 0:n.value},[i("panelTopContent"),h.value&&F(),e.loading&&o("loadingText",{defaultNode:(0,a.Wm)("div",{class:"".concat(r.value,"__loading-tips")},[c(d.value.loadingText)])}),!e.loading&&A.value&&o("empty",{defaultNode:(0,a.Wm)("div",{class:"".concat(r.value,"__empty")},[c(d.value.empty)])}),!A.value&&!e.loading&&M(t.value),i("panelBottomContent")])};return D.value?function(){return(0,a.Wm)("div",null,[(0,a.Wm)("div",{style:R.value},null),L(T,j)])}:function(){return L(b)}}}),I=n(9044),D=n(1887),j=n(5385),R=(n(1703),n(7817));
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=F(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}function F(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,o._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e,t){var n=(0,R.N)(),r=(0,a.Fl)((function(){var r=0,i=e.options.map((function(e){var n=function(e){var n=t.value,i=n.value,o=n.label,a=L(L({},e),{},{index:r,label:(0,p.g)(e,o),value:(0,p.g)(e,i)});return r++,a};return e.group&&e.children?L(L({},e),{},{children:e.children.map((function(e){return n(e)}))}):n(e)})),o=n("Option"),a=n("OptionGroup");if((0,c.i)(a)){var l,u=A(a);try{for(u.s();!(l=u.n()).done;){var s,d,f,v=l.value,h=L(L({group:null===(s=v.props)||void 0===s?void 0:s.label},v.props),{},{children:[]}),m=v.children["default"]();if((0,c.i)(m)&&null!==(d=m[0])&&void 0!==d&&d.children){var g,y=A(null===m||void 0===m||null===(f=m[0])||void 0===f?void 0:f.children);try{for(y.s();!(g=y.n()).done;){var b=g.value;h.children.push(L(L({},b.props),{},{slots:b.children,index:r})),r++}}catch(O){y.e(O)}finally{y.f()}i.push(h)}}}catch(O){u.e(O)}finally{u.f()}}if((0,c.i)(o)){var _,w=A(o);try{for(w.s();!(_=w.n()).done;){var S=_.value;i.push(L(L({},S.props),{},{slots:S.children,index:r})),r++}}catch(O){w.e(O)}finally{w.f()}}return i})),i=(0,a.Fl)((function(){var e=[],t=function t(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.group?t(o.children):e.push(o)}}catch(a){i.e(a)}finally{i.f()}};return t(r.value),e})),o=(0,a.Fl)((function(){var e=new Map;return i.value.forEach((function(t){e.set(t.value,t)})),e}));return{options:r,optionsMap:o,optionsList:i}},V=["slots","expose"],B=["overlayClassName"];function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=(0,a.aZ)({name:"TSelect",props:H({},b),setup:function(e,t){var n=t.slots,m=(t.expose,(0,i._)(t,V),(0,w.ws)()),g=(0,I.D)(),y=(0,_.sL)(),b=(0,w.ws)("select"),S=(0,C.Z)("select"),O=S.globalConfig,x=S.t,P=(0,l.BK)(e),E=P.popupVisible,R=P.inputValue,A=P.modelValue,F=P.value,M=(0,j.Z)(F,A,e.defaultValue,e.onChange),N=(0,r._)(M,2),L=N[0],U=N[1],z=(0,l.iH)(null),Z=(0,l.iH)(null),K=(0,a.Fl)((function(){var t,n;return{label:(null===(t=e.keys)||void 0===t?void 0:t.label)||"label",value:(null===(n=e.keys)||void 0===n?void 0:n.value)||"value"}})),Y=W(e,K),G=Y.options,$=Y.optionsMap,J=Y.optionsList,q=(0,a.Fl)((function(){return"object"===e.valueType?e.multiple?L.value.map((function(e){return e[K.value.value]})):L.value[K.value.value]:L.value})),X=function(t,n){if("object"===e.valueType){var r=K.value,i=r.value,a=r.label,l=function(e){var t,n=$.value.get(e);return t={},(0,o._)(t,i,(0,p.g)(n,i)),(0,o._)(t,a,(0,p.g)(n,a)),t};t=e.multiple?t.map((function(e){return l(e)})):l(t)}t!==L.value&&U(t,n)},Q=(0,D.Z)(R,e.defaultInputValue,e.onInputChange,"inputValue"),ee=(0,r._)(Q,2),te=ee[0],ne=ee[1],re=(0,D.Z)(E,!1,(function(t,n){var r,i;null===(r=e.onPopupVisibleChange)||void 0===r||r.call(e,t,n),null===(i=e.onVisibleChange)||void 0===i||i.call(e,t)}),"popupVisible"),ie=(0,r._)(re,2),oe=ie[0],ae=ie[1],le=(0,a.Fl)((function(){var t;return null!==(t=!e.multiple&&oe.value&&(0,k.JZ)(q.value,J.value)||e.placeholder)&&void 0!==t?t:x(O.value.placeholder)})),ue=(0,a.Fl)((function(){return e.multiple?(0,k.pc)(q.value,J.value):(0,k.JZ)(q.value,J.value)})),ce=(0,a.Fl)((function(){return e.multiple?q.value.map((function(e){var t;return{value:e,label:null===(t=$.value.get(e))||void 0===t?void 0:t.label}})):q.value})),se=(0,a.Fl)((function(){return Boolean(e.filterable||O.value.filterable||(0,s.i)(e.filter))})),de=function(t,n){var r;n&&n.stopPropagation();var i=(0,f.c)(q.value),o=i[t];i.splice(t,1),X(i,{e:n,trigger:"tag-remove"}),null===(r=e.onRemove)||void 0===r||r.call(e,{value:o,data:$.value.get(o),e:n})},fe=function(){var t;te.value&&(null===(t=e.onCreate)||void 0===t||t.call(e,te.value),ne(""))},pe=(0,l.iH)(-1),ve=function(t){var n,r,i=J.value.length,o=pe.value;switch(t.code){case"ArrowUp":t.preventDefault(),-1===pe.value?o=0:0===pe.value?o=i-1:o--,null!==(n=J.value[o])&&void 0!==n&&n.disabled&&o--,pe.value=o;break;case"ArrowDown":t.preventDefault(),-1===pe.value||pe.value===i-1?o=0:o++,null!==(r=J.value[o])&&void 0!==r&&r.disabled&&o++,pe.value=o;break;case"Enter":if(-1===pe.value)break;if(!oe.value){ae(!0,{e:t});break}if(e.multiple){var a;if(-1===pe.value)return;var l=null===(a=J.value[pe.value])||void 0===a?void 0:a.value;if(!l)return;var u=(0,k.Ex)(q.value,l);X(u.value,{e:t,trigger:u.isCheck?"check":"uncheck"})}else X(J.value[pe.value].value,{e:t,trigger:"check"}),ae(!1,{e:t});break;case"Escape":ae(!1,{e:t});break}},he=(0,a.Fl)((function(){var e;return null===(e=Z.value)||void 0===e?void 0:e.selectInputRef.getOverlay()})),me=(0,a.Fl)((function(){return{max:e.max,multiple:e.multiple,hoverIndex:pe.value,selectValue:q.value,reserveKeyword:e.reserveKeyword,handleValueChange:X,handlerInputChange:ne,handlePopupVisibleChange:ae,handleCreate:fe,size:e.size,popupContentRef:he}}));(0,a.JJ)(k.Zd,me);var ge=function(){!e.multiple&&(0,c.i)(L.value)&&(L.value=""),e.multiple&&!(0,c.i)(L.value)&&(L.value=[])},ye=(0,d.d)((function(t){var n;null===(n=e.onSearch)||void 0===n||n.call(e,"".concat(t))}),300);(0,a.YP)(L,(function(){ge()}),{immediate:!0}),(0,a.YP)((function(){return e.multiple}),(function(){ge()})),(0,a.YP)(oe,(function(e){e&&(pe.value=-1)}));var be=function(e){var t,n;if(z.value){var r=null===(t=z.value)||void 0===t||null===(n=t.innerRef)||void 0===n?void 0:n.querySelector(".".concat(m.value,"-is-selected"));(0,a.Y3)((function(){if(r&&e){var t=getComputedStyle(r),n=t.paddingBottom,i=getComputedStyle(e),o=i.marginBottom,a=parseInt(n,10)+parseInt(o,10),l=r.offsetTop-e.offsetTop-(e.clientHeight-r.clientHeight)+a;e.scrollTop=l}}))}};return(0,a.JJ)("updateScrollTop",be),function(){var t=e.popupProps||{},r=t.overlayClassName,o=(0,i._)(t,B);return(0,a.Wm)("div",{class:"".concat(b.value,"__wrap")},[(0,a.Wm)(h.l,(0,a.dG)({autoWidth:e.autoWidth,readonly:e.readonly,borderless:e.borderless||!e.bordered,multiple:e.multiple,clearable:e.clearable,loading:e.loading,status:e.status,tips:e.tips,minCollapsedNum:e.minCollapsedNum},{ref:Z,class:b.value,value:ue.value,disabled:g.value,popupVisible:oe.value,inputValue:oe.value?te.value:"",placeholder:"".concat(le.value),allowInput:se.value,"collapsed-items":e.collapsedItems,inputProps:H(H({size:e.size},e.inputProps),{},{onkeydown:ve}),tagInputProps:H({size:e.size},e.tagInputProps),onTagChange:function(e,t){de(t.index)},tagProps:H({},e.tagProps),popupProps:H({overlayClassName:["".concat(b.value,"__dropdown"),r]},o),label:function(){return y("prefixIcon")},suffixIcon:function(){return e.showArrow&&(0,a.Wm)(v.Z,{overlayClassName:"".concat(b.value,"__right-icon"),isActive:oe.value},null)},valueDisplay:function(){return y("valueDisplay",{params:{value:ce.value,onClose:function(e){return de(e)}}})},onPopupVisibleChange:function(e,t){ae(e,t)},onInputChange:function(e){oe.value&&(ne(e),ye("".concat(e)))},onClear:function(t){var n,r=t.e;X(e.multiple?[]:"",{e:r,trigger:"clear"}),null===(n=e.onClear)||void 0===n||n.call(e,{e:r})},onEnter:function(t,n){var r,i=n.e;null===(r=e.onEnter)||void 0===r||r.call(e,{inputValue:"".concat(te.value),e:i,value:q.value}),fe()},onBlur:function(t,n){var r,i=n.e;null===(r=e.onBlur)||void 0===r||r.call(e,{e:i,value:q.value})},onFocus:function(t,n){var r,i=n.e;null===(r=e.onFocus)||void 0===r||r.call(e,{e:i,value:q.value})}},e.selectInputProps),{panel:function(){return(0,a.Wm)(T,(0,a.dG)({ref:z},(0,u.p)(e,["size","multiple","empty","loading","loadingText","filterable","creatable","panelTopContent","panelBottomContent","filter","scroll"]),{options:G.value,inputValue:te.value}),n)},collapsedItems:n.collapsedItems})])}}})},5605:function(){},5393:function(e,t,n){"use strict";n.d(t,{E:function(){return I}});var r=n(1612),i=n(1633),o=n(3396),a=n(4870),l=n(8420),u=n(4230),c={autoWidth:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:Boolean,dragSort:Boolean,excessTagsDisplayType:{type:String,default:"break-line",validator:function(e){return!e||["scroll","break-line"].includes(e)}},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number],default:""},label:{type:[String,Function]},max:{type:Number},minCollapsedNum:{type:Number,default:0},placeholder:{type:String,default:void 0},readonly:Boolean,size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},status:{type:String,default:"default",validator:function(e){return!e||["default","success","warning","error"].includes(e)}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClear:Function,onDragSort:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onRemove:Function},s=n(3916),d=n(3069),f=n(7079),p=n(4925);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function v(e){var t=(0,a.iH)(),n=(0,a.BK)(e),r=n.excessTagsDisplayType,i=n.readonly,l=n.disabled,u=(0,a.iH)(0),c=(0,a.iH)(),s=(0,a.iH)(),d=function(e){var t=e.children[0];c.value=t},f=function(){u.value=c.value.scrollWidth-c.value.clientWidth},p=function(e){var t;null===(t=c.value)||void 0===t||t.scroll({left:e,behavior:"smooth"})},v=function(){f(),p(u.value)},h=function(){p(0)},m=function(e){var t=e.e;if(!i.value&&!l.value&&c.value)if(t.deltaX>0){var n=Math.min(c.value.scrollLeft+120,u.value);p(n)}else{var r=Math.max(c.value.scrollLeft-120,0);p(r)}},g=function(){"scroll"===r.value&&(s.value=setTimeout((function(){v(),clearTimeout(s.value)}),100))},y=function(){"scroll"===r.value&&(p(0),clearTimeout(s.value))},b=function(){var e,n=null===(e=t.value)||void 0===e?void 0:e.$el;n&&d(n)},_=function(){clearTimeout(s.value)};return(0,o.bv)(b),(0,o.Ah)(_),{tagInputRef:t,scrollElement:c,scrollDistance:u,scrollTo:p,scrollToRight:v,scrollToLeft:h,updateScrollElement:d,updateScrollDistance:f,onWheel:m,scrollToRightOnEnter:g,scrollToLeftOnLeave:y}}var h=n(5796),m=n(2035),g=n(5385),y=n(8048);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=(0,y.sL)(),n=(0,f.ws)(),i=(0,a.BK)(e),l=i.value,u=i.modelValue,c=i.onRemove,s=i.max,d=i.minCollapsedNum,p=i.size,v=i.disabled,b=i.readonly,w=i.tagProps,S=i.getDragProps,O=(0,g.Z)(l,u,e.defaultValue||[],e.onChange),k=(0,r._)(O,2),C=k[0],x=k[1],P=(0,a.iH)(),E=function(e){var t,n=(0,h._)(C.value);n.splice(e.index,1),x(n,_({trigger:"tag-remove"},e)),null===(t=c.value)||void 0===t||t.call(c,_(_({},e),{},{trigger:"tag-remove",value:n}))},T=function(e){x([],{trigger:"clear",e:e.e})},I=function(t,n){var r,i,o=t?String(t).trim():"";if(o){var a=s&&(null===(r=C.value)||void 0===r?void 0:r.length)>=s.value,l=C.value;a||(l=C.value instanceof Array?C.value.concat(String(o)):[o],x(l,{trigger:"enter",index:l.length-1,item:o,e:n.e})),null===e||void 0===e||null===(i=e.onEnter)||void 0===i||i.call(e,l,_(_({},n),{},{inputValue:t}))}},D=function(e,t){var n=t.e;if(C.value&&C.value.length){if(!P.value&&["Backspace","NumpadDelete"].includes(n.code)){var r,i=C.value.length-1,o=C.value[i],a="backspace";x(C.value.slice(0,-1),{e:n,index:i,item:o,trigger:a}),null===(r=c.value)||void 0===r||r.call(c,{e:n,index:i,item:o,trigger:a,value:C.value})}P.value=e}},j=function(e){var r=e.displayNode,i=e.label,a=d.value?C.value.slice(0,d.value):C.value,l=r?[r]:null===a||void 0===a?void 0:a.map((function(e,n){var r,i=t("tag",{params:{value:e}});return(0,o.Wm)(m.Vp,(0,o.dG)({key:"".concat(e).concat(n),size:p.value,disabled:v.value,onClose:function(t){return E({e:t.e,item:e,index:n})},closable:!b.value&&!v.value},null===(r=S.value)||void 0===r?void 0:r.call(S,n,e),w.value),{default:function(){return[null!==i&&void 0!==i?i:e]}})}));if([null,void 0,""].includes(i)||l.unshift((0,o.Wm)("div",{class:"".concat(n.value,"-tag-input__prefix"),key:"label"},[i])),a.length!==C.value.length){var u=C.value.length-a.length,c=t("collapsedItems",{params:{value:C.value,count:C.value.length,collapsedTags:C.value.slice(d.value,C.value.length),collapsedSelectedItems:C.value.slice(d.value,C.value.length)}});l.push(null!==c&&void 0!==c?c:(0,o.Wm)(m.Vp,{key:"more"},{default:function(){return["+",u]}}))}return l};return{tagValue:C,clearAll:T,onClose:E,onInnerEnter:I,onInputBackspaceKeyUp:D,renderLabel:j}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function S(e){var t=e.disabled,n=e.readonly,r=e.onMouseenter,i=e.onMouseleave,o=(0,a.iH)(!1),l=function(e){n||t||(o.value=!0,null===r||void 0===r||r(e))},u=function(e){n||t||(o.value=!1,null===i||void 0===i||i(e))};return{isHover:o,addHover:l,cancelHover:u}}var O=n(1887);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function k(e){var t=e.sortOnDraggable,n=e.onDragSort,r=e.onDragOverCheck,i=(0,a.iH)(-1),o=(0,a.iH)(null),l=(0,a.iH)(null),u=(0,a.qj)({nodeX:0,nodeWidth:0,mouseX:0}),c=function(e,t,a){if(e.preventDefault(),i.value!==t&&-1!==i.value){var l=e.target;if(null===r||void 0===r||!r.targetClassNameRegExp||null!==r&&void 0!==r&&r.targetClassNameRegExp.test(l.className)){if(null!==r&&void 0!==r&&r.x&&l){if(!u.nodeWidth)return;var c=l.getBoundingClientRect(),s=c.x,d=c.width,f=s+d/2,p=e.clientX-(u.mouseX-u.nodeX),v=p+u.nodeWidth,h=!1;if(h=p>s&&p<s+d?p<f:v>f,!h)return}null===n||void 0===n||n({currentIndex:i.value,current:o,target:a,targetIndex:t}),i.value=t}}};if(!t)return{};function s(e,t,n){i.value=t,o.value=n;var a=e.target;if(r&&a){var l=a.getBoundingClientRect(),c=l.x,s=l.width;u.nodeX=c,u.nodeWidth=s,u.mouseX=e.clientX}}function d(){l.value=!0}function f(){l.value,l.value=!1,i.value=-1,o.value=null}function p(e,n){return t?{draggable:!0,onDragstart:function(t){s(t,e,n)},onDragover:function(t){c(t,e,n)},onDrop:function(){d()},onDragend:function(){f()}}:{}}return{onDragStart:s,onDragOver:c,onDrop:d,onDragEnd:f,getDragProps:p,dragging:-1!==i.value}}
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){return{NAME_CLASS:(0,f.ws)("tag-input"),CLEAR_CLASS:(0,f.ws)("tag-input__suffix-clear"),BREAK_LINE_CLASS:(0,f.ws)("tag-input--break-line")}},E=(0,o.aZ)({name:"TTagInput",props:x({},c),setup:function(e){var t=P(),n=t.NAME_CLASS,u=t.CLEAR_CLASS,c=t.BREAK_LINE_CLASS,s=(0,p.J)({CloseCircleFilledIcon:l.Z}),f=s.CloseCircleFilledIcon,h=(0,a.BK)(e),m=h.inputValue,g=(0,O.Z)(m,e.defaultInputValue,e.onInputChange,"inputValue"),y=(0,r._)(g,2),b=y[0],_=y[1],C=(0,a.BK)(e),E=C.excessTagsDisplayType,T=C.readonly,I=C.disabled,D=C.clearable,j=C.placeholder,R=S({readonly:e.readonly,disabled:e.disabled,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave}),A=R.isHover,F=R.addHover,M=R.cancelHover,N=(0,d.Z)(),L=N.classPrefix,W=k(x(x({},e),{},{sortOnDraggable:e.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(L,"-tag"))}})),V=W.getDragProps,B=v(e),U=B.scrollToRight,H=B.onWheel,z=B.scrollToRightOnEnter,Z=B.scrollToLeftOnLeave,K=B.tagInputRef,Y=w((0,a.qj)(x(x({},(0,a.BK)(e)),{},{getDragProps:V}))),G=Y.tagValue,$=Y.onInnerEnter,J=Y.onInputBackspaceKeyUp,q=Y.clearAll,X=Y.renderLabel,Q=Y.onClose,ee=(0,o.Fl)((function(){return[n.value,(0,i._)({},c.value,"break-line"===E.value)]})),te=(0,o.Fl)((function(){var e;return null!==(e=G.value)&&void 0!==e&&e.length?"":j.value})),ne=(0,o.Fl)((function(){var e;return Boolean(!T.value&&!I.value&&D.value&&A.value&&((null===(e=G.value)||void 0===e?void 0:e.length)||b.value))})),re=function(e,t){var n,r;null===(n=t.e)||void 0===n||null===(r=n.preventDefault)||void 0===r||r.call(n),_("",{e:t.e,trigger:"enter"}),$(e,t),(0,o.Y3)((function(){U()}))},ie=function(){K.value.focus()},oe=function(t){var n;q(t),_("",{e:t.e,trigger:"clear"}),null===(n=e.onClear)||void 0===n||n.call(e,t)};return{CLEAR_CLASS:u,CloseCircleFilledIcon:f,tagValue:G,tInputValue:b,isHover:A,tagInputPlaceholder:te,showClearIcon:ne,tagInputRef:K,setTInputValue:_,addHover:F,cancelHover:M,onInputEnter:re,onInnerEnter:$,onInputBackspaceKeyUp:J,renderLabel:X,onWheel:H,scrollToRightOnEnter:z,scrollToLeftOnLeave:Z,onClick:ie,onClearClick:oe,onClose:Q,classes:ee}},render:function(){var e,t,n=this,r=this.CloseCircleFilledIcon,i=this.showClearIcon?(0,o.Wm)(r,{class:this.CLEAR_CLASS,onClick:this.onClearClick},null):(0,s.a)(this,"suffixIcon"),a=(0,s.a)(this,"valueDisplay",{params:{value:this.tagValue,onClose:function(e,t){return n.onClose({index:e,item:t})}}}),l=(0,s.a)(this,"label",{silent:!0});return(0,o.Wm)(u.II,(0,o.dG)({ref:"tagInputRef",readonly:this.readonly,value:this.tInputValue,autoWidth:!0,size:this.size,disabled:this.disabled,label:function(){return n.renderLabel({displayNode:a,label:l})},class:this.classes,tips:this.tips,status:this.status,placeholder:this.tagInputPlaceholder,suffix:this.suffix,suffixIcon:function(){return i},showInput:!(null!==(e=this.inputProps)&&void 0!==e&&e.readonly)||!this.tagValue||!(null!==(t=this.tagValue)&&void 0!==t&&t.length),keepWrapperWidth:!this.autoWidth,onWheel:this.onWheel,onChange:function(e,t){n.setTInputValue(e,x(x({},t),{},{trigger:"input"}))},onPaste:this.onPaste,onEnter:this.onInputEnter,onKeyup:this.onInputBackspaceKeyUp,onMouseenter:function(e){n.addHover(e),n.scrollToRightOnEnter()},onMouseleave:function(e){n.cancelHover(e),n.scrollToLeftOnLeave()},onFocus:function(e,t){var r;null===(r=n.onFocus)||void 0===r||r.call(n,n.tagValue,{e:t.e,inputValue:e})},onBlur:function(e,t){var r;null===(r=n.onBlur)||void 0===r||r.call(n,n.tagValue,{e:t.e,inputValue:e})},onClick:this.onClick},this.inputProps),null)}}),T=n(5306),I=(0,T.Z)(E)},2035:function(e,t,n){"use strict";n.d(t,{pn:function(){return b},Vp:function(){return y}});var r=n(1633),i=n(3396),o=n(4270),a={closable:Boolean,content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(e){return["square","round","mark"].includes(e)}},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},theme:{type:String,default:"default",validator:function(e){return["default","primary","warning","danger","success"].includes(e)}},variant:{type:String,default:"dark",validator:function(e){return["dark","light","outline","light-outline"].includes(e)}},onClick:Function,onClose:Function},l=n(7079),u=n(4925),c=n(8048),s=n(3069),d=(0,i.aZ)({name:"TTag",props:a,setup:function(e){var t=(0,s.Z)("tag"),n=t.globalConfig,a=(0,l.ws)("tag"),d=(0,u.J)({CloseIcon:o.Z}),f=d.CloseIcon,p=(0,c.sL)(),v=(0,c.r0)(),h=(0,l.RH)(),m=h.SIZE,g=(0,i.Fl)((function(){var t;return["".concat(a.value),"".concat(a.value,"--").concat(e.theme),"".concat(a.value,"--").concat(e.variant),(t={},(0,r._)(t,"".concat(a.value,"--ellipsis"),e.maxWidth),(0,r._)(t,"".concat(a.value,"--close"),e.closable),(0,r._)(t,"".concat(a.value,"--disabled"),e.disabled),t),m.value[e.size],"square"!==e.shape&&"".concat(a.value,"--").concat(e.shape)]})),y=(0,i.Fl)((function(){return e.maxWidth?{maxWidth:"".concat(e.maxWidth,"px")}:{}})),b=function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,{e:t})},_=function(){if(!e.closable)return null;var t="".concat(a.value,"__icon-close");return n.value.closeIcon?(0,i.h)(n.value.closeIcon(i.h),{class:t}):(0,i.Wm)(f,{onClick:function(t){var n,r=t.e;return null===(n=e.onClose)||void 0===n?void 0:n.call(e,{e:r})},class:t},null)};return function(){var t=_(),n=v("default","content"),r=p("icon");return(0,i.Wm)("span",{class:g.value,style:y.value,onClick:b},[r,e.maxWidth?(0,i.Wm)("span",{style:y.value,class:"".concat(a.value,"--text")},[n]):n,t])}}}),f=n(1612),p=n(4870),v={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,content:{type:[String,Number,Function]},default:{type:[String,Number,Function]},disabled:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},onChange:Function,onClick:Function},h=n(5385),m=(0,i.aZ)({name:"TCheckTag",props:v,setup:function(e){var t=(0,l.ws)("tag"),n=(0,l.RH)(),o=n.SIZE,a=(0,c.r0)(),u=(0,p.BK)(e),s=u.checked,d=u.modelValue,v=(0,h.Z)(s,d,e.defaultChecked,e.onChange,"checked"),m=(0,f._)(v,2),g=m[0],y=m[1],b=(0,i.Fl)((function(){var n;return["".concat(t.value),"".concat(t.value,"--check"),"".concat(t.value,"--default"),o.value[e.size],(n={},(0,r._)(n,"".concat(t.value,"--checked"),!e.disabled&&g.value),(0,r._)(n,"".concat(t.value,"--disabled"),e.disabled),n)]})),_=function(t){var n;e.disabled||(null===(n=e.onClick)||void 0===n||n.call(e,{e:t}),y(!g.value))};return function(){var e=a("default","content");return(0,i.Wm)("span",{class:b.value,onClick:_},[e])}}}),g=n(5306),y=(0,g.Z)(d),b=(0,g.Z)(m)},7477:function(e,t,n){"use strict";n.d(t,{Z:function(){return We}});var r=n(1633),i=n(3396),o=n(4870),a=n(7140),l=n(7216),u=n(6577),c=n(2084);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={type:Boolean,default:!0,validator:function(e){return"boolean"===typeof e}},p=function(){return{disabled:d(d({},f),{default:!1}),isFocus:d(d({},f),{default:!1}),value:{type:String,default:""},format:{type:String,default:"HH:mm:ss"},steps:d({type:Array},{default:[1,1,1]}),isShowPanel:d(d({},f),{default:!1}),hideDisabledTime:d({},c.Z.hideDisabledTime),disableTime:{type:Function},isFooterDisplay:d({},f)}},v=function(){return{format:{type:String,default:"HH:mm:ss"},cols:{type:Array,default:function(){return[u.iH.hour,u.iH.minute,u.iH.second]}},value:{type:String,default:""},range:{type:Array,default:function(){return[]}},steps:d({type:Array},{default:[1,1,1]}),hideDisabledTime:d({},c.Z.hideDisabledTime),disableTime:{type:Function},localeMeridiems:{type:Array}}},h=n(1612),m=n(8411),g=n(6913),y=n(1825),b=n(6971),_=n(8196),w=n(1085),S=n(4913),O=n(3069),k=Math.ceil,C=Math.max;function x(e,t,n,r){var i=-1,o=C(k((t-e)/(n||1)),0),a=Array(o);while(o--)a[r?o:++i]=e,e+=n;return a}var P=x,E=P,T=g._,I=y.a;function D(e){return function(t,n,r){return r&&"number"!=typeof r&&T(t,n,r)&&(n=r=void 0),t=I(t),void 0===n?(n=t,t=0):n=I(n),r=void 0===r?t<n?1:-1:I(r),E(t,n,r,e)}}var j=D,R=j,A=R(),F=A,M=9007199254740991,N=Math.floor;function L(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),t=N(t/2),t&&(e+=e)}while(t);return n}var W=L,V=w._,B=V("length"),U=B,H="\\ud800-\\udfff",z="\\u0300-\\u036f",Z="\\ufe20-\\ufe2f",K="\\u20d0-\\u20ff",Y=z+Z+K,G="\\ufe0e\\ufe0f",$="["+H+"]",J="["+Y+"]",q="\\ud83c[\\udffb-\\udfff]",X="(?:"+J+"|"+q+")",Q="[^"+H+"]",ee="(?:\\ud83c[\\udde6-\\uddff]){2}",te="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="\\u200d",re=X+"?",ie="["+G+"]?",oe="(?:"+ne+"(?:"+[Q,ee,te].join("|")+")"+ie+re+")*",ae=ie+re+oe,le="(?:"+[Q+J+"?",J,ee,te,$].join("|")+")",ue=RegExp(q+"(?="+q+")|"+le+ae,"g");function ce(e){var t=ue.lastIndex=0;while(ue.test(e))++t;return t}var se=ce,de=U,fe=_._,pe=se;function ve(e){return fe(e)?pe(e):de(e)}var he=ve,me=W,ge=b._,ye=_.a,be=_._,_e=he,we=_.b,Se=Math.ceil;function Oe(e,t){t=void 0===t?" ":ge(t);var n=t.length;if(n<2)return n?me(t,e):t;var r=me(t,Se(e/_e(t)));return be(t)?ye(we(r),0,e).join(""):r.slice(0,e)}var ke=Oe,Ce=ke,xe=he,Pe=y.t,Ee=b.t;function Te(e,t,n){e=Ee(e),t=Pe(t);var r=t?xe(e):0;return t&&r<t?Ce(t-r,n)+e:e}var Ie=Te;function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a.d.extend(l.c);var Re=[u.iH.hour,u.iH.minute,u.iH.second,u.iH.milliSecond],Ae=(0,i.aZ)({name:"TTimePickerPanelCol",props:je(je({},v()),{},{position:String,triggerScroll:Boolean,onChange:Function,resetTriggerScroll:Function}),setup:function(e){var t=(0,o.BK)(e),n=t.steps,l=t.value,c=t.format,s=t.position,d=t.triggerScroll,f=(0,O.Z)("timePicker"),p=f.globalConfig,v=(0,O.Z)(),g=v.classPrefix,y=(0,o.iH)([]),b=(0,o.iH)(),_=(0,o.iH)(null),w=(0,o.qj)({0:null,1:null,2:null,3:null,4:null,5:null}),k=(0,i.Fl)((function(){var e=!!n.value.filter((function(e){return e>1})).length;return l.value?(0,a.d)(l.value,c.value):e?(0,a.d)().hour(0).minute(0).second(0):(0,a.d)()})),C=(0,i.Fl)((function(){return"".concat(g.value,"-time-picker__panel")}));(0,i.YP)((function(){return k.value}),(function(){k.value&&R(!0)})),(0,i.YP)((function(){return d.value}),(function(){d.value&&R(!0)})),(0,i.bv)((function(){var e=c.value.match(u.T_),t=(0,h._)(e,7),n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],l=t[6],s=u.iH.meridiem,d=u.iH.hour,f=u.iH.minute,p=u.iH.second,v=u.iH.milliSecond,m=[n&&s,r&&d,i&&f,o&&p,a&&v,l&&s].filter((function(e){return!!e}));y.value=m}));var x=function(){var e,t=null===(e=_.value)||void 0===e?void 0:e.querySelector("div"),n=t.offsetHeight+parseInt(getComputedStyle(t).marginTop,10);return n},P=function(t,n){var r=Re.indexOf(t);if(-1!==r){var i,o,a,l=[k.value.hour(),k.value.minute(),k.value.second()];return l[r]=Number(n),!(null!==(i=e.disableTime)&&void 0!==i&&null!==(o=i.call.apply(i,[e].concat(l,[{partial:s.value||"start"}])))&&void 0!==o&&null!==(a=o[t])&&void 0!==a&&a.includes(Number(n)))}return!0},E=function(t){var r=0;if(Re.includes(t)){var i=Re.indexOf(t),o=n.value[i]||1;r=t===u.iH.hour?u.Lw.test(c.value)?11:23:t===u.iH.milliSecond?999:59;var a=F(0,r+1,Number(o)).map((function(e){return Ie(String(e),2,"0")}))||[];return e.hideDisabledTime&&e.disableTime?a.filter((function(n){var r,o,a,l=[k.value.hour(),k.value.minute(),k.value.second()];return l[i]=Number(n),!(null!==(r=e.disableTime)&&void 0!==r&&null!==(o=r.call.apply(r,[e].concat(l,[{partial:s.value||"start"}])))&&void 0!==o&&null!==(a=o[t])&&void 0!==a&&a.includes(Number(n)))})):a}return u.EJ},T=function(e,t){e===u.iH.hour&&/[h]{1}/.test(c.value)&&(t%=12);var n=E(e).indexOf(Ie(String(t),2,"0")),r=x(),i=Math.abs(n*r+r/2);return i},I=function(t,r){var i,o,l,s=null===(i=w[r])||void 0===i?void 0:i.scrollTop,d=Math.abs(Math.round(s/x()+.5)),f=u.EJ[Math.min(d-1,1)].toLowerCase();if(Number.isNaN(d)&&(d=1),Re.includes(t)){var p=59;t===u.iH.hour?p=/[h]{1}/.test(c.value)?11:23:t===u.iH.milliSecond&&(p=999);var v=Re.indexOf(t),h=F(0,p+1,Number(n.value[v])||1);o=(0,S.Vf)(h,Number(E(t)[Math.min(d-1,p+1,h.length-1)]),Number(n.value[v])||1),Number.isNaN(o)&&(o=h[h.length-1]),t===u.iH.hour&&y.value.includes(u.iH.meridiem)&&k.value.hour()>=12&&(o=Number(o)+12)}else o=f;var m=T(t,o);if((0,a.d)(k.value).isValid()&&m!==s){var g,b;if(Re.includes(t)){var _,O;P(t,o)&&(l=null===(_=(O=k.value)[t])||void 0===_?void 0:_.call(O,o).format(c.value))}else{var C=k.value.hour();f===u.AM&&C>=12?l=k.value.hour(C-12).format(c.value):f===u.PM&&C<12&&(l=k.value.hour(C+12).format(c.value))}null===(g=e.onChange)||void 0===g||g.call(e,l);var I=w[y.value.indexOf(t)];if(!m||!I||I.scrollTop===m)return;null===(b=I.scrollTo)||void 0===b||b.call(I,{top:m,behavior:"smooth"})}},D=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"auto",o=T(e,t),a=w[n];o&&a&&a.scrollTop!==o&&P(e,t)&&(null===(r=a.scrollTo)||void 0===r||r.call(a,{top:o,behavior:i}))},j=function(t,n,r){if(P(t,n))if(Re.includes(t))t===u.iH.hour&&k.value.format("a")===u.PM&&y.value.includes(u.iH.meridiem)&&(n=Number(n)+12),D(t,n,r,"smooth"),setTimeout((function(){var r,i;e.onChange(null===(r=(i=k.value)[t])||void 0===r?void 0:r.call(i,n).format(c.value))}),100);else{var i=k.value.hour();n===u.AM&&i>=12?e.onChange(k.value.hour(i-12).format(c.value)):n===u.PM&&i<12&&e.onChange(k.value.hour(i+12).format(c.value))}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=l.value&&!t?"smooth":"auto",o=!!n.value.filter((function(e){return e>1})).length;(0,i.Y3)((function(){y.value.forEach((function(e,t){var n,i,a;!o||o&&l.value?D(e,Re.includes(e)?null===(n=(i=k.value)[e])||void 0===n?void 0:n.call(i):k.value.format("a"),t,r):D(e,null===(a=E(e))||void 0===a?void 0:a[0],t,r)}))})),e.resetTriggerScroll()},A=function(e,t){var n,r,i;if(e===u.iH.meridiem){var o=k.value.format("a");return o===t}return i=null===(n=(r=k.value)[e])||void 0===n?void 0:n.call(r),e===u.iH.hour&&/[h]{1}/.test(c.value)&&(i%=12),i===Number(t)};return function(){var e,t,n,o;return(0,i.Wm)("div",{class:"".concat(C.value,"-body"),ref:b},[(0,i.Wm)("div",{class:"".concat(C.value,"-body-active-mask"),ref:_},[null===(e=(t=y.value).map)||void 0===e?void 0:e.call(t,(function(e,t){return(0,i.Wm)("div",{key:"".concat(e,"_").concat(t)},null)}))]),null===(n=(o=y.value).map)||void 0===n?void 0:n.call(o,(function(e,t){return(0,i.Wm)("ul",{key:"".concat(e,"_").concat(t),ref:function(e){return w[t]=e},class:"".concat(C.value,"-body-scroll"),onScroll:(0,m.d)((function(){return I(e,t)}),50)},[E(e).map((function(n){var o;return(0,i.Wm)("li",{key:n,class:["".concat(C.value,"-body-scroll-item"),(o={},(0,r._)(o,"".concat(g.value,"-is-disabled"),!P(e,n)),(0,r._)(o,"".concat(g.value,"-is-current"),A(e,n)),o)],onClick:function(){return j(e,n,t)}},[Re.includes(e)?u.Lw.test(c.value)&&"00"===n?"12":n:p.value[n===u.AM?"anteMeridiem":"postMeridiem"]])}))])}))])}}}),Fe=n(8796),Me=n(7079);n(2277);
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,r._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}a.d.extend(l.c);var We=(0,i.aZ)({name:"TimePickerPanel",props:Le(Le({},p()),{},{isFooterDisplay:Boolean,handleConfirmClick:Function,onChange:Function}),setup:function(e){var t=(0,Me.ws)("time-picker__panel"),n=(0,o.BK)(e),r=n.steps,l=n.isFooterDisplay,c=n.isShowPanel,s=(0,o.iH)(!1),d=(0,o.iH)(),f=(0,O.Z)("timePicker"),p=f.globalConfig,v=(0,i.Fl)((function(){return!!r.value.filter((function(e){return e>1})).length})),h=(0,i.Fl)((function(){var t=v.value;return e.value?(0,a.d)(e.value,e.format):t?(0,a.d)().hour(0).minute(0).second(0):(0,a.d)()})),m=function(){(0,i.Y3)((function(){s.value=!0}))},g=function(){s.value=!1};return(0,i.bv)((function(){m()})),(0,i.YP)((function(){return c.value}),(function(){m()})),function(){return(0,i.Wm)("div",{class:t.value},[(0,i.Wm)("div",{class:"".concat(t.value,"-section-body")},[(0,i.Wm)(Ae,(0,i.dG)(e,{ref:d,format:e.format||u.UP,steps:e.steps||u.sK,value:e.value,triggerScroll:s.value,onChange:e.onChange,resetTriggerScroll:g}),null)]),l.value?(0,i.Wm)("div",{class:"".concat(t.value,"-section-footer")},[(0,i.Wm)(Fe.Z,{theme:"primary",variant:"base",onClick:function(){return e.handleConfirmClick(h.value)},size:"small"},{default:function(){return[p.value.confirm]}}),v.value?null:(0,i.Wm)(Fe.Z,{theme:"primary",variant:"text",size:"small",onClick:function(){return e.onChange((0,a.d)().format(e.format))}},{default:function(){return[p.value.now]}})]):null])}}})},2084:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
var r={allowInput:Boolean,clearable:Boolean,disabled:Boolean,disableTime:{type:Function},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},inputProps:{type:Object},placeholder:{type:String,default:void 0},popupProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return!e||["small","medium","large"].includes(e)}},steps:{type:Array,default:function(){return[1,1,1]}},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onBlur:Function,onChange:Function,onClose:Function,onFocus:Function,onInput:Function,onOpen:Function}},3509:function(e,t,n){"use strict";n.d(t,{cn:function(){return x},PY:function(){return E},O_:function(){return D},JX:function(){return T},pv:function(){return C},f9:function(){return R},sk:function(){return _},S1:function(){return O},on:function(){return S},IH:function(){return k},IV:function(){return P},Bt:function(){return A},X5:function(){return j}});n(1703);var r=n(3930),i=n(8137),o=function(e,t,n,r){var i=(n-t)/2,o=e/(r/2);return o<1?i*o*o*o+t:(o-=2,i*(o*o*o+2)+t)},a={exports:{}},l={exports:{}};(function(){var e,t,n,r,i,o;"undefined"!==typeof performance&&null!==performance&&performance.now?l.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(l.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var e;return e=t(),1e9*e[0]+e[1]},r=e(),o=1e9*process.uptime(),i=r-o):Date.now?(l.exports=function(){return Date.now()-n},n=Date.now()):(l.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(r.c);l.exports;for(var u=l.exports,c="undefined"===typeof window?r.c:window,s=["moz","webkit"],d="AnimationFrame",f=c["request"+d],p=c["cancel"+d]||c["cancelRequest"+d],v=0;!f&&v<s.length;v++)f=c[s[v]+"Request"+d],p=c[s[v]+"Cancel"+d]||c[s[v]+"CancelRequest"+d];if(!f||!p){var h=0,m=0,g=[],y=1e3/60;f=function(e){if(0===g.length){var t=u(),n=Math.max(0,y-(t-h));h=n+t,setTimeout((function(){var e=g.slice(0);g.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(h)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return g.push({handle:++m,callback:e,cancelled:!1}),m},p=function(e){for(var t=0;t<g.length;t++)g[t].handle===e&&(g[t].cancelled=!0)}}a.exports=function(e){return f.call(c,e)};a.exports.cancel=function(){p.apply(c,arguments)},a.exports.polyfill=function(e){e||(e=c),e.requestAnimationFrame=f,e.cancelAnimationFrame=p};var b=a.exports,_="undefined"===typeof window,w=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},S=function(){return!_&&document.addEventListener?function(e,t,n,r){e&&t&&n&&e.addEventListener(t,n,r)}:function(e,t,n){e&&t&&n&&e.attachEvent("on".concat(t),n)}}(),O=function(){return!_&&document.removeEventListener?function(e,t,n,r){e&&t&&e.removeEventListener(t,n,r)}:function(e,t,n){e&&t&&e.detachEvent("on".concat(t),n)}}();function k(e,t,n,r){var i="function"===typeof n?n:n.handleEvent,o=function n(o){i(o),O(e,t,n,r)};S(e,t,o,r)}function C(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):" ".concat(e.className," ").indexOf(" ".concat(t," "))>-1}function x(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var a=r[i];a&&(e.classList?e.classList.add(a):C(e,a)||(n+=" ".concat(a)))}e.classList||(e.className=n)}}function P(e,t){if(e&&t){for(var n=t.split(" "),r=" ".concat(e.className," "),i=0,o=n.length;i<o;i++){var a=n[i];a&&(e.classList?e.classList.remove(a):C(e,a)&&(r=r.replace(" ".concat(a," ")," ")))}e.classList||(e.className=w(r))}}var E=function(e,t){var n="function"===typeof e?e(t):e;return n?(0,i.i)(n)?document.querySelector(n):n instanceof HTMLElement?n:document.body:document.body},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";return(0,i.i)(e)?document.querySelector(e):"function"===typeof e?e():e};function I(e){return e&&e===e.window}function D(e,t){if(_||!e)return 0;var n=t?"scrollLeft":"scrollTop",r=0;return I(e)?r=e[t?"pageXOffset":"pageYOffset"]:e instanceof Document?r=e.documentElement[n]:e&&(r=e[n]),r}function j(e,t){var n=t.container,r=void 0===n?window:n,i=t.duration,a=void 0===i?450:i,l=t.easing,u=void 0===l?o:l,c=D(r),s=Date.now();return new Promise((function(t){var n=function n(){var i=Date.now(),o=i-s,l=u(Math.min(o,a),c,e,a);I(r)?r.scrollTo(window.pageXOffset,l):r instanceof Document||"HTMLDocument"===r.constructor.name?r.documentElement.scrollTop=l:r.scrollTop=l,b(o<a?n:t)};b(n)}))}var R=function(e){var t=e.clientWidth,n=void 0===t?0:t,r=e.scrollWidth,i=void 0===r?0:r;return i>n},A=function(e){if(!(e instanceof HTMLFormElement))throw new Error("target must be HTMLFormElement");var t=document.createElement("input");t.type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t)}},6491:function(e,t,n){"use strict";n.d(t,{CE:function(){return c},RI:function(){return s},X0:function(){return v},dF:function(){return d},p_:function(){return p},sF:function(){return f}});var r=n(3430),i=n(1633),o=n(6546),a=["from","to","direction"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i._)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=u({},e),r=0;r<t.length;r++){var i=t[r];delete n[i]}return n}function s(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function d(e){if("string"===typeof e)return e;if(Array.isArray(e))return e[0]&&"#"===e[0][0]&&e.unshift("90deg"),"linear-gradient( ".concat(e.join(",")," )");var t=e.from,n=e.to,i=e.direction,o=void 0===i?"to right":i,l=(0,r._)(e,a),u=Object.keys(l);if(u.length){u=u.sort((function(e,t){return parseFloat(e.substr(0,e.length-1))-parseFloat(t.substr(0,t.length-1))}));var c=u.map((function(e){return"".concat(l[e]," ").concat(e)}));return"linear-gradient(".concat(o,", ").concat(c.join(","),")")}return"linear-gradient(".concat(o,", ").concat(t,", ").concat(n,")")}function f(e){return(0,o.c)("on-".concat(e))}function p(e,t){var n="number"===typeof t;if(!e||0===e.length)return n?{length:0,characters:e}:0;for(var r=0,i=0;i<e.length;i++){var o=0;if(o=e.charCodeAt(i)>127||94===e.charCodeAt(i)?2:1,n&&r+o>t)return{length:r,characters:e.slice(0,i)};r+=o}return n?{length:r,characters:e}:r}function v(e){return"number"===typeof e?"".concat(e,"px"):e}},2059:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3509),i={mounted:function(e,t){if(t.value){var n=(0,r.PY)(t.value);null===n||void 0===n||n.appendChild(e)}}};
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */},5306:function(e,t,n){"use strict";
/**
 * tdesign v0.20.3
 * (c) 2022 tdesign
 * @license MIT
 */
function r(e,t){var n=e;return n.install=function(r,i){r.component(t||i||n.name,e)},n}n.d(t,{Z:function(){return r}})},2483:function(e,t,n){"use strict";n.d(t,{p7:function(){return nt},r5:function(){return V}});n(1703);var r=n(3396),i=n(4870);
/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const l=Object.assign;function u(e,t){const n={};for(const r in t){const i=t[r];n[r]=s(i)?i.map(e):e(i)}return n}const c=()=>{},s=Array.isArray;const d=/\/$/,f=e=>e.replace(d,"");function p(e,t,n="/"){let r,i={},o="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=t.slice(0,u),o=t.slice(u+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=w(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function v(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function h(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function m(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&g(t.matched[r],n.matched[i])&&y(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function g(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!b(e[n],t[n]))return!1;return!0}function b(e,t){return s(e)?_(e,t):s(t)?_(t,e):e===t}function _(e,t){return s(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function w(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],"."!==o){if(".."!==o)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var S,O;(function(e){e["pop"]="pop",e["push"]="push"})(S||(S={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(O||(O={}));function k(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),f(e)}const C=/^[^#]+#/;function x(e,t){return e.replace(C,"#")+t}function P(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const E=()=>({left:window.pageXOffset,top:window.pageYOffset});function T(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=P(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function I(e,t){const n=history.state?history.state.position-t:-1;return n+e}const D=new Map;function j(e,t){D.set(e,t)}function R(e){const t=D.get(e);return D.delete(e),t}let A=()=>location.protocol+"//"+location.host;function F(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),h(n,"")}const a=h(n,e);return a+r+i}function M(e,t,n,r){let i=[],o=[],a=null;const u=({state:o})=>{const l=F(e,location),u=n.value,c=t.value;let s=0;if(o){if(n.value=l,t.value=o,a&&a===u)return void(a=null);s=c?o.position-c.position:0}else r(l);i.forEach((e=>{e(n.value,u,{delta:s,type:S.pop,direction:s?s>0?O.forward:O.back:O.unknown})}))};function c(){a=n.value}function s(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(l({},e.state,{scroll:E()}),"")}function f(){for(const e of o)e();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:s,destroy:f}}function N(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?E():null}}function L(e){const{history:t,location:n}=window,r={value:F(e,n)},i={value:t.state};function o(r,o,a){const l=e.indexOf("#"),u=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+r:A()+e+r;try{t[a?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[a?"replace":"assign"](u)}}function a(e,n){const a=l({},t.state,N(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,a,!0),r.value=e}function u(e,n){const a=l({},i.value,t.state,{forward:e,scroll:E()});o(a.current,a,!0);const u=l({},N(r.value,e,null),{position:a.position+1},n);o(e,u,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:u,replace:a}}function W(e){e=k(e);const t=L(e),n=M(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=l({location:"",base:e,go:r,createHref:x.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function V(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),W(e)}function B(e){return"string"===typeof e||e&&"object"===typeof e}function U(e){return"string"===typeof e||"symbol"===typeof e}const H={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},z=Symbol("");var Z;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Z||(Z={}));function K(e,t){return l(new Error,{type:e,[z]:!0},t)}function Y(e,t){return e instanceof Error&&z in e&&(null==t||!!(e.type&t))}const G="[^/]+?",$={sensitive:!1,strict:!1,start:!0,end:!0},J=/[.+*?^${}()[\]/\\]/g;function q(e,t){const n=l({},$,t),r=[];let i=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(J,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:u,regexp:c}=r;o.push({name:e,repeatable:n,optional:u});const s=c||G;if(s!==G){a+=10;try{new RegExp(`(${s})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${s}): `+d.message)}}let f=n?`((?:${s})(?:/(?:${s}))*)`:`(${s})`;t||(f=u&&l.length<2?`(?:/${f})`:"/"+f),u&&(f+="?"),i+=f,a+=20,u&&(a+=-8),n&&(a+=-20),".*"===s&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function u(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function c(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:l}=e,u=o in t?t[o]:"";if(s(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=s(u)?u.join("/"):u;if(!c){if(!l)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}return{re:a,score:r,keys:o,parse:u,stringify:c}}function X(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Q(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=X(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(ee(r))return 1;if(ee(i))return-1}return i.length-r.length}function ee(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const te={type:0,value:""},ne=/[a-zA-Z0-9_]/;function re(e){if(!e)return[[]];if("/"===e)return[[te]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let l,u=0,c="",s="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===l||"+"===l)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:s,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}while(u<e.length)if(l=e[u++],"\\"!==l||2===n)switch(n){case 0:"/"===l?(c&&d(),a()):":"===l?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===l?n=2:ne.test(l)?f():(d(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&u--);break;case 2:")"===l?"\\"==s[s.length-1]?s=s.slice(0,-1)+l:n=3:s+=l;break;case 3:d(),n=0,"*"!==l&&"?"!==l&&"+"!==l&&u--,s="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),i}function ie(e,t,n){const r=q(re(e.path),n);const i=l(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function oe(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,u=le(e);u.aliasOf=r&&r.record;const d=de(t,e),f=[u];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)f.push(l({},u,{components:r?r.record.components:u.components,path:e,aliasOf:r?r.record:u}))}let p,v;for(const t of f){const{path:l}=t;if(n&&"/"!==l[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(p=ie(t,n,d),r?r.alias.push(p):(v=v||p,v!==p&&v.alias.push(p),i&&e.name&&!ce(p)&&a(e.name)),u.children){const e=u.children;for(let t=0;t<e.length;t++)o(e[t],p,r&&r.children[t])}r=r||p,s(p)}return v?()=>{a(v)}:c}function a(e){if(U(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function u(){return n}function s(e){let t=0;while(t<n.length&&Q(e,n[t])>=0&&(e.record.path!==n[t].record.path||!fe(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!ce(e)&&r.set(e.record.name,e)}function d(e,t){let i,o,a,u={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw K(1,{location:e});0,a=i.record.name,u=l(ae(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&ae(e.params,i.keys.map((e=>e.name)))),o=i.stringify(u)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(u=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw K(1,{location:e,currentLocation:t});a=i.record.name,u=l({},t.params,e.params),o=i.stringify(u)}const c=[];let s=i;while(s)c.unshift(s.record),s=s.parent;return{name:a,path:o,params:u,matched:c,meta:se(c)}}return t=de({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:d,removeRoute:a,getRoutes:u,getRecordMatcher:i}}function ae(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function le(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ue(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ue(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function ce(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function se(e){return e.reduce(((e,t)=>l(e,t.meta)),{})}function de(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function fe(e,t){return t.children.some((t=>t===e||fe(e,t)))}const pe=/#/g,ve=/&/g,he=/\//g,me=/=/g,ge=/\?/g,ye=/\+/g,be=/%5B/g,_e=/%5D/g,we=/%5E/g,Se=/%60/g,Oe=/%7B/g,ke=/%7C/g,Ce=/%7D/g,xe=/%20/g;function Pe(e){return encodeURI(""+e).replace(ke,"|").replace(be,"[").replace(_e,"]")}function Ee(e){return Pe(e).replace(Oe,"{").replace(Ce,"}").replace(we,"^")}function Te(e){return Pe(e).replace(ye,"%2B").replace(xe,"+").replace(pe,"%23").replace(ve,"%26").replace(Se,"`").replace(Oe,"{").replace(Ce,"}").replace(we,"^")}function Ie(e){return Te(e).replace(me,"%3D")}function De(e){return Pe(e).replace(pe,"%23").replace(ge,"%3F")}function je(e){return null==e?"":De(e).replace(he,"%2F")}function Re(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ae(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(ye," "),n=e.indexOf("="),o=Re(n<0?e:e.slice(0,n)),a=n<0?null:Re(e.slice(n+1));if(o in t){let e=t[o];s(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function Fe(e){let t="";for(let n in e){const r=e[n];if(n=Ie(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=s(r)?r.map((e=>e&&Te(e))):[r&&Te(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Me(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=s(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Ne=Symbol(""),Le=Symbol(""),We=Symbol(""),Ve=Symbol(""),Be=Symbol("");function Ue(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function He(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,l)=>{const u=e=>{!1===e?l(K(4,{from:n,to:t})):e instanceof Error?l(e):B(e)?l(K(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),a())},c=e.call(r&&r.instances[i],t,n,u);let s=Promise.resolve(c);e.length<3&&(s=s.then(u)),s.catch((e=>l(e)))}))}function ze(e,t,n,r){const i=[];for(const o of e){0;for(const e in o.components){let l=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ze(l)){const a=l.__vccOpts||l,u=a[t];u&&i.push(He(u,n,r,o,e))}else{let u=l();0,i.push((()=>u.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const l=a(i)?i.default:i;o.components[e]=l;const u=l.__vccOpts||l,c=u[t];return c&&He(c,n,r,o,e)()}))))}}}return i}function Ze(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ke(e){const t=(0,r.f3)(We),n=(0,r.f3)(Ve),o=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),a=(0,r.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const a=i.findIndex(g.bind(null,r));if(a>-1)return a;const l=qe(e[t-2]);return t>1&&qe(r)===l&&i[i.length-1].path!==l?i.findIndex(g.bind(null,e[t-2])):a})),l=(0,r.Fl)((()=>a.value>-1&&Je(n.params,o.value.params))),u=(0,r.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&y(n.params,o.value.params)));function s(n={}){return $e(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(c):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:l,isExactActive:u,navigate:s}}const Ye=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ke,setup(e,{slots:t}){const n=(0,i.qj)(Ke(e)),{options:o}=(0,r.f3)(We),a=(0,r.Fl)((()=>({[Xe(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Xe(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),Ge=Ye;function $e(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Je(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!s(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function qe(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xe=(e,t,n)=>null!=e?e:null!=t?t:n,Qe=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(Be),a=(0,r.Fl)((()=>e.route||o.value)),u=(0,r.f3)(Le,0),c=(0,r.Fl)((()=>{let e=(0,i.SU)(u);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e})),s=(0,r.Fl)((()=>a.value.matched[c.value]));(0,r.JJ)(Le,(0,r.Fl)((()=>c.value+1))),(0,r.JJ)(Ne,s),(0,r.JJ)(Be,a);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,s.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&g(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=a.value,o=e.name,u=s.value,c=u&&u.components[o];if(!c)return et(n.default,{Component:c,route:i});const f=u.props[o],p=f?!0===f?i.params:"function"===typeof f?f(i):f:null,v=e=>{e.component.isUnmounted&&(u.instances[o]=null)},h=(0,r.h)(c,l({},p,t,{onVnodeUnmounted:v,ref:d}));return et(n.default,{Component:h,route:i})||h}}});function et(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const tt=Qe;function nt(e){const t=oe(e.routes,e),n=e.parseQuery||Ae,a=e.stringifyQuery||Fe,d=e.history;const f=Ue(),h=Ue(),g=Ue(),y=(0,i.XI)(H);let b=H;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=u.bind(null,(e=>""+e)),w=u.bind(null,je),O=u.bind(null,Re);function k(e,n){let r,i;return U(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function C(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function x(){return t.getRoutes().map((e=>e.record))}function P(e){return!!t.getRecordMatcher(e)}function D(e,r){if(r=l({},r||y.value),"string"===typeof e){const i=p(n,e,r.path),o=t.resolve({path:i.path},r),a=d.createHref(i.fullPath);return l(i,o,{params:O(o.params),hash:Re(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=l({},e,{path:p(n,e.path,r.path).path});else{const t=l({},e.params);for(const e in t)null==t[e]&&delete t[e];i=l({},e,{params:w(e.params)}),r.params=w(r.params)}const o=t.resolve(i,r),u=e.hash||"";o.params=_(O(o.params));const c=v(a,l({},e,{hash:Ee(u),path:o.path})),s=d.createHref(c);return l({fullPath:c,hash:u,query:a===Fe?Me(e.query):e.query||{}},o,{redirectedFrom:void 0,href:s})}function A(e){return"string"===typeof e?p(n,e,y.value.path):l({},e)}function F(e,t){if(b!==e)return K(8,{from:t,to:e})}function M(e){return W(e)}function N(e){return M(l(A(e),{replace:!0}))}function L(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=A(r):{path:r},r.params={}),l({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function W(e,t){const n=b=D(e),r=y.value,i=e.state,o=e.force,u=!0===e.replace,c=L(n);if(c)return W(l(A(c),{state:"object"===typeof c?l({},i,c.state):i,force:o,replace:u}),t||n);const s=n;let d;return s.redirectedFrom=t,!o&&m(a,r,n)&&(d=K(16,{to:s,from:r}),ne(r,r,!0,!1)),(d?Promise.resolve(d):B(s,r)).catch((e=>Y(e)?Y(e,2)?e:te(e):Q(e,s,r))).then((e=>{if(e){if(Y(e,2))return W(l({replace:u},A(e.to),{state:"object"===typeof e.to?l({},i,e.to.state):i,force:o}),t||s)}else e=Z(s,r,!0,u,i);return z(s,r,e),e}))}function V(e,t){const n=F(e,t);return n?Promise.reject(n):Promise.resolve()}function B(e,t){let n;const[r,i,o]=it(e,t);n=ze(r.reverse(),"beforeRouteLeave",e,t);for(const l of r)l.leaveGuards.forEach((r=>{n.push(He(r,e,t))}));const a=V.bind(null,e,t);return n.push(a),rt(n).then((()=>{n=[];for(const r of f.list())n.push(He(r,e,t));return n.push(a),rt(n)})).then((()=>{n=ze(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(He(r,e,t))}));return n.push(a),rt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(s(r.beforeEnter))for(const i of r.beforeEnter)n.push(He(i,e,t));else n.push(He(r.beforeEnter,e,t));return n.push(a),rt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=ze(o,"beforeRouteEnter",e,t),n.push(a),rt(n)))).then((()=>{n=[];for(const r of h.list())n.push(He(r,e,t));return n.push(a),rt(n)})).catch((e=>Y(e,8)?e:Promise.reject(e)))}function z(e,t,n){for(const r of g.list())r(e,t,n)}function Z(e,t,n,r,i){const a=F(e,t);if(a)return a;const u=t===H,c=o?history.state:{};n&&(r||u?d.replace(e.fullPath,l({scroll:u&&c&&c.scroll},i)):d.push(e.fullPath,i)),y.value=e,ne(e,t,n,u),te()}let G;function $(){G||(G=d.listen(((e,t,n)=>{if(!le.listening)return;const r=D(e),i=L(r);if(i)return void W(l(i,{replace:!0}),r).catch(c);b=r;const a=y.value;o&&j(I(a.fullPath,n.delta),E()),B(r,a).catch((e=>Y(e,12)?e:Y(e,2)?(W(e.to,r).then((e=>{Y(e,20)&&!n.delta&&n.type===S.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&d.go(-n.delta,!1),Q(e,r,a)))).then((e=>{e=e||Z(r,a,!1),e&&(n.delta&&!Y(e,8)?d.go(-n.delta,!1):n.type===S.pop&&Y(e,20)&&d.go(-1,!1)),z(r,a,e)})).catch(c)})))}let J,q=Ue(),X=Ue();function Q(e,t,n){te(e);const r=X.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ee(){return J&&y.value!==H?Promise.resolve():new Promise(((e,t)=>{q.add([e,t])}))}function te(e){return J||(J=!e,$(),q.list().forEach((([t,n])=>e?n(e):t())),q.reset()),e}function ne(t,n,i,a){const{scrollBehavior:l}=e;if(!o||!l)return Promise.resolve();const u=!i&&R(I(t.fullPath,0))||(a||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>l(t,n,u))).then((e=>e&&T(e))).catch((e=>Q(e,t,n)))}const re=e=>d.go(e);let ie;const ae=new Set,le={currentRoute:y,listening:!0,addRoute:k,removeRoute:C,hasRoute:P,getRoutes:x,resolve:D,options:e,push:M,replace:N,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:f.add,beforeResolve:h.add,afterEach:g.add,onError:X.add,isReady:ee,install(e){const t=this;e.component("RouterLink",Ge),e.component("RouterView",tt),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),o&&!ie&&y.value===H&&(ie=!0,M(d.location).catch((e=>{0})));const n={};for(const i in H)n[i]=(0,r.Fl)((()=>y.value[i]));e.provide(We,t),e.provide(Ve,(0,i.qj)(n)),e.provide(Be,y);const a=e.unmount;ae.add(e),e.unmount=function(){ae.delete(e),ae.size<1&&(b=H,G&&G(),G=null,y.value=H,ie=!1,J=!1),a()}}};return le}function rt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function it(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>g(e,o)))?r.push(o):n.push(o));const l=e.matched[a];l&&(t.matched.find((e=>g(e,l)))||i.push(l))}return[n,r,i]}}}]);
//# sourceMappingURL=chunk-vendors.560fde5d.js.map